var rL=Object.defineProperty,iL=Object.defineProperties;var nL=Object.getOwnPropertyDescriptors;var z_=Object.getOwnPropertySymbols;var sL=Object.prototype.hasOwnProperty,aL=Object.prototype.propertyIsEnumerable;var W_=(t,e,r)=>e in t?rL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Dm=(t,e)=>{for(var r in e||(e={}))sL.call(e,r)&&W_(t,r,e[r]);if(z_)for(var r of z_(e))aL.call(e,r)&&W_(t,r,e[r]);return t},Am=(t,e)=>iL(t,nL(e));function oL(t,e){return e.forEach(function(r){r&&typeof r!="string"&&!Array.isArray(r)&&Object.keys(r).forEach(function(n){if(n!=="default"&&!(n in t)){var i=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return r[n]}})}})}),Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}function Cy(t,e){const r=Object.create(null),n=t.split(",");for(let i=0;i<n.length;i++)r[n[i]]=!0;return e?i=>!!r[i.toLowerCase()]:i=>!!r[i]}const lL="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",uL=Cy(lL);function o1(t){return!!t||t===""}function ip(t){if(rt(t)){const e={};for(let r=0;r<t.length;r++){const n=t[r],i=pr(n)?fL(n):ip(n);if(i)for(const s in i)e[s]=i[s]}return e}else{if(pr(t))return t;if(er(t))return t}}const cL=/;(?![^(]*\))/g,dL=/:(.+)/;function fL(t){const e={};return t.split(cL).forEach(r=>{if(r){const n=r.split(dL);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function En(t){let e="";if(pr(t))e=t;else if(rt(t))for(let r=0;r<t.length;r++){const n=En(t[r]);n&&(e+=n+" ")}else if(er(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}function hL(t,e){if(t.length!==e.length)return!1;let r=!0;for(let n=0;r&&n<t.length;n++)r=Xc(t[n],e[n]);return r}function Xc(t,e){if(t===e)return!0;let r=Y_(t),n=Y_(e);if(r||n)return r&&n?t.getTime()===e.getTime():!1;if(r=rt(t),n=rt(e),r||n)return r&&n?hL(t,e):!1;if(r=er(t),n=er(e),r||n){if(!r||!n)return!1;const i=Object.keys(t).length,s=Object.keys(e).length;if(i!==s)return!1;for(const a in t){const o=t.hasOwnProperty(a),l=e.hasOwnProperty(a);if(o&&!l||!o&&l||!Xc(t[a],e[a]))return!1}}return String(t)===String(e)}function wy(t,e){return t.findIndex(r=>Xc(r,e))}const Qn=t=>pr(t)?t:t==null?"":rt(t)||er(t)&&(t.toString===c1||!ct(t.toString))?JSON.stringify(t,l1,2):String(t),l1=(t,e)=>e&&e.__v_isRef?l1(t,e.value):Go(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[n,i])=>(r[`${n} =>`]=i,r),{})}:Cl(e)?{[`Set(${e.size})`]:[...e.values()]}:er(e)&&!rt(e)&&!d1(e)?String(e):e,Rt={},Yo=[],Ji=()=>{},pL=()=>!1,mL=/^on[^a-z]/,np=t=>mL.test(t),Py=t=>t.startsWith("onUpdate:"),Dr=Object.assign,Dy=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},gL=Object.prototype.hasOwnProperty,xt=(t,e)=>gL.call(t,e),rt=Array.isArray,Go=t=>sp(t)==="[object Map]",Cl=t=>sp(t)==="[object Set]",Y_=t=>t instanceof Date,ct=t=>typeof t=="function",pr=t=>typeof t=="string",Ay=t=>typeof t=="symbol",er=t=>t!==null&&typeof t=="object",u1=t=>er(t)&&ct(t.then)&&ct(t.catch),c1=Object.prototype.toString,sp=t=>c1.call(t),vL=t=>sp(t).slice(8,-1),d1=t=>sp(t)==="[object Object]",Oy=t=>pr(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,wf=Cy(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ap=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},yL=/-(\w)/g,An=ap(t=>t.replace(yL,(e,r)=>r?r.toUpperCase():"")),bL=/\B([A-Z])/g,to=ap(t=>t.replace(bL,"-$1").toLowerCase()),op=ap(t=>t.charAt(0).toUpperCase()+t.slice(1)),Om=ap(t=>t?`on${op(t)}`:""),yc=(t,e)=>!Object.is(t,e),Pf=(t,e)=>{for(let r=0;r<t.length;r++)t[r](e)},eh=(t,e,r)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:r})},bc=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let G_;const _L=()=>G_||(G_=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let Vn;class TL{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&Vn&&(this.parent=Vn,this.index=(Vn.scopes||(Vn.scopes=[])).push(this)-1)}run(e){if(this.active)try{return Vn=this,e()}finally{Vn=this.parent}}on(){Vn=this}off(){Vn=this.parent}stop(e){if(this.active){let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.scopes)for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);if(this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.active=!1}}}function xL(t,e=Vn){e&&e.active&&e.effects.push(t)}const Ry=t=>{const e=new Set(t);return e.w=0,e.n=0,e},f1=t=>(t.w&Ws)>0,h1=t=>(t.n&Ws)>0,SL=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=Ws},EL=t=>{const{deps:e}=t;if(e.length){let r=0;for(let n=0;n<e.length;n++){const i=e[n];f1(i)&&!h1(i)?i.delete(t):e[r++]=i,i.w&=~Ws,i.n&=~Ws}e.length=r}},Ug=new WeakMap;let Lu=0,Ws=1;const jg=30;let _n;const Fa=Symbol(""),Vg=Symbol("");class ky{constructor(e,r=null,n){this.fn=e,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,xL(this,n)}run(){if(!this.active)return this.fn();let e=_n,r=$s;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=_n,_n=this,$s=!0,Ws=1<<++Lu,Lu<=jg?SL(this):q_(this),this.fn()}finally{Lu<=jg&&EL(this),Ws=1<<--Lu,_n=this.parent,$s=r,this.parent=void 0}}stop(){this.active&&(q_(this),this.onStop&&this.onStop(),this.active=!1)}}function q_(t){const{deps:e}=t;if(e.length){for(let r=0;r<e.length;r++)e[r].delete(t);e.length=0}}let $s=!0;const p1=[];function wl(){p1.push($s),$s=!1}function Pl(){const t=p1.pop();$s=t===void 0?!0:t}function xi(t,e,r){if($s&&_n){let n=Ug.get(t);n||Ug.set(t,n=new Map);let i=n.get(r);i||n.set(r,i=Ry()),m1(i)}}function m1(t,e){let r=!1;Lu<=jg?h1(t)||(t.n|=Ws,r=!f1(t)):r=!t.has(_n),r&&(t.add(_n),_n.deps.push(t))}function as(t,e,r,n,i,s){const a=Ug.get(t);if(!a)return;let o=[];if(e==="clear")o=[...a.values()];else if(r==="length"&&rt(t))a.forEach((l,u)=>{(u==="length"||u>=n)&&o.push(l)});else switch(r!==void 0&&o.push(a.get(r)),e){case"add":rt(t)?Oy(r)&&o.push(a.get("length")):(o.push(a.get(Fa)),Go(t)&&o.push(a.get(Vg)));break;case"delete":rt(t)||(o.push(a.get(Fa)),Go(t)&&o.push(a.get(Vg)));break;case"set":Go(t)&&o.push(a.get(Fa));break}if(o.length===1)o[0]&&Hg(o[0]);else{const l=[];for(const u of o)u&&l.push(...u);Hg(Ry(l))}}function Hg(t,e){for(const r of rt(t)?t:[...t])(r!==_n||r.allowRecurse)&&(r.scheduler?r.scheduler():r.run())}const CL=Cy("__proto__,__v_isRef,__isVue"),g1=new Set(Object.getOwnPropertyNames(Symbol).map(t=>Symbol[t]).filter(Ay)),wL=Iy(),PL=Iy(!1,!0),DL=Iy(!0),K_=AL();function AL(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...r){const n=Et(this);for(let s=0,a=this.length;s<a;s++)xi(n,"get",s+"");const i=n[e](...r);return i===-1||i===!1?n[e](...r.map(Et)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...r){wl();const n=Et(this)[e].apply(this,r);return Pl(),n}}),t}function Iy(t=!1,e=!1){return function(n,i,s){if(i==="__v_isReactive")return!t;if(i==="__v_isReadonly")return t;if(i==="__v_isShallow")return e;if(i==="__v_raw"&&s===(t?e?WL:T1:e?_1:b1).get(n))return n;const a=rt(n);if(!t&&a&&xt(K_,i))return Reflect.get(K_,i,s);const o=Reflect.get(n,i,s);return(Ay(i)?g1.has(i):CL(i))||(t||xi(n,"get",i),e)?o:wr(o)?!a||!Oy(i)?o.value:o:er(o)?t?Ny(o):Qs(o):o}}const OL=v1(),RL=v1(!0);function v1(t=!1){return function(r,n,i,s){let a=r[n];if(_c(a)&&wr(a)&&!wr(i))return!1;if(!t&&!_c(i)&&(x1(i)||(i=Et(i),a=Et(a)),!rt(r)&&wr(a)&&!wr(i)))return a.value=i,!0;const o=rt(r)&&Oy(n)?Number(n)<r.length:xt(r,n),l=Reflect.set(r,n,i,s);return r===Et(s)&&(o?yc(i,a)&&as(r,"set",n,i):as(r,"add",n,i)),l}}function kL(t,e){const r=xt(t,e);t[e];const n=Reflect.deleteProperty(t,e);return n&&r&&as(t,"delete",e,void 0),n}function IL(t,e){const r=Reflect.has(t,e);return(!Ay(e)||!g1.has(e))&&xi(t,"has",e),r}function ML(t){return xi(t,"iterate",rt(t)?"length":Fa),Reflect.ownKeys(t)}const y1={get:wL,set:OL,deleteProperty:kL,has:IL,ownKeys:ML},LL={get:DL,set(t,e){return!0},deleteProperty(t,e){return!0}},NL=Dr({},y1,{get:PL,set:RL}),My=t=>t,lp=t=>Reflect.getPrototypeOf(t);function Nd(t,e,r=!1,n=!1){t=t.__v_raw;const i=Et(t),s=Et(e);e!==s&&!r&&xi(i,"get",e),!r&&xi(i,"get",s);const{has:a}=lp(i),o=n?My:r?By:Tc;if(a.call(i,e))return o(t.get(e));if(a.call(i,s))return o(t.get(s));t!==i&&t.get(e)}function Fd(t,e=!1){const r=this.__v_raw,n=Et(r),i=Et(t);return t!==i&&!e&&xi(n,"has",t),!e&&xi(n,"has",i),t===i?r.has(t):r.has(t)||r.has(i)}function Bd(t,e=!1){return t=t.__v_raw,!e&&xi(Et(t),"iterate",Fa),Reflect.get(t,"size",t)}function X_(t){t=Et(t);const e=Et(this);return lp(e).has.call(e,t)||(e.add(t),as(e,"add",t,t)),this}function Q_(t,e){e=Et(e);const r=Et(this),{has:n,get:i}=lp(r);let s=n.call(r,t);s||(t=Et(t),s=n.call(r,t));const a=i.call(r,t);return r.set(t,e),s?yc(e,a)&&as(r,"set",t,e):as(r,"add",t,e),this}function J_(t){const e=Et(this),{has:r,get:n}=lp(e);let i=r.call(e,t);i||(t=Et(t),i=r.call(e,t)),n&&n.call(e,t);const s=e.delete(t);return i&&as(e,"delete",t,void 0),s}function Z_(){const t=Et(this),e=t.size!==0,r=t.clear();return e&&as(t,"clear",void 0,void 0),r}function $d(t,e){return function(n,i){const s=this,a=s.__v_raw,o=Et(a),l=e?My:t?By:Tc;return!t&&xi(o,"iterate",Fa),a.forEach((u,c)=>n.call(i,l(u),l(c),s))}}function Ud(t,e,r){return function(...n){const i=this.__v_raw,s=Et(i),a=Go(s),o=t==="entries"||t===Symbol.iterator&&a,l=t==="keys"&&a,u=i[t](...n),c=r?My:e?By:Tc;return!e&&xi(s,"iterate",l?Vg:Fa),{next(){const{value:d,done:f}=u.next();return f?{value:d,done:f}:{value:o?[c(d[0]),c(d[1])]:c(d),done:f}},[Symbol.iterator](){return this}}}}function xs(t){return function(...e){return t==="delete"?!1:this}}function FL(){const t={get(s){return Nd(this,s)},get size(){return Bd(this)},has:Fd,add:X_,set:Q_,delete:J_,clear:Z_,forEach:$d(!1,!1)},e={get(s){return Nd(this,s,!1,!0)},get size(){return Bd(this)},has:Fd,add:X_,set:Q_,delete:J_,clear:Z_,forEach:$d(!1,!0)},r={get(s){return Nd(this,s,!0)},get size(){return Bd(this,!0)},has(s){return Fd.call(this,s,!0)},add:xs("add"),set:xs("set"),delete:xs("delete"),clear:xs("clear"),forEach:$d(!0,!1)},n={get(s){return Nd(this,s,!0,!0)},get size(){return Bd(this,!0)},has(s){return Fd.call(this,s,!0)},add:xs("add"),set:xs("set"),delete:xs("delete"),clear:xs("clear"),forEach:$d(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=Ud(s,!1,!1),r[s]=Ud(s,!0,!1),e[s]=Ud(s,!1,!0),n[s]=Ud(s,!0,!0)}),[t,r,e,n]}const[BL,$L,UL,jL]=FL();function Ly(t,e){const r=e?t?jL:UL:t?$L:BL;return(n,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?n:Reflect.get(xt(r,i)&&i in n?r:n,i,s)}const VL={get:Ly(!1,!1)},HL={get:Ly(!1,!0)},zL={get:Ly(!0,!1)},b1=new WeakMap,_1=new WeakMap,T1=new WeakMap,WL=new WeakMap;function YL(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function GL(t){return t.__v_skip||!Object.isExtensible(t)?0:YL(vL(t))}function Qs(t){return _c(t)?t:Fy(t,!1,y1,VL,b1)}function qL(t){return Fy(t,!1,NL,HL,_1)}function Ny(t){return Fy(t,!0,LL,zL,T1)}function Fy(t,e,r,n,i){if(!er(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const a=GL(t);if(a===0)return t;const o=new Proxy(t,a===2?n:r);return i.set(t,o),o}function qo(t){return _c(t)?qo(t.__v_raw):!!(t&&t.__v_isReactive)}function _c(t){return!!(t&&t.__v_isReadonly)}function x1(t){return!!(t&&t.__v_isShallow)}function S1(t){return qo(t)||_c(t)}function Et(t){const e=t&&t.__v_raw;return e?Et(e):t}function E1(t){return eh(t,"__v_skip",!0),t}const Tc=t=>er(t)?Qs(t):t,By=t=>er(t)?Ny(t):t;function C1(t){$s&&_n&&(t=Et(t),m1(t.dep||(t.dep=Ry())))}function w1(t,e){t=Et(t),t.dep&&Hg(t.dep)}function wr(t){return!!(t&&t.__v_isRef===!0)}function P1(t){return A1(t,!1)}function D1(t){return A1(t,!0)}function A1(t,e){return wr(t)?t:new KL(t,e)}class KL{constructor(e,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?e:Et(e),this._value=r?e:Tc(e)}get value(){return C1(this),this._value}set value(e){e=this.__v_isShallow?e:Et(e),yc(e,this._rawValue)&&(this._rawValue=e,this._value=this.__v_isShallow?e:Tc(e),w1(this))}}function Xu(t){return wr(t)?t.value:t}const XL={get:(t,e,r)=>Xu(Reflect.get(t,e,r)),set:(t,e,r,n)=>{const i=t[e];return wr(i)&&!wr(r)?(i.value=r,!0):Reflect.set(t,e,r,n)}};function O1(t){return qo(t)?t:new Proxy(t,XL)}class QL{constructor(e,r,n,i){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new ky(e,()=>{this._dirty||(this._dirty=!0,w1(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=n}get value(){const e=Et(this);return C1(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function JL(t,e,r=!1){let n,i;const s=ct(t);return s?(n=t,i=Ji):(n=t.get,i=t.set),new QL(n,i,s||!i,r)}Promise.resolve();function Us(t,e,r,n){let i;try{i=n?t(...n):t()}catch(s){up(s,e,r)}return i}function Li(t,e,r,n){if(ct(t)){const s=Us(t,e,r,n);return s&&u1(s)&&s.catch(a=>{up(a,e,r)}),s}const i=[];for(let s=0;s<t.length;s++)i.push(Li(t[s],e,r,n));return i}function up(t,e,r,n=!0){const i=e?e.vnode:null;if(e){let s=e.parent;const a=e.proxy,o=r;for(;s;){const u=s.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](t,a,o)===!1)return}s=s.parent}const l=e.appContext.config.errorHandler;if(l){Us(l,null,10,[t,a,o]);return}}ZL(t,r,i,n)}function ZL(t,e,r,n=!0){console.error(t)}let th=!1,zg=!1;const bi=[];let Gn=0;const Qu=[];let Nu=null,$o=0;const Ju=[];let Rs=null,Uo=0;const R1=Promise.resolve();let $y=null,Wg=null;function k1(t){const e=$y||R1;return t?e.then(this?t.bind(this):t):e}function eN(t){let e=Gn+1,r=bi.length;for(;e<r;){const n=e+r>>>1;xc(bi[n])<t?e=n+1:r=n}return e}function I1(t){(!bi.length||!bi.includes(t,th&&t.allowRecurse?Gn+1:Gn))&&t!==Wg&&(t.id==null?bi.push(t):bi.splice(eN(t.id),0,t),M1())}function M1(){!th&&!zg&&(zg=!0,$y=R1.then(F1))}function tN(t){const e=bi.indexOf(t);e>Gn&&bi.splice(e,1)}function L1(t,e,r,n){rt(t)?r.push(...t):(!e||!e.includes(t,t.allowRecurse?n+1:n))&&r.push(t),M1()}function rN(t){L1(t,Nu,Qu,$o)}function iN(t){L1(t,Rs,Ju,Uo)}function Uy(t,e=null){if(Qu.length){for(Wg=e,Nu=[...new Set(Qu)],Qu.length=0,$o=0;$o<Nu.length;$o++)Nu[$o]();Nu=null,$o=0,Wg=null,Uy(t,e)}}function N1(t){if(Ju.length){const e=[...new Set(Ju)];if(Ju.length=0,Rs){Rs.push(...e);return}for(Rs=e,Rs.sort((r,n)=>xc(r)-xc(n)),Uo=0;Uo<Rs.length;Uo++)Rs[Uo]();Rs=null,Uo=0}}const xc=t=>t.id==null?1/0:t.id;function F1(t){zg=!1,th=!0,Uy(t),bi.sort((r,n)=>xc(r)-xc(n));const e=Ji;try{for(Gn=0;Gn<bi.length;Gn++){const r=bi[Gn];r&&r.active!==!1&&Us(r,null,14)}}finally{Gn=0,bi.length=0,N1(),th=!1,$y=null,(bi.length||Qu.length||Ju.length)&&F1(t)}}function nN(t,e,...r){const n=t.vnode.props||Rt;let i=r;const s=e.startsWith("update:"),a=s&&e.slice(7);if(a&&a in n){const c=`${a==="modelValue"?"model":a}Modifiers`,{number:d,trim:f}=n[c]||Rt;f?i=r.map(h=>h.trim()):d&&(i=r.map(bc))}let o,l=n[o=Om(e)]||n[o=Om(An(e))];!l&&s&&(l=n[o=Om(to(e))]),l&&Li(l,t,6,i);const u=n[o+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[o])return;t.emitted[o]=!0,Li(u,t,6,i)}}function B1(t,e,r=!1){const n=e.emitsCache,i=n.get(t);if(i!==void 0)return i;const s=t.emits;let a={},o=!1;if(!ct(t)){const l=u=>{const c=B1(u,e,!0);c&&(o=!0,Dr(a,c))};!r&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!o?(n.set(t,null),null):(rt(s)?s.forEach(l=>a[l]=null):Dr(a,s),n.set(t,a),a)}function jy(t,e){return!t||!np(e)?!1:(e=e.slice(2).replace(/Once$/,""),xt(t,e[0].toLowerCase()+e.slice(1))||xt(t,to(e))||xt(t,e))}let Ti=null,cp=null;function rh(t){const e=Ti;return Ti=t,cp=t&&t.type.__scopeId||null,e}function qpe(t){cp=t}function Kpe(){cp=null}function $1(t,e=Ti,r){if(!e||t._n)return t;const n=(...i)=>{n._d&&cT(-1);const s=rh(e),a=t(...i);return rh(s),n._d&&cT(1),a};return n._n=!0,n._c=!0,n._d=!0,n}function Rm(t){const{type:e,vnode:r,proxy:n,withProxy:i,props:s,propsOptions:[a],slots:o,attrs:l,emit:u,render:c,renderCache:d,data:f,setupState:h,ctx:m,inheritAttrs:g}=t;let v,x;const S=rh(t);try{if(r.shapeFlag&4){const P=i||n;v=vn(c.call(P,P,d,s,h,f,m)),x=l}else{const P=e;v=vn(P.length>1?P(s,{attrs:l,slots:o,emit:u}):P(s,null)),x=e.props?l:sN(l)}}catch(P){Zu.length=0,up(P,t,1),v=fr(tn)}let D=v;if(x&&g!==!1){const P=Object.keys(x),{shapeFlag:O}=D;P.length&&O&7&&(a&&P.some(Py)&&(x=aN(x,a)),D=el(D,x))}return r.dirs&&(D.dirs=D.dirs?D.dirs.concat(r.dirs):r.dirs),r.transition&&(D.transition=r.transition),v=D,rh(S),v}const sN=t=>{let e;for(const r in t)(r==="class"||r==="style"||np(r))&&((e||(e={}))[r]=t[r]);return e},aN=(t,e)=>{const r={};for(const n in t)(!Py(n)||!(n.slice(9)in e))&&(r[n]=t[n]);return r};function oN(t,e,r){const{props:n,children:i,component:s}=t,{props:a,children:o,patchFlag:l}=e,u=s.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return n?eT(n,a,u):!!a;if(l&8){const c=e.dynamicProps;for(let d=0;d<c.length;d++){const f=c[d];if(a[f]!==n[f]&&!jy(u,f))return!0}}}else return(i||o)&&(!o||!o.$stable)?!0:n===a?!1:n?a?eT(n,a,u):!0:!!a;return!1}function eT(t,e,r){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let i=0;i<n.length;i++){const s=n[i];if(e[s]!==t[s]&&!jy(r,s))return!0}return!1}function lN({vnode:t,parent:e},r){for(;e&&e.subTree===t;)(t=e.vnode).el=r,e=e.parent}const uN=t=>t.__isSuspense;function cN(t,e){e&&e.pendingBranch?rt(t)?e.effects.push(...t):e.effects.push(t):iN(t)}function Df(t,e){if(yr){let r=yr.provides;const n=yr.parent&&yr.parent.provides;n===r&&(r=yr.provides=Object.create(n)),r[t]=e}}function js(t,e,r=!1){const n=yr||Ti;if(n){const i=n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides;if(i&&t in i)return i[t];if(arguments.length>1)return r&&ct(e)?e.call(n.proxy):e}}const tT={};function Vs(t,e,r){return U1(t,e,r)}function U1(t,e,{immediate:r,deep:n,flush:i,onTrack:s,onTrigger:a}=Rt){const o=yr;let l,u=!1,c=!1;if(wr(t)?(l=()=>t.value,u=x1(t)):qo(t)?(l=()=>t,n=!0):rt(t)?(c=!0,u=t.some(qo),l=()=>t.map(x=>{if(wr(x))return x.value;if(qo(x))return La(x);if(ct(x))return Us(x,o,2)})):ct(t)?e?l=()=>Us(t,o,2):l=()=>{if(!(o&&o.isUnmounted))return d&&d(),Li(t,o,3,[f])}:l=Ji,e&&n){const x=l;l=()=>La(x())}let d,f=x=>{d=v.onStop=()=>{Us(x,o,4)}};if(Sc)return f=Ji,e?r&&Li(e,o,3,[l(),c?[]:void 0,f]):l(),Ji;let h=c?[]:tT;const m=()=>{if(!!v.active)if(e){const x=v.run();(n||u||(c?x.some((S,D)=>yc(S,h[D])):yc(x,h)))&&(d&&d(),Li(e,o,3,[x,h===tT?void 0:h,f]),h=x)}else v.run()};m.allowRecurse=!!e;let g;i==="sync"?g=m:i==="post"?g=()=>ei(m,o&&o.suspense):g=()=>{!o||o.isMounted?rN(m):m()};const v=new ky(l,g);return e?r?m():h=v.run():i==="post"?ei(v.run.bind(v),o&&o.suspense):v.run(),()=>{v.stop(),o&&o.scope&&Dy(o.scope.effects,v)}}function dN(t,e,r){const n=this.proxy,i=pr(t)?t.includes(".")?j1(n,t):()=>n[t]:t.bind(n,n);let s;ct(e)?s=e:(s=e.handler,r=e);const a=yr;tl(this);const o=U1(i,s.bind(n),r);return a?tl(a):$a(),o}function j1(t,e){const r=e.split(".");return()=>{let n=t;for(let i=0;i<r.length&&n;i++)n=n[r[i]];return n}}function La(t,e){if(!er(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),wr(t))La(t.value,e);else if(rt(t))for(let r=0;r<t.length;r++)La(t[r],e);else if(Cl(t)||Go(t))t.forEach(r=>{La(r,e)});else if(d1(t))for(const r in t)La(t[r],e);return t}function fN(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Vy(()=>{t.isMounted=!0}),Hy(()=>{t.isUnmounting=!0}),t}const Ai=[Function,Array],hN={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ai,onEnter:Ai,onAfterEnter:Ai,onEnterCancelled:Ai,onBeforeLeave:Ai,onLeave:Ai,onAfterLeave:Ai,onLeaveCancelled:Ai,onBeforeAppear:Ai,onAppear:Ai,onAfterAppear:Ai,onAppearCancelled:Ai},setup(t,{slots:e}){const r=qN(),n=fN();let i;return()=>{const s=e.default&&z1(e.default(),!0);if(!s||!s.length)return;const a=Et(t),{mode:o}=a,l=s[0];if(n.isLeaving)return km(l);const u=rT(l);if(!u)return km(l);const c=Yg(u,a,n,r);Gg(u,c);const d=r.subTree,f=d&&rT(d);let h=!1;const{getTransitionKey:m}=u.type;if(m){const g=m();i===void 0?i=g:g!==i&&(i=g,h=!0)}if(f&&f.type!==tn&&(!Ra(u,f)||h)){const g=Yg(f,a,n,r);if(Gg(f,g),o==="out-in")return n.isLeaving=!0,g.afterLeave=()=>{n.isLeaving=!1,r.update()},km(l);o==="in-out"&&u.type!==tn&&(g.delayLeave=(v,x,S)=>{const D=H1(n,f);D[String(f.key)]=f,v._leaveCb=()=>{x(),v._leaveCb=void 0,delete c.delayedLeave},c.delayedLeave=S})}return l}}},V1=hN;function H1(t,e){const{leavingVNodes:r}=t;let n=r.get(e.type);return n||(n=Object.create(null),r.set(e.type,n)),n}function Yg(t,e,r,n){const{appear:i,mode:s,persisted:a=!1,onBeforeEnter:o,onEnter:l,onAfterEnter:u,onEnterCancelled:c,onBeforeLeave:d,onLeave:f,onAfterLeave:h,onLeaveCancelled:m,onBeforeAppear:g,onAppear:v,onAfterAppear:x,onAppearCancelled:S}=e,D=String(t.key),P=H1(r,t),O=(z,U)=>{z&&Li(z,n,9,U)},B={mode:s,persisted:a,beforeEnter(z){let U=o;if(!r.isMounted)if(i)U=g||o;else return;z._leaveCb&&z._leaveCb(!0);const Y=P[D];Y&&Ra(t,Y)&&Y.el._leaveCb&&Y.el._leaveCb(),O(U,[z])},enter(z){let U=l,Y=u,F=c;if(!r.isMounted)if(i)U=v||l,Y=x||u,F=S||c;else return;let ue=!1;const X=z._enterCb=me=>{ue||(ue=!0,me?O(F,[z]):O(Y,[z]),B.delayedLeave&&B.delayedLeave(),z._enterCb=void 0)};U?(U(z,X),U.length<=1&&X()):X()},leave(z,U){const Y=String(t.key);if(z._enterCb&&z._enterCb(!0),r.isUnmounting)return U();O(d,[z]);let F=!1;const ue=z._leaveCb=X=>{F||(F=!0,U(),X?O(m,[z]):O(h,[z]),z._leaveCb=void 0,P[Y]===t&&delete P[Y])};P[Y]=t,f?(f(z,ue),f.length<=1&&ue()):ue()},clone(z){return Yg(z,e,r,n)}};return B}function km(t){if(dp(t))return t=el(t),t.children=null,t}function rT(t){return dp(t)?t.children?t.children[0]:void 0:t}function Gg(t,e){t.shapeFlag&6&&t.component?Gg(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function z1(t,e=!1){let r=[],n=0;for(let i=0;i<t.length;i++){const s=t[i];s.type===ii?(s.patchFlag&128&&n++,r=r.concat(z1(s.children,e))):(e||s.type!==tn)&&r.push(s)}if(n>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}function Dl(t){return ct(t)?{setup:t,name:t.name}:t}const qg=t=>!!t.type.__asyncLoader,dp=t=>t.type.__isKeepAlive;function pN(t,e){W1(t,"a",e)}function mN(t,e){W1(t,"da",e)}function W1(t,e,r=yr){const n=t.__wdc||(t.__wdc=()=>{let i=r;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(fp(e,n,r),r){let i=r.parent;for(;i&&i.parent;)dp(i.parent.vnode)&&gN(n,e,r,i),i=i.parent}}function gN(t,e,r,n){const i=fp(e,t,n,!0);Y1(()=>{Dy(n[e],i)},r)}function fp(t,e,r=yr,n=!1){if(r){const i=r[t]||(r[t]=[]),s=e.__weh||(e.__weh=(...a)=>{if(r.isUnmounted)return;wl(),tl(r);const o=Li(e,r,t,a);return $a(),Pl(),o});return n?i.unshift(s):i.push(s),s}}const ds=t=>(e,r=yr)=>(!Sc||t==="sp")&&fp(t,e,r),vN=ds("bm"),Vy=ds("m"),yN=ds("bu"),bN=ds("u"),Hy=ds("bum"),Y1=ds("um"),_N=ds("sp"),TN=ds("rtg"),xN=ds("rtc");function SN(t,e=yr){fp("ec",t,e)}let Kg=!0;function EN(t){const e=q1(t),r=t.proxy,n=t.ctx;Kg=!1,e.beforeCreate&&iT(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:a,watch:o,provide:l,inject:u,created:c,beforeMount:d,mounted:f,beforeUpdate:h,updated:m,activated:g,deactivated:v,beforeDestroy:x,beforeUnmount:S,destroyed:D,unmounted:P,render:O,renderTracked:B,renderTriggered:z,errorCaptured:U,serverPrefetch:Y,expose:F,inheritAttrs:ue,components:X,directives:me,filters:xe}=e;if(u&&CN(u,n,null,t.appContext.config.unwrapInjectedRef),a)for(const Ae in a){const he=a[Ae];ct(he)&&(n[Ae]=he.bind(r))}if(i){const Ae=i.call(r,r);er(Ae)&&(t.data=Qs(Ae))}if(Kg=!0,s)for(const Ae in s){const he=s[Ae],Ye=ct(he)?he.bind(r,r):ct(he.get)?he.get.bind(r,r):Ji,Z=!ct(he)&&ct(he.set)?he.set.bind(r):Ji,C=Xi({get:Ye,set:Z});Object.defineProperty(n,Ae,{enumerable:!0,configurable:!0,get:()=>C.value,set:q=>C.value=q})}if(o)for(const Ae in o)G1(o[Ae],n,r,Ae);if(l){const Ae=ct(l)?l.call(r):l;Reflect.ownKeys(Ae).forEach(he=>{Df(he,Ae[he])})}c&&iT(c,t,"c");function Se(Ae,he){rt(he)?he.forEach(Ye=>Ae(Ye.bind(r))):he&&Ae(he.bind(r))}if(Se(vN,d),Se(Vy,f),Se(yN,h),Se(bN,m),Se(pN,g),Se(mN,v),Se(SN,U),Se(xN,B),Se(TN,z),Se(Hy,S),Se(Y1,P),Se(_N,Y),rt(F))if(F.length){const Ae=t.exposed||(t.exposed={});F.forEach(he=>{Object.defineProperty(Ae,he,{get:()=>r[he],set:Ye=>r[he]=Ye})})}else t.exposed||(t.exposed={});O&&t.render===Ji&&(t.render=O),ue!=null&&(t.inheritAttrs=ue),X&&(t.components=X),me&&(t.directives=me)}function CN(t,e,r=Ji,n=!1){rt(t)&&(t=Xg(t));for(const i in t){const s=t[i];let a;er(s)?"default"in s?a=js(s.from||i,s.default,!0):a=js(s.from||i):a=js(s),wr(a)&&n?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>a.value,set:o=>a.value=o}):e[i]=a}}function iT(t,e,r){Li(rt(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,r)}function G1(t,e,r,n){const i=n.includes(".")?j1(r,n):()=>r[n];if(pr(t)){const s=e[t];ct(s)&&Vs(i,s)}else if(ct(t))Vs(i,t.bind(r));else if(er(t))if(rt(t))t.forEach(s=>G1(s,e,r,n));else{const s=ct(t.handler)?t.handler.bind(r):e[t.handler];ct(s)&&Vs(i,s,t)}}function q1(t){const e=t.type,{mixins:r,extends:n}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:a}}=t.appContext,o=s.get(e);let l;return o?l=o:!i.length&&!r&&!n?l=e:(l={},i.length&&i.forEach(u=>ih(l,u,a,!0)),ih(l,e,a)),s.set(e,l),l}function ih(t,e,r,n=!1){const{mixins:i,extends:s}=e;s&&ih(t,s,r,!0),i&&i.forEach(a=>ih(t,a,r,!0));for(const a in e)if(!(n&&a==="expose")){const o=wN[a]||r&&r[a];t[a]=o?o(t[a],e[a]):e[a]}return t}const wN={data:nT,props:wa,emits:wa,methods:wa,computed:wa,beforeCreate:Hr,created:Hr,beforeMount:Hr,mounted:Hr,beforeUpdate:Hr,updated:Hr,beforeDestroy:Hr,beforeUnmount:Hr,destroyed:Hr,unmounted:Hr,activated:Hr,deactivated:Hr,errorCaptured:Hr,serverPrefetch:Hr,components:wa,directives:wa,watch:DN,provide:nT,inject:PN};function nT(t,e){return e?t?function(){return Dr(ct(t)?t.call(this,this):t,ct(e)?e.call(this,this):e)}:e:t}function PN(t,e){return wa(Xg(t),Xg(e))}function Xg(t){if(rt(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function Hr(t,e){return t?[...new Set([].concat(t,e))]:e}function wa(t,e){return t?Dr(Dr(Object.create(null),t),e):e}function DN(t,e){if(!t)return e;if(!e)return t;const r=Dr(Object.create(null),t);for(const n in e)r[n]=Hr(t[n],e[n]);return r}function AN(t,e,r,n=!1){const i={},s={};eh(s,pp,1),t.propsDefaults=Object.create(null),K1(t,e,i,s);for(const a in t.propsOptions[0])a in i||(i[a]=void 0);r?t.props=n?i:qL(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function ON(t,e,r,n){const{props:i,attrs:s,vnode:{patchFlag:a}}=t,o=Et(i),[l]=t.propsOptions;let u=!1;if((n||a>0)&&!(a&16)){if(a&8){const c=t.vnode.dynamicProps;for(let d=0;d<c.length;d++){let f=c[d];const h=e[f];if(l)if(xt(s,f))h!==s[f]&&(s[f]=h,u=!0);else{const m=An(f);i[m]=Qg(l,o,m,h,t,!1)}else h!==s[f]&&(s[f]=h,u=!0)}}}else{K1(t,e,i,s)&&(u=!0);let c;for(const d in o)(!e||!xt(e,d)&&((c=to(d))===d||!xt(e,c)))&&(l?r&&(r[d]!==void 0||r[c]!==void 0)&&(i[d]=Qg(l,o,d,void 0,t,!0)):delete i[d]);if(s!==o)for(const d in s)(!e||!xt(e,d)&&!0)&&(delete s[d],u=!0)}u&&as(t,"set","$attrs")}function K1(t,e,r,n){const[i,s]=t.propsOptions;let a=!1,o;if(e)for(let l in e){if(wf(l))continue;const u=e[l];let c;i&&xt(i,c=An(l))?!s||!s.includes(c)?r[c]=u:(o||(o={}))[c]=u:jy(t.emitsOptions,l)||(!(l in n)||u!==n[l])&&(n[l]=u,a=!0)}if(s){const l=Et(r),u=o||Rt;for(let c=0;c<s.length;c++){const d=s[c];r[d]=Qg(i,l,d,u[d],t,!xt(u,d))}}return a}function Qg(t,e,r,n,i,s){const a=t[r];if(a!=null){const o=xt(a,"default");if(o&&n===void 0){const l=a.default;if(a.type!==Function&&ct(l)){const{propsDefaults:u}=i;r in u?n=u[r]:(tl(i),n=u[r]=l.call(null,e),$a())}else n=l}a[0]&&(s&&!o?n=!1:a[1]&&(n===""||n===to(r))&&(n=!0))}return n}function X1(t,e,r=!1){const n=e.propsCache,i=n.get(t);if(i)return i;const s=t.props,a={},o=[];let l=!1;if(!ct(t)){const c=d=>{l=!0;const[f,h]=X1(d,e,!0);Dr(a,f),h&&o.push(...h)};!r&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!s&&!l)return n.set(t,Yo),Yo;if(rt(s))for(let c=0;c<s.length;c++){const d=An(s[c]);sT(d)&&(a[d]=Rt)}else if(s)for(const c in s){const d=An(c);if(sT(d)){const f=s[c],h=a[d]=rt(f)||ct(f)?{type:f}:f;if(h){const m=lT(Boolean,h.type),g=lT(String,h.type);h[0]=m>-1,h[1]=g<0||m<g,(m>-1||xt(h,"default"))&&o.push(d)}}}const u=[a,o];return n.set(t,u),u}function sT(t){return t[0]!=="$"}function aT(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:t===null?"null":""}function oT(t,e){return aT(t)===aT(e)}function lT(t,e){return rt(e)?e.findIndex(r=>oT(r,t)):ct(e)&&oT(e,t)?0:-1}const Q1=t=>t[0]==="_"||t==="$stable",zy=t=>rt(t)?t.map(vn):[vn(t)],RN=(t,e,r)=>{const n=$1((...i)=>zy(e(...i)),r);return n._c=!1,n},J1=(t,e,r)=>{const n=t._ctx;for(const i in t){if(Q1(i))continue;const s=t[i];if(ct(s))e[i]=RN(i,s,n);else if(s!=null){const a=zy(s);e[i]=()=>a}}},Z1=(t,e)=>{const r=zy(e);t.slots.default=()=>r},kN=(t,e)=>{if(t.vnode.shapeFlag&32){const r=e._;r?(t.slots=Et(e),eh(e,"_",r)):J1(e,t.slots={})}else t.slots={},e&&Z1(t,e);eh(t.slots,pp,1)},IN=(t,e,r)=>{const{vnode:n,slots:i}=t;let s=!0,a=Rt;if(n.shapeFlag&32){const o=e._;o?r&&o===1?s=!1:(Dr(i,e),!r&&o===1&&delete i._):(s=!e.$stable,J1(e,i)),a=e}else e&&(Z1(t,e),a={default:1});if(s)for(const o in i)!Q1(o)&&!(o in a)&&delete i[o]};function Xpe(t,e){const r=Ti;if(r===null)return t;const n=r.proxy,i=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[a,o,l,u=Rt]=e[s];ct(a)&&(a={mounted:a,updated:a}),a.deep&&La(o),i.push({dir:a,instance:n,value:o,oldValue:void 0,arg:l,modifiers:u})}return t}function _a(t,e,r,n){const i=t.dirs,s=e&&e.dirs;for(let a=0;a<i.length;a++){const o=i[a];s&&(o.oldValue=s[a].value);let l=o.dir[n];l&&(wl(),Li(l,r,8,[t.el,o,t,e]),Pl())}}function eP(){return{app:null,config:{isNativeTag:pL,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let MN=0;function LN(t,e){return function(n,i=null){i!=null&&!er(i)&&(i=null);const s=eP(),a=new Set;let o=!1;const l=s.app={_uid:MN++,_component:n,_props:i,_container:null,_context:s,_instance:null,version:tF,get config(){return s.config},set config(u){},use(u,...c){return a.has(u)||(u&&ct(u.install)?(a.add(u),u.install(l,...c)):ct(u)&&(a.add(u),u(l,...c))),l},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),l},component(u,c){return c?(s.components[u]=c,l):s.components[u]},directive(u,c){return c?(s.directives[u]=c,l):s.directives[u]},mount(u,c,d){if(!o){const f=fr(n,i);return f.appContext=s,c&&e?e(f,u):t(f,u,d),o=!0,l._container=u,u.__vue_app__=l,Ky(f.component)||f.component.proxy}},unmount(){o&&(t(null,l._container),delete l._container.__vue_app__)},provide(u,c){return s.provides[u]=c,l}};return l}}function Jg(t,e,r,n,i=!1){if(rt(t)){t.forEach((f,h)=>Jg(f,e&&(rt(e)?e[h]:e),r,n,i));return}if(qg(n)&&!i)return;const s=n.shapeFlag&4?Ky(n.component)||n.component.proxy:n.el,a=i?null:s,{i:o,r:l}=t,u=e&&e.r,c=o.refs===Rt?o.refs={}:o.refs,d=o.setupState;if(u!=null&&u!==l&&(pr(u)?(c[u]=null,xt(d,u)&&(d[u]=null)):wr(u)&&(u.value=null)),ct(l))Us(l,o,12,[a,c]);else{const f=pr(l),h=wr(l);if(f||h){const m=()=>{if(t.f){const g=f?c[l]:l.value;i?rt(g)&&Dy(g,s):rt(g)?g.includes(s)||g.push(s):f?c[l]=[s]:(l.value=[s],t.k&&(c[t.k]=l.value))}else f?(c[l]=a,xt(d,l)&&(d[l]=a)):wr(l)&&(l.value=a,t.k&&(c[t.k]=a))};a?(m.id=-1,ei(m,r)):m()}}}const ei=cN;function NN(t){return FN(t)}function FN(t,e){const r=_L();r.__VUE__=!0;const{insert:n,remove:i,patchProp:s,createElement:a,createText:o,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:f,setScopeId:h=Ji,cloneNode:m,insertStaticContent:g}=t,v=(R,M,ie,ye=null,H=null,fe=null,ce=!1,ee=null,oe=!!M.dynamicChildren)=>{if(R===M)return;R&&!Ra(R,M)&&(ye=$(R),ae(R,H,fe,!0),R=null),M.patchFlag===-2&&(oe=!1,M.dynamicChildren=null);const{type:be,ref:Pe,shapeFlag:Re}=M;switch(be){case Gy:x(R,M,ie,ye);break;case tn:S(R,M,ie,ye);break;case Af:R==null&&D(M,ie,ye,ce);break;case ii:me(R,M,ie,ye,H,fe,ce,ee,oe);break;default:Re&1?B(R,M,ie,ye,H,fe,ce,ee,oe):Re&6?xe(R,M,ie,ye,H,fe,ce,ee,oe):(Re&64||Re&128)&&be.process(R,M,ie,ye,H,fe,ce,ee,oe,K)}Pe!=null&&H&&Jg(Pe,R&&R.ref,fe,M||R,!M)},x=(R,M,ie,ye)=>{if(R==null)n(M.el=o(M.children),ie,ye);else{const H=M.el=R.el;M.children!==R.children&&u(H,M.children)}},S=(R,M,ie,ye)=>{R==null?n(M.el=l(M.children||""),ie,ye):M.el=R.el},D=(R,M,ie,ye)=>{[R.el,R.anchor]=g(R.children,M,ie,ye,R.el,R.anchor)},P=({el:R,anchor:M},ie,ye)=>{let H;for(;R&&R!==M;)H=f(R),n(R,ie,ye),R=H;n(M,ie,ye)},O=({el:R,anchor:M})=>{let ie;for(;R&&R!==M;)ie=f(R),i(R),R=ie;i(M)},B=(R,M,ie,ye,H,fe,ce,ee,oe)=>{ce=ce||M.type==="svg",R==null?z(M,ie,ye,H,fe,ce,ee,oe):F(R,M,H,fe,ce,ee,oe)},z=(R,M,ie,ye,H,fe,ce,ee)=>{let oe,be;const{type:Pe,props:Re,shapeFlag:Ie,transition:He,patchFlag:Xe,dirs:pt}=R;if(R.el&&m!==void 0&&Xe===-1)oe=R.el=m(R.el);else{if(oe=R.el=a(R.type,fe,Re&&Re.is,Re),Ie&8?c(oe,R.children):Ie&16&&Y(R.children,oe,null,ye,H,fe&&Pe!=="foreignObject",ce,ee),pt&&_a(R,null,ye,"created"),Re){for(const ut in Re)ut!=="value"&&!wf(ut)&&s(oe,ut,null,Re[ut],fe,R.children,ye,H,L);"value"in Re&&s(oe,"value",null,Re.value),(be=Re.onVnodeBeforeMount)&&pn(be,ye,R)}U(oe,R,R.scopeId,ce,ye)}pt&&_a(R,null,ye,"beforeMount");const Qe=(!H||H&&!H.pendingBranch)&&He&&!He.persisted;Qe&&He.beforeEnter(oe),n(oe,M,ie),((be=Re&&Re.onVnodeMounted)||Qe||pt)&&ei(()=>{be&&pn(be,ye,R),Qe&&He.enter(oe),pt&&_a(R,null,ye,"mounted")},H)},U=(R,M,ie,ye,H)=>{if(ie&&h(R,ie),ye)for(let fe=0;fe<ye.length;fe++)h(R,ye[fe]);if(H){let fe=H.subTree;if(M===fe){const ce=H.vnode;U(R,ce,ce.scopeId,ce.slotScopeIds,H.parent)}}},Y=(R,M,ie,ye,H,fe,ce,ee,oe=0)=>{for(let be=oe;be<R.length;be++){const Pe=R[be]=ee?ks(R[be]):vn(R[be]);v(null,Pe,M,ie,ye,H,fe,ce,ee)}},F=(R,M,ie,ye,H,fe,ce)=>{const ee=M.el=R.el;let{patchFlag:oe,dynamicChildren:be,dirs:Pe}=M;oe|=R.patchFlag&16;const Re=R.props||Rt,Ie=M.props||Rt;let He;ie&&Ta(ie,!1),(He=Ie.onVnodeBeforeUpdate)&&pn(He,ie,M,R),Pe&&_a(M,R,ie,"beforeUpdate"),ie&&Ta(ie,!0);const Xe=H&&M.type!=="foreignObject";if(be?ue(R.dynamicChildren,be,ee,ie,ye,Xe,fe):ce||Ye(R,M,ee,null,ie,ye,Xe,fe,!1),oe>0){if(oe&16)X(ee,M,Re,Ie,ie,ye,H);else if(oe&2&&Re.class!==Ie.class&&s(ee,"class",null,Ie.class,H),oe&4&&s(ee,"style",Re.style,Ie.style,H),oe&8){const pt=M.dynamicProps;for(let Qe=0;Qe<pt.length;Qe++){const ut=pt[Qe],je=Re[ut],_t=Ie[ut];(_t!==je||ut==="value")&&s(ee,ut,je,_t,H,R.children,ie,ye,L)}}oe&1&&R.children!==M.children&&c(ee,M.children)}else!ce&&be==null&&X(ee,M,Re,Ie,ie,ye,H);((He=Ie.onVnodeUpdated)||Pe)&&ei(()=>{He&&pn(He,ie,M,R),Pe&&_a(M,R,ie,"updated")},ye)},ue=(R,M,ie,ye,H,fe,ce)=>{for(let ee=0;ee<M.length;ee++){const oe=R[ee],be=M[ee],Pe=oe.el&&(oe.type===ii||!Ra(oe,be)||oe.shapeFlag&70)?d(oe.el):ie;v(oe,be,Pe,null,ye,H,fe,ce,!0)}},X=(R,M,ie,ye,H,fe,ce)=>{if(ie!==ye){for(const ee in ye){if(wf(ee))continue;const oe=ye[ee],be=ie[ee];oe!==be&&ee!=="value"&&s(R,ee,be,oe,ce,M.children,H,fe,L)}if(ie!==Rt)for(const ee in ie)!wf(ee)&&!(ee in ye)&&s(R,ee,ie[ee],null,ce,M.children,H,fe,L);"value"in ye&&s(R,"value",ie.value,ye.value)}},me=(R,M,ie,ye,H,fe,ce,ee,oe)=>{const be=M.el=R?R.el:o(""),Pe=M.anchor=R?R.anchor:o("");let{patchFlag:Re,dynamicChildren:Ie,slotScopeIds:He}=M;He&&(ee=ee?ee.concat(He):He),R==null?(n(be,ie,ye),n(Pe,ie,ye),Y(M.children,ie,Pe,H,fe,ce,ee,oe)):Re>0&&Re&64&&Ie&&R.dynamicChildren?(ue(R.dynamicChildren,Ie,ie,H,fe,ce,ee),(M.key!=null||H&&M===H.subTree)&&tP(R,M,!0)):Ye(R,M,ie,Pe,H,fe,ce,ee,oe)},xe=(R,M,ie,ye,H,fe,ce,ee,oe)=>{M.slotScopeIds=ee,R==null?M.shapeFlag&512?H.ctx.activate(M,ie,ye,ce,oe):ge(M,ie,ye,H,fe,ce,oe):Se(R,M,oe)},ge=(R,M,ie,ye,H,fe,ce)=>{const ee=R.component=GN(R,ye,H);if(dp(R)&&(ee.ctx.renderer=K),KN(ee),ee.asyncDep){if(H&&H.registerDep(ee,Ae),!R.el){const oe=ee.subTree=fr(tn);S(null,oe,M,ie)}return}Ae(ee,R,M,ie,H,fe,ce)},Se=(R,M,ie)=>{const ye=M.component=R.component;if(oN(R,M,ie))if(ye.asyncDep&&!ye.asyncResolved){he(ye,M,ie);return}else ye.next=M,tN(ye.update),ye.update();else M.component=R.component,M.el=R.el,ye.vnode=M},Ae=(R,M,ie,ye,H,fe,ce)=>{const ee=()=>{if(R.isMounted){let{next:Pe,bu:Re,u:Ie,parent:He,vnode:Xe}=R,pt=Pe,Qe;Ta(R,!1),Pe?(Pe.el=Xe.el,he(R,Pe,ce)):Pe=Xe,Re&&Pf(Re),(Qe=Pe.props&&Pe.props.onVnodeBeforeUpdate)&&pn(Qe,He,Pe,Xe),Ta(R,!0);const ut=Rm(R),je=R.subTree;R.subTree=ut,v(je,ut,d(je.el),$(je),R,H,fe),Pe.el=ut.el,pt===null&&lN(R,ut.el),Ie&&ei(Ie,H),(Qe=Pe.props&&Pe.props.onVnodeUpdated)&&ei(()=>pn(Qe,He,Pe,Xe),H)}else{let Pe;const{el:Re,props:Ie}=M,{bm:He,m:Xe,parent:pt}=R,Qe=qg(M);if(Ta(R,!1),He&&Pf(He),!Qe&&(Pe=Ie&&Ie.onVnodeBeforeMount)&&pn(Pe,pt,M),Ta(R,!0),Re&&ve){const ut=()=>{R.subTree=Rm(R),ve(Re,R.subTree,R,H,null)};Qe?M.type.__asyncLoader().then(()=>!R.isUnmounted&&ut()):ut()}else{const ut=R.subTree=Rm(R);v(null,ut,ie,ye,R,H,fe),M.el=ut.el}if(Xe&&ei(Xe,H),!Qe&&(Pe=Ie&&Ie.onVnodeMounted)){const ut=M;ei(()=>pn(Pe,pt,ut),H)}M.shapeFlag&256&&R.a&&ei(R.a,H),R.isMounted=!0,M=ie=ye=null}},oe=R.effect=new ky(ee,()=>I1(R.update),R.scope),be=R.update=oe.run.bind(oe);be.id=R.uid,Ta(R,!0),be()},he=(R,M,ie)=>{M.component=R;const ye=R.vnode.props;R.vnode=M,R.next=null,ON(R,M.props,ye,ie),IN(R,M.children,ie),wl(),Uy(void 0,R.update),Pl()},Ye=(R,M,ie,ye,H,fe,ce,ee,oe=!1)=>{const be=R&&R.children,Pe=R?R.shapeFlag:0,Re=M.children,{patchFlag:Ie,shapeFlag:He}=M;if(Ie>0){if(Ie&128){C(be,Re,ie,ye,H,fe,ce,ee,oe);return}else if(Ie&256){Z(be,Re,ie,ye,H,fe,ce,ee,oe);return}}He&8?(Pe&16&&L(be,H,fe),Re!==be&&c(ie,Re)):Pe&16?He&16?C(be,Re,ie,ye,H,fe,ce,ee,oe):L(be,H,fe,!0):(Pe&8&&c(ie,""),He&16&&Y(Re,ie,ye,H,fe,ce,ee,oe))},Z=(R,M,ie,ye,H,fe,ce,ee,oe)=>{R=R||Yo,M=M||Yo;const be=R.length,Pe=M.length,Re=Math.min(be,Pe);let Ie;for(Ie=0;Ie<Re;Ie++){const He=M[Ie]=oe?ks(M[Ie]):vn(M[Ie]);v(R[Ie],He,ie,null,H,fe,ce,ee,oe)}be>Pe?L(R,H,fe,!0,!1,Re):Y(M,ie,ye,H,fe,ce,ee,oe,Re)},C=(R,M,ie,ye,H,fe,ce,ee,oe)=>{let be=0;const Pe=M.length;let Re=R.length-1,Ie=Pe-1;for(;be<=Re&&be<=Ie;){const He=R[be],Xe=M[be]=oe?ks(M[be]):vn(M[be]);if(Ra(He,Xe))v(He,Xe,ie,null,H,fe,ce,ee,oe);else break;be++}for(;be<=Re&&be<=Ie;){const He=R[Re],Xe=M[Ie]=oe?ks(M[Ie]):vn(M[Ie]);if(Ra(He,Xe))v(He,Xe,ie,null,H,fe,ce,ee,oe);else break;Re--,Ie--}if(be>Re){if(be<=Ie){const He=Ie+1,Xe=He<Pe?M[He].el:ye;for(;be<=Ie;)v(null,M[be]=oe?ks(M[be]):vn(M[be]),ie,Xe,H,fe,ce,ee,oe),be++}}else if(be>Ie)for(;be<=Re;)ae(R[be],H,fe,!0),be++;else{const He=be,Xe=be,pt=new Map;for(be=Xe;be<=Ie;be++){const dt=M[be]=oe?ks(M[be]):vn(M[be]);dt.key!=null&&pt.set(dt.key,be)}let Qe,ut=0;const je=Ie-Xe+1;let _t=!1,at=0;const Ue=new Array(je);for(be=0;be<je;be++)Ue[be]=0;for(be=He;be<=Re;be++){const dt=R[be];if(ut>=je){ae(dt,H,fe,!0);continue}let At;if(dt.key!=null)At=pt.get(dt.key);else for(Qe=Xe;Qe<=Ie;Qe++)if(Ue[Qe-Xe]===0&&Ra(dt,M[Qe])){At=Qe;break}At===void 0?ae(dt,H,fe,!0):(Ue[At-Xe]=be+1,At>=at?at=At:_t=!0,v(dt,M[At],ie,null,H,fe,ce,ee,oe),ut++)}const Mt=_t?BN(Ue):Yo;for(Qe=Mt.length-1,be=je-1;be>=0;be--){const dt=Xe+be,At=M[dt],Zr=dt+1<Pe?M[dt+1].el:ye;Ue[be]===0?v(null,At,ie,Zr,H,fe,ce,ee,oe):_t&&(Qe<0||be!==Mt[Qe]?q(At,ie,Zr,2):Qe--)}}},q=(R,M,ie,ye,H=null)=>{const{el:fe,type:ce,transition:ee,children:oe,shapeFlag:be}=R;if(be&6){q(R.component.subTree,M,ie,ye);return}if(be&128){R.suspense.move(M,ie,ye);return}if(be&64){ce.move(R,M,ie,K);return}if(ce===ii){n(fe,M,ie);for(let Re=0;Re<oe.length;Re++)q(oe[Re],M,ie,ye);n(R.anchor,M,ie);return}if(ce===Af){P(R,M,ie);return}if(ye!==2&&be&1&&ee)if(ye===0)ee.beforeEnter(fe),n(fe,M,ie),ei(()=>ee.enter(fe),H);else{const{leave:Re,delayLeave:Ie,afterLeave:He}=ee,Xe=()=>n(fe,M,ie),pt=()=>{Re(fe,()=>{Xe(),He&&He()})};Ie?Ie(fe,Xe,pt):pt()}else n(fe,M,ie)},ae=(R,M,ie,ye=!1,H=!1)=>{const{type:fe,props:ce,ref:ee,children:oe,dynamicChildren:be,shapeFlag:Pe,patchFlag:Re,dirs:Ie}=R;if(ee!=null&&Jg(ee,null,ie,R,!0),Pe&256){M.ctx.deactivate(R);return}const He=Pe&1&&Ie,Xe=!qg(R);let pt;if(Xe&&(pt=ce&&ce.onVnodeBeforeUnmount)&&pn(pt,M,R),Pe&6)W(R.component,ie,ye);else{if(Pe&128){R.suspense.unmount(ie,ye);return}He&&_a(R,null,M,"beforeUnmount"),Pe&64?R.type.remove(R,M,ie,H,K,ye):be&&(fe!==ii||Re>0&&Re&64)?L(be,M,ie,!1,!0):(fe===ii&&Re&384||!H&&Pe&16)&&L(oe,M,ie),ye&&_e(R)}(Xe&&(pt=ce&&ce.onVnodeUnmounted)||He)&&ei(()=>{pt&&pn(pt,M,R),He&&_a(R,null,M,"unmounted")},ie)},_e=R=>{const{type:M,el:ie,anchor:ye,transition:H}=R;if(M===ii){k(ie,ye);return}if(M===Af){O(R);return}const fe=()=>{i(ie),H&&!H.persisted&&H.afterLeave&&H.afterLeave()};if(R.shapeFlag&1&&H&&!H.persisted){const{leave:ce,delayLeave:ee}=H,oe=()=>ce(ie,fe);ee?ee(R.el,fe,oe):oe()}else fe()},k=(R,M)=>{let ie;for(;R!==M;)ie=f(R),i(R),R=ie;i(M)},W=(R,M,ie)=>{const{bum:ye,scope:H,update:fe,subTree:ce,um:ee}=R;ye&&Pf(ye),H.stop(),fe&&(fe.active=!1,ae(ce,R,M,ie)),ee&&ei(ee,M),ei(()=>{R.isUnmounted=!0},M),M&&M.pendingBranch&&!M.isUnmounted&&R.asyncDep&&!R.asyncResolved&&R.suspenseId===M.pendingId&&(M.deps--,M.deps===0&&M.resolve())},L=(R,M,ie,ye=!1,H=!1,fe=0)=>{for(let ce=fe;ce<R.length;ce++)ae(R[ce],M,ie,ye,H)},$=R=>R.shapeFlag&6?$(R.component.subTree):R.shapeFlag&128?R.suspense.next():f(R.anchor||R.el),I=(R,M,ie)=>{R==null?M._vnode&&ae(M._vnode,null,null,!0):v(M._vnode||null,R,M,null,null,null,ie),N1(),M._vnode=R},K={p:v,um:ae,m:q,r:_e,mt:ge,mc:Y,pc:Ye,pbc:ue,n:$,o:t};let pe,ve;return e&&([pe,ve]=e(K)),{render:I,hydrate:pe,createApp:LN(I,pe)}}function Ta({effect:t,update:e},r){t.allowRecurse=e.allowRecurse=r}function tP(t,e,r=!1){const n=t.children,i=e.children;if(rt(n)&&rt(i))for(let s=0;s<n.length;s++){const a=n[s];let o=i[s];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=i[s]=ks(i[s]),o.el=a.el),r||tP(a,o))}}function BN(t){const e=t.slice(),r=[0];let n,i,s,a,o;const l=t.length;for(n=0;n<l;n++){const u=t[n];if(u!==0){if(i=r[r.length-1],t[i]<u){e[n]=i,r.push(n);continue}for(s=0,a=r.length-1;s<a;)o=s+a>>1,t[r[o]]<u?s=o+1:a=o;u<t[r[s]]&&(s>0&&(e[n]=r[s-1]),r[s]=n)}}for(s=r.length,a=r[s-1];s-- >0;)r[s]=a,a=e[a];return r}const $N=t=>t.__isTeleport,Wy="components",UN="directives";function rP(t,e){return Yy(Wy,t,!0,e)||t}const iP=Symbol();function Qpe(t){return pr(t)?Yy(Wy,t,!1)||t:t||iP}function Jpe(t){return Yy(UN,t)}function Yy(t,e,r=!0,n=!1){const i=Ti||yr;if(i){const s=i.type;if(t===Wy){const o=ZN(s);if(o&&(o===e||o===An(e)||o===op(An(e))))return s}const a=uT(i[t]||s[t],e)||uT(i.appContext[t],e);return!a&&n?s:a}}function uT(t,e){return t&&(t[e]||t[An(e)]||t[op(An(e))])}const ii=Symbol(void 0),Gy=Symbol(void 0),tn=Symbol(void 0),Af=Symbol(void 0),Zu=[];let Ba=null;function Ir(t=!1){Zu.push(Ba=t?null:[])}function jN(){Zu.pop(),Ba=Zu[Zu.length-1]||null}let nh=1;function cT(t){nh+=t}function nP(t){return t.dynamicChildren=nh>0?Ba||Yo:null,jN(),nh>0&&Ba&&Ba.push(t),t}function Ni(t,e,r,n,i,s){return nP(Bt(t,e,r,n,i,s,!0))}function hp(t,e,r,n,i){return nP(fr(t,e,r,n,i,!0))}function sh(t){return t?t.__v_isVNode===!0:!1}function Ra(t,e){return t.type===e.type&&t.key===e.key}const pp="__vInternal",sP=({key:t})=>t!=null?t:null,Of=({ref:t,ref_key:e,ref_for:r})=>t!=null?pr(t)||wr(t)||ct(t)?{i:Ti,r:t,k:e,f:!!r}:t:null;function Bt(t,e=null,r=null,n=0,i=null,s=t===ii?0:1,a=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&sP(e),ref:e&&Of(e),scopeId:cp,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null};return o?(qy(l,r),s&128&&t.normalize(l)):r&&(l.shapeFlag|=pr(r)?8:16),nh>0&&!a&&Ba&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Ba.push(l),l}const fr=VN;function VN(t,e=null,r=null,n=0,i=null,s=!1){if((!t||t===iP)&&(t=tn),sh(t)){const o=el(t,e,!0);return r&&qy(o,r),o}if(eF(t)&&(t=t.__vccOpts),e){e=HN(e);let{class:o,style:l}=e;o&&!pr(o)&&(e.class=En(o)),er(l)&&(S1(l)&&!rt(l)&&(l=Dr({},l)),e.style=ip(l))}const a=pr(t)?1:uN(t)?128:$N(t)?64:er(t)?4:ct(t)?2:0;return Bt(t,e,r,n,i,a,s,!0)}function HN(t){return t?S1(t)||pp in t?Dr({},t):t:null}function el(t,e,r=!1){const{props:n,ref:i,patchFlag:s,children:a}=t,o=e?oP(n||{},e):n;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:o,key:o&&sP(o),ref:e&&e.ref?r&&i?rt(i)?i.concat(Of(e)):[i,Of(e)]:Of(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==ii?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&el(t.ssContent),ssFallback:t.ssFallback&&el(t.ssFallback),el:t.el,anchor:t.anchor}}function aP(t=" ",e=0){return fr(Gy,null,t,e)}function Zpe(t,e){const r=fr(Af,null,t);return r.staticCount=e,r}function Zg(t="",e=!1){return e?(Ir(),hp(tn,null,t)):fr(tn,null,t)}function vn(t){return t==null||typeof t=="boolean"?fr(tn):rt(t)?fr(ii,null,t.slice()):typeof t=="object"?ks(t):fr(Gy,null,String(t))}function ks(t){return t.el===null||t.memo?t:el(t)}function qy(t,e){let r=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(rt(e))r=16;else if(typeof e=="object")if(n&65){const i=e.default;i&&(i._c&&(i._d=!1),qy(t,i()),i._c&&(i._d=!0));return}else{r=32;const i=e._;!i&&!(pp in e)?e._ctx=Ti:i===3&&Ti&&(Ti.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ct(e)?(e={default:e,_ctx:Ti},r=32):(e=String(e),n&64?(r=16,e=[aP(e)]):r=8);t.children=e,t.shapeFlag|=r}function oP(...t){const e={};for(let r=0;r<t.length;r++){const n=t[r];for(const i in n)if(i==="class")e.class!==n.class&&(e.class=En([e.class,n.class]));else if(i==="style")e.style=ip([e.style,n.style]);else if(np(i)){const s=e[i],a=n[i];a&&s!==a&&!(rt(s)&&s.includes(a))&&(e[i]=s?[].concat(s,a):a)}else i!==""&&(e[i]=n[i])}return e}function pn(t,e,r,n=null){Li(t,e,7,[r,n])}function lP(t,e,r,n){let i;const s=r&&r[n];if(rt(t)||pr(t)){i=new Array(t.length);for(let a=0,o=t.length;a<o;a++)i[a]=e(t[a],a,void 0,s&&s[a])}else if(typeof t=="number"){i=new Array(t);for(let a=0;a<t;a++)i[a]=e(a+1,a,void 0,s&&s[a])}else if(er(t))if(t[Symbol.iterator])i=Array.from(t,(a,o)=>e(a,o,void 0,s&&s[o]));else{const a=Object.keys(t);i=new Array(a.length);for(let o=0,l=a.length;o<l;o++){const u=a[o];i[o]=e(t[u],u,o,s&&s[o])}}else i=[];return r&&(r[n]=i),i}function ah(t,e,r={},n,i){if(Ti.isCE)return fr("slot",e==="default"?null:{name:e},n&&n());let s=t[e];s&&s._c&&(s._d=!1),Ir();const a=s&&uP(s(r)),o=hp(ii,{key:r.key||`_${e}`},a||(n?n():[]),a&&t._===1?64:-2);return!i&&o.scopeId&&(o.slotScopeIds=[o.scopeId+"-s"]),s&&s._c&&(s._d=!0),o}function uP(t){return t.some(e=>sh(e)?!(e.type===tn||e.type===ii&&!uP(e.children)):!0)?t:null}const ev=t=>t?cP(t)?Ky(t)||t.proxy:ev(t.parent):null,oh=Dr(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>ev(t.parent),$root:t=>ev(t.root),$emit:t=>t.emit,$options:t=>q1(t),$forceUpdate:t=>()=>I1(t.update),$nextTick:t=>k1.bind(t.proxy),$watch:t=>dN.bind(t)}),zN={get({_:t},e){const{ctx:r,setupState:n,data:i,props:s,accessCache:a,type:o,appContext:l}=t;let u;if(e[0]!=="$"){const h=a[e];if(h!==void 0)switch(h){case 1:return n[e];case 2:return i[e];case 4:return r[e];case 3:return s[e]}else{if(n!==Rt&&xt(n,e))return a[e]=1,n[e];if(i!==Rt&&xt(i,e))return a[e]=2,i[e];if((u=t.propsOptions[0])&&xt(u,e))return a[e]=3,s[e];if(r!==Rt&&xt(r,e))return a[e]=4,r[e];Kg&&(a[e]=0)}}const c=oh[e];let d,f;if(c)return e==="$attrs"&&xi(t,"get",e),c(t);if((d=o.__cssModules)&&(d=d[e]))return d;if(r!==Rt&&xt(r,e))return a[e]=4,r[e];if(f=l.config.globalProperties,xt(f,e))return f[e]},set({_:t},e,r){const{data:n,setupState:i,ctx:s}=t;return i!==Rt&&xt(i,e)?(i[e]=r,!0):n!==Rt&&xt(n,e)?(n[e]=r,!0):xt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:n,appContext:i,propsOptions:s}},a){let o;return!!r[a]||t!==Rt&&xt(t,a)||e!==Rt&&xt(e,a)||(o=s[0])&&xt(o,a)||xt(n,a)||xt(oh,a)||xt(i.config.globalProperties,a)},defineProperty(t,e,r){return r.get!=null?this.set(t,e,r.get(),null):r.value!=null&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}},WN=eP();let YN=0;function GN(t,e,r){const n=t.type,i=(e?e.appContext:t.appContext)||WN,s={uid:YN++,vnode:t,type:n,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new TL(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:X1(n,i),emitsOptions:B1(n,i),emit:null,emitted:null,propsDefaults:Rt,inheritAttrs:n.inheritAttrs,ctx:Rt,data:Rt,props:Rt,attrs:Rt,slots:Rt,refs:Rt,setupState:Rt,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=nN.bind(null,s),t.ce&&t.ce(s),s}let yr=null;const qN=()=>yr||Ti,tl=t=>{yr=t,t.scope.on()},$a=()=>{yr&&yr.scope.off(),yr=null};function cP(t){return t.vnode.shapeFlag&4}let Sc=!1;function KN(t,e=!1){Sc=e;const{props:r,children:n}=t.vnode,i=cP(t);AN(t,r,i,e),kN(t,n);const s=i?XN(t,e):void 0;return Sc=!1,s}function XN(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=E1(new Proxy(t.ctx,zN));const{setup:n}=r;if(n){const i=t.setupContext=n.length>1?JN(t):null;tl(t),wl();const s=Us(n,t,0,[t.props,i]);if(Pl(),$a(),u1(s)){if(s.then($a,$a),e)return s.then(a=>{dT(t,a,e)}).catch(a=>{up(a,t,0)});t.asyncDep=s}else dT(t,s,e)}else dP(t,e)}function dT(t,e,r){ct(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:er(e)&&(t.setupState=O1(e)),dP(t,r)}let fT;function dP(t,e,r){const n=t.type;if(!t.render){if(!e&&fT&&!n.render){const i=n.template;if(i){const{isCustomElement:s,compilerOptions:a}=t.appContext.config,{delimiters:o,compilerOptions:l}=n,u=Dr(Dr({isCustomElement:s,delimiters:o},a),l);n.render=fT(i,u)}}t.render=n.render||Ji}tl(t),wl(),EN(t),Pl(),$a()}function QN(t){return new Proxy(t.attrs,{get(e,r){return xi(t,"get","$attrs"),e[r]}})}function JN(t){const e=n=>{t.exposed=n||{}};let r;return{get attrs(){return r||(r=QN(t))},slots:t.slots,emit:t.emit,expose:e}}function Ky(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(O1(E1(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in oh)return oh[r](t)}}))}function ZN(t){return ct(t)&&t.displayName||t.name}function eF(t){return ct(t)&&"__vccOpts"in t}const Xi=(t,e)=>JL(t,e,Sc);function Ze(t,e,r){const n=arguments.length;return n===2?er(e)&&!rt(e)?sh(e)?fr(t,null,[e]):fr(t,e):fr(t,null,e):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&sh(r)&&(r=[r]),fr(t,e,r))}const tF="3.2.31",rF="http://www.w3.org/2000/svg",ka=typeof document!="undefined"?document:null,hT=ka&&ka.createElement("template"),iF={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,n)=>{const i=e?ka.createElementNS(rF,t):ka.createElement(t,r?{is:r}:void 0);return t==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:t=>ka.createTextNode(t),createComment:t=>ka.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ka.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},cloneNode(t){const e=t.cloneNode(!0);return"_value"in t&&(e._value=t._value),e},insertStaticContent(t,e,r,n,i,s){const a=r?r.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),r),!(i===s||!(i=i.nextSibling)););else{hT.innerHTML=n?`<svg>${t}</svg>`:t;const o=hT.content;if(n){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}e.insertBefore(o,r)}return[a?a.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}};function nF(t,e,r){const n=t._vtc;n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}function sF(t,e,r){const n=t.style,i=pr(r);if(r&&!i){for(const s in r)tv(n,s,r[s]);if(e&&!pr(e))for(const s in e)r[s]==null&&tv(n,s,"")}else{const s=n.display;i?e!==r&&(n.cssText=r):e&&t.removeAttribute("style"),"_vod"in t&&(n.display=s)}}const pT=/\s*!important$/;function tv(t,e,r){if(rt(r))r.forEach(n=>tv(t,e,n));else if(e.startsWith("--"))t.setProperty(e,r);else{const n=aF(t,e);pT.test(r)?t.setProperty(to(n),r.replace(pT,""),"important"):t[n]=r}}const mT=["Webkit","Moz","ms"],Im={};function aF(t,e){const r=Im[e];if(r)return r;let n=An(e);if(n!=="filter"&&n in t)return Im[e]=n;n=op(n);for(let i=0;i<mT.length;i++){const s=mT[i]+n;if(s in t)return Im[e]=s}return e}const gT="http://www.w3.org/1999/xlink";function oF(t,e,r,n,i){if(n&&e.startsWith("xlink:"))r==null?t.removeAttributeNS(gT,e.slice(6,e.length)):t.setAttributeNS(gT,e,r);else{const s=uL(e);r==null||s&&!o1(r)?t.removeAttribute(e):t.setAttribute(e,s?"":r)}}function lF(t,e,r,n,i,s,a){if(e==="innerHTML"||e==="textContent"){n&&a(n,i,s),t[e]=r==null?"":r;return}if(e==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=r;const o=r==null?"":r;(t.value!==o||t.tagName==="OPTION")&&(t.value=o),r==null&&t.removeAttribute(e);return}if(r===""||r==null){const o=typeof t[e];if(o==="boolean"){t[e]=o1(r);return}else if(r==null&&o==="string"){t[e]="",t.removeAttribute(e);return}else if(o==="number"){try{t[e]=0}catch{}t.removeAttribute(e);return}}try{t[e]=r}catch{}}let lh=Date.now,fP=!1;if(typeof window!="undefined"){lh()>document.createEvent("Event").timeStamp&&(lh=()=>performance.now());const t=navigator.userAgent.match(/firefox\/(\d+)/i);fP=!!(t&&Number(t[1])<=53)}let rv=0;const uF=Promise.resolve(),cF=()=>{rv=0},dF=()=>rv||(uF.then(cF),rv=lh());function Ms(t,e,r,n){t.addEventListener(e,r,n)}function fF(t,e,r,n){t.removeEventListener(e,r,n)}function hF(t,e,r,n,i=null){const s=t._vei||(t._vei={}),a=s[e];if(n&&a)a.value=n;else{const[o,l]=pF(e);if(n){const u=s[e]=mF(n,i);Ms(t,o,u,l)}else a&&(fF(t,o,a,l),s[e]=void 0)}}const vT=/(?:Once|Passive|Capture)$/;function pF(t){let e;if(vT.test(t)){e={};let r;for(;r=t.match(vT);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[to(t.slice(2)),e]}function mF(t,e){const r=n=>{const i=n.timeStamp||lh();(fP||i>=r.attached-1)&&Li(gF(n,r.value),e,5,[n])};return r.value=t,r.attached=dF(),r}function gF(t,e){if(rt(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(n=>i=>!i._stopped&&n&&n(i))}else return e}const yT=/^on[a-z]/,vF=(t,e,r,n,i=!1,s,a,o,l)=>{e==="class"?nF(t,n,i):e==="style"?sF(t,r,n):np(e)?Py(e)||hF(t,e,r,n,a):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):yF(t,e,n,i))?lF(t,e,n,s,a,o,l):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),oF(t,e,n,i))};function yF(t,e,r,n){return n?!!(e==="innerHTML"||e==="textContent"||e in t&&yT.test(e)&&ct(r)):e==="spellcheck"||e==="draggable"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||yT.test(e)&&pr(r)?!1:e in t}const Ss="transition",fu="animation",Xy=(t,{slots:e})=>Ze(V1,bF(t),e);Xy.displayName="Transition";const hP={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Xy.props=Dr({},V1.props,hP);const xa=(t,e=[])=>{rt(t)?t.forEach(r=>r(...e)):t&&t(...e)},bT=t=>t?rt(t)?t.some(e=>e.length>1):t.length>1:!1;function bF(t){const e={};for(const X in t)X in hP||(e[X]=t[X]);if(t.css===!1)return e;const{name:r="v",type:n,duration:i,enterFromClass:s=`${r}-enter-from`,enterActiveClass:a=`${r}-enter-active`,enterToClass:o=`${r}-enter-to`,appearFromClass:l=s,appearActiveClass:u=a,appearToClass:c=o,leaveFromClass:d=`${r}-leave-from`,leaveActiveClass:f=`${r}-leave-active`,leaveToClass:h=`${r}-leave-to`}=t,m=_F(i),g=m&&m[0],v=m&&m[1],{onBeforeEnter:x,onEnter:S,onEnterCancelled:D,onLeave:P,onLeaveCancelled:O,onBeforeAppear:B=x,onAppear:z=S,onAppearCancelled:U=D}=e,Y=(X,me,xe)=>{Eo(X,me?c:o),Eo(X,me?u:a),xe&&xe()},F=(X,me)=>{Eo(X,h),Eo(X,f),me&&me()},ue=X=>(me,xe)=>{const ge=X?z:S,Se=()=>Y(me,X,xe);xa(ge,[me,Se]),_T(()=>{Eo(me,X?l:s),Es(me,X?c:o),bT(ge)||TT(me,n,g,Se)})};return Dr(e,{onBeforeEnter(X){xa(x,[X]),Es(X,s),Es(X,a)},onBeforeAppear(X){xa(B,[X]),Es(X,l),Es(X,u)},onEnter:ue(!1),onAppear:ue(!0),onLeave(X,me){const xe=()=>F(X,me);Es(X,d),SF(),Es(X,f),_T(()=>{Eo(X,d),Es(X,h),bT(P)||TT(X,n,v,xe)}),xa(P,[X,xe])},onEnterCancelled(X){Y(X,!1),xa(D,[X])},onAppearCancelled(X){Y(X,!0),xa(U,[X])},onLeaveCancelled(X){F(X),xa(O,[X])}})}function _F(t){if(t==null)return null;if(er(t))return[Mm(t.enter),Mm(t.leave)];{const e=Mm(t);return[e,e]}}function Mm(t){return bc(t)}function Es(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.add(r)),(t._vtc||(t._vtc=new Set)).add(e)}function Eo(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.remove(n));const{_vtc:r}=t;r&&(r.delete(e),r.size||(t._vtc=void 0))}function _T(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let TF=0;function TT(t,e,r,n){const i=t._endId=++TF,s=()=>{i===t._endId&&n()};if(r)return setTimeout(s,r);const{type:a,timeout:o,propCount:l}=xF(t,e);if(!a)return n();const u=a+"end";let c=0;const d=()=>{t.removeEventListener(u,f),s()},f=h=>{h.target===t&&++c>=l&&d()};setTimeout(()=>{c<l&&d()},o+1),t.addEventListener(u,f)}function xF(t,e){const r=window.getComputedStyle(t),n=m=>(r[m]||"").split(", "),i=n(Ss+"Delay"),s=n(Ss+"Duration"),a=xT(i,s),o=n(fu+"Delay"),l=n(fu+"Duration"),u=xT(o,l);let c=null,d=0,f=0;e===Ss?a>0&&(c=Ss,d=a,f=s.length):e===fu?u>0&&(c=fu,d=u,f=l.length):(d=Math.max(a,u),c=d>0?a>u?Ss:fu:null,f=c?c===Ss?s.length:l.length:0);const h=c===Ss&&/\b(transform|all)(,|$)/.test(r[Ss+"Property"]);return{type:c,timeout:d,propCount:f,hasTransform:h}}function xT(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((r,n)=>ST(r)+ST(t[n])))}function ST(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function SF(){return document.body.offsetHeight}const rl=t=>{const e=t.props["onUpdate:modelValue"];return rt(e)?r=>Pf(e,r):e};function EF(t){t.target.composing=!0}function ET(t){const e=t.target;e.composing&&(e.composing=!1,CF(e,"input"))}function CF(t,e){const r=document.createEvent("HTMLEvents");r.initEvent(e,!0,!0),t.dispatchEvent(r)}const eme={created(t,{modifiers:{lazy:e,trim:r,number:n}},i){t._assign=rl(i);const s=n||i.props&&i.props.type==="number";Ms(t,e?"change":"input",a=>{if(a.target.composing)return;let o=t.value;r?o=o.trim():s&&(o=bc(o)),t._assign(o)}),r&&Ms(t,"change",()=>{t.value=t.value.trim()}),e||(Ms(t,"compositionstart",EF),Ms(t,"compositionend",ET),Ms(t,"change",ET))},mounted(t,{value:e}){t.value=e==null?"":e},beforeUpdate(t,{value:e,modifiers:{lazy:r,trim:n,number:i}},s){if(t._assign=rl(s),t.composing||document.activeElement===t&&(r||n&&t.value.trim()===e||(i||t.type==="number")&&bc(t.value)===e))return;const a=e==null?"":e;t.value!==a&&(t.value=a)}},tme={deep:!0,created(t,e,r){t._assign=rl(r),Ms(t,"change",()=>{const n=t._modelValue,i=Ec(t),s=t.checked,a=t._assign;if(rt(n)){const o=wy(n,i),l=o!==-1;if(s&&!l)a(n.concat(i));else if(!s&&l){const u=[...n];u.splice(o,1),a(u)}}else if(Cl(n)){const o=new Set(n);s?o.add(i):o.delete(i),a(o)}else a(pP(t,s))})},mounted:CT,beforeUpdate(t,e,r){t._assign=rl(r),CT(t,e,r)}};function CT(t,{value:e,oldValue:r},n){t._modelValue=e,rt(e)?t.checked=wy(e,n.props.value)>-1:Cl(e)?t.checked=e.has(n.props.value):e!==r&&(t.checked=Xc(e,pP(t,!0)))}const rme={deep:!0,created(t,{value:e,modifiers:{number:r}},n){const i=Cl(e);Ms(t,"change",()=>{const s=Array.prototype.filter.call(t.options,a=>a.selected).map(a=>r?bc(Ec(a)):Ec(a));t._assign(t.multiple?i?new Set(s):s:s[0])}),t._assign=rl(n)},mounted(t,{value:e}){wT(t,e)},beforeUpdate(t,e,r){t._assign=rl(r)},updated(t,{value:e}){wT(t,e)}};function wT(t,e){const r=t.multiple;if(!(r&&!rt(e)&&!Cl(e))){for(let n=0,i=t.options.length;n<i;n++){const s=t.options[n],a=Ec(s);if(r)rt(e)?s.selected=wy(e,a)>-1:s.selected=e.has(a);else if(Xc(Ec(s),e)){t.selectedIndex!==n&&(t.selectedIndex=n);return}}!r&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Ec(t){return"_value"in t?t._value:t.value}function pP(t,e){const r=e?"_trueValue":"_falseValue";return r in t?t[r]:e}const wF=["ctrl","shift","alt","meta"],PF={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>wF.some(r=>t[`${r}Key`]&&!e.includes(r))},PT=(t,e)=>(r,...n)=>{for(let i=0;i<e.length;i++){const s=PF[e[i]];if(s&&s(r,e))return}return t(r,...n)},DF={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},ime=(t,e)=>r=>{if(!("key"in r))return;const n=to(r.key);if(e.some(i=>i===n||DF[i]===n))return t(r)},AF=Dr({patchProp:vF},iF);let DT;function OF(){return DT||(DT=NN(AF))}const nme=(...t)=>{const e=OF().createApp(...t),{mount:r}=e;return e.mount=n=>{const i=RF(n);if(!i)return;const s=e._component;!ct(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const a=r(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},e};function RF(t){return pr(t)?document.querySelector(t):t}function kF(){return mP().__VUE_DEVTOOLS_GLOBAL_HOOK__}function mP(){return typeof navigator!="undefined"&&typeof window!="undefined"?window:typeof global!="undefined"?global:{}}const IF=typeof Proxy=="function",MF="devtools-plugin:setup",LF="plugin:settings:set";let Co,iv;function NF(){var t;return Co!==void 0||(typeof window!="undefined"&&window.performance?(Co=!0,iv=window.performance):typeof global!="undefined"&&((t=global.perf_hooks)===null||t===void 0?void 0:t.performance)?(Co=!0,iv=global.perf_hooks.performance):Co=!1),Co}function FF(){return NF()?iv.now():Date.now()}class BF{constructor(e,r){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=r;const n={};if(e.settings)for(const a in e.settings){const o=e.settings[a];n[a]=o.defaultValue}const i=`__vue-devtools-plugin-settings__${e.id}`;let s=Object.assign({},n);try{const a=localStorage.getItem(i),o=JSON.parse(a);Object.assign(s,o)}catch{}this.fallbacks={getSettings(){return s},setSettings(a){try{localStorage.setItem(i,JSON.stringify(a))}catch{}s=a},now(){return FF()}},r&&r.on(LF,(a,o)=>{a===this.plugin.id&&this.fallbacks.setSettings(o)}),this.proxiedOn=new Proxy({},{get:(a,o)=>this.target?this.target.on[o]:(...l)=>{this.onQueue.push({method:o,args:l})}}),this.proxiedTarget=new Proxy({},{get:(a,o)=>this.target?this.target[o]:o==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(o)?(...l)=>(this.targetQueue.push({method:o,args:l,resolve:()=>{}}),this.fallbacks[o](...l)):(...l)=>new Promise(u=>{this.targetQueue.push({method:o,args:l,resolve:u})})})}async setRealTarget(e){this.target=e;for(const r of this.onQueue)this.target.on[r.method](...r.args);for(const r of this.targetQueue)r.resolve(await this.target[r.method](...r.args))}}function $F(t,e){const r=t,n=mP(),i=kF(),s=IF&&r.enableEarlyProxy;if(i&&(n.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!s))i.emit(MF,t,e);else{const a=s?new BF(r,i):null;(n.__VUE_DEVTOOLS_PLUGINS__=n.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:r,setupFn:e,proxy:a}),a&&e(a.proxiedTarget)}}/*!
  * vue-router v4.0.14
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const gP=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",Al=t=>gP?Symbol(t):"_vr_"+t,UF=Al("rvlm"),AT=Al("rvd"),Qy=Al("r"),vP=Al("rl"),nv=Al("rvl"),jo=typeof window!="undefined";function jF(t){return t.__esModule||gP&&t[Symbol.toStringTag]==="Module"}const Ot=Object.assign;function Lm(t,e){const r={};for(const n in e){const i=e[n];r[n]=Array.isArray(i)?i.map(t):t(i)}return r}const ec=()=>{},VF=/\/$/,HF=t=>t.replace(VF,"");function Nm(t,e,r="/"){let n,i={},s="",a="";const o=e.indexOf("?"),l=e.indexOf("#",o>-1?o:0);return o>-1&&(n=e.slice(0,o),s=e.slice(o+1,l>-1?l:e.length),i=t(s)),l>-1&&(n=n||e.slice(0,l),a=e.slice(l,e.length)),n=GF(n!=null?n:e,r),{fullPath:n+(s&&"?")+s+a,path:n,query:i,hash:a}}function zF(t,e){const r=e.query?t(e.query):"";return e.path+(r&&"?")+r+(e.hash||"")}function OT(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function WF(t,e,r){const n=e.matched.length-1,i=r.matched.length-1;return n>-1&&n===i&&il(e.matched[n],r.matched[i])&&yP(e.params,r.params)&&t(e.query)===t(r.query)&&e.hash===r.hash}function il(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function yP(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(!YF(t[r],e[r]))return!1;return!0}function YF(t,e){return Array.isArray(t)?RT(t,e):Array.isArray(e)?RT(e,t):t===e}function RT(t,e){return Array.isArray(e)?t.length===e.length&&t.every((r,n)=>r===e[n]):t.length===1&&t[0]===e}function GF(t,e){if(t.startsWith("/"))return t;if(!t)return e;const r=e.split("/"),n=t.split("/");let i=r.length-1,s,a;for(s=0;s<n.length;s++)if(a=n[s],!(i===1||a==="."))if(a==="..")i--;else break;return r.slice(0,i).join("/")+"/"+n.slice(s-(s===n.length?1:0)).join("/")}var Cc;(function(t){t.pop="pop",t.push="push"})(Cc||(Cc={}));var tc;(function(t){t.back="back",t.forward="forward",t.unknown=""})(tc||(tc={}));function qF(t){if(!t)if(jo){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),HF(t)}const KF=/^[^#]+#/;function XF(t,e){return t.replace(KF,"#")+e}function QF(t,e){const r=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{behavior:e.behavior,left:n.left-r.left-(e.left||0),top:n.top-r.top-(e.top||0)}}const mp=()=>({left:window.pageXOffset,top:window.pageYOffset});function JF(t){let e;if("el"in t){const r=t.el,n=typeof r=="string"&&r.startsWith("#"),i=typeof r=="string"?n?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!i)return;e=QF(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function kT(t,e){return(history.state?history.state.position-e:-1)+t}const sv=new Map;function ZF(t,e){sv.set(t,e)}function e2(t){const e=sv.get(t);return sv.delete(t),e}let t2=()=>location.protocol+"//"+location.host;function bP(t,e){const{pathname:r,search:n,hash:i}=e,s=t.indexOf("#");if(s>-1){let o=i.includes(t.slice(s))?t.slice(s).length:1,l=i.slice(o);return l[0]!=="/"&&(l="/"+l),OT(l,"")}return OT(r,t)+n+i}function r2(t,e,r,n){let i=[],s=[],a=null;const o=({state:f})=>{const h=bP(t,location),m=r.value,g=e.value;let v=0;if(f){if(r.value=h,e.value=f,a&&a===m){a=null;return}v=g?f.position-g.position:0}else n(h);i.forEach(x=>{x(r.value,m,{delta:v,type:Cc.pop,direction:v?v>0?tc.forward:tc.back:tc.unknown})})};function l(){a=r.value}function u(f){i.push(f);const h=()=>{const m=i.indexOf(f);m>-1&&i.splice(m,1)};return s.push(h),h}function c(){const{history:f}=window;!f.state||f.replaceState(Ot({},f.state,{scroll:mp()}),"")}function d(){for(const f of s)f();s=[],window.removeEventListener("popstate",o),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",o),window.addEventListener("beforeunload",c),{pauseListeners:l,listen:u,destroy:d}}function IT(t,e,r,n=!1,i=!1){return{back:t,current:e,forward:r,replaced:n,position:window.history.length,scroll:i?mp():null}}function i2(t){const{history:e,location:r}=window,n={value:bP(t,r)},i={value:e.state};i.value||s(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,u,c){const d=t.indexOf("#"),f=d>-1?(r.host&&document.querySelector("base")?t:t.slice(d))+l:t2()+t+l;try{e[c?"replaceState":"pushState"](u,"",f),i.value=u}catch(h){console.error(h),r[c?"replace":"assign"](f)}}function a(l,u){const c=Ot({},e.state,IT(i.value.back,l,i.value.forward,!0),u,{position:i.value.position});s(l,c,!0),n.value=l}function o(l,u){const c=Ot({},i.value,e.state,{forward:l,scroll:mp()});s(c.current,c,!0);const d=Ot({},IT(n.value,l,null),{position:c.position+1},u);s(l,d,!1),n.value=l}return{location:n,state:i,push:o,replace:a}}function n2(t){t=qF(t);const e=i2(t),r=r2(t,e.state,e.location,e.replace);function n(s,a=!0){a||r.pauseListeners(),history.go(s)}const i=Ot({location:"",base:t,go:n,createHref:XF.bind(null,t)},e,r);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function sme(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),n2(t)}function s2(t){return typeof t=="string"||t&&typeof t=="object"}function _P(t){return typeof t=="string"||typeof t=="symbol"}const Cs={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},TP=Al("nf");var MT;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(MT||(MT={}));function nl(t,e){return Ot(new Error,{type:t,[TP]:!0},e)}function ws(t,e){return t instanceof Error&&TP in t&&(e==null||!!(t.type&e))}const LT="[^/]+?",a2={sensitive:!1,strict:!1,start:!0,end:!0},o2=/[.+*?^${}()[\]/\\]/g;function l2(t,e){const r=Ot({},a2,e),n=[];let i=r.start?"^":"";const s=[];for(const u of t){const c=u.length?[]:[90];r.strict&&!u.length&&(i+="/");for(let d=0;d<u.length;d++){const f=u[d];let h=40+(r.sensitive?.25:0);if(f.type===0)d||(i+="/"),i+=f.value.replace(o2,"\\$&"),h+=40;else if(f.type===1){const{value:m,repeatable:g,optional:v,regexp:x}=f;s.push({name:m,repeatable:g,optional:v});const S=x||LT;if(S!==LT){h+=10;try{new RegExp(`(${S})`)}catch(P){throw new Error(`Invalid custom RegExp for param "${m}" (${S}): `+P.message)}}let D=g?`((?:${S})(?:/(?:${S}))*)`:`(${S})`;d||(D=v&&u.length<2?`(?:/${D})`:"/"+D),v&&(D+="?"),i+=D,h+=20,v&&(h+=-8),g&&(h+=-20),S===".*"&&(h+=-50)}c.push(h)}n.push(c)}if(r.strict&&r.end){const u=n.length-1;n[u][n[u].length-1]+=.7000000000000001}r.strict||(i+="/?"),r.end?i+="$":r.strict&&(i+="(?:/|$)");const a=new RegExp(i,r.sensitive?"":"i");function o(u){const c=u.match(a),d={};if(!c)return null;for(let f=1;f<c.length;f++){const h=c[f]||"",m=s[f-1];d[m.name]=h&&m.repeatable?h.split("/"):h}return d}function l(u){let c="",d=!1;for(const f of t){(!d||!c.endsWith("/"))&&(c+="/"),d=!1;for(const h of f)if(h.type===0)c+=h.value;else if(h.type===1){const{value:m,repeatable:g,optional:v}=h,x=m in u?u[m]:"";if(Array.isArray(x)&&!g)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const S=Array.isArray(x)?x.join("/"):x;if(!S)if(v)f.length<2&&(c.endsWith("/")?c=c.slice(0,-1):d=!0);else throw new Error(`Missing required param "${m}"`);c+=S}}return c}return{re:a,score:n,keys:s,parse:o,stringify:l}}function u2(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=e[r]-t[r];if(n)return n;r++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function c2(t,e){let r=0;const n=t.score,i=e.score;for(;r<n.length&&r<i.length;){const s=u2(n[r],i[r]);if(s)return s;r++}return i.length-n.length}const d2={type:0,value:""},f2=/[a-zA-Z0-9_]/;function h2(t){if(!t)return[[]];if(t==="/")return[[d2]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(h){throw new Error(`ERR (${r})/"${u}": ${h}`)}let r=0,n=r;const i=[];let s;function a(){s&&i.push(s),s=[]}let o=0,l,u="",c="";function d(){!u||(r===0?s.push({type:0,value:u}):r===1||r===2||r===3?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function f(){u+=l}for(;o<t.length;){if(l=t[o++],l==="\\"&&r!==2){n=r,r=4;continue}switch(r){case 0:l==="/"?(u&&d(),a()):l===":"?(d(),r=1):f();break;case 4:f(),r=n;break;case 1:l==="("?r=2:f2.test(l)?f():(d(),r=0,l!=="*"&&l!=="?"&&l!=="+"&&o--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:r=3:c+=l;break;case 3:d(),r=0,l!=="*"&&l!=="?"&&l!=="+"&&o--,c="";break;default:e("Unknown state");break}}return r===2&&e(`Unfinished custom RegExp for param "${u}"`),d(),a(),i}function p2(t,e,r){const n=l2(h2(t.path),r),i=Ot(n,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function m2(t,e){const r=[],n=new Map;e=FT({strict:!1,end:!0,sensitive:!1},e);function i(c){return n.get(c)}function s(c,d,f){const h=!f,m=v2(c);m.aliasOf=f&&f.record;const g=FT(e,c),v=[m];if("alias"in c){const D=typeof c.alias=="string"?[c.alias]:c.alias;for(const P of D)v.push(Ot({},m,{components:f?f.record.components:m.components,path:P,aliasOf:f?f.record:m}))}let x,S;for(const D of v){const{path:P}=D;if(d&&P[0]!=="/"){const O=d.record.path,B=O[O.length-1]==="/"?"":"/";D.path=d.record.path+(P&&B+P)}if(x=p2(D,d,g),f?f.alias.push(x):(S=S||x,S!==x&&S.alias.push(x),h&&c.name&&!NT(x)&&a(c.name)),"children"in m){const O=m.children;for(let B=0;B<O.length;B++)s(O[B],x,f&&f.children[B])}f=f||x,l(x)}return S?()=>{a(S)}:ec}function a(c){if(_P(c)){const d=n.get(c);d&&(n.delete(c),r.splice(r.indexOf(d),1),d.children.forEach(a),d.alias.forEach(a))}else{const d=r.indexOf(c);d>-1&&(r.splice(d,1),c.record.name&&n.delete(c.record.name),c.children.forEach(a),c.alias.forEach(a))}}function o(){return r}function l(c){let d=0;for(;d<r.length&&c2(c,r[d])>=0&&(c.record.path!==r[d].record.path||!xP(c,r[d]));)d++;r.splice(d,0,c),c.record.name&&!NT(c)&&n.set(c.record.name,c)}function u(c,d){let f,h={},m,g;if("name"in c&&c.name){if(f=n.get(c.name),!f)throw nl(1,{location:c});g=f.record.name,h=Ot(g2(d.params,f.keys.filter(S=>!S.optional).map(S=>S.name)),c.params),m=f.stringify(h)}else if("path"in c)m=c.path,f=r.find(S=>S.re.test(m)),f&&(h=f.parse(m),g=f.record.name);else{if(f=d.name?n.get(d.name):r.find(S=>S.re.test(d.path)),!f)throw nl(1,{location:c,currentLocation:d});g=f.record.name,h=Ot({},d.params,c.params),m=f.stringify(h)}const v=[];let x=f;for(;x;)v.unshift(x.record),x=x.parent;return{name:g,path:m,params:h,matched:v,meta:b2(v)}}return t.forEach(c=>s(c)),{addRoute:s,resolve:u,removeRoute:a,getRoutes:o,getRecordMatcher:i}}function g2(t,e){const r={};for(const n of e)n in t&&(r[n]=t[n]);return r}function v2(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:y2(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||{}:{default:t.component}}}function y2(t){const e={},r=t.props||!1;if("component"in t)e.default=r;else for(const n in t.components)e[n]=typeof r=="boolean"?r:r[n];return e}function NT(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function b2(t){return t.reduce((e,r)=>Ot(e,r.meta),{})}function FT(t,e){const r={};for(const n in t)r[n]=n in e?e[n]:t[n];return r}function xP(t,e){return e.children.some(r=>r===t||xP(t,r))}const SP=/#/g,_2=/&/g,T2=/\//g,x2=/=/g,S2=/\?/g,EP=/\+/g,E2=/%5B/g,C2=/%5D/g,CP=/%5E/g,w2=/%60/g,wP=/%7B/g,P2=/%7C/g,PP=/%7D/g,D2=/%20/g;function Jy(t){return encodeURI(""+t).replace(P2,"|").replace(E2,"[").replace(C2,"]")}function A2(t){return Jy(t).replace(wP,"{").replace(PP,"}").replace(CP,"^")}function av(t){return Jy(t).replace(EP,"%2B").replace(D2,"+").replace(SP,"%23").replace(_2,"%26").replace(w2,"`").replace(wP,"{").replace(PP,"}").replace(CP,"^")}function O2(t){return av(t).replace(x2,"%3D")}function R2(t){return Jy(t).replace(SP,"%23").replace(S2,"%3F")}function k2(t){return t==null?"":R2(t).replace(T2,"%2F")}function uh(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function I2(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<n.length;++i){const s=n[i].replace(EP," "),a=s.indexOf("="),o=uh(a<0?s:s.slice(0,a)),l=a<0?null:uh(s.slice(a+1));if(o in e){let u=e[o];Array.isArray(u)||(u=e[o]=[u]),u.push(l)}else e[o]=l}return e}function BT(t){let e="";for(let r in t){const n=t[r];if(r=O2(r),n==null){n!==void 0&&(e+=(e.length?"&":"")+r);continue}(Array.isArray(n)?n.map(s=>s&&av(s)):[n&&av(n)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+r,s!=null&&(e+="="+s))})}return e}function M2(t){const e={};for(const r in t){const n=t[r];n!==void 0&&(e[r]=Array.isArray(n)?n.map(i=>i==null?null:""+i):n==null?n:""+n)}return e}function hu(){let t=[];function e(n){return t.push(n),()=>{const i=t.indexOf(n);i>-1&&t.splice(i,1)}}function r(){t=[]}return{add:e,list:()=>t,reset:r}}function Is(t,e,r,n,i){const s=n&&(n.enterCallbacks[i]=n.enterCallbacks[i]||[]);return()=>new Promise((a,o)=>{const l=d=>{d===!1?o(nl(4,{from:r,to:e})):d instanceof Error?o(d):s2(d)?o(nl(2,{from:e,to:d})):(s&&n.enterCallbacks[i]===s&&typeof d=="function"&&s.push(d),a())},u=t.call(n&&n.instances[i],e,r,l);let c=Promise.resolve(u);t.length<3&&(c=c.then(l)),c.catch(d=>o(d))})}function Fm(t,e,r,n){const i=[];for(const s of t)for(const a in s.components){let o=s.components[a];if(!(e!=="beforeRouteEnter"&&!s.instances[a]))if(L2(o)){const u=(o.__vccOpts||o)[e];u&&i.push(Is(u,r,n,s,a))}else{let l=o();i.push(()=>l.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${s.path}"`));const c=jF(u)?u.default:u;s.components[a]=c;const f=(c.__vccOpts||c)[e];return f&&Is(f,r,n,s,a)()}))}}return i}function L2(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function $T(t){const e=js(Qy),r=js(vP),n=Xi(()=>e.resolve(Xu(t.to))),i=Xi(()=>{const{matched:l}=n.value,{length:u}=l,c=l[u-1],d=r.matched;if(!c||!d.length)return-1;const f=d.findIndex(il.bind(null,c));if(f>-1)return f;const h=UT(l[u-2]);return u>1&&UT(c)===h&&d[d.length-1].path!==h?d.findIndex(il.bind(null,l[u-2])):f}),s=Xi(()=>i.value>-1&&$2(r.params,n.value.params)),a=Xi(()=>i.value>-1&&i.value===r.matched.length-1&&yP(r.params,n.value.params));function o(l={}){return B2(l)?e[Xu(t.replace)?"replace":"push"](Xu(t.to)).catch(ec):Promise.resolve()}return{route:n,href:Xi(()=>n.value.href),isActive:s,isExactActive:a,navigate:o}}const N2=Dl({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:$T,setup(t,{slots:e}){const r=Qs($T(t)),{options:n}=js(Qy),i=Xi(()=>({[jT(t.activeClass,n.linkActiveClass,"router-link-active")]:r.isActive,[jT(t.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const s=e.default&&e.default(r);return t.custom?s:Ze("a",{"aria-current":r.isExactActive?t.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:i.value},s)}}}),F2=N2;function B2(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function $2(t,e){for(const r in e){const n=e[r],i=t[r];if(typeof n=="string"){if(n!==i)return!1}else if(!Array.isArray(i)||i.length!==n.length||n.some((s,a)=>s!==i[a]))return!1}return!0}function UT(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const jT=(t,e,r)=>t!=null?t:e!=null?e:r,U2=Dl({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(t,{attrs:e,slots:r}){const n=js(nv),i=Xi(()=>t.route||n.value),s=js(AT,0),a=Xi(()=>i.value.matched[s]);Df(AT,s+1),Df(UF,a),Df(nv,i);const o=P1();return Vs(()=>[o.value,a.value,t.name],([l,u,c],[d,f,h])=>{u&&(u.instances[c]=l,f&&f!==u&&l&&l===d&&(u.leaveGuards.size||(u.leaveGuards=f.leaveGuards),u.updateGuards.size||(u.updateGuards=f.updateGuards))),l&&u&&(!f||!il(u,f)||!d)&&(u.enterCallbacks[c]||[]).forEach(m=>m(l))},{flush:"post"}),()=>{const l=i.value,u=a.value,c=u&&u.components[t.name],d=t.name;if(!c)return VT(r.default,{Component:c,route:l});const f=u.props[t.name],h=f?f===!0?l.params:typeof f=="function"?f(l):f:null,g=Ze(c,Ot({},h,e,{onVnodeUnmounted:v=>{v.component.isUnmounted&&(u.instances[d]=null)},ref:o}));return VT(r.default,{Component:g,route:l})||g}}});function VT(t,e){if(!t)return null;const r=t(e);return r.length===1?r[0]:r}const j2=U2;function ame(t){const e=m2(t.routes,t),r=t.parseQuery||I2,n=t.stringifyQuery||BT,i=t.history,s=hu(),a=hu(),o=hu(),l=D1(Cs);let u=Cs;jo&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=Lm.bind(null,k=>""+k),d=Lm.bind(null,k2),f=Lm.bind(null,uh);function h(k,W){let L,$;return _P(k)?(L=e.getRecordMatcher(k),$=W):$=k,e.addRoute($,L)}function m(k){const W=e.getRecordMatcher(k);W&&e.removeRoute(W)}function g(){return e.getRoutes().map(k=>k.record)}function v(k){return!!e.getRecordMatcher(k)}function x(k,W){if(W=Ot({},W||l.value),typeof k=="string"){const ve=Nm(r,k,W.path),R=e.resolve({path:ve.path},W),M=i.createHref(ve.fullPath);return Ot(ve,R,{params:f(R.params),hash:uh(ve.hash),redirectedFrom:void 0,href:M})}let L;if("path"in k)L=Ot({},k,{path:Nm(r,k.path,W.path).path});else{const ve=Ot({},k.params);for(const R in ve)ve[R]==null&&delete ve[R];L=Ot({},k,{params:d(k.params)}),W.params=d(W.params)}const $=e.resolve(L,W),I=k.hash||"";$.params=c(f($.params));const K=zF(n,Ot({},k,{hash:A2(I),path:$.path})),pe=i.createHref(K);return Ot({fullPath:K,hash:I,query:n===BT?M2(k.query):k.query||{}},$,{redirectedFrom:void 0,href:pe})}function S(k){return typeof k=="string"?Nm(r,k,l.value.path):Ot({},k)}function D(k,W){if(u!==k)return nl(8,{from:W,to:k})}function P(k){return z(k)}function O(k){return P(Ot(S(k),{replace:!0}))}function B(k){const W=k.matched[k.matched.length-1];if(W&&W.redirect){const{redirect:L}=W;let $=typeof L=="function"?L(k):L;return typeof $=="string"&&($=$.includes("?")||$.includes("#")?$=S($):{path:$},$.params={}),Ot({query:k.query,hash:k.hash,params:k.params},$)}}function z(k,W){const L=u=x(k),$=l.value,I=k.state,K=k.force,pe=k.replace===!0,ve=B(L);if(ve)return z(Ot(S(ve),{state:I,force:K,replace:pe}),W||L);const R=L;R.redirectedFrom=W;let M;return!K&&WF(n,$,L)&&(M=nl(16,{to:R,from:$}),Z($,$,!0,!1)),(M?Promise.resolve(M):Y(R,$)).catch(ie=>ws(ie)?ws(ie,2)?ie:Ye(ie):Ae(ie,R,$)).then(ie=>{if(ie){if(ws(ie,2))return z(Ot(S(ie.to),{state:I,force:K,replace:pe}),W||R)}else ie=ue(R,$,!0,pe,I);return F(R,$,ie),ie})}function U(k,W){const L=D(k,W);return L?Promise.reject(L):Promise.resolve()}function Y(k,W){let L;const[$,I,K]=V2(k,W);L=Fm($.reverse(),"beforeRouteLeave",k,W);for(const ve of $)ve.leaveGuards.forEach(R=>{L.push(Is(R,k,W))});const pe=U.bind(null,k,W);return L.push(pe),wo(L).then(()=>{L=[];for(const ve of s.list())L.push(Is(ve,k,W));return L.push(pe),wo(L)}).then(()=>{L=Fm(I,"beforeRouteUpdate",k,W);for(const ve of I)ve.updateGuards.forEach(R=>{L.push(Is(R,k,W))});return L.push(pe),wo(L)}).then(()=>{L=[];for(const ve of k.matched)if(ve.beforeEnter&&!W.matched.includes(ve))if(Array.isArray(ve.beforeEnter))for(const R of ve.beforeEnter)L.push(Is(R,k,W));else L.push(Is(ve.beforeEnter,k,W));return L.push(pe),wo(L)}).then(()=>(k.matched.forEach(ve=>ve.enterCallbacks={}),L=Fm(K,"beforeRouteEnter",k,W),L.push(pe),wo(L))).then(()=>{L=[];for(const ve of a.list())L.push(Is(ve,k,W));return L.push(pe),wo(L)}).catch(ve=>ws(ve,8)?ve:Promise.reject(ve))}function F(k,W,L){for(const $ of o.list())$(k,W,L)}function ue(k,W,L,$,I){const K=D(k,W);if(K)return K;const pe=W===Cs,ve=jo?history.state:{};L&&($||pe?i.replace(k.fullPath,Ot({scroll:pe&&ve&&ve.scroll},I)):i.push(k.fullPath,I)),l.value=k,Z(k,W,L,pe),Ye()}let X;function me(){X=i.listen((k,W,L)=>{const $=x(k),I=B($);if(I){z(Ot(I,{replace:!0}),$).catch(ec);return}u=$;const K=l.value;jo&&ZF(kT(K.fullPath,L.delta),mp()),Y($,K).catch(pe=>ws(pe,12)?pe:ws(pe,2)?(z(pe.to,$).then(ve=>{ws(ve,20)&&!L.delta&&L.type===Cc.pop&&i.go(-1,!1)}).catch(ec),Promise.reject()):(L.delta&&i.go(-L.delta,!1),Ae(pe,$,K))).then(pe=>{pe=pe||ue($,K,!1),pe&&(L.delta?i.go(-L.delta,!1):L.type===Cc.pop&&ws(pe,20)&&i.go(-1,!1)),F($,K,pe)}).catch(ec)})}let xe=hu(),ge=hu(),Se;function Ae(k,W,L){Ye(k);const $=ge.list();return $.length?$.forEach(I=>I(k,W,L)):console.error(k),Promise.reject(k)}function he(){return Se&&l.value!==Cs?Promise.resolve():new Promise((k,W)=>{xe.add([k,W])})}function Ye(k){return Se||(Se=!k,me(),xe.list().forEach(([W,L])=>k?L(k):W()),xe.reset()),k}function Z(k,W,L,$){const{scrollBehavior:I}=t;if(!jo||!I)return Promise.resolve();const K=!L&&e2(kT(k.fullPath,0))||($||!L)&&history.state&&history.state.scroll||null;return k1().then(()=>I(k,W,K)).then(pe=>pe&&JF(pe)).catch(pe=>Ae(pe,k,W))}const C=k=>i.go(k);let q;const ae=new Set;return{currentRoute:l,addRoute:h,removeRoute:m,hasRoute:v,getRoutes:g,resolve:x,options:t,push:P,replace:O,go:C,back:()=>C(-1),forward:()=>C(1),beforeEach:s.add,beforeResolve:a.add,afterEach:o.add,onError:ge.add,isReady:he,install(k){const W=this;k.component("RouterLink",F2),k.component("RouterView",j2),k.config.globalProperties.$router=W,Object.defineProperty(k.config.globalProperties,"$route",{enumerable:!0,get:()=>Xu(l)}),jo&&!q&&l.value===Cs&&(q=!0,P(i.location).catch(I=>{}));const L={};for(const I in Cs)L[I]=Xi(()=>l.value[I]);k.provide(Qy,W),k.provide(vP,Qs(L)),k.provide(nv,l);const $=k.unmount;ae.add(k),k.unmount=function(){ae.delete(k),ae.size<1&&(u=Cs,X&&X(),l.value=Cs,q=!1,Se=!1),$()}}}}function wo(t){return t.reduce((e,r)=>e.then(()=>r()),Promise.resolve())}function V2(t,e){const r=[],n=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let a=0;a<s;a++){const o=e.matched[a];o&&(t.matched.find(u=>il(u,o))?n.push(o):r.push(o));const l=t.matched[a];l&&(e.matched.find(u=>il(u,l))||i.push(l))}return[r,n,i]}/*! Fast Average Color |  2022 Denis Seleznev | MIT License | https://github.com/fast-average-color/fast-average-color */function H2(t){var e=t.toString(16);return e.length===1?"0"+e:e}function HT(t){return"#"+t.map(H2).join("")}function z2(t){var e=(t[0]*299+t[1]*587+t[2]*114)/1e3;return e<128}function W2(t){return t?Y2(t)?t:[t]:[]}function Y2(t){return Array.isArray(t[0])}function Zy(t,e,r){for(var n=0;n<r.length;n++)if(G2(t,e,r[n]))return!0;return!1}function G2(t,e,r){switch(r.length){case 3:if(q2(t,e,r))return!0;break;case 4:if(K2(t,e,r))return!0;break;case 5:if(X2(t,e,r))return!0;break;default:return!1}}function q2(t,e,r){return t[e+3]!==255||t[e]===r[0]&&t[e+1]===r[1]&&t[e+2]===r[2]}function K2(t,e,r){return t[e+3]&&r[3]?t[e]===r[0]&&t[e+1]===r[1]&&t[e+2]===r[2]&&t[e+3]===r[3]:t[e+3]===r[3]}function jd(t,e,r){return t>=e-r&&t<=e+r}function X2(t,e,r){var n=r[0],i=r[1],s=r[2],a=r[3],o=r[4],l=t[e+3],u=jd(l,a,o);return a?!!(!l&&u||jd(t[e],n,o)&&jd(t[e+1],i,o)&&jd(t[e+2],s,o)&&u):u}function Q2(t,e,r){for(var n={},i=24,s=r.ignoredColor,a=r.step,o=[0,0,0,0,0],l=0;l<e;l+=a){var u=t[l],c=t[l+1],d=t[l+2],f=t[l+3];if(!(s&&Zy(t,l,s))){var h=Math.round(u/i)+","+Math.round(c/i)+","+Math.round(d/i);n[h]?n[h]=[n[h][0]+u*f,n[h][1]+c*f,n[h][2]+d*f,n[h][3]+f,n[h][4]+1]:n[h]=[u*f,c*f,d*f,f,1],o[4]<n[h][4]&&(o=n[h])}}var m=o[0],g=o[1],v=o[2],x=o[3],S=o[4];return x?[Math.round(m/x),Math.round(g/x),Math.round(v/x),Math.round(x/S)]:r.defaultColor}function J2(t,e,r){for(var n=0,i=0,s=0,a=0,o=0,l=r.ignoredColor,u=r.step,c=0;c<e;c+=u){var d=t[c+3],f=t[c]*d,h=t[c+1]*d,m=t[c+2]*d;l&&Zy(t,c,l)||(n+=f,i+=h,s+=m,a+=d,o++)}return a?[Math.round(n/a),Math.round(i/a),Math.round(s/a),Math.round(a/o)]:r.defaultColor}function Z2(t,e,r){for(var n=0,i=0,s=0,a=0,o=0,l=r.ignoredColor,u=r.step,c=0;c<e;c+=u){var d=t[c],f=t[c+1],h=t[c+2],m=t[c+3];l&&Zy(t,c,l)||(n+=d*d*m,i+=f*f*m,s+=h*h*m,a+=m,o++)}return a?[Math.round(Math.sqrt(n/a)),Math.round(Math.sqrt(i/a)),Math.round(Math.sqrt(s/a)),Math.round(a/o)]:r.defaultColor}function zT(t){return Fu(t,"defaultColor",[0,0,0,0])}function Fu(t,e,r){return t[e]===void 0?r:t[e]}var WT=10,ov=100;function eB(t){return t.search(/\.svg(\?|$)/i)!==-1}function tB(t){if(t instanceof HTMLImageElement){var e=t.naturalWidth,r=t.naturalHeight;return!t.naturalWidth&&eB(t.src)&&(e=r=ov),{width:e,height:r}}return t instanceof HTMLVideoElement?{width:t.videoWidth,height:t.videoHeight}:{width:t.width,height:t.height}}function YT(t){return t instanceof HTMLCanvasElement?"canvas":t.src}function rB(t,e){var r=Fu(e,"left",0),n=Fu(e,"top",0),i=Fu(e,"width",t.width),s=Fu(e,"height",t.height),a=i,o=s;if(e.mode==="precision")return{srcLeft:r,srcTop:n,srcWidth:i,srcHeight:s,destWidth:a,destHeight:o};var l;return i>s?(l=i/s,a=ov,o=Math.round(a/l)):(l=s/i,o=ov,a=Math.round(o/l)),(a>i||o>s||a<WT||o<WT)&&(a=i,o=s),{srcLeft:r,srcTop:n,srcWidth:i,srcHeight:s,destWidth:a,destHeight:o}}function iB(){return typeof window=="undefined"?new OffscreenCanvas(1,1):document.createElement("canvas")}var DP="FastAverageColor: ";function Vd(t,e,r){e||(console.error(DP+t),r&&console.error(r))}function Hd(t){return Error(DP+t)}var ome=function(){function t(){this.canvas=null,this.ctx=null}return t.prototype.getColorAsync=function(e,r){var n;if(!e)return Promise.reject(Hd("call .getColorAsync() without resource."));if(typeof e=="string"){var i=new Image;return i.crossOrigin=(n=r==null?void 0:r.crossOrigin)!==null&&n!==void 0?n:"",i.src=e,this.bindImageEvents(i,r)}else{if(e instanceof Image&&!e.complete)return this.bindImageEvents(e,r);var s=this.getColor(e,r);return s.error?Promise.reject(s.error):Promise.resolve(s)}},t.prototype.getColor=function(e,r){r=r||{};var n=zT(r);if(!e)return Vd("call .getColor(null) without resource.",r.silent),this.prepareResult(n);var i=tB(e),s=rB(i,r);if(!s.srcWidth||!s.srcHeight||!s.destWidth||!s.destHeight)return Vd('incorrect sizes for resource "'.concat(YT(e),'".'),r.silent),this.prepareResult(n);if(this.canvas||(this.canvas=iB()),!this.ctx&&(this.ctx=this.canvas.getContext&&this.canvas.getContext("2d"),!this.ctx))return Vd("Canvas Context 2D is not supported in this browser.",r.silent),this.prepareResult(n);this.canvas.width=s.destWidth,this.canvas.height=s.destHeight;var a=n;try{this.ctx.clearRect(0,0,s.destWidth,s.destHeight),this.ctx.drawImage(e,s.srcLeft,s.srcTop,s.srcWidth,s.srcHeight,0,0,s.destWidth,s.destHeight);var o=this.ctx.getImageData(0,0,s.destWidth,s.destHeight).data;a=this.getColorFromArray4(o,r)}catch(l){Vd("security error (CORS) for resource ".concat(YT(e),`.
Details: https://developer.mozilla.org/en/docs/Web/HTML/CORS_enabled_image`),r.silent,l)}return this.prepareResult(a)},t.prototype.getColorFromArray4=function(e,r){r=r||{};var n=4,i=e.length,s=zT(r);if(i<n)return s;var a=i-i%n,o=(r.step||1)*n,l;switch(r.algorithm||"sqrt"){case"simple":l=J2;break;case"sqrt":l=Z2;break;case"dominant":l=Q2;break;default:throw Hd("".concat(r.algorithm," is unknown algorithm."))}return l(e,a,{defaultColor:s,ignoredColor:W2(r.ignoredColor),step:o})},t.prototype.prepareResult=function(e){var r=e.slice(0,3),n=[e[0],e[1],e[2],e[3]/255],i=z2(e);return{value:[e[0],e[1],e[2],e[3]],rgb:"rgb("+r.join(",")+")",rgba:"rgba("+n.join(",")+")",hex:HT(r),hexa:HT(e),isDark:i,isLight:!i}},t.prototype.destroy=function(){this.canvas=null,this.ctx=null},t.prototype.bindImageEvents=function(e,r){var n=this;return new Promise(function(i,s){var a=function(){u();var c=n.getColor(e,r);c.error?s(c.error):i(c)},o=function(){u(),s(Hd('Error loading image "'.concat(e.src,'".')))},l=function(){u(),s(Hd('Image "'.concat(e.src,'" loading aborted.')))},u=function(){e.removeEventListener("load",a),e.removeEventListener("error",o),e.removeEventListener("abort",l)};e.addEventListener("load",a),e.addEventListener("error",o),e.addEventListener("abort",l)})},t}(),Pt=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function e0(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach(function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}),e}var t0={exports:{}},AP=function(e,r){return function(){for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];return e.apply(r,i)}},nB=AP,Js=Object.prototype.toString;function r0(t){return Array.isArray(t)}function lv(t){return typeof t=="undefined"}function sB(t){return t!==null&&!lv(t)&&t.constructor!==null&&!lv(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function OP(t){return Js.call(t)==="[object ArrayBuffer]"}function aB(t){return Js.call(t)==="[object FormData]"}function oB(t){var e;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&OP(t.buffer),e}function lB(t){return typeof t=="string"}function uB(t){return typeof t=="number"}function RP(t){return t!==null&&typeof t=="object"}function Rf(t){if(Js.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function cB(t){return Js.call(t)==="[object Date]"}function dB(t){return Js.call(t)==="[object File]"}function fB(t){return Js.call(t)==="[object Blob]"}function kP(t){return Js.call(t)==="[object Function]"}function hB(t){return RP(t)&&kP(t.pipe)}function pB(t){return Js.call(t)==="[object URLSearchParams]"}function mB(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function gB(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function i0(t,e){if(!(t===null||typeof t=="undefined"))if(typeof t!="object"&&(t=[t]),r0(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}function uv(){var t={};function e(i,s){Rf(t[s])&&Rf(i)?t[s]=uv(t[s],i):Rf(i)?t[s]=uv({},i):r0(i)?t[s]=i.slice():t[s]=i}for(var r=0,n=arguments.length;r<n;r++)i0(arguments[r],e);return t}function vB(t,e,r){return i0(e,function(i,s){r&&typeof i=="function"?t[s]=nB(i,r):t[s]=i}),t}function yB(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}var ai={isArray:r0,isArrayBuffer:OP,isBuffer:sB,isFormData:aB,isArrayBufferView:oB,isString:lB,isNumber:uB,isObject:RP,isPlainObject:Rf,isUndefined:lv,isDate:cB,isFile:dB,isBlob:fB,isFunction:kP,isStream:hB,isURLSearchParams:pB,isStandardBrowserEnv:gB,forEach:i0,merge:uv,extend:vB,trim:mB,stripBOM:yB},Po=ai;function GT(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var IP=function(e,r,n){if(!r)return e;var i;if(n)i=n(r);else if(Po.isURLSearchParams(r))i=r.toString();else{var s=[];Po.forEach(r,function(l,u){l===null||typeof l=="undefined"||(Po.isArray(l)?u=u+"[]":l=[l],Po.forEach(l,function(d){Po.isDate(d)?d=d.toISOString():Po.isObject(d)&&(d=JSON.stringify(d)),s.push(GT(u)+"="+GT(d))}))}),i=s.join("&")}if(i){var a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e},bB=ai;function gp(){this.handlers=[]}gp.prototype.use=function(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};gp.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};gp.prototype.forEach=function(e){bB.forEach(this.handlers,function(n){n!==null&&e(n)})};var _B=gp,TB=ai,xB=function(e,r){TB.forEach(e,function(i,s){s!==r&&s.toUpperCase()===r.toUpperCase()&&(e[r]=i,delete e[s])})},MP=function(e,r,n,i,s){return e.config=r,n&&(e.code=n),e.request=i,e.response=s,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e},LP={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},SB=MP,NP=function(e,r,n,i,s){var a=new Error(e);return SB(a,r,n,i,s)},EB=NP,CB=function(e,r,n){var i=n.config.validateStatus;!n.status||!i||i(n.status)?e(n):r(EB("Request failed with status code "+n.status,n.config,null,n.request,n))},zd=ai,wB=zd.isStandardBrowserEnv()?function(){return{write:function(r,n,i,s,a,o){var l=[];l.push(r+"="+encodeURIComponent(n)),zd.isNumber(i)&&l.push("expires="+new Date(i).toGMTString()),zd.isString(s)&&l.push("path="+s),zd.isString(a)&&l.push("domain="+a),o===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(r){var n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),PB=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)},DB=function(e,r){return r?e.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):e},AB=PB,OB=DB,RB=function(e,r){return e&&!AB(r)?OB(e,r):r},Bm=ai,kB=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],IB=function(e){var r={},n,i,s;return e&&Bm.forEach(e.split(`
`),function(o){if(s=o.indexOf(":"),n=Bm.trim(o.substr(0,s)).toLowerCase(),i=Bm.trim(o.substr(s+1)),n){if(r[n]&&kB.indexOf(n)>=0)return;n==="set-cookie"?r[n]=(r[n]?r[n]:[]).concat([i]):r[n]=r[n]?r[n]+", "+i:i}}),r},qT=ai,MB=qT.isStandardBrowserEnv()?function(){var e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),n;function i(s){var a=s;return e&&(r.setAttribute("href",a),a=r.href),r.setAttribute("href",a),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(a){var o=qT.isString(a)?i(a):a;return o.protocol===n.protocol&&o.host===n.host}}():function(){return function(){return!0}}();function n0(t){this.message=t}n0.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};n0.prototype.__CANCEL__=!0;var vp=n0,Wd=ai,LB=CB,NB=wB,FB=IP,BB=RB,$B=IB,UB=MB,$m=NP,jB=LP,VB=vp,KT=function(e){return new Promise(function(n,i){var s=e.data,a=e.headers,o=e.responseType,l;function u(){e.cancelToken&&e.cancelToken.unsubscribe(l),e.signal&&e.signal.removeEventListener("abort",l)}Wd.isFormData(s)&&delete a["Content-Type"];var c=new XMLHttpRequest;if(e.auth){var d=e.auth.username||"",f=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";a.Authorization="Basic "+btoa(d+":"+f)}var h=BB(e.baseURL,e.url);c.open(e.method.toUpperCase(),FB(h,e.params,e.paramsSerializer),!0),c.timeout=e.timeout;function m(){if(!!c){var v="getAllResponseHeaders"in c?$B(c.getAllResponseHeaders()):null,x=!o||o==="text"||o==="json"?c.responseText:c.response,S={data:x,status:c.status,statusText:c.statusText,headers:v,config:e,request:c};LB(function(P){n(P),u()},function(P){i(P),u()},S),c=null}}if("onloadend"in c?c.onloadend=m:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(m)},c.onabort=function(){!c||(i($m("Request aborted",e,"ECONNABORTED",c)),c=null)},c.onerror=function(){i($m("Network Error",e,null,c)),c=null},c.ontimeout=function(){var x=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",S=e.transitional||jB;e.timeoutErrorMessage&&(x=e.timeoutErrorMessage),i($m(x,e,S.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",c)),c=null},Wd.isStandardBrowserEnv()){var g=(e.withCredentials||UB(h))&&e.xsrfCookieName?NB.read(e.xsrfCookieName):void 0;g&&(a[e.xsrfHeaderName]=g)}"setRequestHeader"in c&&Wd.forEach(a,function(x,S){typeof s=="undefined"&&S.toLowerCase()==="content-type"?delete a[S]:c.setRequestHeader(S,x)}),Wd.isUndefined(e.withCredentials)||(c.withCredentials=!!e.withCredentials),o&&o!=="json"&&(c.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&c.addEventListener("progress",e.onDownloadProgress),typeof e.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(l=function(v){!c||(i(!v||v&&v.type?new VB("canceled"):v),c.abort(),c=null)},e.cancelToken&&e.cancelToken.subscribe(l),e.signal&&(e.signal.aborted?l():e.signal.addEventListener("abort",l))),s||(s=null),c.send(s)})},Sr=ai,XT=xB,HB=MP,zB=LP,WB={"Content-Type":"application/x-www-form-urlencoded"};function QT(t,e){!Sr.isUndefined(t)&&Sr.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function YB(){var t;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(t=KT),t}function GB(t,e,r){if(Sr.isString(t))try{return(e||JSON.parse)(t),Sr.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}var yp={transitional:zB,adapter:YB(),transformRequest:[function(e,r){return XT(r,"Accept"),XT(r,"Content-Type"),Sr.isFormData(e)||Sr.isArrayBuffer(e)||Sr.isBuffer(e)||Sr.isStream(e)||Sr.isFile(e)||Sr.isBlob(e)?e:Sr.isArrayBufferView(e)?e.buffer:Sr.isURLSearchParams(e)?(QT(r,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):Sr.isObject(e)||r&&r["Content-Type"]==="application/json"?(QT(r,"application/json"),GB(e)):e}],transformResponse:[function(e){var r=this.transitional||yp.transitional,n=r&&r.silentJSONParsing,i=r&&r.forcedJSONParsing,s=!n&&this.responseType==="json";if(s||i&&Sr.isString(e)&&e.length)try{return JSON.parse(e)}catch(a){if(s)throw a.name==="SyntaxError"?HB(a,this,"E_JSON_PARSE"):a}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Sr.forEach(["delete","get","head"],function(e){yp.headers[e]={}});Sr.forEach(["post","put","patch"],function(e){yp.headers[e]=Sr.merge(WB)});var s0=yp,qB=ai,KB=s0,XB=function(e,r,n){var i=this||KB;return qB.forEach(n,function(a){e=a.call(i,e,r)}),e},FP=function(e){return!!(e&&e.__CANCEL__)},JT=ai,Um=XB,QB=FP,JB=s0,ZB=vp;function jm(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ZB("canceled")}var e$=function(e){jm(e),e.headers=e.headers||{},e.data=Um.call(e,e.data,e.headers,e.transformRequest),e.headers=JT.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),JT.forEach(["delete","get","head","post","put","patch","common"],function(i){delete e.headers[i]});var r=e.adapter||JB.adapter;return r(e).then(function(i){return jm(e),i.data=Um.call(e,i.data,i.headers,e.transformResponse),i},function(i){return QB(i)||(jm(e),i&&i.response&&(i.response.data=Um.call(e,i.response.data,i.response.headers,e.transformResponse))),Promise.reject(i)})},hi=ai,BP=function(e,r){r=r||{};var n={};function i(c,d){return hi.isPlainObject(c)&&hi.isPlainObject(d)?hi.merge(c,d):hi.isPlainObject(d)?hi.merge({},d):hi.isArray(d)?d.slice():d}function s(c){if(hi.isUndefined(r[c])){if(!hi.isUndefined(e[c]))return i(void 0,e[c])}else return i(e[c],r[c])}function a(c){if(!hi.isUndefined(r[c]))return i(void 0,r[c])}function o(c){if(hi.isUndefined(r[c])){if(!hi.isUndefined(e[c]))return i(void 0,e[c])}else return i(void 0,r[c])}function l(c){if(c in r)return i(e[c],r[c]);if(c in e)return i(void 0,e[c])}var u={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l};return hi.forEach(Object.keys(e).concat(Object.keys(r)),function(d){var f=u[d]||s,h=f(d);hi.isUndefined(h)&&f!==l||(n[d]=h)}),n},$P={version:"0.26.1"},t$=$P.version,a0={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){a0[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});var ZT={};a0.transitional=function(e,r,n){function i(s,a){return"[Axios v"+t$+"] Transitional option '"+s+"'"+a+(n?". "+n:"")}return function(s,a,o){if(e===!1)throw new Error(i(a," has been removed"+(r?" in "+r:"")));return r&&!ZT[a]&&(ZT[a]=!0,console.warn(i(a," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,a,o):!0}};function r$(t,e,r){if(typeof t!="object")throw new TypeError("options must be an object");for(var n=Object.keys(t),i=n.length;i-- >0;){var s=n[i],a=e[s];if(a){var o=t[s],l=o===void 0||a(o,s,t);if(l!==!0)throw new TypeError("option "+s+" must be "+l);continue}if(r!==!0)throw Error("Unknown option "+s)}}var i$={assertOptions:r$,validators:a0},UP=ai,n$=IP,ex=_B,tx=e$,bp=BP,jP=i$,Do=jP.validators;function Qc(t){this.defaults=t,this.interceptors={request:new ex,response:new ex}}Qc.prototype.request=function(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=bp(this.defaults,r),r.method?r.method=r.method.toLowerCase():this.defaults.method?r.method=this.defaults.method.toLowerCase():r.method="get";var n=r.transitional;n!==void 0&&jP.assertOptions(n,{silentJSONParsing:Do.transitional(Do.boolean),forcedJSONParsing:Do.transitional(Do.boolean),clarifyTimeoutError:Do.transitional(Do.boolean)},!1);var i=[],s=!0;this.interceptors.request.forEach(function(h){typeof h.runWhen=="function"&&h.runWhen(r)===!1||(s=s&&h.synchronous,i.unshift(h.fulfilled,h.rejected))});var a=[];this.interceptors.response.forEach(function(h){a.push(h.fulfilled,h.rejected)});var o;if(!s){var l=[tx,void 0];for(Array.prototype.unshift.apply(l,i),l=l.concat(a),o=Promise.resolve(r);l.length;)o=o.then(l.shift(),l.shift());return o}for(var u=r;i.length;){var c=i.shift(),d=i.shift();try{u=c(u)}catch(f){d(f);break}}try{o=tx(u)}catch(f){return Promise.reject(f)}for(;a.length;)o=o.then(a.shift(),a.shift());return o};Qc.prototype.getUri=function(e){return e=bp(this.defaults,e),n$(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")};UP.forEach(["delete","get","head","options"],function(e){Qc.prototype[e]=function(r,n){return this.request(bp(n||{},{method:e,url:r,data:(n||{}).data}))}});UP.forEach(["post","put","patch"],function(e){Qc.prototype[e]=function(r,n,i){return this.request(bp(i||{},{method:e,url:r,data:n}))}});var s$=Qc,a$=vp;function sl(t){if(typeof t!="function")throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(i){e=i});var r=this;this.promise.then(function(n){if(!!r._listeners){var i,s=r._listeners.length;for(i=0;i<s;i++)r._listeners[i](n);r._listeners=null}}),this.promise.then=function(n){var i,s=new Promise(function(a){r.subscribe(a),i=a}).then(n);return s.cancel=function(){r.unsubscribe(i)},s},t(function(i){r.reason||(r.reason=new a$(i),e(r.reason))})}sl.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};sl.prototype.subscribe=function(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]};sl.prototype.unsubscribe=function(e){if(!!this._listeners){var r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}};sl.source=function(){var e,r=new sl(function(i){e=i});return{token:r,cancel:e}};var o$=sl,l$=function(e){return function(n){return e.apply(null,n)}},u$=ai,c$=function(e){return u$.isObject(e)&&e.isAxiosError===!0},rx=ai,d$=AP,kf=s$,f$=BP,h$=s0;function VP(t){var e=new kf(t),r=d$(kf.prototype.request,e);return rx.extend(r,kf.prototype,e),rx.extend(r,e),r.create=function(i){return VP(f$(t,i))},r}var In=VP(h$);In.Axios=kf;In.Cancel=vp;In.CancelToken=o$;In.isCancel=FP;In.VERSION=$P.version;In.all=function(e){return Promise.all(e)};In.spread=l$;In.isAxiosError=c$;t0.exports=In;t0.exports.default=In;var lme=t0.exports;function wc(t){var e=t.getBoundingClientRect();return{width:e.width,height:e.height,top:e.top,right:e.right,bottom:e.bottom,left:e.left,x:e.left,y:e.top}}function zi(t){if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e?e.defaultView:window}return t}function o0(t){var e=zi(t),r=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:r,scrollTop:n}}function Pc(t){var e=zi(t).Element;return t instanceof e||t instanceof Element}function Mn(t){var e=zi(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function p$(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function m$(t){return t===zi(t)||!Mn(t)?o0(t):p$(t)}function fs(t){return t?(t.nodeName||"").toLowerCase():null}function Zs(t){return(Pc(t)?t.ownerDocument:t.document).documentElement}function HP(t){return wc(Zs(t)).left+o0(t).scrollLeft}function Jc(t){return zi(t).getComputedStyle(t)}function l0(t){var e=Jc(t),r=e.overflow,n=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function zP(t,e,r){r===void 0&&(r=!1);var n=Zs(e),i=wc(t),s={scrollLeft:0,scrollTop:0},a={x:0,y:0};return r||((fs(e)!=="body"||l0(n))&&(s=m$(e)),Mn(e)?(a=wc(e),a.x+=e.clientLeft,a.y+=e.clientTop):n&&(a.x=HP(n))),{x:i.left+s.scrollLeft-a.x,y:i.top+s.scrollTop-a.y,width:i.width,height:i.height}}function u0(t){return{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}}function WP(t){return fs(t)==="html"?t:t.assignedSlot||t.parentNode||t.host||Zs(t)}function YP(t){return["html","body","#document"].indexOf(fs(t))>=0?t.ownerDocument.body:Mn(t)&&l0(t)?t:YP(WP(t))}function rc(t,e){e===void 0&&(e=[]);var r=YP(t),n=fs(r)==="body",i=zi(r),s=n?[i].concat(i.visualViewport||[],l0(r)?r:[]):r,a=e.concat(s);return n?a:a.concat(rc(WP(s)))}function g$(t){return["table","td","th"].indexOf(fs(t))>=0}function ix(t){return!Mn(t)||Jc(t).position==="fixed"?null:t.offsetParent}function Zc(t){for(var e=zi(t),r=ix(t);r&&g$(r);)r=ix(r);return r&&fs(r)==="body"&&Jc(r).position==="static"?e:r||e}var $i="top",rn="bottom",nn="right",Ui="left",c0="auto",ed=[$i,rn,nn,Ui],al="start",d0="end",v$="clippingParents",GP="viewport",pu="popper",y$="reference",nx=ed.reduce(function(t,e){return t.concat([e+"-"+al,e+"-"+d0])},[]),qP=[].concat(ed,[c0]).reduce(function(t,e){return t.concat([e,e+"-"+al,e+"-"+d0])},[]),b$="beforeRead",_$="read",T$="afterRead",x$="beforeMain",S$="main",E$="afterMain",C$="beforeWrite",w$="write",P$="afterWrite",D$=[b$,_$,T$,x$,S$,E$,C$,w$,P$];function A$(t){var e=new Map,r=new Set,n=[];t.forEach(function(s){e.set(s.name,s)});function i(s){r.add(s.name);var a=[].concat(s.requires||[],s.requiresIfExists||[]);a.forEach(function(o){if(!r.has(o)){var l=e.get(o);l&&i(l)}}),n.push(s)}return t.forEach(function(s){r.has(s.name)||i(s)}),n}function O$(t){var e=A$(t);return D$.reduce(function(r,n){return r.concat(e.filter(function(i){return i.phase===n}))},[])}function R$(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function Cn(t){return t.split("-")[0]}function k$(t){var e=t.reduce(function(r,n){var i=r[n.name];return r[n.name]=i?Object.assign({},i,{},n,{options:Object.assign({},i.options,{},n.options),data:Object.assign({},i.data,{},n.data)}):n,r},{});return Object.keys(e).map(function(r){return e[r]})}var sx={placement:"bottom",modifiers:[],strategy:"absolute"};function ax(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function I$(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,n=r===void 0?[]:r,i=e.defaultOptions,s=i===void 0?sx:i;return function(o,l,u){u===void 0&&(u=s);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},sx,{},s),modifiersData:{},elements:{reference:o,popper:l},attributes:{},styles:{}},d=[],f=!1,h={state:c,setOptions:function(x){g(),c.options=Object.assign({},s,{},c.options,{},x),c.scrollParents={reference:Pc(o)?rc(o):o.contextElement?rc(o.contextElement):[],popper:rc(l)};var S=O$(k$([].concat(n,c.options.modifiers)));return c.orderedModifiers=S.filter(function(D){return D.enabled}),m(),h.update()},forceUpdate:function(){if(!f){var x=c.elements,S=x.reference,D=x.popper;if(!!ax(S,D)){c.rects={reference:zP(S,Zc(D),c.options.strategy==="fixed"),popper:u0(D)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(F){return c.modifiersData[F.name]=Object.assign({},F.data)});for(var P=0;P<c.orderedModifiers.length;P++){if(c.reset===!0){c.reset=!1,P=-1;continue}var O=c.orderedModifiers[P],B=O.fn,z=O.options,U=z===void 0?{}:z,Y=O.name;typeof B=="function"&&(c=B({state:c,options:U,name:Y,instance:h})||c)}}}},update:R$(function(){return new Promise(function(v){h.forceUpdate(),v(c)})}),destroy:function(){g(),f=!0}};if(!ax(o,l))return h;h.setOptions(u).then(function(v){!f&&u.onFirstUpdate&&u.onFirstUpdate(v)});function m(){c.orderedModifiers.forEach(function(v){var x=v.name,S=v.options,D=S===void 0?{}:S,P=v.effect;if(typeof P=="function"){var O=P({state:c,name:x,instance:h,options:D}),B=function(){};d.push(O||B)}})}function g(){d.forEach(function(v){return v()}),d=[]}return h}}var Yd={passive:!0};function M$(t){var e=t.state,r=t.instance,n=t.options,i=n.scroll,s=i===void 0?!0:i,a=n.resize,o=a===void 0?!0:a,l=zi(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&u.forEach(function(c){c.addEventListener("scroll",r.update,Yd)}),o&&l.addEventListener("resize",r.update,Yd),function(){s&&u.forEach(function(c){c.removeEventListener("scroll",r.update,Yd)}),o&&l.removeEventListener("resize",r.update,Yd)}}var L$={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:M$,data:{}};function Dc(t){return t.split("-")[1]}function f0(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function KP(t){var e=t.reference,r=t.element,n=t.placement,i=n?Cn(n):null,s=n?Dc(n):null,a=e.x+e.width/2-r.width/2,o=e.y+e.height/2-r.height/2,l;switch(i){case $i:l={x:a,y:e.y-r.height};break;case rn:l={x:a,y:e.y+e.height};break;case nn:l={x:e.x+e.width,y:o};break;case Ui:l={x:e.x-r.width,y:o};break;default:l={x:e.x,y:e.y}}var u=i?f0(i):null;if(u!=null){var c=u==="y"?"height":"width";switch(s){case al:l[u]=Math.floor(l[u])-Math.floor(e[c]/2-r[c]/2);break;case d0:l[u]=Math.floor(l[u])+Math.ceil(e[c]/2-r[c]/2);break}}return l}function N$(t){var e=t.state,r=t.name;e.modifiersData[r]=KP({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var F$={name:"popperOffsets",enabled:!0,phase:"read",fn:N$,data:{}},B$={top:"auto",right:"auto",bottom:"auto",left:"auto"};function $$(t){var e=t.x,r=t.y,n=window,i=n.devicePixelRatio||1;return{x:Math.round(e*i)/i||0,y:Math.round(r*i)/i||0}}function ox(t){var e,r=t.popper,n=t.popperRect,i=t.placement,s=t.offsets,a=t.position,o=t.gpuAcceleration,l=t.adaptive,u=$$(s),c=u.x,d=u.y,f=s.hasOwnProperty("x"),h=s.hasOwnProperty("y"),m=Ui,g=$i,v=window;if(l){var x=Zc(r);x===zi(r)&&(x=Zs(r)),i===$i&&(g=rn,d-=x.clientHeight-n.height,d*=o?1:-1),i===Ui&&(m=nn,c-=x.clientWidth-n.width,c*=o?1:-1)}var S=Object.assign({position:a},l&&B$);if(o){var D;return Object.assign({},S,(D={},D[g]=h?"0":"",D[m]=f?"0":"",D.transform=(v.devicePixelRatio||1)<2?"translate("+c+"px, "+d+"px)":"translate3d("+c+"px, "+d+"px, 0)",D))}return Object.assign({},S,(e={},e[g]=h?d+"px":"",e[m]=f?c+"px":"",e.transform="",e))}function U$(t){var e=t.state,r=t.options,n=r.gpuAcceleration,i=n===void 0?!0:n,s=r.adaptive,a=s===void 0?!0:s,o={placement:Cn(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,{},ox(Object.assign({},o,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,{},ox(Object.assign({},o,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var j$={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:U$,data:{}};function V$(t){var e=t.state;Object.keys(e.elements).forEach(function(r){var n=e.styles[r]||{},i=e.attributes[r]||{},s=e.elements[r];!Mn(s)||!fs(s)||(Object.assign(s.style,n),Object.keys(i).forEach(function(a){var o=i[a];o===!1?s.removeAttribute(a):s.setAttribute(a,o===!0?"":o)}))})}function H$(t){var e=t.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(n){var i=e.elements[n],s=e.attributes[n]||{},a=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:r[n]),o=a.reduce(function(l,u){return l[u]="",l},{});!Mn(i)||!fs(i)||(Object.assign(i.style,o),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}var z$={name:"applyStyles",enabled:!0,phase:"write",fn:V$,effect:H$,requires:["computeStyles"]};function W$(t,e,r){var n=Cn(t),i=[Ui,$i].indexOf(n)>=0?-1:1,s=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,a=s[0],o=s[1];return a=a||0,o=(o||0)*i,[Ui,nn].indexOf(n)>=0?{x:o,y:a}:{x:a,y:o}}function Y$(t){var e=t.state,r=t.options,n=t.name,i=r.offset,s=i===void 0?[0,0]:i,a=qP.reduce(function(c,d){return c[d]=W$(d,e.rects,s),c},{}),o=a[e.placement],l=o.x,u=o.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[n]=a}var G$={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Y$},q$={left:"right",right:"left",bottom:"top",top:"bottom"};function If(t){return t.replace(/left|right|bottom|top/g,function(e){return q$[e]})}var K$={start:"end",end:"start"};function lx(t){return t.replace(/start|end/g,function(e){return K$[e]})}function X$(t){var e=zi(t),r=e.visualViewport,n=e.innerWidth,i=e.innerHeight;return r&&/iPhone|iPod|iPad/.test(navigator.platform)&&(n=r.width,i=r.height),{width:n,height:i,x:0,y:0}}function Q$(t){var e=zi(t),r=o0(t),n=zP(Zs(t),e);return n.height=Math.max(n.height,e.innerHeight),n.width=Math.max(n.width,e.innerWidth),n.x=-r.scrollLeft,n.y=-r.scrollTop,n}function Gd(t){return parseFloat(t)||0}function J$(t){var e=Mn(t)?Jc(t):{};return{top:Gd(e.borderTopWidth),right:Gd(e.borderRightWidth),bottom:Gd(e.borderBottomWidth),left:Gd(e.borderLeftWidth)}}function Z$(t){var e=zi(t),r=J$(t),n=fs(t)==="html",i=HP(t),s=t.clientWidth+r.right,a=t.clientHeight+r.bottom;return n&&e.innerHeight-t.clientHeight>50&&(a=e.innerHeight-r.bottom),{top:n?0:t.clientTop,right:t.clientLeft>r.left?r.right:n?e.innerWidth-s-i:t.offsetWidth-s,bottom:n?e.innerHeight-a:t.offsetHeight-a,left:n?i:t.clientLeft}}function XP(t,e){var r=Boolean(e.getRootNode&&e.getRootNode().host);if(t.contains(e))return!0;if(r){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function cv(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function ux(t,e){return e===GP?cv(X$(t)):Mn(e)?wc(e):cv(Q$(Zs(t)))}function eU(t){var e=rc(t),r=["absolute","fixed"].indexOf(Jc(t).position)>=0,n=r&&Mn(t)?Zc(t):t;return Pc(n)?e.filter(function(i){return Pc(i)&&XP(i,n)}):[]}function tU(t,e,r){var n=e==="clippingParents"?eU(t):[].concat(e),i=[].concat(n,[r]),s=i[0],a=i.reduce(function(o,l){var u=ux(t,l),c=Z$(Mn(l)?l:Zs(t));return o.top=Math.max(u.top+c.top,o.top),o.right=Math.min(u.right-c.right,o.right),o.bottom=Math.min(u.bottom-c.bottom,o.bottom),o.left=Math.max(u.left+c.left,o.left),o},ux(t,s));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function QP(){return{top:0,right:0,bottom:0,left:0}}function JP(t){return Object.assign({},QP(),{},t)}function ZP(t,e){return e.reduce(function(r,n){return r[n]=t,r},{})}function Ac(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=n===void 0?t.placement:n,s=r.boundary,a=s===void 0?v$:s,o=r.rootBoundary,l=o===void 0?GP:o,u=r.elementContext,c=u===void 0?pu:u,d=r.altBoundary,f=d===void 0?!1:d,h=r.padding,m=h===void 0?0:h,g=JP(typeof m!="number"?m:ZP(m,ed)),v=c===pu?y$:pu,x=t.elements.reference,S=t.rects.popper,D=t.elements[f?v:c],P=tU(Pc(D)?D:D.contextElement||Zs(t.elements.popper),a,l),O=wc(x),B=KP({reference:O,element:S,strategy:"absolute",placement:i}),z=cv(Object.assign({},S,{},B)),U=c===pu?z:O,Y={top:P.top-U.top+g.top,bottom:U.bottom-P.bottom+g.bottom,left:P.left-U.left+g.left,right:U.right-P.right+g.right},F=t.modifiersData.offset;if(c===pu&&F){var ue=F[i];Object.keys(Y).forEach(function(X){var me=[nn,rn].indexOf(X)>=0?1:-1,xe=[$i,rn].indexOf(X)>=0?"y":"x";Y[X]+=ue[xe]*me})}return Y}function rU(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=r.boundary,s=r.rootBoundary,a=r.padding,o=r.flipVariations,l=r.allowedAutoPlacements,u=l===void 0?qP:l,c=Dc(n),d=(c?o?nx:nx.filter(function(h){return Dc(h)===c}):ed).filter(function(h){return u.indexOf(h)>=0}),f=d.reduce(function(h,m){return h[m]=Ac(t,{placement:m,boundary:i,rootBoundary:s,padding:a})[Cn(m)],h},{});return Object.keys(f).sort(function(h,m){return f[h]-f[m]})}function iU(t){if(Cn(t)===c0)return[];var e=If(t);return[lx(t),e,lx(e)]}function nU(t){var e=t.state,r=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var i=r.mainAxis,s=i===void 0?!0:i,a=r.altAxis,o=a===void 0?!0:a,l=r.fallbackPlacements,u=r.padding,c=r.boundary,d=r.rootBoundary,f=r.altBoundary,h=r.flipVariations,m=h===void 0?!0:h,g=r.allowedAutoPlacements,v=e.options.placement,x=Cn(v),S=x===v,D=l||(S||!m?[If(v)]:iU(v)),P=[v].concat(D).reduce(function(_e,k){return _e.concat(Cn(k)===c0?rU(e,{placement:k,boundary:c,rootBoundary:d,padding:u,flipVariations:m,allowedAutoPlacements:g}):k)},[]),O=e.rects.reference,B=e.rects.popper,z=new Map,U=!0,Y=P[0],F=0;F<P.length;F++){var ue=P[F],X=Cn(ue),me=Dc(ue)===al,xe=[$i,rn].indexOf(X)>=0,ge=xe?"width":"height",Se=Ac(e,{placement:ue,boundary:c,rootBoundary:d,altBoundary:f,padding:u}),Ae=xe?me?nn:Ui:me?rn:$i;O[ge]>B[ge]&&(Ae=If(Ae));var he=If(Ae),Ye=[];if(s&&Ye.push(Se[X]<=0),o&&Ye.push(Se[Ae]<=0,Se[he]<=0),Ye.every(function(_e){return _e})){Y=ue,U=!1;break}z.set(ue,Ye)}if(U)for(var Z=m?3:1,C=function(k){var W=P.find(function(L){var $=z.get(L);if($)return $.slice(0,k).every(function(I){return I})});if(W)return Y=W,"break"},q=Z;q>0;q--){var ae=C(q);if(ae==="break")break}e.placement!==Y&&(e.modifiersData[n]._skip=!0,e.placement=Y,e.reset=!0)}}var sU={name:"flip",enabled:!0,phase:"main",fn:nU,requiresIfExists:["offset"],data:{_skip:!1}};function aU(t){return t==="x"?"y":"x"}function Mf(t,e,r){return Math.max(t,Math.min(e,r))}function oU(t){var e=t.state,r=t.options,n=t.name,i=r.mainAxis,s=i===void 0?!0:i,a=r.altAxis,o=a===void 0?!1:a,l=r.boundary,u=r.rootBoundary,c=r.altBoundary,d=r.padding,f=r.tether,h=f===void 0?!0:f,m=r.tetherOffset,g=m===void 0?0:m,v=Ac(e,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),x=Cn(e.placement),S=Dc(e.placement),D=!S,P=f0(x),O=aU(P),B=e.modifiersData.popperOffsets,z=e.rects.reference,U=e.rects.popper,Y=typeof g=="function"?g(Object.assign({},e.rects,{placement:e.placement})):g,F={x:0,y:0};if(!!B){if(s){var ue=P==="y"?$i:Ui,X=P==="y"?rn:nn,me=P==="y"?"height":"width",xe=B[P],ge=B[P]+v[ue],Se=B[P]-v[X],Ae=h?-U[me]/2:0,he=S===al?z[me]:U[me],Ye=S===al?-U[me]:-z[me],Z=e.elements.arrow,C=h&&Z?u0(Z):{width:0,height:0},q=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:QP(),ae=q[ue],_e=q[X],k=Mf(0,z[me],C[me]),W=D?z[me]/2-Ae-k-ae-Y:he-k-ae-Y,L=D?-z[me]/2+Ae+k+_e+Y:Ye+k+_e+Y,$=e.elements.arrow&&Zc(e.elements.arrow),I=$?P==="y"?$.clientTop||0:$.clientLeft||0:0,K=e.modifiersData.offset?e.modifiersData.offset[e.placement][P]:0,pe=B[P]+W-K-I,ve=B[P]+L-K,R=Mf(h?Math.min(ge,pe):ge,xe,h?Math.max(Se,ve):Se);B[P]=R,F[P]=R-xe}if(o){var M=P==="x"?$i:Ui,ie=P==="x"?rn:nn,ye=B[O],H=ye+v[M],fe=ye-v[ie],ce=Mf(H,ye,fe);B[O]=ce,F[O]=ce-ye}e.modifiersData[n]=F}}var lU={name:"preventOverflow",enabled:!0,phase:"main",fn:oU,requiresIfExists:["offset"]};function uU(t){var e,r=t.state,n=t.name,i=r.elements.arrow,s=r.modifiersData.popperOffsets,a=Cn(r.placement),o=f0(a),l=[Ui,nn].indexOf(a)>=0,u=l?"height":"width";if(!(!i||!s)){var c=r.modifiersData[n+"#persistent"].padding,d=u0(i),f=o==="y"?$i:Ui,h=o==="y"?rn:nn,m=r.rects.reference[u]+r.rects.reference[o]-s[o]-r.rects.popper[u],g=s[o]-r.rects.reference[o],v=Zc(i),x=v?o==="y"?v.clientHeight||0:v.clientWidth||0:0,S=m/2-g/2,D=c[f],P=x-d[u]-c[h],O=x/2-d[u]/2+S,B=Mf(D,O,P),z=o;r.modifiersData[n]=(e={},e[z]=B,e.centerOffset=B-O,e)}}function cU(t){var e=t.state,r=t.options,n=t.name,i=r.element,s=i===void 0?"[data-popper-arrow]":i,a=r.padding,o=a===void 0?0:a;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||!XP(e.elements.popper,s)||(e.elements.arrow=s,e.modifiersData[n+"#persistent"]={padding:JP(typeof o!="number"?o:ZP(o,ed))}))}var dU={name:"arrow",enabled:!0,phase:"main",fn:uU,effect:cU,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function cx(t,e,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function dx(t){return[$i,nn,rn,Ui].some(function(e){return t[e]>=0})}function fU(t){var e=t.state,r=t.name,n=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,a=Ac(e,{elementContext:"reference"}),o=Ac(e,{altBoundary:!0}),l=cx(a,n),u=cx(o,i,s),c=dx(l),d=dx(u);e.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}var hU={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:fU},pU=[L$,F$,j$,z$,G$,sU,lU,dU,hU],mU=I$({defaultModifiers:pU}),gU=Object.defineProperty,vU=Object.defineProperties,yU=Object.getOwnPropertyDescriptors,ch=Object.getOwnPropertySymbols,eD=Object.prototype.hasOwnProperty,tD=Object.prototype.propertyIsEnumerable,fx=(t,e,r)=>e in t?gU(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ke=(t,e)=>{for(var r in e||(e={}))eD.call(e,r)&&fx(t,r,e[r]);if(ch)for(var r of ch(e))tD.call(e,r)&&fx(t,r,e[r]);return t},vt=(t,e)=>vU(t,yU(e)),bU=(t,e)=>{var r={};for(var n in t)eD.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&ch)for(var n of ch(t))e.indexOf(n)<0&&tD.call(t,n)&&(r[n]=t[n]);return r};function On(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function Nr(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function hs(t){Nr(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console!="undefined"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn(new Error().stack)),new Date(NaN))}function yn(t,e){Nr(2,arguments);var r=hs(t),n=On(e);return isNaN(n)?new Date(NaN):(n&&r.setDate(r.getDate()+n),r)}function dv(t,e){Nr(2,arguments);var r=hs(t),n=On(e);if(isNaN(n))return new Date(NaN);if(!n)return r;var i=r.getDate(),s=new Date(r.getTime());s.setMonth(r.getMonth()+n+1,0);var a=s.getDate();return i>=a?s:(r.setFullYear(s.getFullYear(),s.getMonth(),i),r)}function hx(t,e){Nr(2,arguments);var r=On(e);return dv(t,r*12)}var qd=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},_U=typeof qd=="object"&&qd&&qd.Object===Object&&qd,rD=_U,TU=rD,xU=typeof self=="object"&&self&&self.Object===Object&&self,SU=TU||xU||Function("return this")(),Ln=SU,EU=Ln,CU=EU.Symbol,Ol=CU,px=Ol,iD=Object.prototype,wU=iD.hasOwnProperty,PU=iD.toString,mu=px?px.toStringTag:void 0;function DU(t){var e=wU.call(t,mu),r=t[mu];try{t[mu]=void 0;var n=!0}catch{}var i=PU.call(t);return n&&(e?t[mu]=r:delete t[mu]),i}var AU=DU,OU=Object.prototype,RU=OU.toString;function kU(t){return RU.call(t)}var IU=kU,mx=Ol,MU=AU,LU=IU,NU="[object Null]",FU="[object Undefined]",gx=mx?mx.toStringTag:void 0;function BU(t){return t==null?t===void 0?FU:NU:gx&&gx in Object(t)?MU(t):LU(t)}var Nn=BU;function $U(t){return t!=null&&typeof t=="object"}var Ei=$U,UU=Nn,jU=Ei,VU="[object Boolean]";function HU(t){return t===!0||t===!1||jU(t)&&UU(t)==VU}var zU=HU,WU=Nn,YU=Ei,GU="[object Number]";function qU(t){return typeof t=="number"||YU(t)&&WU(t)==GU}var ic=qU,KU=Array.isArray,Ci=KU,XU=Nn,QU=Ci,JU=Ei,ZU="[object String]";function ej(t){return typeof t=="string"||!QU(t)&&JU(t)&&XU(t)==ZU}var Ls=ej;function tj(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Wi=tj,rj=Nn,ij=Wi,nj="[object AsyncFunction]",sj="[object Function]",aj="[object GeneratorFunction]",oj="[object Proxy]";function lj(t){if(!ij(t))return!1;var e=rj(t);return e==sj||e==aj||e==nj||e==oj}var ts=lj,uj=9007199254740991;function cj(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=uj}var h0=cj,dj=ts,fj=h0;function hj(t){return t!=null&&fj(t.length)&&!dj(t)}var td=hj,pj=td,mj=Ei;function gj(t){return mj(t)&&pj(t)}var ri=gj;function vj(t){return t===void 0}var yj=vj,bj=Nn,_j=Ei,Tj="[object Date]";function xj(t){return _j(t)&&bj(t)==Tj}var Sj=xj;function Ej(t){return function(e){return t(e)}}var _p=Ej,ol={exports:{}};(function(t,e){var r=rD,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===n,a=s&&r.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=o})(ol,ol.exports);var Cj=Sj,wj=_p,vx=ol.exports,yx=vx&&vx.isDate,Pj=yx?wj(yx):Cj,Dj=Pj;function Aj(t,e,r){return t===t&&(r!==void 0&&(t=t<=r?t:r),e!==void 0&&(t=t>=e?t:e)),t}var Oj=Aj,Rj=Nn,kj=Ei,Ij="[object Symbol]";function Mj(t){return typeof t=="symbol"||kj(t)&&Rj(t)==Ij}var Tp=Mj,bx=Wi,Lj=Tp,_x=0/0,Nj=/^\s+|\s+$/g,Fj=/^[-+]0x[0-9a-f]+$/i,Bj=/^0b[01]+$/i,$j=/^0o[0-7]+$/i,Uj=parseInt;function jj(t){if(typeof t=="number")return t;if(Lj(t))return _x;if(bx(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=bx(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(Nj,"");var r=Bj.test(t);return r||$j.test(t)?Uj(t.slice(2),r?2:8):Fj.test(t)?_x:+t}var Vj=jj,Hj=Oj,Vm=Vj;function zj(t,e,r){return r===void 0&&(r=e,e=void 0),r!==void 0&&(r=Vm(r),r=r===r?r:0),e!==void 0&&(e=Vm(e),e=e===e?e:0),Hj(Vm(t),e,r)}var Wj=zj,Yj=Ci,Gj=Tp,qj=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Kj=/^\w*$/;function Xj(t,e){if(Yj(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||Gj(t)?!0:Kj.test(t)||!qj.test(t)||e!=null&&t in Object(e)}var p0=Xj,Qj=Ln,Jj=Qj["__core-js_shared__"],Zj=Jj,Hm=Zj,Tx=function(){var t=/[^.]+$/.exec(Hm&&Hm.keys&&Hm.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function e3(t){return!!Tx&&Tx in t}var t3=e3,r3=Function.prototype,i3=r3.toString;function n3(t){if(t!=null){try{return i3.call(t)}catch{}try{return t+""}catch{}}return""}var nD=n3,s3=ts,a3=t3,o3=Wi,l3=nD,u3=/[\\^$.*+?()[\]{}|]/g,c3=/^\[object .+?Constructor\]$/,d3=Function.prototype,f3=Object.prototype,h3=d3.toString,p3=f3.hasOwnProperty,m3=RegExp("^"+h3.call(p3).replace(u3,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function g3(t){if(!o3(t)||a3(t))return!1;var e=s3(t)?m3:c3;return e.test(l3(t))}var v3=g3;function y3(t,e){return t==null?void 0:t[e]}var b3=y3,_3=v3,T3=b3;function x3(t,e){var r=T3(t,e);return _3(r)?r:void 0}var ro=x3,S3=ro,E3=S3(Object,"create"),xp=E3,xx=xp;function C3(){this.__data__=xx?xx(null):{},this.size=0}var w3=C3;function P3(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var D3=P3,A3=xp,O3="__lodash_hash_undefined__",R3=Object.prototype,k3=R3.hasOwnProperty;function I3(t){var e=this.__data__;if(A3){var r=e[t];return r===O3?void 0:r}return k3.call(e,t)?e[t]:void 0}var M3=I3,L3=xp,N3=Object.prototype,F3=N3.hasOwnProperty;function B3(t){var e=this.__data__;return L3?e[t]!==void 0:F3.call(e,t)}var $3=B3,U3=xp,j3="__lodash_hash_undefined__";function V3(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=U3&&e===void 0?j3:e,this}var H3=V3,z3=w3,W3=D3,Y3=M3,G3=$3,q3=H3;function Rl(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Rl.prototype.clear=z3;Rl.prototype.delete=W3;Rl.prototype.get=Y3;Rl.prototype.has=G3;Rl.prototype.set=q3;var K3=Rl;function X3(){this.__data__=[],this.size=0}var Q3=X3;function J3(t,e){return t===e||t!==t&&e!==e}var kl=J3,Z3=kl;function eV(t,e){for(var r=t.length;r--;)if(Z3(t[r][0],e))return r;return-1}var Sp=eV,tV=Sp,rV=Array.prototype,iV=rV.splice;function nV(t){var e=this.__data__,r=tV(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():iV.call(e,r,1),--this.size,!0}var sV=nV,aV=Sp;function oV(t){var e=this.__data__,r=aV(e,t);return r<0?void 0:e[r][1]}var lV=oV,uV=Sp;function cV(t){return uV(this.__data__,t)>-1}var dV=cV,fV=Sp;function hV(t,e){var r=this.__data__,n=fV(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var pV=hV,mV=Q3,gV=sV,vV=lV,yV=dV,bV=pV;function Il(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Il.prototype.clear=mV;Il.prototype.delete=gV;Il.prototype.get=vV;Il.prototype.has=yV;Il.prototype.set=bV;var Ep=Il,_V=ro,TV=Ln,xV=_V(TV,"Map"),m0=xV,Sx=K3,SV=Ep,EV=m0;function CV(){this.size=0,this.__data__={hash:new Sx,map:new(EV||SV),string:new Sx}}var wV=CV;function PV(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var DV=PV,AV=DV;function OV(t,e){var r=t.__data__;return AV(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Cp=OV,RV=Cp;function kV(t){var e=RV(this,t).delete(t);return this.size-=e?1:0,e}var IV=kV,MV=Cp;function LV(t){return MV(this,t).get(t)}var NV=LV,FV=Cp;function BV(t){return FV(this,t).has(t)}var $V=BV,UV=Cp;function jV(t,e){var r=UV(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var VV=jV,HV=wV,zV=IV,WV=NV,YV=$V,GV=VV;function Ml(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ml.prototype.clear=HV;Ml.prototype.delete=zV;Ml.prototype.get=WV;Ml.prototype.has=YV;Ml.prototype.set=GV;var g0=Ml,sD=g0,qV="Expected a function";function v0(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(qV);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var a=t.apply(this,n);return r.cache=s.set(i,a)||s,a};return r.cache=new(v0.Cache||sD),r}v0.Cache=sD;var KV=v0,XV=KV,QV=500;function JV(t){var e=XV(t,function(n){return r.size===QV&&r.clear(),n}),r=e.cache;return e}var ZV=JV,eH=ZV,tH=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,rH=/\\(\\)?/g,iH=eH(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(tH,function(r,n,i,s){e.push(i?s.replace(rH,"$1"):n||r)}),e}),nH=iH;function sH(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var y0=sH,Ex=Ol,aH=y0,oH=Ci,lH=Tp,uH=1/0,Cx=Ex?Ex.prototype:void 0,wx=Cx?Cx.toString:void 0;function aD(t){if(typeof t=="string")return t;if(oH(t))return aH(t,aD)+"";if(lH(t))return wx?wx.call(t):"";var e=t+"";return e=="0"&&1/t==-uH?"-0":e}var cH=aD,dH=cH;function fH(t){return t==null?"":dH(t)}var hH=fH,pH=Ci,mH=p0,gH=nH,vH=hH;function yH(t,e){return pH(t)?t:mH(t,e)?[t]:gH(vH(t))}var Ll=yH,bH=Tp,_H=1/0;function TH(t){if(typeof t=="string"||bH(t))return t;var e=t+"";return e=="0"&&1/t==-_H?"-0":e}var Nl=TH,xH=Ll,SH=Nl;function EH(t,e){e=xH(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[SH(e[r++])];return r&&r==n?t:void 0}var wp=EH,CH=wp;function wH(t,e,r){var n=t==null?void 0:CH(t,e);return n===void 0?r:n}var Oc=wH,PH=ro,DH=function(){try{var t=PH(Object,"defineProperty");return t({},"",{}),t}catch{}}(),oD=DH,Px=oD;function AH(t,e,r){e=="__proto__"&&Px?Px(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var Pp=AH,OH=Pp,RH=kl,kH=Object.prototype,IH=kH.hasOwnProperty;function MH(t,e,r){var n=t[e];(!(IH.call(t,e)&&RH(n,r))||r===void 0&&!(e in t))&&OH(t,e,r)}var b0=MH,LH=9007199254740991,NH=/^(?:0|[1-9]\d*)$/;function FH(t,e){var r=typeof t;return e=e==null?LH:e,!!e&&(r=="number"||r!="symbol"&&NH.test(t))&&t>-1&&t%1==0&&t<e}var Dp=FH,BH=b0,$H=Ll,UH=Dp,Dx=Wi,jH=Nl;function VH(t,e,r,n){if(!Dx(t))return t;e=$H(e,t);for(var i=-1,s=e.length,a=s-1,o=t;o!=null&&++i<s;){var l=jH(e[i]),u=r;if(l==="__proto__"||l==="constructor"||l==="prototype")return t;if(i!=a){var c=o[l];u=n?n(c,l,o):void 0,u===void 0&&(u=Dx(c)?c:UH(e[i+1])?[]:{})}BH(o,l,u),o=o[l]}return t}var lD=VH,HH=lD;function zH(t,e,r){return t==null?t:HH(t,e,r)}var WH=zH;function YH(t){return function(e,r,n){for(var i=-1,s=Object(e),a=n(e),o=a.length;o--;){var l=a[t?o:++i];if(r(s[l],l,s)===!1)break}return e}}var GH=YH,qH=GH,KH=qH(),uD=KH;function XH(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var QH=XH,JH=Nn,ZH=Ei,e4="[object Arguments]";function t4(t){return ZH(t)&&JH(t)==e4}var r4=t4,Ax=r4,i4=Ei,cD=Object.prototype,n4=cD.hasOwnProperty,s4=cD.propertyIsEnumerable,a4=Ax(function(){return arguments}())?Ax:function(t){return i4(t)&&n4.call(t,"callee")&&!s4.call(t,"callee")},Ap=a4,ll={exports:{}};function o4(){return!1}var l4=o4;(function(t,e){var r=Ln,n=l4,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,a=s&&s.exports===i,o=a?r.Buffer:void 0,l=o?o.isBuffer:void 0,u=l||n;t.exports=u})(ll,ll.exports);var u4=Nn,c4=h0,d4=Ei,f4="[object Arguments]",h4="[object Array]",p4="[object Boolean]",m4="[object Date]",g4="[object Error]",v4="[object Function]",y4="[object Map]",b4="[object Number]",_4="[object Object]",T4="[object RegExp]",x4="[object Set]",S4="[object String]",E4="[object WeakMap]",C4="[object ArrayBuffer]",w4="[object DataView]",P4="[object Float32Array]",D4="[object Float64Array]",A4="[object Int8Array]",O4="[object Int16Array]",R4="[object Int32Array]",k4="[object Uint8Array]",I4="[object Uint8ClampedArray]",M4="[object Uint16Array]",L4="[object Uint32Array]",zt={};zt[P4]=zt[D4]=zt[A4]=zt[O4]=zt[R4]=zt[k4]=zt[I4]=zt[M4]=zt[L4]=!0;zt[f4]=zt[h4]=zt[C4]=zt[p4]=zt[w4]=zt[m4]=zt[g4]=zt[v4]=zt[y4]=zt[b4]=zt[_4]=zt[T4]=zt[x4]=zt[S4]=zt[E4]=!1;function N4(t){return d4(t)&&c4(t.length)&&!!zt[u4(t)]}var F4=N4,B4=F4,$4=_p,Ox=ol.exports,Rx=Ox&&Ox.isTypedArray,U4=Rx?$4(Rx):B4,_0=U4,j4=QH,V4=Ap,H4=Ci,z4=ll.exports,W4=Dp,Y4=_0,G4=Object.prototype,q4=G4.hasOwnProperty;function K4(t,e){var r=H4(t),n=!r&&V4(t),i=!r&&!n&&z4(t),s=!r&&!n&&!i&&Y4(t),a=r||n||i||s,o=a?j4(t.length,String):[],l=o.length;for(var u in t)(e||q4.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||W4(u,l)))&&o.push(u);return o}var dD=K4,X4=Object.prototype;function Q4(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||X4;return t===r}var T0=Q4;function J4(t,e){return function(r){return t(e(r))}}var fD=J4,Z4=fD,ez=Z4(Object.keys,Object),tz=ez,rz=T0,iz=tz,nz=Object.prototype,sz=nz.hasOwnProperty;function az(t){if(!rz(t))return iz(t);var e=[];for(var r in Object(t))sz.call(t,r)&&r!="constructor"&&e.push(r);return e}var oz=az,lz=dD,uz=oz,cz=td;function dz(t){return cz(t)?lz(t):uz(t)}var Fl=dz,fz=uD,hz=Fl;function pz(t,e){return t&&fz(t,e,hz)}var hD=pz,mz=Ep;function gz(){this.__data__=new mz,this.size=0}var vz=gz;function yz(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var bz=yz;function _z(t){return this.__data__.get(t)}var Tz=_z;function xz(t){return this.__data__.has(t)}var Sz=xz,Ez=Ep,Cz=m0,wz=g0,Pz=200;function Dz(t,e){var r=this.__data__;if(r instanceof Ez){var n=r.__data__;if(!Cz||n.length<Pz-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new wz(n)}return r.set(t,e),this.size=r.size,this}var Az=Dz,Oz=Ep,Rz=vz,kz=bz,Iz=Tz,Mz=Sz,Lz=Az;function Bl(t){var e=this.__data__=new Oz(t);this.size=e.size}Bl.prototype.clear=Rz;Bl.prototype.delete=kz;Bl.prototype.get=Iz;Bl.prototype.has=Mz;Bl.prototype.set=Lz;var Op=Bl,Nz="__lodash_hash_undefined__";function Fz(t){return this.__data__.set(t,Nz),this}var Bz=Fz;function $z(t){return this.__data__.has(t)}var Uz=$z,jz=g0,Vz=Bz,Hz=Uz;function dh(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new jz;++e<r;)this.add(t[e])}dh.prototype.add=dh.prototype.push=Vz;dh.prototype.has=Hz;var zz=dh;function Wz(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var pD=Wz;function Yz(t,e){return t.has(e)}var Gz=Yz,qz=zz,Kz=pD,Xz=Gz,Qz=1,Jz=2;function Zz(t,e,r,n,i,s){var a=r&Qz,o=t.length,l=e.length;if(o!=l&&!(a&&l>o))return!1;var u=s.get(t),c=s.get(e);if(u&&c)return u==e&&c==t;var d=-1,f=!0,h=r&Jz?new qz:void 0;for(s.set(t,e),s.set(e,t);++d<o;){var m=t[d],g=e[d];if(n)var v=a?n(g,m,d,e,t,s):n(m,g,d,t,e,s);if(v!==void 0){if(v)continue;f=!1;break}if(h){if(!Kz(e,function(x,S){if(!Xz(h,S)&&(m===x||i(m,x,r,n,s)))return h.push(S)})){f=!1;break}}else if(!(m===g||i(m,g,r,n,s))){f=!1;break}}return s.delete(t),s.delete(e),f}var mD=Zz,eW=Ln,tW=eW.Uint8Array,gD=tW;function rW(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var vD=rW;function iW(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var nW=iW,kx=Ol,Ix=gD,sW=kl,aW=mD,oW=vD,lW=nW,uW=1,cW=2,dW="[object Boolean]",fW="[object Date]",hW="[object Error]",pW="[object Map]",mW="[object Number]",gW="[object RegExp]",vW="[object Set]",yW="[object String]",bW="[object Symbol]",_W="[object ArrayBuffer]",TW="[object DataView]",Mx=kx?kx.prototype:void 0,zm=Mx?Mx.valueOf:void 0;function xW(t,e,r,n,i,s,a){switch(r){case TW:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case _W:return!(t.byteLength!=e.byteLength||!s(new Ix(t),new Ix(e)));case dW:case fW:case mW:return sW(+t,+e);case hW:return t.name==e.name&&t.message==e.message;case gW:case yW:return t==e+"";case pW:var o=oW;case vW:var l=n&uW;if(o||(o=lW),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;n|=cW,a.set(t,e);var c=aW(o(t),o(e),n,i,s,a);return a.delete(t),c;case bW:if(zm)return zm.call(t)==zm.call(e)}return!1}var SW=xW;function EW(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var x0=EW,CW=x0,wW=Ci;function PW(t,e,r){var n=e(t);return wW(t)?n:CW(n,r(t))}var yD=PW;function DW(t,e){for(var r=-1,n=t==null?0:t.length,i=0,s=[];++r<n;){var a=t[r];e(a,r,t)&&(s[i++]=a)}return s}var AW=DW;function OW(){return[]}var bD=OW,RW=AW,kW=bD,IW=Object.prototype,MW=IW.propertyIsEnumerable,Lx=Object.getOwnPropertySymbols,LW=Lx?function(t){return t==null?[]:(t=Object(t),RW(Lx(t),function(e){return MW.call(t,e)}))}:kW,S0=LW,NW=yD,FW=S0,BW=Fl;function $W(t){return NW(t,BW,FW)}var _D=$W,Nx=_D,UW=1,jW=Object.prototype,VW=jW.hasOwnProperty;function HW(t,e,r,n,i,s){var a=r&UW,o=Nx(t),l=o.length,u=Nx(e),c=u.length;if(l!=c&&!a)return!1;for(var d=l;d--;){var f=o[d];if(!(a?f in e:VW.call(e,f)))return!1}var h=s.get(t),m=s.get(e);if(h&&m)return h==e&&m==t;var g=!0;s.set(t,e),s.set(e,t);for(var v=a;++d<l;){f=o[d];var x=t[f],S=e[f];if(n)var D=a?n(S,x,f,e,t,s):n(x,S,f,t,e,s);if(!(D===void 0?x===S||i(x,S,r,n,s):D)){g=!1;break}v||(v=f=="constructor")}if(g&&!v){var P=t.constructor,O=e.constructor;P!=O&&"constructor"in t&&"constructor"in e&&!(typeof P=="function"&&P instanceof P&&typeof O=="function"&&O instanceof O)&&(g=!1)}return s.delete(t),s.delete(e),g}var zW=HW,WW=ro,YW=Ln,GW=WW(YW,"DataView"),qW=GW,KW=ro,XW=Ln,QW=KW(XW,"Promise"),JW=QW,ZW=ro,e8=Ln,t8=ZW(e8,"Set"),r8=t8,i8=ro,n8=Ln,s8=i8(n8,"WeakMap"),a8=s8,fv=qW,hv=m0,pv=JW,mv=r8,gv=a8,TD=Nn,$l=nD,Fx="[object Map]",o8="[object Object]",Bx="[object Promise]",$x="[object Set]",Ux="[object WeakMap]",jx="[object DataView]",l8=$l(fv),u8=$l(hv),c8=$l(pv),d8=$l(mv),f8=$l(gv),Pa=TD;(fv&&Pa(new fv(new ArrayBuffer(1)))!=jx||hv&&Pa(new hv)!=Fx||pv&&Pa(pv.resolve())!=Bx||mv&&Pa(new mv)!=$x||gv&&Pa(new gv)!=Ux)&&(Pa=function(t){var e=TD(t),r=e==o8?t.constructor:void 0,n=r?$l(r):"";if(n)switch(n){case l8:return jx;case u8:return Fx;case c8:return Bx;case d8:return $x;case f8:return Ux}return e});var rd=Pa,Wm=Op,h8=mD,p8=SW,m8=zW,Vx=rd,Hx=Ci,zx=ll.exports,g8=_0,v8=1,Wx="[object Arguments]",Yx="[object Array]",Kd="[object Object]",y8=Object.prototype,Gx=y8.hasOwnProperty;function b8(t,e,r,n,i,s){var a=Hx(t),o=Hx(e),l=a?Yx:Vx(t),u=o?Yx:Vx(e);l=l==Wx?Kd:l,u=u==Wx?Kd:u;var c=l==Kd,d=u==Kd,f=l==u;if(f&&zx(t)){if(!zx(e))return!1;a=!0,c=!1}if(f&&!c)return s||(s=new Wm),a||g8(t)?h8(t,e,r,n,i,s):p8(t,e,l,r,n,i,s);if(!(r&v8)){var h=c&&Gx.call(t,"__wrapped__"),m=d&&Gx.call(e,"__wrapped__");if(h||m){var g=h?t.value():t,v=m?e.value():e;return s||(s=new Wm),i(g,v,r,n,s)}}return f?(s||(s=new Wm),m8(t,e,r,n,i,s)):!1}var _8=b8,T8=_8,qx=Ei;function xD(t,e,r,n,i){return t===e?!0:t==null||e==null||!qx(t)&&!qx(e)?t!==t&&e!==e:T8(t,e,r,n,xD,i)}var SD=xD,x8=Op,S8=SD,E8=1,C8=2;function w8(t,e,r,n){var i=r.length,s=i,a=!n;if(t==null)return!s;for(t=Object(t);i--;){var o=r[i];if(a&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<s;){o=r[i];var l=o[0],u=t[l],c=o[1];if(a&&o[2]){if(u===void 0&&!(l in t))return!1}else{var d=new x8;if(n)var f=n(u,c,l,t,e,d);if(!(f===void 0?S8(c,u,E8|C8,n,d):f))return!1}}return!0}var P8=w8,D8=Wi;function A8(t){return t===t&&!D8(t)}var ED=A8,O8=ED,R8=Fl;function k8(t){for(var e=R8(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,O8(i)]}return e}var I8=k8;function M8(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var CD=M8,L8=P8,N8=I8,F8=CD;function B8(t){var e=N8(t);return e.length==1&&e[0][2]?F8(e[0][0],e[0][1]):function(r){return r===t||L8(r,t,e)}}var $8=B8;function U8(t,e){return t!=null&&e in Object(t)}var j8=U8,V8=Ll,H8=Ap,z8=Ci,W8=Dp,Y8=h0,G8=Nl;function q8(t,e,r){e=V8(e,t);for(var n=-1,i=e.length,s=!1;++n<i;){var a=G8(e[n]);if(!(s=t!=null&&r(t,a)))break;t=t[a]}return s||++n!=i?s:(i=t==null?0:t.length,!!i&&Y8(i)&&W8(a,i)&&(z8(t)||H8(t)))}var wD=q8,K8=j8,X8=wD;function Q8(t,e){return t!=null&&X8(t,e,K8)}var PD=Q8,J8=SD,Z8=Oc,e5=PD,t5=p0,r5=ED,i5=CD,n5=Nl,s5=1,a5=2;function o5(t,e){return t5(t)&&r5(e)?i5(n5(t),e):function(r){var n=Z8(r,t);return n===void 0&&n===e?e5(r,t):J8(e,n,s5|a5)}}var l5=o5;function u5(t){return t}var E0=u5;function c5(t){return function(e){return e==null?void 0:e[t]}}var d5=c5,f5=wp;function h5(t){return function(e){return f5(e,t)}}var p5=h5,m5=d5,g5=p5,v5=p0,y5=Nl;function b5(t){return v5(t)?m5(y5(t)):g5(t)}var _5=b5,T5=$8,x5=l5,S5=E0,E5=Ci,C5=_5;function w5(t){return typeof t=="function"?t:t==null?S5:typeof t=="object"?E5(t)?x5(t[0],t[1]):T5(t):C5(t)}var DD=w5,P5=Pp,D5=hD,A5=DD;function O5(t,e){var r={};return e=A5(e),D5(t,function(n,i,s){P5(r,i,e(n,i,s))}),r}var R5=O5,k5=y0;function I5(t,e){return k5(e,function(r){return[r,t[r]]})}var M5=I5;function L5(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=[n,n]}),r}var N5=L5,F5=M5,B5=rd,$5=vD,U5=N5,j5="[object Map]",V5="[object Set]";function H5(t){return function(e){var r=B5(e);return r==j5?$5(e):r==V5?U5(e):F5(e,t(e))}}var z5=H5,W5=z5,Y5=Fl,G5=W5(Y5),Lf=G5;function q5(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var AD=q5,K5=AD,Kx=Math.max;function X5(t,e,r){return e=Kx(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,s=Kx(n.length-e,0),a=Array(s);++i<s;)a[i]=n[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=n[i];return o[e]=r(a),K5(t,this,o)}}var OD=X5;function Q5(t){return function(){return t}}var J5=Q5,Z5=J5,Xx=oD,e6=E0,t6=Xx?function(t,e){return Xx(t,"toString",{configurable:!0,enumerable:!1,value:Z5(e),writable:!0})}:e6,r6=t6,i6=800,n6=16,s6=Date.now;function a6(t){var e=0,r=0;return function(){var n=s6(),i=n6-(n-r);if(r=n,i>0){if(++e>=i6)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var o6=a6,l6=r6,u6=o6,c6=u6(l6),RD=c6,d6=E0,f6=OD,h6=RD;function p6(t,e){return h6(f6(t,e,d6),t+"")}var C0=p6,m6=kl,g6=td,v6=Dp,y6=Wi;function b6(t,e,r){if(!y6(r))return!1;var n=typeof e;return(n=="number"?g6(r)&&v6(e,r.length):n=="string"&&e in r)?m6(r[e],t):!1}var w0=b6;function _6(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var T6=_6,x6=Wi,S6=T0,E6=T6,C6=Object.prototype,w6=C6.hasOwnProperty;function P6(t){if(!x6(t))return E6(t);var e=S6(t),r=[];for(var n in t)n=="constructor"&&(e||!w6.call(t,n))||r.push(n);return r}var D6=P6,A6=dD,O6=D6,R6=td;function k6(t){return R6(t)?A6(t,!0):O6(t)}var Ul=k6,I6=C0,M6=kl,L6=w0,N6=Ul,kD=Object.prototype,F6=kD.hasOwnProperty,B6=I6(function(t,e){t=Object(t);var r=-1,n=e.length,i=n>2?e[2]:void 0;for(i&&L6(e[0],e[1],i)&&(n=1);++r<n;)for(var s=e[r],a=N6(s),o=-1,l=a.length;++o<l;){var u=a[o],c=t[u];(c===void 0||M6(c,kD[u])&&!F6.call(t,u))&&(t[u]=s[u])}return t}),nc=B6,$6=Pp,U6=kl;function j6(t,e,r){(r!==void 0&&!U6(t[e],r)||r===void 0&&!(e in t))&&$6(t,e,r)}var ID=j6,fh={exports:{}};(function(t,e){var r=Ln,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===n,a=s?r.Buffer:void 0,o=a?a.allocUnsafe:void 0;function l(u,c){if(c)return u.slice();var d=u.length,f=o?o(d):new u.constructor(d);return u.copy(f),f}t.exports=l})(fh,fh.exports);var Qx=gD;function V6(t){var e=new t.constructor(t.byteLength);return new Qx(e).set(new Qx(t)),e}var P0=V6,H6=P0;function z6(t,e){var r=e?H6(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var MD=z6;function W6(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var LD=W6,Y6=Wi,Jx=Object.create,G6=function(){function t(){}return function(e){if(!Y6(e))return{};if(Jx)return Jx(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}(),q6=G6,K6=fD,X6=K6(Object.getPrototypeOf,Object),D0=X6,Q6=q6,J6=D0,Z6=T0;function eY(t){return typeof t.constructor=="function"&&!Z6(t)?Q6(J6(t)):{}}var ND=eY,tY=Nn,rY=D0,iY=Ei,nY="[object Object]",sY=Function.prototype,aY=Object.prototype,FD=sY.toString,oY=aY.hasOwnProperty,lY=FD.call(Object);function uY(t){if(!iY(t)||tY(t)!=nY)return!1;var e=rY(t);if(e===null)return!0;var r=oY.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&FD.call(r)==lY}var BD=uY;function cY(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var $D=cY,dY=b0,fY=Pp;function hY(t,e,r,n){var i=!r;r||(r={});for(var s=-1,a=e.length;++s<a;){var o=e[s],l=n?n(r[o],t[o],o,r,t):void 0;l===void 0&&(l=t[o]),i?fY(r,o,l):dY(r,o,l)}return r}var jl=hY,pY=jl,mY=Ul;function gY(t){return pY(t,mY(t))}var vY=gY,Zx=ID,yY=fh.exports,bY=MD,_Y=LD,TY=ND,eS=Ap,tS=Ci,xY=ri,SY=ll.exports,EY=ts,CY=Wi,wY=BD,PY=_0,rS=$D,DY=vY;function AY(t,e,r,n,i,s,a){var o=rS(t,r),l=rS(e,r),u=a.get(l);if(u){Zx(t,r,u);return}var c=s?s(o,l,r+"",t,e,a):void 0,d=c===void 0;if(d){var f=tS(l),h=!f&&SY(l),m=!f&&!h&&PY(l);c=l,f||h||m?tS(o)?c=o:xY(o)?c=_Y(o):h?(d=!1,c=yY(l,!0)):m?(d=!1,c=bY(l,!0)):c=[]:wY(l)||eS(l)?(c=o,eS(o)?c=DY(o):(!CY(o)||EY(o))&&(c=TY(l))):d=!1}d&&(a.set(l,c),i(c,l,n,s,a),a.delete(l)),Zx(t,r,c)}var OY=AY,RY=Op,kY=ID,IY=uD,MY=OY,LY=Wi,NY=Ul,FY=$D;function UD(t,e,r,n,i){t!==e&&IY(e,function(s,a){if(i||(i=new RY),LY(s))MY(t,e,a,r,UD,n,i);else{var o=n?n(FY(t,a),s,a+"",t,e,i):void 0;o===void 0&&(o=s),kY(t,a,o)}},NY)}var jD=UD,BY=jD,iS=Wi;function VD(t,e,r,n,i,s){return iS(t)&&iS(e)&&(s.set(e,t),BY(t,e,void 0,VD,s),s.delete(e)),t}var $Y=VD,UY=C0,jY=w0;function VY(t){return UY(function(e,r){var n=-1,i=r.length,s=i>1?r[i-1]:void 0,a=i>2?r[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,a&&jY(r[0],r[1],a)&&(s=i<3?void 0:s,i=1),e=Object(e);++n<i;){var o=r[n];o&&t(e,o,n,s)}return e})}var HY=VY,zY=jD,WY=HY,YY=WY(function(t,e,r,n){zY(t,e,r,n)}),GY=YY,qY=AD,KY=C0,XY=$Y,QY=GY,JY=KY(function(t){return t.push(void 0,XY),qY(QY,void 0,t)}),A0=JY,ZY=wp,eG=lD,tG=Ll;function rG(t,e,r){for(var n=-1,i=e.length,s={};++n<i;){var a=e[n],o=ZY(t,a);r(o,a)&&eG(s,tG(a,t),o)}return s}var iG=rG,nG=iG,sG=PD;function aG(t,e){return nG(t,e,function(r,n){return sG(t,n)})}var oG=aG,nS=Ol,lG=Ap,uG=Ci,sS=nS?nS.isConcatSpreadable:void 0;function cG(t){return uG(t)||lG(t)||!!(sS&&t&&t[sS])}var dG=cG,fG=x0,hG=dG;function HD(t,e,r,n,i){var s=-1,a=t.length;for(r||(r=hG),i||(i=[]);++s<a;){var o=t[s];e>0&&r(o)?e>1?HD(o,e-1,r,n,i):fG(i,o):n||(i[i.length]=o)}return i}var pG=HD,mG=pG;function gG(t){var e=t==null?0:t.length;return e?mG(t,1):[]}var vG=gG,yG=vG,bG=OD,_G=RD;function TG(t){return _G(bG(t,void 0,yG),t+"")}var zD=TG,xG=oG,SG=zD,EG=SG(function(t,e){return t==null?{}:xG(t,e)}),CG=EG;function wG(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var PG=wG,DG=jl,AG=Fl;function OG(t,e){return t&&DG(e,AG(e),t)}var RG=OG,kG=jl,IG=Ul;function MG(t,e){return t&&kG(e,IG(e),t)}var LG=MG,NG=jl,FG=S0;function BG(t,e){return NG(t,FG(t),e)}var $G=BG,UG=x0,jG=D0,VG=S0,HG=bD,zG=Object.getOwnPropertySymbols,WG=zG?function(t){for(var e=[];t;)UG(e,VG(t)),t=jG(t);return e}:HG,WD=WG,YG=jl,GG=WD;function qG(t,e){return YG(t,GG(t),e)}var KG=qG,XG=yD,QG=WD,JG=Ul;function ZG(t){return XG(t,JG,QG)}var YD=ZG,eq=Object.prototype,tq=eq.hasOwnProperty;function rq(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&tq.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var iq=rq,nq=P0;function sq(t,e){var r=e?nq(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var aq=sq,oq=/\w*$/;function lq(t){var e=new t.constructor(t.source,oq.exec(t));return e.lastIndex=t.lastIndex,e}var uq=lq,aS=Ol,oS=aS?aS.prototype:void 0,lS=oS?oS.valueOf:void 0;function cq(t){return lS?Object(lS.call(t)):{}}var dq=cq,fq=P0,hq=aq,pq=uq,mq=dq,gq=MD,vq="[object Boolean]",yq="[object Date]",bq="[object Map]",_q="[object Number]",Tq="[object RegExp]",xq="[object Set]",Sq="[object String]",Eq="[object Symbol]",Cq="[object ArrayBuffer]",wq="[object DataView]",Pq="[object Float32Array]",Dq="[object Float64Array]",Aq="[object Int8Array]",Oq="[object Int16Array]",Rq="[object Int32Array]",kq="[object Uint8Array]",Iq="[object Uint8ClampedArray]",Mq="[object Uint16Array]",Lq="[object Uint32Array]";function Nq(t,e,r){var n=t.constructor;switch(e){case Cq:return fq(t);case vq:case yq:return new n(+t);case wq:return hq(t,r);case Pq:case Dq:case Aq:case Oq:case Rq:case kq:case Iq:case Mq:case Lq:return gq(t,r);case bq:return new n;case _q:case Sq:return new n(t);case Tq:return pq(t);case xq:return new n;case Eq:return mq(t)}}var Fq=Nq,Bq=rd,$q=Ei,Uq="[object Map]";function jq(t){return $q(t)&&Bq(t)==Uq}var Vq=jq,Hq=Vq,zq=_p,uS=ol.exports,cS=uS&&uS.isMap,Wq=cS?zq(cS):Hq,Yq=Wq,Gq=rd,qq=Ei,Kq="[object Set]";function Xq(t){return qq(t)&&Gq(t)==Kq}var Qq=Xq,Jq=Qq,Zq=_p,dS=ol.exports,fS=dS&&dS.isSet,e7=fS?Zq(fS):Jq,t7=e7,r7=Op,i7=PG,n7=b0,s7=RG,a7=LG,o7=fh.exports,l7=LD,u7=$G,c7=KG,d7=_D,f7=YD,h7=rd,p7=iq,m7=Fq,g7=ND,v7=Ci,y7=ll.exports,b7=Yq,_7=Wi,T7=t7,x7=Fl,S7=Ul,E7=1,C7=2,w7=4,GD="[object Arguments]",P7="[object Array]",D7="[object Boolean]",A7="[object Date]",O7="[object Error]",qD="[object Function]",R7="[object GeneratorFunction]",k7="[object Map]",I7="[object Number]",KD="[object Object]",M7="[object RegExp]",L7="[object Set]",N7="[object String]",F7="[object Symbol]",B7="[object WeakMap]",$7="[object ArrayBuffer]",U7="[object DataView]",j7="[object Float32Array]",V7="[object Float64Array]",H7="[object Int8Array]",z7="[object Int16Array]",W7="[object Int32Array]",Y7="[object Uint8Array]",G7="[object Uint8ClampedArray]",q7="[object Uint16Array]",K7="[object Uint32Array]",Lt={};Lt[GD]=Lt[P7]=Lt[$7]=Lt[U7]=Lt[D7]=Lt[A7]=Lt[j7]=Lt[V7]=Lt[H7]=Lt[z7]=Lt[W7]=Lt[k7]=Lt[I7]=Lt[KD]=Lt[M7]=Lt[L7]=Lt[N7]=Lt[F7]=Lt[Y7]=Lt[G7]=Lt[q7]=Lt[K7]=!0;Lt[O7]=Lt[qD]=Lt[B7]=!1;function Nf(t,e,r,n,i,s){var a,o=e&E7,l=e&C7,u=e&w7;if(r&&(a=i?r(t,n,i,s):r(t)),a!==void 0)return a;if(!_7(t))return t;var c=v7(t);if(c){if(a=p7(t),!o)return l7(t,a)}else{var d=h7(t),f=d==qD||d==R7;if(y7(t))return o7(t,o);if(d==KD||d==GD||f&&!i){if(a=l||f?{}:g7(t),!o)return l?c7(t,a7(a,t)):u7(t,s7(a,t))}else{if(!Lt[d])return i?t:{};a=m7(t,d,o)}}s||(s=new r7);var h=s.get(t);if(h)return h;s.set(t,a),T7(t)?t.forEach(function(v){a.add(Nf(v,e,r,v,t,s))}):b7(t)&&t.forEach(function(v,x){a.set(x,Nf(v,e,r,x,t,s))});var m=u?l?f7:d7:l?S7:x7,g=c?void 0:m(t);return i7(g||t,function(v,x){g&&(x=v,v=t[x]),n7(a,x,Nf(v,e,r,x,t,s))}),a}var X7=Nf;function Q7(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Rc=Q7;function J7(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var s=Array(i);++n<i;)s[n]=t[n+e];return s}var Z7=J7,eK=wp,tK=Z7;function rK(t,e){return e.length<2?t:eK(t,tK(e,0,-1))}var iK=rK,nK=Ll,sK=Rc,aK=iK,oK=Nl;function lK(t,e){return e=nK(e,t),t=aK(t,e),t==null||delete t[oK(sK(e))]}var uK=lK,cK=BD;function dK(t){return cK(t)?void 0:t}var fK=dK,hK=y0,pK=X7,mK=uK,gK=Ll,vK=jl,yK=fK,bK=zD,_K=YD,TK=1,xK=2,SK=4,EK=bK(function(t,e){var r={};if(t==null)return r;var n=!1;e=hK(e,function(s){return s=gK(s,t),n||(n=s.length>1),s}),vK(t,_K(t),r),n&&(r=pK(r,TK|xK|SK,yK));for(var i=e.length;i--;)mK(r,e[i]);return r}),vv=EK,CK=Object.prototype,wK=CK.hasOwnProperty;function PK(t,e){return t!=null&&wK.call(t,e)}var DK=PK,AK=DK,OK=wD;function RK(t,e){return t!=null&&OK(t,e,AK)}var XD=RK,kK=td;function IK(t,e){return function(r,n){if(r==null)return r;if(!kK(r))return t(r,n);for(var i=r.length,s=e?i:-1,a=Object(r);(e?s--:++s<i)&&n(a[s],s,a)!==!1;);return r}}var MK=IK,LK=hD,NK=MK,FK=NK(LK),BK=FK;function $K(t){return t&&t.length?t[0]:void 0}var QD=$K,UK=BK;function jK(t,e){var r;return UK(t,function(n,i,s){return r=e(n,i,s),!r}),!!r}var VK=jK,HK=pD,zK=DD,WK=VK,YK=Ci,GK=w0;function qK(t,e,r){var n=YK(t)?HK:WK;return r&&GK(t,e,r)&&(e=void 0),n(t,zK(e))}var JD=qK;const KK=t=>Object.prototype.toString.call(t).slice(8,-1),Hs=t=>Dj(t)&&!isNaN(t.getTime()),Fi=t=>KK(t)==="Object",O0=XD,yv=(t,e)=>JD(e,r=>XD(t,r)),XK=JD,Tt=(t,e,r="0")=>{for(t=t!=null?String(t):"",e=e||2;t.length<e;)t=`${r}${t}`;return t},QK=(...t)=>{const e={};return t.forEach(r=>Object.entries(r).forEach(([n,i])=>{e[n]?ri(e[n])?e[n].push(i):e[n]=[e[n],i]:e[n]=i})),e},vi=t=>!!(t&&t.month&&t.year),Bu=(t,e)=>!vi(t)||!vi(e)?!1:t.year===e.year?t.month<e.month:t.year<e.year,sc=(t,e)=>!vi(t)||!vi(e)?!1:t.year===e.year?t.month>e.month:t.year>e.year,ZD=(t,e,r)=>(t||!1)&&!Bu(t,e)&&!sc(t,r),Ym=(t,e)=>!t&&e||t&&!e?!1:!t&&!e?!0:t.month===e.month&&t.year===e.year,Wn=({month:t,year:e},r)=>{const n=r>0?1:-1;for(let i=0;i<Math.abs(r);i++)t+=n,t>12?(t=1,e++):t<1&&(t=12,e--);return{month:t,year:e}},JK=(t,e)=>{if(!vi(t)||!vi(e))return[];const r=[];for(;!sc(t,e);)r.push(t),t=Wn(t,1);return r};function Gm(t,e){const r=Hs(t),n=Hs(e);return!r&&!n?!0:r!==n?!1:t.getTime()===e.getTime()}const Ii=t=>ri(t)&&t.length>0,hS=(t,e,r)=>{const n=[];return r.forEach(i=>{const s=i.name||i.toString(),a=i.mixin,o=i.validate;if(Object.prototype.hasOwnProperty.call(t,s)){const l=o?o(t[s]):t[s];e[s]=a&&Fi(l)?Ke(Ke({},a),l):l,n.push(s)}}),{target:e,assigned:n.length?n:null}},zr=(t,e,r,n)=>{t&&e&&r&&t.addEventListener(e,r,n)},Wr=(t,e,r,n)=>{t&&e&&t.removeEventListener(e,r,n)},ac=(t,e)=>!!t&&!!e&&(t===e||t.contains(e)),eA=(t,e)=>{(t.key===" "||t.key==="Enter")&&(e(t),t.preventDefault())},hh=()=>{function t(){return((1+Math.random())*65536|0).toString(16).substring(1)}return`${t()+t()}-${t()}-${t()}-${t()}-${t()}${t()}${t()}`};function ZK(t){let e=0,r=0,n;if(t.length===0)return e;for(r=0;r<t.length;r++)n=t.charCodeAt(r),e=(e<<5)-e+n,e|=0;return e}var Vl=(t,e)=>{const r=t.__vccOpts||t;for(const[n,i]of e)r[n]=i;return r};const eX={name:"CustomTransition",emits:["before-enter","before-transition","after-enter","after-transition"],props:{name:String,appear:Boolean},computed:{name_(){return`vc-${this.name||"none"}`}},methods:{beforeEnter(t){this.$emit("before-enter",t),this.$emit("before-transition",t)},afterEnter(t){this.$emit("after-enter",t),this.$emit("after-transition",t)}}};function tX(t,e,r,n,i,s){return Ir(),hp(Xy,{name:s.name_,appear:r.appear,onBeforeEnter:s.beforeEnter,onAfterEnter:s.afterEnter},{default:$1(()=>[ah(t.$slots,"default")]),_:3},8,["name","appear","onBeforeEnter","onAfterEnter"])}var tA=Vl(eX,[["render",tX]]);const bv={name:"Popover",emits:["before-show","after-show","before-hide","after-hide"],render(){return Ze("div",{class:["vc-popover-content-wrapper",{"is-interactive":this.isInteractive}],ref:"popover"},[Ze(tA,{name:this.transition,appear:!0,"on-before-enter":this.beforeEnter,"on-after-enter":this.afterEnter,"on-before-leave":this.beforeLeave,"on-after-leave":this.afterLeave},{default:()=>this.isVisible?Ze("div",{tabindex:-1,class:["vc-popover-content",`direction-${this.direction}`,this.contentClass],style:this.contentStyle},[this.content,Ze("span",{class:["vc-popover-caret",`direction-${this.direction}`,`align-${this.alignment}`]})]):null})])},props:{id:{type:String,required:!0},contentClass:String},data(){return{ref:null,opts:null,data:null,transition:"slide-fade",transitionTranslate:"15px",transitionDuration:"0.15s",placement:"bottom",positionFixed:!1,modifiers:[],isInteractive:!1,isHovered:!1,isFocused:!1,showDelay:0,hideDelay:110,autoHide:!1,popperEl:null}},computed:{content(){return ts(this.$slots.default)&&this.$slots.default({direction:this.direction,alignment:this.alignment,data:this.data,updateLayout:this.setupPopper,hide:t=>this.hide(t)})||this.$slots.default},contentStyle(){return{"--slide-translate":this.transitionTranslate,"--slide-duration":this.transitionDuration}},popperOptions(){return{placement:this.placement,strategy:this.positionFixed?"fixed":"absolute",modifiers:[{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:this.onPopperUpdate},...this.modifiers||[]],onFirstUpdate:this.onPopperUpdate}},isVisible(){return!!(this.ref&&this.content)},direction(){return this.placement&&this.placement.split("-")[0]||"bottom"},alignment(){const t=this.direction==="left"||this.direction==="right";let e=this.placement.split("-");return e=e.length>1?e[1]:"",["start","top","left"].includes(e)?t?"top":"left":["end","bottom","right"].includes(e)?t?"bottom":"right":t?"middle":"center"}},watch:{opts(t,e){e&&e.callback&&e.callback(vt(Ke({},e),{completed:!t,reason:t?"Overridden by action":null}))}},mounted(){this.popoverEl=this.$refs.popover,this.addEvents()},beforeUnmount(){this.destroyPopper(),this.removeEvents(),this.popoverEl=null},methods:{addEvents(){zr(this.popoverEl,"click",this.onClick),zr(this.popoverEl,"mouseover",this.onMouseOver),zr(this.popoverEl,"mouseleave",this.onMouseLeave),zr(this.popoverEl,"focusin",this.onFocusIn),zr(this.popoverEl,"focusout",this.onFocusOut),zr(document,"keydown",this.onDocumentKeydown),zr(document,"click",this.onDocumentClick),zr(document,"show-popover",this.onDocumentShowPopover),zr(document,"hide-popover",this.onDocumentHidePopover),zr(document,"toggle-popover",this.onDocumentTogglePopover),zr(document,"update-popover",this.onDocumentUpdatePopover)},removeEvents(){Wr(this.popoverEl,"click",this.onClick),Wr(this.popoverEl,"mouseover",this.onMouseOver),Wr(this.popoverEl,"mouseleave",this.onMouseLeave),Wr(this.popoverEl,"focusin",this.onFocusIn),Wr(this.popoverEl,"focusout",this.onFocusOut),Wr(document,"keydown",this.onDocumentKeydown),Wr(document,"click",this.onDocumentClick),Wr(document,"show-popover",this.onDocumentShowPopover),Wr(document,"hide-popover",this.onDocumentHidePopover),Wr(document,"toggle-popover",this.onDocumentTogglePopover),Wr(document,"update-popover",this.onDocumentUpdatePopover)},onClick(t){t.stopPropagation()},onMouseOver(){this.isHovered=!0,this.isInteractive&&this.show()},onMouseLeave(){this.isHovered=!1,this.autoHide&&!this.isFocused&&(!this.ref||this.ref!==document.activeElement)&&this.hide()},onFocusIn(){this.isFocused=!0,this.isInteractive&&this.show()},onFocusOut(t){(!t.relatedTarget||!ac(this.popoverEl,t.relatedTarget))&&(this.isFocused=!1,!this.isHovered&&this.autoHide&&this.hide())},onDocumentClick(t){!this.$refs.popover||!this.ref||ac(this.popoverEl,t.target)||ac(this.ref,t.target)||this.hide()},onDocumentKeydown(t){(t.key==="Esc"||t.key==="Escape")&&this.hide()},onDocumentShowPopover({detail:t}){!t.id||t.id!==this.id||this.show(t)},onDocumentHidePopover({detail:t}){!t.id||t.id!==this.id||this.hide(t)},onDocumentTogglePopover({detail:t}){!t.id||t.id!==this.id||this.toggle(t)},onDocumentUpdatePopover({detail:t}){!t.id||t.id!==this.id||this.update(t)},show(t={}){t.action="show";const e=t.ref||this.ref,r=t.showDelay>=0?t.showDelay:this.showDelay;if(!e){t.callback&&t.callback({completed:!1,reason:"Invalid reference element provided"});return}clearTimeout(this.timeout),this.opts=t;const n=()=>{Object.assign(this,vv(t,["id"])),this.setupPopper(),this.opts=null};r>0?this.timeout=setTimeout(()=>n(),r):n()},hide(t={}){t.action="hide";const e=t.ref||this.ref,r=t.hideDelay>=0?t.hideDelay:this.hideDelay;if(!this.ref||e!==this.ref){t.callback&&t.callback(vt(Ke({},t),{completed:!1,reason:this.ref?"Invalid reference element provided":"Popover already hidden"}));return}const n=()=>{this.ref=null,this.opts=null};clearTimeout(this.timeout),this.opts=t,r>0?this.timeout=setTimeout(n,r):n()},toggle(t={}){this.isVisible&&t.ref===this.ref?this.hide(t):this.show(t)},update(t={}){Object.assign(this,vv(t,["id"])),this.setupPopper()},setupPopper(){this.$nextTick(()=>{!this.ref||!this.$refs.popover||(this.popper&&this.popper.reference!==this.ref&&this.destroyPopper(),this.popper?this.popper.update():this.popper=mU(this.ref,this.popoverEl,this.popperOptions))})},onPopperUpdate(t){t.placement?this.placement=t.placement:t.state&&(this.placement=t.state.placement)},beforeEnter(t){this.$emit("before-show",t)},afterEnter(t){this.$emit("after-show",t)},beforeLeave(t){this.$emit("before-hide",t)},afterLeave(t){this.destroyPopper(),this.$emit("after-hide",t)},destroyPopper(){this.popper&&(this.popper.destroy(),this.popper=null)}}},rX={inject:["sharedState"],computed:{masks(){return this.sharedState.masks},theme(){return this.sharedState.theme},locale(){return this.sharedState.locale},dayPopoverId(){return this.sharedState.dayPopoverId}},methods:{format(t,e){return this.locale.format(t,e)},pageForDate(t){return this.locale.getDateParts(this.locale.normalizeDate(t))}}},iX=["base","start","end","startEnd"],nX=["class","contentClass","style","contentStyle","color","fillMode"],sX={color:"blue",isDark:!1,highlight:{base:{fillMode:"light"},start:{fillMode:"solid"},end:{fillMode:"solid"}},dot:{base:{fillMode:"solid"},start:{fillMode:"solid"},end:{fillMode:"solid"}},bar:{base:{fillMode:"solid"},start:{fillMode:"solid"},end:{fillMode:"solid"}},content:{base:{},start:{},end:{}}};class pS{constructor(e){Object.assign(this,sX,e)}normalizeAttr({config:e,type:r}){let n=this.color,i={};const s=this[r];if(e===!0||Ls(e))n=Ls(e)?e:n,i=Ke({},s);else if(Fi(e))yv(e,iX)?i=Ke({},e):i={base:Ke({},e),start:Ke({},e),end:Ke({},e)};else return null;return nc(i,{start:i.startEnd,end:i.startEnd},s),Lf(i).forEach(([a,o])=>{let l=n;o===!0||Ls(o)?(l=Ls(o)?o:l,i[a]={color:l}):Fi(o)&&(yv(o,nX)?i[a]=Ke({},o):i[a]={}),O0(i,`${a}.color`)||WH(i,`${a}.color`,l)}),i}normalizeHighlight(e){const r=this.normalizeAttr({config:e,type:"highlight"});return Lf(r).forEach(([n,i])=>{const s=nc(i,{isDark:this.isDark,color:this.color});i.style=Ke(Ke({},this.getHighlightBgStyle(s)),i.style),i.contentStyle=Ke(Ke({},this.getHighlightContentStyle(s)),i.contentStyle)}),r}getHighlightBgStyle({fillMode:e,color:r,isDark:n}){switch(e){case"outline":case"none":return{backgroundColor:n?"var(--gray-900)":"var(--white)",border:"2px solid",borderColor:n?`var(--${r}-200)`:`var(--${r}-700)`,borderRadius:"var(--rounded-full)"};case"light":return{backgroundColor:n?`var(--${r}-800)`:`var(--${r}-200)`,opacity:n?.75:1,borderRadius:"var(--rounded-full)"};case"solid":return{backgroundColor:n?`var(--${r}-500)`:`var(--${r}-600)`,borderRadius:"var(--rounded-full)"};default:return{borderRadius:"var(--rounded-full)"}}}getHighlightContentStyle({fillMode:e,color:r,isDark:n}){switch(e){case"outline":case"none":return{fontWeight:"var(--font-bold)",color:n?`var(--${r}-100)`:`var(--${r}-900)`};case"light":return{fontWeight:"var(--font-bold)",color:n?`var(--${r}-100)`:`var(--${r}-900)`};case"solid":return{fontWeight:"var(--font-bold)",color:"var(--white)"};default:return""}}bgAccentHigh({color:e,isDark:r}){return{backgroundColor:r?`var(--${e}-500)`:`var(--${e}-600)`}}contentAccent({color:e,isDark:r}){return e?{fontWeight:"var(--font-bold)",color:r?`var(--${e}-100)`:`var(--${e}-900)`}:null}normalizeDot(e){return this.normalizeNonHighlight("dot",e,this.bgAccentHigh)}normalizeBar(e){return this.normalizeNonHighlight("bar",e,this.bgAccentHigh)}normalizeContent(e){return this.normalizeNonHighlight("content",e,this.contentAccent)}normalizeNonHighlight(e,r,n){const i=this.normalizeAttr({type:e,config:r});return Lf(i).forEach(([s,a])=>{nc(a,{isDark:this.isDark,color:this.color}),a.style=Ke(Ke({},n(a)),a.style)}),i}}var Ff=6e4;function mS(t){return t.getTime()%Ff}function ph(t){var e=new Date(t.getTime()),r=Math.ceil(e.getTimezoneOffset());e.setSeconds(0,0);var n=r>0,i=n?(Ff+mS(e))%Ff:mS(e);return r*Ff+i}function aX(t,e){var r=cX(e);return r.formatToParts?lX(r,t):uX(r,t)}var oX={year:0,month:1,day:2,hour:3,minute:4,second:5};function lX(t,e){for(var r=t.formatToParts(e),n=[],i=0;i<r.length;i++){var s=oX[r[i].type];s>=0&&(n[s]=parseInt(r[i].value,10))}return n}function uX(t,e){var r=t.format(e).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(r);return[n[3],n[1],n[2],n[4],n[5],n[6]]}var qm={};function cX(t){if(!qm[t]){var e=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),r=e==="06/25/2014, 00:00:00"||e==="\u200E06\u200E/\u200E25\u200E/\u200E2014\u200E \u200E00\u200E:\u200E00\u200E:\u200E00";qm[t]=r?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return qm[t]}var gS=36e5,dX=6e4,Xd={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-])(\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/,timezoneIANA:/(UTC|(?:[a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?))$/};function vS(t,e){var r,n;if(r=Xd.timezoneZ.exec(t),r)return 0;var i;if(r=Xd.timezoneHH.exec(t),r)return i=parseInt(r[2],10),yS()?(n=i*gS,r[1]==="+"?-n:n):NaN;if(r=Xd.timezoneHHMM.exec(t),r){i=parseInt(r[2],10);var s=parseInt(r[3],10);return yS(i,s)?(n=i*gS+s*dX,r[1]==="+"?-n:n):NaN}if(r=Xd.timezoneIANA.exec(t),r){var a=aX(e,t),o=Date.UTC(a[0],a[1]-1,a[2],a[3],a[4],a[5]),l=e.getTime()-e.getTime()%1e3;return-(o-l)}return 0}function yS(t,e){return!(e!=null&&(e<0||e>59))}var Km=36e5,bS=6e4,fX=2,Cr={dateTimeDelimeter:/[T ]/,plainTime:/:/,timeZoneDelimeter:/[Z ]/i,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timezone:/([Z+-].*| UTC|(?:[a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?))$/};function _S(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);var r=e||{},n=r.additionalDigits==null?fX:On(r.additionalDigits);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=hX(t),s=pX(i.date,n),a=s.year,o=s.restDateString,l=mX(o,a);if(isNaN(l))return new Date(NaN);if(l){var u=l.getTime(),c=0,d;if(i.time&&(c=gX(i.time),isNaN(c)))return new Date(NaN);if(i.timezone||r.timeZone){if(d=vS(i.timezone||r.timeZone,new Date(u+c)),isNaN(d))return new Date(NaN);if(d=vS(i.timezone||r.timeZone,new Date(u+c+d)),isNaN(d))return new Date(NaN)}else d=ph(new Date(u+c)),d=ph(new Date(u+c+d));return new Date(u+c+d)}else return new Date(NaN)}function hX(t){var e={},r=t.split(Cr.dateTimeDelimeter),n;if(Cr.plainTime.test(r[0])?(e.date=null,n=r[0]):(e.date=r[0],n=r[1],e.timezone=r[2],Cr.timeZoneDelimeter.test(e.date)&&(e.date=t.split(Cr.timeZoneDelimeter)[0],n=t.substr(e.date.length,t.length))),n){var i=Cr.timezone.exec(n);i?(e.time=n.replace(i[1],""),e.timezone=i[1]):e.time=n}return e}function pX(t,e){var r=Cr.YYY[e],n=Cr.YYYYY[e],i;if(i=Cr.YYYY.exec(t)||n.exec(t),i){var s=i[1];return{year:parseInt(s,10),restDateString:t.slice(s.length)}}if(i=Cr.YY.exec(t)||r.exec(t),i){var a=i[1];return{year:parseInt(a,10)*100,restDateString:t.slice(a.length)}}return{year:null}}function mX(t,e){if(e===null)return null;var r,n,i,s;if(t.length===0)return n=new Date(0),n.setUTCFullYear(e),n;if(r=Cr.MM.exec(t),r)return n=new Date(0),i=parseInt(r[1],10)-1,xS(e,i)?(n.setUTCFullYear(e,i),n):new Date(NaN);if(r=Cr.DDD.exec(t),r){n=new Date(0);var a=parseInt(r[1],10);return bX(e,a)?(n.setUTCFullYear(e,0,a),n):new Date(NaN)}if(r=Cr.MMDD.exec(t),r){n=new Date(0),i=parseInt(r[1],10)-1;var o=parseInt(r[2],10);return xS(e,i,o)?(n.setUTCFullYear(e,i,o),n):new Date(NaN)}if(r=Cr.Www.exec(t),r)return s=parseInt(r[1],10)-1,SS(e,s)?TS(e,s):new Date(NaN);if(r=Cr.WwwD.exec(t),r){s=parseInt(r[1],10)-1;var l=parseInt(r[2],10)-1;return SS(e,s,l)?TS(e,s,l):new Date(NaN)}return null}function gX(t){var e,r,n;if(e=Cr.HH.exec(t),e)return r=parseFloat(e[1].replace(",",".")),Xm(r)?r%24*Km:NaN;if(e=Cr.HHMM.exec(t),e)return r=parseInt(e[1],10),n=parseFloat(e[2].replace(",",".")),Xm(r,n)?r%24*Km+n*bS:NaN;if(e=Cr.HHMMSS.exec(t),e){r=parseInt(e[1],10),n=parseInt(e[2],10);var i=parseFloat(e[3].replace(",","."));return Xm(r,n,i)?r%24*Km+n*bS+i*1e3:NaN}return null}function TS(t,e,r){e=e||0,r=r||0;var n=new Date(0);n.setUTCFullYear(t,0,4);var i=n.getUTCDay()||7,s=e*7+r+1-i;return n.setUTCDate(n.getUTCDate()+s),n}var vX=[31,28,31,30,31,30,31,31,30,31,30,31],yX=[31,29,31,30,31,30,31,31,30,31,30,31];function rA(t){return t%400===0||t%4===0&&t%100!==0}function xS(t,e,r){if(e<0||e>11)return!1;if(r!=null){if(r<1)return!1;var n=rA(t);if(n&&r>yX[e]||!n&&r>vX[e])return!1}return!0}function bX(t,e){if(e<1)return!1;var r=rA(t);return!(r&&e>366||!r&&e>365)}function SS(t,e,r){return!(e<0||e>52||r!=null&&(r<0||r>6))}function Xm(t,e,r){return!(t!=null&&(t<0||t>=25)||e!=null&&(e<0||e>=60)||r!=null&&(r<0||r>=60))}function Wa(t,e){Nr(1,arguments);var r=e||{},n=r.locale,i=n&&n.options&&n.options.weekStartsOn,s=i==null?0:On(i),a=r.weekStartsOn==null?s:On(r.weekStartsOn);if(!(a>=0&&a<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var o=hs(t),l=o.getDay(),u=(l<a?7:0)+l-a;return o.setDate(o.getDate()-u),o.setHours(0,0,0,0),o}function mh(t){return Nr(1,arguments),Wa(t,{weekStartsOn:1})}function _X(t){Nr(1,arguments);var e=hs(t),r=e.getFullYear(),n=new Date(0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);var i=mh(n),s=new Date(0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);var a=mh(s);return e.getTime()>=i.getTime()?r+1:e.getTime()>=a.getTime()?r:r-1}function TX(t){Nr(1,arguments);var e=_X(t),r=new Date(0);r.setFullYear(e,0,4),r.setHours(0,0,0,0);var n=mh(r);return n}var xX=6048e5;function SX(t){Nr(1,arguments);var e=hs(t),r=mh(e).getTime()-TX(e).getTime();return Math.round(r/xX)+1}function EX(t,e){Nr(1,arguments);var r=hs(t),n=r.getFullYear(),i=e||{},s=i.locale,a=s&&s.options&&s.options.firstWeekContainsDate,o=a==null?1:On(a),l=i.firstWeekContainsDate==null?o:On(i.firstWeekContainsDate);if(!(l>=1&&l<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var u=new Date(0);u.setFullYear(n+1,0,l),u.setHours(0,0,0,0);var c=Wa(u,e),d=new Date(0);d.setFullYear(n,0,l),d.setHours(0,0,0,0);var f=Wa(d,e);return r.getTime()>=c.getTime()?n+1:r.getTime()>=f.getTime()?n:n-1}function CX(t,e){Nr(1,arguments);var r=e||{},n=r.locale,i=n&&n.options&&n.options.firstWeekContainsDate,s=i==null?1:On(i),a=r.firstWeekContainsDate==null?s:On(r.firstWeekContainsDate),o=EX(t,e),l=new Date(0);l.setFullYear(o,0,a),l.setHours(0,0,0,0);var u=Wa(l,e);return u}var wX=6048e5;function PX(t,e){Nr(1,arguments);var r=hs(t),n=Wa(r,e).getTime()-CX(r,e).getTime();return Math.round(n/wX)+1}var DX=6048e5;function AX(t,e,r){Nr(2,arguments);var n=Wa(t,r),i=Wa(e,r),s=n.getTime()-ph(n),a=i.getTime()-ph(i);return Math.round((s-a)/DX)}function OX(t){Nr(1,arguments);var e=hs(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(0,0,0,0),e}function RX(t){Nr(1,arguments);var e=hs(t);return e.setDate(1),e.setHours(0,0,0,0),e}function kX(t,e){return Nr(1,arguments),AX(OX(t),RX(t),e)+1}const IX=24*60*60*1e3;class ur{constructor(e,{order:r=0,locale:n,isFullDay:i}={}){if(this.isDateInfo=!0,this.order=r,this.locale=n instanceof gh?n:new gh(n),this.firstDayOfWeek=this.locale.firstDayOfWeek,!Fi(e)){const l=this.locale.normalizeDate(e);i?e={start:l,end:l}:e={startOn:l,endOn:l}}let s=null,a=null;if(e.start?s=this.locale.normalizeDate(e.start,vt(Ke({},this.opts),{time:"00:00:00"})):e.startOn&&(s=this.locale.normalizeDate(e.startOn,this.opts)),e.end?a=this.locale.normalizeDate(e.end,vt(Ke({},this.opts),{time:"23:59:59"})):e.endOn&&(a=this.locale.normalizeDate(e.endOn,this.opts)),s&&a&&s>a){const l=s;s=a,a=l}else s&&e.span>=1&&(a=yn(s,e.span-1));this.start=s,this.startTime=s?s.getTime():NaN,this.end=a,this.endTime=a?a.getTime():NaN,this.isDate=this.startTime&&this.startTime===this.endTime,this.isRange=!this.isDate;const o=hS(e,{},ur.patternProps);if(o.assigned&&(this.on={and:o.target}),e.on){const l=(ri(e.on)?e.on:[e.on]).map(u=>{if(ts(u))return u;const c=hS(u,{},ur.patternProps);return c.assigned?c.target:null}).filter(u=>u);l.length&&(this.on=vt(Ke({},this.on),{or:l}))}this.isComplex=!!this.on}get opts(){return{order:this.order,locale:this.locale}}toDateInfo(e){return e.isDateInfo?e:new ur(e,this.opts)}startOfWeek(e){const r=e.getDay()+1,n=r>=this.firstDayOfWeek?this.firstDayOfWeek-r:-(7-(this.firstDayOfWeek-r));return yn(e,n)}diffInDays(e,r){return Math.round((r-e)/IX)}diffInWeeks(e,r){return this.diffInDays(this.startOfWeek(e),this.startOfWeek(r))}diffInYears(e,r){return r.getUTCFullYear()-e.getUTCFullYear()}diffInMonths(e,r){return this.diffInYears(e,r)*12+(r.getMonth()-e.getMonth())}static get patterns(){return{dailyInterval:{test:(e,r,n)=>n.diffInDays(n.start||new Date,e.date)%r===0},weeklyInterval:{test:(e,r,n)=>n.diffInWeeks(n.start||new Date,e.date)%r===0},monthlyInterval:{test:(e,r,n)=>n.diffInMonths(n.start||new Date,e.date)%r===0},yearlyInterval:{test:()=>(e,r,n)=>n.diffInYears(n.start||new Date,e.date)%r===0},days:{validate:e=>ri(e)?e:[parseInt(e,10)],test:(e,r)=>r.includes(e.day)||r.includes(-e.dayFromEnd)},weekdays:{validate:e=>ri(e)?e:[parseInt(e,10)],test:(e,r)=>r.includes(e.weekday)},ordinalWeekdays:{validate:e=>Object.keys(e).reduce((r,n)=>{const i=e[n];return i&&(r[n]=ri(i)?i:[parseInt(i,10)]),r},{}),test:(e,r)=>Object.keys(r).map(n=>parseInt(n,10)).find(n=>r[n].includes(e.weekday)&&(n===e.weekdayOrdinal||n===-e.weekdayOrdinalFromEnd))},weekends:{validate:e=>e,test:e=>e.weekday===1||e.weekday===7},workweek:{validate:e=>e,test:e=>e.weekday>=2&&e.weekday<=6},weeks:{validate:e=>ri(e)?e:[parseInt(e,10)],test:(e,r)=>r.includes(e.week)||r.includes(-e.weekFromEnd)},months:{validate:e=>ri(e)?e:[parseInt(e,10)],test:(e,r)=>r.includes(e.month)},years:{validate:e=>ri(e)?e:[parseInt(e,10)],test:(e,r)=>r.includes(e.year)}}}static get patternProps(){return Object.keys(ur.patterns).map(e=>({name:e,validate:ur.patterns[e].validate}))}static testConfig(e,r,n){return ts(e)?e(r):Fi(e)?Object.keys(e).every(i=>ur.patterns[i].test(r,e[i],n)):null}iterateDatesInRange({start:e,end:r},n){if(!e||!r||!ts(n))return null;e=this.locale.normalizeDate(e,vt(Ke({},this.opts),{time:"00:00:00"}));const i={i:0,date:e,day:this.locale.getDateParts(e),finished:!1};let s=null;for(;!i.finished&&i.date<=r;i.i++)s=n(i),i.date=yn(i.date,1),i.day=this.locale.getDateParts(i.date);return s}shallowIntersectingRange(e){return this.rangeShallowIntersectingRange(this,this.toDateInfo(e))}rangeShallowIntersectingRange(e,r){if(!this.dateShallowIntersectsDate(e,r))return null;const n=e.toRange(),i=r.toRange();let s=null,a=null;return n.start?i.start?s=n.start>i.start?n.start:i.start:s=n.start:i.start&&(s=i.start),n.end?i.end?a=n.end<i.end?n.end:i.end:a=n.end:i.end&&(a=i.end),{start:s,end:a}}intersectsDate(e){const r=this.toDateInfo(e);if(!this.shallowIntersectsDate(r))return null;if(!this.on)return this;const n=this.rangeShallowIntersectingRange(this,r);let i=!1;return this.iterateDatesInRange(n,s=>{this.matchesDay(s.day)&&(i=i||r.matchesDay(s.day),s.finished=i)}),i}shallowIntersectsDate(e){return this.dateShallowIntersectsDate(this,this.toDateInfo(e))}dateShallowIntersectsDate(e,r){return e.isDate?r.isDate?e.startTime===r.startTime:this.dateShallowIncludesDate(r,e):r.isDate?this.dateShallowIncludesDate(e,r):!(e.start&&r.end&&e.start>r.end||e.end&&r.start&&e.end<r.start)}includesDate(e){const r=this.toDateInfo(e);if(!this.shallowIncludesDate(r))return!1;if(!this.on)return!0;const n=this.rangeShallowIntersectingRange(this,r);let i=!0;return this.iterateDatesInRange(n,s=>{this.matchesDay(s.day)&&(i=i&&r.matchesDay(s.day),s.finished=!i)}),i}shallowIncludesDate(e){return this.dateShallowIncludesDate(this,e.isDate?e:new ur(e,this.opts))}dateShallowIncludesDate(e,r){return e.isDate?r.isDate?e.startTime===r.startTime:!r.startTime||!r.endTime?!1:e.startTime===r.startTime&&e.startTime===r.endTime:r.isDate?!(e.start&&r.start<e.start||e.end&&r.start>e.end):!(e.start&&(!r.start||r.start<e.start)||e.end&&(!r.end||r.end>e.end))}intersectsDay(e){return this.shallowIntersectsDate(e.range)&&this.matchesDay(e)?this:null}matchesDay(e){return this.on?!(this.on.and&&!ur.testConfig(this.on.and,e,this)||this.on.or&&!this.on.or.some(r=>ur.testConfig(r,e,this))):!0}toRange(){return new ur({start:this.start,end:this.end},this.opts)}compare(e){if(this.order!==e.order)return this.order-e.order;if(this.isDate!==e.isDate)return this.isDate?1:-1;if(this.isDate)return 0;const r=this.start-e.start;return r!==0?r:this.end-e.end}}const ji={ar:{dow:7,L:"D/\u200FM/\u200FYYYY"},bg:{dow:2,L:"D.MM.YYYY"},ca:{dow:2,L:"DD/MM/YYYY"},"zh-CN":{dow:2,L:"YYYY/MM/DD"},"zh-TW":{dow:1,L:"YYYY/MM/DD"},hr:{dow:2,L:"DD.MM.YYYY"},cs:{dow:2,L:"DD.MM.YYYY"},da:{dow:2,L:"DD.MM.YYYY"},nl:{dow:2,L:"DD-MM-YYYY"},"en-US":{dow:1,L:"MM/DD/YYYY"},"en-AU":{dow:2,L:"DD/MM/YYYY"},"en-CA":{dow:1,L:"YYYY-MM-DD"},"en-GB":{dow:2,L:"DD/MM/YYYY"},"en-IE":{dow:2,L:"DD-MM-YYYY"},"en-NZ":{dow:2,L:"DD/MM/YYYY"},"en-ZA":{dow:1,L:"YYYY/MM/DD"},eo:{dow:2,L:"YYYY-MM-DD"},et:{dow:2,L:"DD.MM.YYYY"},fi:{dow:2,L:"DD.MM.YYYY"},fr:{dow:2,L:"DD/MM/YYYY"},"fr-CA":{dow:1,L:"YYYY-MM-DD"},"fr-CH":{dow:2,L:"DD.MM.YYYY"},de:{dow:2,L:"DD.MM.YYYY"},he:{dow:1,L:"DD.MM.YYYY"},id:{dow:2,L:"DD/MM/YYYY"},it:{dow:2,L:"DD/MM/YYYY"},ja:{dow:1,L:"YYYY\u5E74M\u6708D\u65E5"},ko:{dow:1,L:"YYYY.MM.DD"},lv:{dow:2,L:"DD.MM.YYYY"},lt:{dow:2,L:"DD.MM.YYYY"},mk:{dow:2,L:"D.MM.YYYY"},nb:{dow:2,L:"D. MMMM YYYY"},nn:{dow:2,L:"D. MMMM YYYY"},pl:{dow:2,L:"DD.MM.YYYY"},pt:{dow:2,L:"DD/MM/YYYY"},ro:{dow:2,L:"DD.MM.YYYY"},ru:{dow:2,L:"DD.MM.YYYY"},sk:{dow:2,L:"DD.MM.YYYY"},"es-ES":{dow:2,L:"DD/MM/YYYY"},"es-MX":{dow:2,L:"DD/MM/YYYY"},sv:{dow:2,L:"YYYY-MM-DD"},th:{dow:1,L:"DD/MM/YYYY"},tr:{dow:2,L:"DD.MM.YYYY"},uk:{dow:2,L:"DD.MM.YYYY"},vi:{dow:2,L:"DD/MM/YYYY"}};ji.en=ji["en-US"];ji.es=ji["es-ES"];ji.no=ji.nb;ji.zh=ji["zh-CN"];Lf(ji).forEach(([t,{dow:e,L:r}])=>{ji[t]={id:t,firstDayOfWeek:e,masks:{L:r}}});const Ps={DATE_TIME:1,DATE:2,TIME:3},MX={1:["year","month","day","hours","minutes","seconds","milliseconds"],2:["year","month","day"],3:["hours","minutes","seconds","milliseconds"]},ES=/d{1,2}|W{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|Z{1,4}|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,Ds=/\d\d?/,LX=/\d{3}/,NX=/\d{4}/,gu=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF/]+(\s*?[\u0600-\u06FF]+){1,2}/i,FX=/\[([^]*?)\]/gm,CS=()=>{},wS=t=>(e,r,n)=>{const i=n[t].indexOf(r.charAt(0).toUpperCase()+r.substring(1).toLowerCase());~i&&(e.month=i)},BX=["L","iso"],jr=7,$X=[31,28,31,30,31,30,31,31,30,31,30,31],UX=[{value:0,label:"00"},{value:1,label:"01"},{value:2,label:"02"},{value:3,label:"03"},{value:4,label:"04"},{value:5,label:"05"},{value:6,label:"06"},{value:7,label:"07"},{value:8,label:"08"},{value:9,label:"09"},{value:10,label:"10"},{value:11,label:"11"},{value:12,label:"12"},{value:13,label:"13"},{value:14,label:"14"},{value:15,label:"15"},{value:16,label:"16"},{value:17,label:"17"},{value:18,label:"18"},{value:19,label:"19"},{value:20,label:"20"},{value:21,label:"21"},{value:22,label:"22"},{value:23,label:"23"}],PS={D(t){return t.day},DD(t){return Tt(t.day)},Do(t,e){return e.DoFn(t.day)},d(t){return t.weekday-1},dd(t){return Tt(t.weekday-1)},W(t,e){return e.dayNamesNarrow[t.weekday-1]},WW(t,e){return e.dayNamesShorter[t.weekday-1]},WWW(t,e){return e.dayNamesShort[t.weekday-1]},WWWW(t,e){return e.dayNames[t.weekday-1]},M(t){return t.month},MM(t){return Tt(t.month)},MMM(t,e){return e.monthNamesShort[t.month-1]},MMMM(t,e){return e.monthNames[t.month-1]},YY(t){return String(t.year).substring(2)},YYYY(t){return Tt(t.year,4)},h(t){return t.hours%12||12},hh(t){return Tt(t.hours%12||12)},H(t){return t.hours},HH(t){return Tt(t.hours)},m(t){return t.minutes},mm(t){return Tt(t.minutes)},s(t){return t.seconds},ss(t){return Tt(t.seconds)},S(t){return Math.round(t.milliseconds/100)},SS(t){return Tt(Math.round(t.milliseconds/10),2)},SSS(t){return Tt(t.milliseconds,3)},a(t,e){return t.hours<12?e.amPm[0]:e.amPm[1]},A(t,e){return t.hours<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},Z(){return"Z"},ZZ(t){const e=t.timezoneOffset;return`${e>0?"-":"+"}${Tt(Math.floor(Math.abs(e)/60),2)}`},ZZZ(t){const e=t.timezoneOffset;return`${e>0?"-":"+"}${Tt(Math.floor(Math.abs(e)/60)*100+Math.abs(e)%60,4)}`},ZZZZ(t){const e=t.timezoneOffset;return`${e>0?"-":"+"}${Tt(Math.floor(Math.abs(e)/60),2)}:${Tt(Math.abs(e)%60,2)}`}},kt={D:[Ds,(t,e)=>{t.day=e}],Do:[new RegExp(Ds.source+gu.source),(t,e)=>{t.day=parseInt(e,10)}],d:[Ds,CS],W:[gu,CS],M:[Ds,(t,e)=>{t.month=e-1}],MMM:[gu,wS("monthNamesShort")],MMMM:[gu,wS("monthNames")],YY:[Ds,(t,e)=>{const n=+new Date().getFullYear().toString().substring(0,2);t.year=`${e>68?n-1:n}${e}`}],YYYY:[NX,(t,e)=>{t.year=e}],S:[/\d/,(t,e)=>{t.millisecond=e*100}],SS:[/\d{2}/,(t,e)=>{t.millisecond=e*10}],SSS:[LX,(t,e)=>{t.millisecond=e}],h:[Ds,(t,e)=>{t.hour=e}],m:[Ds,(t,e)=>{t.minute=e}],s:[Ds,(t,e)=>{t.second=e}],a:[gu,(t,e,r)=>{const n=e.toLowerCase();n===r.amPm[0]?t.isPm=!1:n===r.amPm[1]&&(t.isPm=!0)}],Z:[/[^\s]*?[+-]\d\d:?\d\d|[^\s]*?Z?/,(t,e)=>{e==="Z"&&(e="+00:00");const r=`${e}`.match(/([+-]|\d\d)/gi);if(r){const n=+(r[1]*60)+parseInt(r[2],10);t.timezoneOffset=r[0]==="+"?n:-n}}]};kt.DD=kt.D;kt.dd=kt.d;kt.WWWW=kt.WWW=kt.WW=kt.W;kt.MM=kt.M;kt.mm=kt.m;kt.hh=kt.H=kt.HH=kt.h;kt.ss=kt.s;kt.A=kt.a;kt.ZZZZ=kt.ZZZ=kt.ZZ=kt.Z;function jX(t,e){const r=new Intl.DateTimeFormat().resolvedOptions().locale;let n;Ls(t)?n=t:O0(t,"id")&&(n=t.id),n=(n||r).toLowerCase();const i=Object.keys(e),s=o=>i.find(l=>l.toLowerCase()===o);n=s(n)||s(n.substring(0,2))||r;const a=vt(Ke(Ke({},e["en-IE"]),e[n]),{id:n});return t=Fi(t)?A0(t,a):a,t}class gh{constructor(e,{locales:r=ji,timezone:n}={}){const{id:i,firstDayOfWeek:s,masks:a}=jX(e,r);this.id=i,this.daysInWeek=jr,this.firstDayOfWeek=Wj(s,1,jr),this.masks=a,this.timezone=n||void 0,this.dayNames=this.getDayNames("long"),this.dayNamesShort=this.getDayNames("short"),this.dayNamesShorter=this.dayNamesShort.map(o=>o.substring(0,2)),this.dayNamesNarrow=this.getDayNames("narrow"),this.monthNames=this.getMonthNames("long"),this.monthNamesShort=this.getMonthNames("short"),this.amPm=["am","pm"],this.monthData={},this.getMonthComps=this.getMonthComps.bind(this),this.parse=this.parse.bind(this),this.format=this.format.bind(this),this.toPage=this.toPage.bind(this)}format(e,r){if(e=this.normalizeDate(e),!e)return"";r=this.normalizeMasks(r)[0];const n=[];r=r.replace(FX,(a,o)=>(n.push(o),"??"));const i=/Z$/.test(r)?"utc":this.timezone,s=this.getDateParts(e,i);return r=r.replace(ES,a=>a in PS?PS[a](s,this):a.slice(1,a.length-1)),r.replace(/\?\?/g,()=>n.shift())}parse(e,r){return this.normalizeMasks(r).map(i=>{if(typeof i!="string")throw new Error("Invalid mask in fecha.parse");let s=e;if(s.length>1e3)return!1;let a=!0;const o={};if(i.replace(ES,c=>{if(kt[c]){const d=kt[c],f=s.search(d[0]);~f?s.replace(d[0],h=>(d[1](o,h,this),s=s.substring(f+h.length),h)):a=!1}return kt[c]?"":c.slice(1,c.length-1)}),!a)return!1;const l=new Date;o.isPm===!0&&o.hour!=null&&+o.hour!=12?o.hour=+o.hour+12:o.isPm===!1&&+o.hour==12&&(o.hour=0);let u;return o.timezoneOffset!=null?(o.minute=+(o.minute||0)-+o.timezoneOffset,u=new Date(Date.UTC(o.year||l.getFullYear(),o.month||0,o.day||1,o.hour||0,o.minute||0,o.second||0,o.millisecond||0))):u=this.getDateFromParts({year:o.year||l.getFullYear(),month:(o.month||0)+1,day:o.day||1,hours:o.hour||0,minutes:o.minute||0,seconds:o.second||0,milliseconds:o.millisecond||0}),u}).find(i=>i)||new Date(e)}normalizeMasks(e){return(Ii(e)&&e||[Ls(e)&&e||"YYYY-MM-DD"]).map(r=>BX.reduce((n,i)=>n.replace(i,this.masks[i]||""),r))}normalizeDate(e,r={}){let n=null,{type:i,fillDate:s}=r;const{mask:a,patch:o,time:l}=r,u=i==="auto"||!i;if(ic(e)?(i="number",n=new Date(+e)):Ls(e)?(i="string",n=e?this.parse(e,a||"iso"):null):Fi(e)?(i="object",n=this.getDateFromParts(e)):(i="date",n=Hs(e)?new Date(e.getTime()):null),n&&o){s=s==null?new Date:this.normalizeDate(s);const c=Ke(Ke({},this.getDateParts(s)),CG(this.getDateParts(n),MX[o]));n=this.getDateFromParts(c)}return u&&(r.type=i),n&&!isNaN(n.getTime())?(l&&(n=this.adjustTimeForDate(n,{timeAdjust:l})),n):null}denormalizeDate(e,{type:r,mask:n}={}){switch(r){case"number":return e?e.getTime():NaN;case"string":return e?this.format(e,n||"iso"):"";default:return e?new Date(e):null}}hourIsValid(e,r,n){if(!r)return!0;if(ri(r))return r.includes(e);if(Fi(r)){const i=r.min||0,s=r.max||24;return i<=e&&s>=e}return r(e,n)}getHourOptions(e,r){return UX.filter(n=>this.hourIsValid(n.value,e,r))}getMinuteOptions(e){const r=[];e=e>0?e:1;for(let n=0;n<=59;n+=e)r.push({value:n,label:Tt(n,2)});return r}nearestOptionValue(e,r){if(e==null)return e;const n=r.reduce((i,s)=>{if(s.disabled)return i;if(isNaN(i))return s.value;const a=Math.abs(i-e);return Math.abs(s.value-e)<a?s.value:i},NaN);return isNaN(n)?e:n}adjustTimeForDate(e,{timeAdjust:r,validHours:n,minuteIncrement:i}){if(!r&&!n&&!i)return e;const s=this.getDateParts(e);if(r)if(r==="now"){const a=this.getDateParts(new Date);s.hours=a.hours,s.minutes=a.minutes,s.seconds=a.seconds,s.milliseconds=a.milliseconds}else{const a=new Date(`2000-01-01T${r}Z`);s.hours=a.getUTCHours(),s.minutes=a.getUTCMinutes(),s.seconds=a.getUTCSeconds(),s.milliseconds=a.getUTCMilliseconds()}if(n){const a=this.getHourOptions(n,s);s.hours=this.nearestOptionValue(s.hours,a)}if(i){const a=this.getMinuteOptions(i);s.minutes=this.nearestOptionValue(s.minutes,a)}return e=this.getDateFromParts(s),e}normalizeDates(e,r){return r=r||{},r.locale=this,(ri(e)?e:[e]).map(n=>n&&(n instanceof ur?n:new ur(n,r))).filter(n=>n)}getDateParts(e,r=this.timezone){if(!e)return null;let n=e;if(r){const D=new Date(e.toLocaleString("en-US",{timeZone:r}));D.setMilliseconds(e.getMilliseconds());const P=D.getTime()-e.getTime();n=new Date(e.getTime()+P)}const i=n.getMilliseconds(),s=n.getSeconds(),a=n.getMinutes(),o=n.getHours(),l=n.getMonth()+1,u=n.getFullYear(),c=this.getMonthComps(l,u),d=n.getDate(),f=c.days-d+1,h=n.getDay()+1,m=Math.floor((d-1)/7+1),g=Math.floor((c.days-d)/7+1),v=Math.ceil((d+Math.abs(c.firstWeekday-c.firstDayOfWeek))/7),x=c.weeks-v+1,S={milliseconds:i,seconds:s,minutes:a,hours:o,day:d,dayFromEnd:f,weekday:h,weekdayOrdinal:m,weekdayOrdinalFromEnd:g,week:v,weekFromEnd:x,month:l,year:u,date:e,isValid:!0};return S.timezoneOffset=this.getTimezoneOffset(S),S}getDateFromParts(e){if(!e)return null;const r=new Date,{year:n=r.getFullYear(),month:i=r.getMonth()+1,day:s=r.getDate(),hours:a=0,minutes:o=0,seconds:l=0,milliseconds:u=0}=e;if(this.timezone){const c=`${Tt(n,4)}-${Tt(i,2)}-${Tt(s,2)}T${Tt(a,2)}:${Tt(o,2)}:${Tt(l,2)}.${Tt(u,3)}`;return _S(c,{timeZone:this.timezone})}return new Date(n,i-1,s,a,o,l,u)}getTimezoneOffset(e){const{year:r,month:n,day:i,hours:s=0,minutes:a=0,seconds:o=0,milliseconds:l=0}=e;let u;const c=new Date(Date.UTC(r,n-1,i,s,a,o,l));if(this.timezone){const d=`${Tt(r,4)}-${Tt(n,2)}-${Tt(i,2)}T${Tt(s,2)}:${Tt(a,2)}:${Tt(o,2)}.${Tt(l,3)}`;u=_S(d,{timeZone:this.timezone})}else u=new Date(r,n-1,i,s,a,o,l);return(u-c)/6e4}toPage(e,r){return ic(e)?Wn(r,e):Ls(e)?this.getDateParts(this.normalizeDate(e)):Hs(e)?this.getDateParts(e):Fi(e)?e:null}getMonthDates(e=2e3){const r=[];for(let n=0;n<12;n++)r.push(new Date(e,n,15));return r}getMonthNames(e){const r=new Intl.DateTimeFormat(this.id,{month:e,timezome:"UTC"});return this.getMonthDates().map(n=>r.format(n))}getWeekdayDates(e=this.firstDayOfWeek){const r=[],s=5+e-1;for(let a=0;a<jr;a++)r.push(this.getDateFromParts({year:2020,month:1,day:s+a,hours:12}));return r}getDayNames(e){const r=new Intl.DateTimeFormat(this.id,{weekday:e,timeZone:this.timezone});return this.getWeekdayDates(1).map(n=>r.format(n))}getMonthComps(e,r){const n=`${e}-${r}`;let i=this.monthData[n];if(!i){const s=r%4===0&&r%100!==0||r%400===0,a=new Date(r,e-1,1),o=a.getDay()+1,l=e===2&&s?29:$X[e-1],u=this.firstDayOfWeek-1,c=kX(a,{weekStartsOn:u}),d=[],f=[];for(let h=0;h<c;h++){const m=yn(a,h*7);d.push(PX(m,{weekStartsOn:u})),f.push(SX(m))}i={firstDayOfWeek:this.firstDayOfWeek,inLeapYear:s,firstWeekday:o,days:l,weeks:c,month:e,year:r,weeknumbers:d,isoWeeknumbers:f},this.monthData[n]=i}return i}getThisMonthComps(){const{month:e,year:r}=this.getDateParts(new Date);return this.getMonthComps(e,r)}getPrevMonthComps(e,r){return e===1?this.getMonthComps(12,r-1):this.getMonthComps(e-1,r)}getNextMonthComps(e,r){return e===12?this.getMonthComps(1,r+1):this.getMonthComps(e+1,r)}getDayId(e){return this.format(e,"YYYY-MM-DD")}getCalendarDays({weeks:e,monthComps:r,prevMonthComps:n,nextMonthComps:i}){const s=[],{firstDayOfWeek:a,firstWeekday:o,isoWeeknumbers:l,weeknumbers:u}=r,c=o+(o<a?jr:0)-a;let d=!0,f=!1,h=!1;const m=new Intl.DateTimeFormat(this.id,{weekday:"long",year:"numeric",month:"long",day:"numeric"});let g=n.days-c+1,v=n.days-g+1,x=Math.floor((g-1)/jr+1),S=1,D=n.weeks,P=1,O=n.month,B=n.year;const z=new Date,U=z.getDate(),Y=z.getMonth()+1,F=z.getFullYear(),ue=(X,me,xe)=>(ge,Se,Ae,he)=>this.normalizeDate({year:X,month:me,day:xe,hours:ge,minutes:Se,seconds:Ae,milliseconds:he});for(let X=1;X<=e;X++){for(let me=1,xe=a;me<=jr;me++,xe+=xe===jr?1-jr:1){d&&xe===o&&(g=1,v=r.days,x=Math.floor((g-1)/jr+1),S=Math.floor((r.days-g)/jr+1),D=1,P=r.weeks,O=r.month,B=r.year,d=!1,f=!0);const ge=ue(B,O,g),Se={start:ge(0,0,0),end:ge(23,59,59,999)},Ae=Se.start,he=`${Tt(B,4)}-${Tt(O,2)}-${Tt(g,2)}`,Ye=me,Z=jr-me,C=u[X-1],q=l[X-1],ae=g===U&&O===Y&&B===F,_e=f&&g===1,k=f&&g===r.days,W=X===1,L=X===e,$=me===1,I=me===jr;s.push({id:he,label:g.toString(),ariaLabel:m.format(new Date(B,O-1,g)),day:g,dayFromEnd:v,weekday:xe,weekdayPosition:Ye,weekdayPositionFromEnd:Z,weekdayOrdinal:x,weekdayOrdinalFromEnd:S,week:D,weekFromEnd:P,weeknumber:C,isoWeeknumber:q,month:O,year:B,dateFromTime:ge,date:Ae,range:Se,isToday:ae,isFirstDay:_e,isLastDay:k,inMonth:f,inPrevMonth:d,inNextMonth:h,onTop:W,onBottom:L,onLeft:$,onRight:I,classes:[`id-${he}`,`day-${g}`,`day-from-end-${v}`,`weekday-${xe}`,`weekday-position-${Ye}`,`weekday-ordinal-${x}`,`weekday-ordinal-from-end-${S}`,`week-${D}`,`week-from-end-${P}`,{"is-today":ae,"is-first-day":_e,"is-last-day":k,"in-month":f,"in-prev-month":d,"in-next-month":h,"on-top":W,"on-bottom":L,"on-left":$,"on-right":I}]}),f&&k?(f=!1,h=!0,g=1,v=i.days,x=1,S=Math.floor((i.days-g)/jr+1),D=1,P=i.weeks,O=i.month,B=i.year):(g++,v--,x=Math.floor((g-1)/jr+1),S=Math.floor((r.days-g)/jr+1))}D++,P--}return s}}class iA{constructor({key:e,hashcode:r,highlight:n,content:i,dot:s,bar:a,popover:o,dates:l,excludeDates:u,excludeMode:c,customData:d,order:f,pinPage:h},m,g){this.key=yj(e)?hh():e,this.hashcode=r,this.customData=d,this.order=f||0,this.dateOpts={order:f,locale:g},this.pinPage=h,n&&(this.highlight=m.normalizeHighlight(n)),i&&(this.content=m.normalizeContent(i)),s&&(this.dot=m.normalizeDot(s)),a&&(this.bar=m.normalizeBar(a)),o&&(this.popover=o),this.dates=g.normalizeDates(l,this.dateOpts),this.hasDates=!!Ii(this.dates),this.excludeDates=g.normalizeDates(u,this.dateOpts),this.hasExcludeDates=!!Ii(this.excludeDates),this.excludeMode=c||"intersects",this.hasExcludeDates&&!this.hasDates&&(this.dates.push(new ur({},this.dateOpts)),this.hasDates=!0),this.isComplex=XK(this.dates,v=>v.isComplex)}intersectsDate(e){return e=e instanceof ur?e:new ur(e,this.dateOpts),!this.excludesDate(e)&&(this.dates.find(r=>r.intersectsDate(e))||!1)}includesDate(e){return e=e instanceof ur?e:new ur(e,this.dateOpts),!this.excludesDate(e)&&(this.dates.find(r=>r.includesDate(e))||!1)}excludesDate(e){return e=e instanceof ur?e:new ur(e,this.dateOpts),this.hasExcludeDates&&this.excludeDates.find(r=>this.excludeMode==="intersects"&&r.intersectsDate(e)||this.excludeMode==="includes"&&r.includesDate(e))}intersectsDay(e){return!this.excludesDay(e)&&(this.dates.find(r=>r.intersectsDay(e))||!1)}excludesDay(e){return this.hasExcludeDates&&this.excludeDates.find(r=>r.intersectsDay(e))}}const VX=300,HX=60,zX=80;var WX={maxSwipeTime:VX,minHorizontalSwipeDistance:HX,maxVerticalSwipeDistance:zX};const YX="MMMM YYYY",GX="W",qX="MMM",KX=["L","YYYY-MM-DD","YYYY/MM/DD"],XX=["L h:mm A","YYYY-MM-DD h:mm A","YYYY/MM/DD h:mm A"],QX=["L HH:mm","YYYY-MM-DD HH:mm","YYYY/MM/DD HH:mm"],JX=["h:mm A"],ZX=["HH:mm"],e9="WWW, MMM D, YYYY",t9=["L","YYYY-MM-DD","YYYY/MM/DD"],r9="iso",i9="YYYY-MM-DDTHH:mm:ss.SSSZ";var n9={title:YX,weekdays:GX,navMonths:qX,input:KX,inputDateTime:XX,inputDateTime24hr:QX,inputTime:JX,inputTime24hr:ZX,dayPopover:e9,data:t9,model:r9,iso:i9};const s9="640px",a9="768px",o9="1024px",l9="1280px";var u9={sm:s9,md:a9,lg:o9,xl:l9};const c9={componentPrefix:"v",color:"blue",isDark:!1,navVisibility:"click",titlePosition:"center",transition:"slide-h",touch:WX,masks:n9,screens:u9,locales:ji,datePicker:{updateOnInput:!0,inputDebounce:1e3,popover:{visibility:"hover-focus",placement:"bottom-start",keepVisibleOnInput:!1,isInteractive:!0}}},_v=Qs(c9),d9=Xi(()=>R5(_v.locales,t=>(t.masks=A0(t.masks,_v.masks),t))),zs=t=>window&&O0(window.__vcalendar__,t)?Oc(window.__vcalendar__,t):Oc(_v,t),f9={props:{color:{type:String,default:()=>zs("color")},isDark:{type:Boolean,default:()=>zs("isDark")},firstDayOfWeek:Number,masks:Object,locale:[String,Object],timezone:String,minDate:null,maxDate:null,minDateExact:null,maxDateExact:null,disabledDates:null,availableDates:null,theme:null},computed:{$theme(){return this.theme instanceof pS?this.theme:new pS({color:this.color,isDark:this.isDark})},$locale(){if(this.locale instanceof gh)return this.locale;const t=Fi(this.locale)?this.locale:{id:this.locale,firstDayOfWeek:this.firstDayOfWeek,masks:this.masks};return new gh(t,{locales:d9.value,timezone:this.timezone})},disabledDates_(){const t=this.normalizeDates(this.disabledDates),{minDate:e,minDateExact:r,maxDate:n,maxDateExact:i}=this;if(r||e){const s=r?this.normalizeDate(r):this.normalizeDate(e,{time:"00:00:00"});t.push({start:null,end:new Date(s.getTime()-1e3)})}if(i||n){const s=i?this.normalizeDate(i):this.normalizeDate(n,{time:"23:59:59"});t.push({start:new Date(s.getTime()+1e3),end:null})}return t},availableDates_(){return this.normalizeDates(this.availableDates)},disabledAttribute(){return new iA({key:"disabled",dates:this.disabledDates_,excludeDates:this.availableDates_,excludeMode:"includes",order:100},this.$theme,this.$locale)}},methods:{formatDate(t,e){return this.$locale?this.$locale.format(t,e):""},parseDate(t,e){if(!this.$locale)return null;const r=this.$locale.parse(t,e);return Hs(r)?r:null},normalizeDate(t,e){return this.$locale?this.$locale.normalizeDate(t,e):t},normalizeDates(t){return this.$locale.normalizeDates(t,{isFullDay:!0})},pageForDate(t){return this.$locale.getDateParts(this.normalizeDate(t))},pageForThisMonth(){return this.pageForDate(new Date)}}},h9={methods:{safeSlot(t,e,r=null){return ts(this.$slots[t])?this.$slots[t](e):r}}},Rp=rX,nA=f9,R0=h9,p9={name:"PopoverRow",mixins:[Rp],props:{attribute:Object},computed:{indicator(){const{highlight:t,dot:e,bar:r,popover:n}=this.attribute;if(n&&n.hideIndicator)return null;if(t){const{color:i,isDark:s}=t.start;return{style:vt(Ke({},this.theme.bgAccentHigh({color:i,isDark:!s})),{width:"10px",height:"5px",borderRadius:"3px"})}}if(e){const{color:i,isDark:s}=e.start;return{style:vt(Ke({},this.theme.bgAccentHigh({color:i,isDark:!s})),{width:"5px",height:"5px",borderRadius:"50%"})}}if(r){const{color:i,isDark:s}=r.start;return{style:vt(Ke({},this.theme.bgAccentHigh({color:i,isDark:!s})),{width:"10px",height:"3px"})}}return null}}},m9={class:"vc-day-popover-row"},g9={key:0,class:"vc-day-popover-row-indicator"},v9={class:"vc-day-popover-row-content"};function y9(t,e,r,n,i,s){return Ir(),Ni("div",m9,[s.indicator?(Ir(),Ni("div",g9,[Bt("span",{style:ip(s.indicator.style),class:En(s.indicator.class)},null,6)])):Zg("",!0),Bt("div",v9,[ah(t.$slots,"default",{},()=>[aP(Qn(r.attribute.popover?r.attribute.popover.label:"No content provided"),1)])])])}var b9=Vl(p9,[["render",y9]]);const Qd="26px",_9="0 0 32 32",T9={"left-arrow":{viewBox:"0 -1 16 34",path:"M11.196 10c0 0.143-0.071 0.304-0.179 0.411l-7.018 7.018 7.018 7.018c0.107 0.107 0.179 0.268 0.179 0.411s-0.071 0.304-0.179 0.411l-0.893 0.893c-0.107 0.107-0.268 0.179-0.411 0.179s-0.304-0.071-0.411-0.179l-8.321-8.321c-0.107-0.107-0.179-0.268-0.179-0.411s0.071-0.304 0.179-0.411l8.321-8.321c0.107-0.107 0.268-0.179 0.411-0.179s0.304 0.071 0.411 0.179l0.893 0.893c0.107 0.107 0.179 0.25 0.179 0.411z"},"right-arrow":{viewBox:"-5 -1 16 34",path:"M10.625 17.429c0 0.143-0.071 0.304-0.179 0.411l-8.321 8.321c-0.107 0.107-0.268 0.179-0.411 0.179s-0.304-0.071-0.411-0.179l-0.893-0.893c-0.107-0.107-0.179-0.25-0.179-0.411 0-0.143 0.071-0.304 0.179-0.411l7.018-7.018-7.018-7.018c-0.107-0.107-0.179-0.268-0.179-0.411s0.071-0.304 0.179-0.411l0.893-0.893c0.107-0.107 0.268-0.179 0.411-0.179s0.304 0.071 0.411 0.179l8.321 8.321c0.107 0.107 0.179 0.268 0.179 0.411z"}},x9={props:["name"],data(){return{width:Qd,height:Qd,viewBox:_9,path:"",isBaseline:!1}},mounted(){this.updateIcon()},watch:{name(){this.updateIcon()}},methods:{updateIcon(){const t=T9[this.name];t&&(this.width=t.width||Qd,this.height=t.height||Qd,this.viewBox=t.viewBox,this.path=t.path)}}},S9=["width","height","viewBox"],E9=["d"];function C9(t,e,r,n,i,s){return Ir(),Ni("svg",{class:"vc-svg-icon",width:i.width,height:i.height,viewBox:i.viewBox},[Bt("path",{d:i.path},null,8,E9)],8,S9)}var sA=Vl(x9,[["render",C9]]);const Qm=12,w9={name:"CalendarNav",emits:["input"],components:{SvgIcon:sA},mixins:[Rp],props:{value:{type:Object,default:()=>({month:0,year:0})},validator:{type:Function,default:()=>()=>!0}},data(){return{monthMode:!0,yearIndex:0,yearGroupIndex:0,onSpaceOrEnter:eA}},computed:{month(){return this.value&&this.value.month||0},year(){return this.value&&this.value.year||0},title(){return this.monthMode?this.yearIndex:`${this.firstYear} - ${this.lastYear}`},monthItems(){return this.getMonthItems(this.yearIndex)},yearItems(){return this.getYearItems(this.yearGroupIndex)},prevItemsEnabled(){return this.monthMode?this.prevMonthItemsEnabled:this.prevYearItemsEnabled},nextItemsEnabled(){return this.monthMode?this.nextMonthItemsEnabled:this.nextYearItemsEnabled},prevMonthItemsEnabled(){return this.getMonthItems(this.yearIndex-1).some(t=>!t.isDisabled)},nextMonthItemsEnabled(){return this.getMonthItems(this.yearIndex+1).some(t=>!t.isDisabled)},prevYearItemsEnabled(){return this.getYearItems(this.yearGroupIndex-1).some(t=>!t.isDisabled)},nextYearItemsEnabled(){return this.getYearItems(this.yearGroupIndex+1).some(t=>!t.isDisabled)},activeItems(){return this.monthMode?this.monthItems:this.yearItems},firstYear(){return QD(this.yearItems.map(t=>t.year))},lastYear(){return Rc(this.yearItems.map(t=>t.year))}},watch:{year(){this.yearIndex=this.year},yearIndex(t){this.yearGroupIndex=this.getYearGroupIndex(t)},value(){this.focusFirstItem()}},created(){this.yearIndex=this.year},mounted(){this.focusFirstItem()},methods:{focusFirstItem(){this.$nextTick(()=>{const t=this.$refs.navContainer.querySelector(".vc-nav-item:not(.is-disabled)");t&&t.focus()})},getItemClasses({isActive:t,isCurrent:e,isDisabled:r}){const n=["vc-nav-item"];return t?n.push("is-active"):e&&n.push("is-current"),r&&n.push("is-disabled"),n},getYearGroupIndex(t){return Math.floor(t/Qm)},getMonthItems(t){const{month:e,year:r}=this.pageForDate(new Date);return this.locale.getMonthDates().map((n,i)=>{const s=i+1;return{month:s,year:t,id:`${t}.${Tt(s,2)}`,label:this.locale.format(n,this.masks.navMonths),ariaLabel:this.locale.format(n,"MMMM YYYY"),isActive:s===this.month&&t===this.year,isCurrent:s===e&&t===r,isDisabled:!this.validator({month:s,year:t}),click:()=>this.monthClick(s,t)}})},getYearItems(t){const{_:e,year:r}=this.pageForDate(new Date),n=t*Qm,i=n+Qm,s=[];for(let a=n;a<i;a+=1){let o=!1;for(let l=1;l<12&&(o=this.validator({month:l,year:a}),!o);l++);s.push({year:a,id:a,label:a,ariaLabel:a,isActive:a===this.year,isCurrent:a===r,isDisabled:!o,click:()=>this.yearClick(a)})}return s},monthClick(t,e){this.validator({month:t,year:e})&&this.$emit("input",{month:t,year:e})},yearClick(t){this.yearIndex=t,this.monthMode=!0,this.focusFirstItem()},toggleMode(){this.monthMode=!this.monthMode},movePrev(){!this.prevItemsEnabled||(this.monthMode&&this.movePrevYear(),this.movePrevYearGroup())},moveNext(){!this.nextItemsEnabled||(this.monthMode&&this.moveNextYear(),this.moveNextYearGroup())},movePrevYear(){this.yearIndex--},moveNextYear(){this.yearIndex++},movePrevYearGroup(){this.yearGroupIndex--},moveNextYearGroup(){this.yearGroupIndex++}}},P9={class:"vc-nav-container",ref:"navContainer"},D9={class:"vc-nav-header"},A9=["tabindex"],O9=["tabindex"],R9={class:"vc-nav-items"},k9=["data-id","aria-label","tabindex","onClick","onKeydown"];function I9(t,e,r,n,i,s){const a=rP("svg-icon");return Ir(),Ni("div",P9,[Bt("div",D9,[Bt("span",{role:"button",class:En(["vc-nav-arrow is-left",{"is-disabled":!s.prevItemsEnabled}]),tabindex:s.prevItemsEnabled?0:void 0,onClick:e[0]||(e[0]=(...o)=>s.movePrev&&s.movePrev(...o)),onKeydown:e[1]||(e[1]=o=>i.onSpaceOrEnter(o,s.movePrev))},[ah(t.$slots,"nav-left-button",{},()=>[fr(a,{name:"left-arrow",width:"20px",height:"24px"})])],42,A9),Bt("span",{role:"button",class:"vc-nav-title vc-grid-focus",style:{whiteSpace:"nowrap"},tabindex:"0",onClick:e[2]||(e[2]=(...o)=>s.toggleMode&&s.toggleMode(...o)),onKeydown:e[3]||(e[3]=o=>i.onSpaceOrEnter(o,s.toggleMode))},Qn(s.title),33),Bt("span",{role:"button",class:En(["vc-nav-arrow is-right",{"is-disabled":!s.nextItemsEnabled}]),tabindex:s.nextItemsEnabled?0:void 0,onClick:e[4]||(e[4]=(...o)=>s.moveNext&&s.moveNext(...o)),onKeydown:e[5]||(e[5]=o=>i.onSpaceOrEnter(o,s.moveNext))},[ah(t.$slots,"nav-right-button",{},()=>[fr(a,{name:"right-arrow",width:"20px",height:"24px"})])],42,O9)]),Bt("div",R9,[(Ir(!0),Ni(ii,null,lP(s.activeItems,o=>(Ir(),Ni("span",{key:o.label,role:"button","data-id":o.id,"aria-label":o.ariaLabel,class:En(s.getItemClasses(o)),tabindex:o.isDisabled?void 0:0,onClick:o.click,onKeydown:l=>i.onSpaceOrEnter(l,o.click)},Qn(o.label),43,k9))),128))])],512)}var M9=Vl(w9,[["render",I9]]);function Tv(t){document&&document.dispatchEvent(new CustomEvent("show-popover",{detail:t}))}function xv(t){document&&document.dispatchEvent(new CustomEvent("hide-popover",{detail:t}))}function aA(t){document&&document.dispatchEvent(new CustomEvent("toggle-popover",{detail:t}))}function L9(t){document&&document.dispatchEvent(new CustomEvent("update-popover",{detail:t}))}function vh(t){const{visibility:e}=t,r=e==="click",n=e==="hover",i=e==="hover-focus",s=e==="focus";t.autoHide=!r;let a=!1,o=!1;const{isRenderFn:l}=t,u={click:l?"onClick":"click",mousemove:l?"onMousemove":"mousemove",mouseleave:l?"onMouseleave":"mouseleave",focusin:l?"onFocusin":"focusin",focusout:l?"onFocusout":"focusout"};return{[u.click](c){r&&(t.ref=c.target,aA(t),c.stopPropagation())},[u.mousemove](c){t.ref=c.currentTarget,a||(a=!0,(n||i)&&Tv(t))},[u.mouseleave](c){t.ref=c.target,a&&(a=!1,(n||i&&!o)&&xv(t))},[u.focusin](c){t.ref=c.currentTarget,o||(o=!0,(s||i)&&Tv(t))},[u.focusout](c){t.ref=c.currentTarget,o&&!ac(t.ref,c.relatedTarget)&&(o=!1,(s||i&&!a)&&xv(t))}}}const N9={name:"CalendarDay",emits:["dayclick","daymouseenter","daymouseleave","dayfocusin","dayfocusout","daykeydown"],mixins:[Rp,R0],inheritAttrs:!1,render(){const t=()=>this.hasBackgrounds&&Ze("div",{class:"vc-highlights vc-day-layer"},this.backgrounds.map(({key:i,wrapperClass:s,class:a,style:o})=>Ze("div",{key:i,class:s},[Ze("div",{class:a,style:o})]))),e=()=>this.safeSlot("day-content",{day:this.day,attributes:this.day.attributes,attributesMap:this.day.attributesMap,dayProps:this.dayContentProps,dayEvents:this.dayContentEvents})||Ze("span",vt(Ke(vt(Ke({},this.dayContentProps),{class:this.dayContentClass,style:this.dayContentStyle}),this.dayContentEvents),{ref:"content"}),[this.day.label]),r=()=>this.hasDots&&Ze("div",{class:"vc-day-layer vc-day-box-center-bottom"},[Ze("div",{class:"vc-dots"},this.dots.map(({key:i,class:s,style:a})=>Ze("span",{key:i,class:s,style:a})))]),n=()=>this.hasBars&&Ze("div",{class:"vc-day-layer vc-day-box-center-bottom"},[Ze("div",{class:"vc-bars"},this.bars.map(({key:i,class:s,style:a})=>Ze("span",{key:i,class:s,style:a})))]);return Ze("div",{class:["vc-day",...this.day.classes,{"vc-day-box-center-center":!this.$slots["day-content"]},{"is-not-in-month":!this.inMonth}]},[t(),e(),r(),n()])},inject:["sharedState"],props:{day:{type:Object,required:!0}},data(){return{glyphs:{},dayContentEvents:{}}},computed:{label(){return this.day.label},startTime(){return this.day.range.start.getTime()},endTime(){return this.day.range.end.getTime()},inMonth(){return this.day.inMonth},isDisabled(){return this.day.isDisabled},backgrounds(){return this.glyphs.backgrounds},hasBackgrounds(){return!!Ii(this.backgrounds)},content(){return this.glyphs.content},dots(){return this.glyphs.dots},hasDots(){return!!Ii(this.dots)},bars(){return this.glyphs.bars},hasBars(){return!!Ii(this.bars)},popovers(){return this.glyphs.popovers},hasPopovers(){return!!Ii(this.popovers)},dayContentClass(){return["vc-day-content vc-focusable",{"is-disabled":this.isDisabled},Oc(Rc(this.content),"class")||""]},dayContentStyle(){return Oc(Rc(this.content),"style")},dayContentProps(){let t;return this.day.isFocusable?t="0":this.day.inMonth&&(t="-1"),{tabindex:t,"aria-label":this.day.ariaLabel,"aria-disabled":this.day.isDisabled?"true":"false",role:"button"}},dayEvent(){return vt(Ke({},this.day),{el:this.$refs.content,popovers:this.popovers})}},watch:{theme(){this.refresh()},popovers(){this.refreshPopovers()},"day.shouldRefresh"(){this.refresh()}},mounted(){this.refreshPopovers(),this.refresh()},methods:{getDayEvent(t){return vt(Ke({},this.dayEvent),{event:t})},click(t){this.$emit("dayclick",this.getDayEvent(t))},mouseenter(t){this.$emit("daymouseenter",this.getDayEvent(t))},mouseleave(t){this.$emit("daymouseleave",this.getDayEvent(t))},focusin(t){this.$emit("dayfocusin",this.getDayEvent(t))},focusout(t){this.$emit("dayfocusout",this.getDayEvent(t))},keydown(t){this.$emit("daykeydown",this.getDayEvent(t))},refresh(){if(!this.day.shouldRefresh)return;this.day.shouldRefresh=!1;const t={backgrounds:[],dots:[],bars:[],popovers:[],content:[]};this.day.attributes=Object.values(this.day.attributesMap||{}).sort((e,r)=>e.order-r.order),this.day.attributes.forEach(e=>{const{targetDate:r}=e,{isDate:n,isComplex:i,startTime:s,endTime:a}=r,o=this.startTime<=s,l=this.endTime>=a,d={isDate:n,isComplex:i,onStart:o,onEnd:l,onStartAndEnd:o&&l,onStartOrEnd:o||l};this.processHighlight(e,d,t),this.processNonHighlight(e,"content",d,t.content),this.processNonHighlight(e,"dot",d,t.dots),this.processNonHighlight(e,"bar",d,t.bars),this.processPopover(e,t)}),this.glyphs=t},processHighlight({key:t,highlight:e},{isDate:r,isComplex:n,onStart:i,onEnd:s,onStartAndEnd:a},{backgrounds:o,content:l}){if(!e)return;const{base:u,start:c,end:d}=e;r||n?(o.push({key:t,wrapperClass:"vc-day-layer vc-day-box-center-center",class:["vc-highlight",c.class],style:c.style}),l.push({key:`${t}-content`,class:c.contentClass,style:c.contentStyle})):a?(o.push({key:t,wrapperClass:"vc-day-layer vc-day-box-center-center",class:["vc-highlight",c.class],style:c.style}),l.push({key:`${t}-content`,class:c.contentClass,style:c.contentStyle})):i?(o.push({key:`${t}-base`,wrapperClass:"vc-day-layer vc-day-box-right-center",class:["vc-highlight vc-highlight-base-start",u.class],style:u.style}),o.push({key:t,wrapperClass:"vc-day-layer vc-day-box-center-center",class:["vc-highlight",c.class],style:c.style}),l.push({key:`${t}-content`,class:c.contentClass,style:c.contentStyle})):s?(o.push({key:`${t}-base`,wrapperClass:"vc-day-layer vc-day-box-left-center",class:["vc-highlight vc-highlight-base-end",u.class],style:u.style}),o.push({key:t,wrapperClass:"vc-day-layer vc-day-box-center-center",class:["vc-highlight",d.class],style:d.style}),l.push({key:`${t}-content`,class:d.contentClass,style:d.contentStyle})):(o.push({key:`${t}-middle`,wrapperClass:"vc-day-layer vc-day-box-center-center",class:["vc-highlight vc-highlight-base-middle",u.class],style:u.style}),l.push({key:`${t}-content`,class:u.contentClass,style:u.contentStyle}))},processNonHighlight(t,e,{isDate:r,onStart:n,onEnd:i},s){if(!t[e])return;const{key:a}=t,o=`vc-${e}`,{base:l,start:u,end:c}=t[e];r||n?s.push({key:a,class:[o,u.class],style:u.style}):i?s.push({key:a,class:[o,c.class],style:c.style}):s.push({key:a,class:[o,l.class],style:l.style})},processPopover(t,{popovers:e}){const{key:r,customData:n,popover:i}=t;if(!i)return;const s=nc({key:r,customData:n,attribute:t},Ke({},i),{visibility:i.label?"hover":"click",placement:"bottom",isInteractive:!i.label});e.splice(0,0,s)},refreshPopovers(){let t={};Ii(this.popovers)&&(t=vh(nc({id:this.dayPopoverId,data:this.day,isRenderFn:!0},...this.popovers))),this.dayContentEvents=QK({onClick:this.click,onMouseenter:this.mouseenter,onMouseleave:this.mouseleave,onFocusin:this.focusin,onFocusout:this.focusout,onKeydown:this.keydown},t),L9({id:this.dayPopoverId,data:this.day})}}},F9={name:"CalendarPane",emits:["update:page","weeknumberclick"],mixins:[Rp,R0],inheritAttrs:!1,render(){const t=this.safeSlot("header",this.page)||Ze("div",{class:`vc-header align-${this.titlePosition}`},[Ze("div",Ke({class:"vc-title"},this.navPopoverEvents),[this.safeSlot("header-title",this.page,this.page.title)])]),e=this.weekdayLabels.map((l,u)=>Ze("div",{key:u+1,class:"vc-weekday"},[l])),r=this.showWeeknumbers_.startsWith("left"),n=this.showWeeknumbers_.startsWith("right");r?e.unshift(Ze("div",{class:"vc-weekday"})):n&&e.push(Ze("div",{class:"vc-weekday"}));const i=l=>Ze("div",{class:["vc-weeknumber"]},[Ze("span",{class:["vc-weeknumber-content",`is-${this.showWeeknumbers_}`],onClick:u=>{this.$emit("weeknumberclick",{weeknumber:l,days:this.page.days.filter(c=>c[this.weeknumberKey]===l),event:u})}},[l])]),s=[],{daysInWeek:a}=this.locale;this.page.days.forEach((l,u)=>{const c=u%a;(r&&c===0||n&&c===a)&&s.push(i(l[this.weeknumberKey])),s.push(Ze(N9,vt(Ke({},this.$attrs),{day:l}),this.$slots)),n&&c===a-1&&s.push(i(l[this.weeknumberKey]))});const o=Ze("div",{class:{"vc-weeks":!0,"vc-show-weeknumbers":this.showWeeknumbers_,"is-left":r,"is-right":n}},[e,s]);return Ze("div",{class:["vc-pane",`row-from-end-${this.rowFromEnd}`,`column-from-end-${this.columnFromEnd}`],ref:"pane"},[t,o])},props:{page:Object,position:Number,row:Number,rowFromEnd:Number,column:Number,columnFromEnd:Number,titlePosition:String,navVisibility:{type:String,default:()=>zs("navVisibility")},showWeeknumbers:[Boolean,String],showIsoWeeknumbers:[Boolean,String]},computed:{weeknumberKey(){return this.showWeeknumbers?"weeknumber":"isoWeeknumber"},showWeeknumbers_(){const t=this.showWeeknumbers||this.showIsoWeeknumbers;return t==null?"":zU(t)?t?"left":"":t.startsWith("right")?this.columnFromEnd>1?"right":t:this.column>1?"left":t},navPlacement(){switch(this.titlePosition){case"left":return"bottom-start";case"right":return"bottom-end";default:return"bottom"}},navPopoverEvents(){const{sharedState:t,navVisibility:e,navPlacement:r,page:n,position:i}=this;return vh({id:t.navPopoverId,visibility:e,placement:r,modifiers:[{name:"flip",options:{fallbackPlacements:["bottom"]}}],data:{page:n,position:i},isInteractive:!0,isRenderFn:!0})},weekdayLabels(){return this.locale.getWeekdayDates().map(t=>this.format(t,this.masks.weekdays))}}};class B9{constructor(e,r,n){this.theme=e,this.locale=r,this.map={},this.refresh(n,!0)}destroy(){this.theme=null,this.locale=null,this.map={},this.list=[],this.pinAttr=null}refresh(e,r){const n={},i=[];let s=null;const a=[],o=r?new Set:new Set(Object.keys(this.map));return Ii(e)&&e.forEach((l,u)=>{if(!l||!l.dates)return;const c=l.key?l.key.toString():u.toString(),d=l.order||0,f=ZK(JSON.stringify(l));let h=this.map[c];!r&&h&&h.hashcode===f?o.delete(c):(h=new iA(Ke({key:c,order:d,hashcode:f},l),this.theme,this.locale),a.push(h)),h&&h.pinPage&&(s=h),n[c]=h,i.push(h)}),this.map=n,this.list=i,this.pinAttr=s,{adds:a,deletes:Array.from(o)}}}const $9=(t,e,{maxSwipeTime:r,minHorizontalSwipeDistance:n,maxVerticalSwipeDistance:i})=>{if(!t||!t.addEventListener||!ts(e))return null;let s=0,a=0,o=null,l=!1;function u(d){const f=d.changedTouches[0];s=f.screenX,a=f.screenY,o=new Date().getTime(),l=!0}function c(d){if(!l)return;l=!1;const f=d.changedTouches[0],h=f.screenX-s,m=f.screenY-a;if(new Date().getTime()-o<r&&Math.abs(h)>=n&&Math.abs(m)<=i){const v={toLeft:!1,toRight:!1};h<0?v.toLeft=!0:v.toRight=!0,e(v)}}return zr(t,"touchstart",u,{passive:!0}),zr(t,"touchend",c,{passive:!0}),()=>{Wr(t,"touchstart",u),Wr(t,"touchend",c)}},U9={name:"Calendar",emits:["dayfocusin","dayfocusout","transition-start","transition-end","update:from-page","update:to-page"],render(){const t=this.pages.map((i,s)=>{const a=s+1,o=Math.ceil((s+1)/this.columns),l=this.rows-o+1,u=a%this.columns||this.columns,c=this.columns-u+1;return Ze(F9,vt(Ke({},this.$attrs),{key:i.key,attributes:this.store,page:i,position:a,row:o,rowFromEnd:l,column:u,columnFromEnd:c,titlePosition:this.titlePosition,canMove:this.canMove,"onUpdate:page":d=>this.move(d,{position:s+1}),onDayfocusin:d=>{this.lastFocusedDay=d,this.$emit("dayfocusin",d)},onDayfocusout:d=>{this.lastFocusedDay=null,this.$emit("dayfocusout",d)}}),this.$slots)}),e=i=>{const s=()=>this.move(i?-this.step_:this.step_),a=l=>eA(l,s),o=i?!this.canMovePrev:!this.canMoveNext;return Ze("div",{class:["vc-arrow",`is-${i?"left":"right"}`,{"is-disabled":o}],role:"button",onClick:s,onKeydown:a},[(i?this.safeSlot("header-left-button",{click:s}):this.safeSlot("header-right-button",{click:s}))||Ze(sA,{name:i?"left-arrow":"right-arrow"})])},r=()=>Ze(bv,{id:this.sharedState.navPopoverId,contentClass:"vc-nav-popover-container",ref:"navPopover"},{default:({data:i})=>{const{position:s,page:a}=i;return Ze(M9,{value:a,position:s,validator:o=>this.canMove(o,{position:s}),onInput:o=>this.move(o)},Ke({},this.$slots))}}),n=()=>Ze(bv,{id:this.sharedState.dayPopoverId,contentClass:"vc-day-popover-container"},{default:({data:i,updateLayout:s,hide:a})=>{const o=Object.values(i.attributes).filter(d=>d.popover),l=this.$locale.masks,u=this.formatDate,c=u(i.date,l.dayPopover);return this.safeSlot("day-popover",{day:i,attributes:o,masks:l,format:u,dayTitle:c,updateLayout:s,hide:a},Ze("div",[l.dayPopover&&Ze("div",{class:["vc-day-popover-header"]},[c]),o.map(d=>Ze(b9,{key:d.key,attribute:d}))]))}});return Ze("div",{"data-helptext":"Press the arrow keys to navigate by day, Home and End to navigate to week ends, PageUp and PageDown to navigate by month, Alt+PageUp and Alt+PageDown to navigate by year",class:["vc-container",`vc-${this.$theme.color}`,{"vc-is-expanded":this.isExpanded,"vc-is-dark":this.$theme.isDark}],onKeydown:this.handleKeydown,onMouseup:i=>i.preventDefault(),ref:"container"},[r(),Ze("div",{class:["vc-pane-container",{"in-transition":this.inTransition}]},[Ze(tA,{name:this.transitionName,"on-before-enter":()=>{this.inTransition=!0},"on-after-enter":()=>{this.inTransition=!1}},{default:()=>Ze("div",vt(Ke({},this.$attrs),{class:"vc-pane-layout",style:{gridTemplateColumns:`repeat(${this.columns}, 1fr)`},key:this.firstPage?this.firstPage.key:""}),t)}),Ze("div",{class:[`vc-arrows-container title-${this.titlePosition}`]},[e(!0),e(!1)]),this.$slots.footer&&this.$slots.footer()]),n()])},mixins:[nA,R0],provide(){return{sharedState:this.sharedState}},props:{rows:{type:Number,default:1},columns:{type:Number,default:1},step:Number,titlePosition:{type:String,default:()=>zs("titlePosition")},isExpanded:Boolean,fromDate:Date,toDate:Date,fromPage:Object,toPage:Object,minPage:Object,maxPage:Object,transition:String,attributes:[Object,Array],trimWeeks:Boolean,disablePageSwipe:Boolean},data(){return{pages:[],store:null,lastFocusedDay:null,focusableDay:new Date().getDate(),transitionName:"",inTransition:!1,sharedState:{navPopoverId:hh(),dayPopoverId:hh(),theme:{},masks:{},locale:{}}}},computed:{firstPage(){return QD(this.pages)},lastPage(){return Rc(this.pages)},minPage_(){return this.minPage||this.pageForDate(this.minDate)},maxPage_(){return this.maxPage||this.pageForDate(this.maxDate)},count(){return this.rows*this.columns},step_(){return this.step||this.count},canMovePrev(){return this.canMove(-this.step_)},canMoveNext(){return this.canMove(this.step_)}},watch:{$locale(){this.refreshLocale(),this.refreshPages({page:this.firstPage,ignoreCache:!0}),this.initStore()},$theme(){this.refreshTheme(),this.initStore()},fromDate(){this.refreshPages()},fromPage(t){const e=this.pages&&this.pages[0];Ym(t,e)||this.refreshPages()},toPage(t){const e=this.pages&&this.pages[this.pages.length-1];Ym(t,e)||this.refreshPages()},count(){this.refreshPages()},attributes:{handler(t){const{adds:e,deletes:r}=this.store.refresh(t);this.refreshAttrs(this.pages,e,r)},deep:!0},pages(t){this.refreshAttrs(t,this.store.list,null,!0)},disabledAttribute(){this.refreshDisabledDays()},lastFocusedDay(t){t&&(this.focusableDay=t.day,this.refreshFocusableDays())},inTransition(t){t?this.$emit("transition-start"):(this.$emit("transition-end"),this.transitionPromise&&(this.transitionPromise.resolve(!0),this.transitionPromise=null))}},created(){this.refreshLocale(),this.refreshTheme(),this.initStore(),this.refreshPages()},mounted(){this.disablePageSwipe||(this.removeHandlers=$9(this.$refs.container,({toLeft:t,toRight:e})=>{t?this.moveNext():e&&this.movePrev()},zs("touch")))},beforeUnmount(){this.pages=[],this.store.destroy(),this.store=null,this.sharedState=null,this.removeHandlers&&this.removeHandlers()},methods:{refreshLocale(){this.sharedState.locale=this.$locale,this.sharedState.masks=this.$locale.masks},refreshTheme(){this.sharedState.theme=this.$theme},canMove(t,e={}){const r=this.firstPage&&this.$locale.toPage(t,this.firstPage);if(!r)return!1;let{position:n}=e;if(ic(t)&&(n=1),!n)if(Bu(r,this.firstPage))n=-1;else if(sc(r,this.lastPage))n=1;else return!0;return Object.assign(e,this.getTargetPageRange(r,{position:n,force:!0})),JK(e.fromPage,e.toPage).some(i=>ZD(i,this.minPage_,this.maxPage_))},movePrev(t){return this.move(-this.step_,t)},moveNext(t){return this.move(this.step_,t)},move(t,e={}){const r=this.canMove(t,e);return!e.force&&!r?Promise.reject(new Error(`Move target is disabled: ${JSON.stringify(e)}`)):(this.$refs.navPopover.hide({hideDelay:0}),e.fromPage&&!Ym(e.fromPage,this.firstPage)?this.refreshPages(vt(Ke({},e),{page:e.fromPage,position:1,force:!0})):Promise.resolve(!0))},focusDate(t,e={}){return this.move(t,e).then(()=>{const r=this.$el.querySelector(`.id-${this.$locale.getDayId(t)}.in-month .vc-focusable`);return r?(r.focus(),Promise.resolve(!0)):Promise.resolve(!1)})},showPageRange(t,e){let r,n;if(Hs(t))r=this.pageForDate(t);else if(Fi(t)){const{month:a,year:o}=t,{from:l,to:u}=t;ic(a)&&ic(o)?r=t:(l||u)&&(r=Hs(l)?this.pageForDate(l):l,n=Hs(u)?this.pageForDate(u):u)}else return Promise.reject(new Error("Invalid page range provided."));const i=this.lastPage;let s=r;return sc(n,i)&&(s=Wn(n,-(this.pages.length-1))),Bu(s,r)&&(s=r),this.refreshPages(vt(Ke({},e),{page:s}))},getTargetPageRange(t,{position:e,force:r}={}){let n=null,i=null;if(vi(t)){let s=0;e=+e,isNaN(e)||(s=e>0?1-e:-(this.count+e)),n=Wn(t,s)}else n=this.getDefaultInitialPage();return i=Wn(n,this.count-1),r||(Bu(n,this.minPage_)?n=this.minPage_:sc(i,this.maxPage_)&&(n=Wn(this.maxPage_,1-this.count)),i=Wn(n,this.count-1)),{fromPage:n,toPage:i}},getDefaultInitialPage(){let t=this.fromPage||this.pageForDate(this.fromDate);if(!vi(t)){const e=this.toPage||this.pageForDate(this.toPage);vi(e)&&(t=Wn(e,1-this.count))}return vi(t)||(t=this.getPageForAttributes()),vi(t)||(t=this.pageForThisMonth()),t},refreshPages({page:t,position:e=1,force:r,transition:n,ignoreCache:i}={}){return new Promise((s,a)=>{const{fromPage:o,toPage:l}=this.getTargetPageRange(t,{position:e,force:r}),u=[];for(let c=0;c<this.count;c++)u.push(this.buildPage(Wn(o,c),i));this.refreshDisabledDays(u),this.refreshFocusableDays(u),this.transitionName=this.getPageTransition(this.pages[0],u[0],n),this.pages=u,this.$emit("update:from-page",o),this.$emit("update:to-page",l),this.transitionName&&this.transitionName!=="none"?this.transitionPromise={resolve:s,reject:a}:s(!0)})},refreshDisabledDays(t){this.getPageDays(t).forEach(e=>{e.isDisabled=!!this.disabledAttribute&&this.disabledAttribute.intersectsDay(e)})},refreshFocusableDays(t){this.getPageDays(t).forEach(e=>{e.isFocusable=e.inMonth&&e.day===this.focusableDay})},getPageDays(t=this.pages){return t.reduce((e,r)=>e.concat(r.days),[])},getPageTransition(t,e,r=this.transition){if(r==="none")return r;if(r==="fade"||!r&&this.count>1||!vi(t)||!vi(e))return"fade";const n=Bu(e,t);return r==="slide-v"?n?"slide-down":"slide-up":n?"slide-right":"slide-left"},getPageForAttributes(){let t=null;const e=this.store.pinAttr;if(e&&e.hasDates){let[r]=e.dates;r=r.start||r.date,t=this.pageForDate(r)}return t},buildPage({month:t,year:e},r){const n=`${e.toString()}-${t.toString()}`;let i=this.pages.find(s=>s.key===n);if(!i||r){const s=new Date(e,t-1,15),a=this.$locale.getMonthComps(t,e),o=this.$locale.getPrevMonthComps(t,e),l=this.$locale.getNextMonthComps(t,e);i={key:n,month:t,year:e,weeks:this.trimWeeks?a.weeks:6,title:this.$locale.format(s,this.$locale.masks.title),shortMonthLabel:this.$locale.format(s,"MMM"),monthLabel:this.$locale.format(s,"MMMM"),shortYearLabel:e.toString().substring(2),yearLabel:e.toString(),monthComps:a,prevMonthComps:o,nextMonthComps:l,canMove:u=>this.canMove(u),move:u=>this.move(u),moveThisMonth:()=>this.moveThisMonth(),movePrevMonth:()=>this.move(o),moveNextMonth:()=>this.move(l),refresh:!0},i.days=this.$locale.getCalendarDays(i)}return i},initStore(){this.store=new B9(this.$theme,this.$locale,this.attributes),this.refreshAttrs(this.pages,this.store.list,[],!0)},refreshAttrs(t=[],e=[],r=[],n){!Ii(t)||t.forEach(i=>{i.days.forEach(s=>{let a=!1,o={};n?a=!0:yv(s.attributesMap,r)?(o=vv(s.attributesMap,r),a=!0):o=s.attributesMap||{},e.forEach(l=>{const u=l.intersectsDay(s);if(u){const c=vt(Ke({},l),{targetDate:u});o[l.key]=c,a=!0}}),a&&(s.attributesMap=o,s.shouldRefresh=!0)})})},handleKeydown(t){const e=this.lastFocusedDay;e!=null&&(e.event=t,this.handleDayKeydown(e))},handleDayKeydown(t){const{dateFromTime:e,event:r}=t,n=e(12);let i=null;switch(r.key){case"ArrowLeft":{i=yn(n,-1);break}case"ArrowRight":{i=yn(n,1);break}case"ArrowUp":{i=yn(n,-7);break}case"ArrowDown":{i=yn(n,7);break}case"Home":{i=yn(n,-t.weekdayPosition+1);break}case"End":{i=yn(n,t.weekdayPositionFromEnd);break}case"PageUp":{r.altKey?i=hx(n,-1):i=dv(n,-1);break}case"PageDown":{r.altKey?i=hx(n,1):i=dv(n,1);break}}i&&(r.preventDefault(),this.focusDate(i).catch())}}},j9={inheritAttrs:!1,emits:["update:modelValue"],props:{options:Array,modelValue:null}},V9={class:"vc-select"},H9=["value"],z9=["value","disabled"],W9=Bt("div",{class:"vc-select-arrow"},[Bt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[Bt("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1);function Y9(t,e,r,n,i,s){return Ir(),Ni("div",V9,[Bt("select",oP(t.$attrs,{value:r.modelValue,onChange:e[0]||(e[0]=a=>t.$emit("update:modelValue",a.target.value))}),[(Ir(!0),Ni(ii,null,lP(r.options,a=>(Ir(),Ni("option",{key:a.value,value:a.value,disabled:a.disabled},Qn(a.label),9,z9))),128))],16,H9),W9])}var G9=Vl(j9,[["render",Y9]]);const q9=[{value:0,label:"12"},{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"},{value:4,label:"4"},{value:5,label:"5"},{value:6,label:"6"},{value:7,label:"7"},{value:8,label:"8"},{value:9,label:"9"},{value:10,label:"10"},{value:11,label:"11"}],K9=[{value:12,label:"12"},{value:13,label:"1"},{value:14,label:"2"},{value:15,label:"3"},{value:16,label:"4"},{value:17,label:"5"},{value:18,label:"6"},{value:19,label:"7"},{value:20,label:"8"},{value:21,label:"9"},{value:22,label:"10"},{value:23,label:"11"}],X9={name:"TimePicker",components:{TimeSelect:G9},emits:["update:modelValue"],props:{modelValue:{type:Object,required:!0},locale:{type:Object,required:!0},theme:{type:Object,required:!0},is24hr:{type:Boolean,default:!0},showBorder:Boolean,hourOptions:Array,minuteOptions:Array},computed:{date(){let t=this.locale.normalizeDate(this.modelValue);return this.modelValue.hours===24&&(t=new Date(t.getTime()-1)),t},hours:{get(){return this.modelValue.hours},set(t){this.updateValue(t,this.minutes)}},minutes:{get(){return this.modelValue.minutes},set(t){this.updateValue(this.hours,t)}},isAM:{get(){return this.modelValue.hours<12},set(t){let e=this.hours;t&&e>=12?e-=12:!t&&e<12&&(e+=12),this.updateValue(e,this.minutes)}},amHourOptions(){return q9.filter(t=>this.hourOptions.some(e=>e.value===t.value))},pmHourOptions(){return K9.filter(t=>this.hourOptions.some(e=>e.value===t.value))},hourOptions_(){return this.is24hr?this.hourOptions:this.isAM?this.amHourOptions:this.pmHourOptions},amDisabled(){return!Ii(this.amHourOptions)},pmDisabled(){return!Ii(this.pmHourOptions)}},methods:{updateValue(t,e=this.minutes){(t!==this.hours||e!==this.minutes)&&this.$emit("update:modelValue",vt(Ke({},this.modelValue),{hours:t,minutes:e,seconds:0,milliseconds:0}))}}},Q9=Bt("div",null,[Bt("svg",{fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24",class:"vc-time-icon",stroke:"currentColor"},[Bt("path",{d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1),J9={class:"vc-time-content"},Z9={key:0,class:"vc-time-date"},eQ={class:"vc-time-weekday"},tQ={class:"vc-time-month"},rQ={class:"vc-time-day"},iQ={class:"vc-time-year"},nQ={class:"vc-time-select"},sQ=Bt("span",{style:{margin:"0 4px"}},":",-1),aQ={key:0,class:"vc-am-pm"};function oQ(t,e,r,n,i,s){const a=rP("time-select");return Ir(),Ni("div",{class:En(["vc-time-picker",[{"vc-invalid":!r.modelValue.isValid,"vc-bordered":r.showBorder}]])},[Q9,Bt("div",J9,[s.date?(Ir(),Ni("div",Z9,[Bt("span",eQ,Qn(r.locale.format(s.date,"WWW")),1),Bt("span",tQ,Qn(r.locale.format(s.date,"MMM")),1),Bt("span",rQ,Qn(r.locale.format(s.date,"D")),1),Bt("span",iQ,Qn(r.locale.format(s.date,"YYYY")),1)])):Zg("",!0),Bt("div",nQ,[fr(a,{modelValue:s.hours,"onUpdate:modelValue":e[0]||(e[0]=o=>s.hours=o),modelModifiers:{number:!0},options:s.hourOptions_},null,8,["modelValue","options"]),sQ,fr(a,{modelValue:s.minutes,"onUpdate:modelValue":e[1]||(e[1]=o=>s.minutes=o),modelModifiers:{number:!0},options:r.minuteOptions},null,8,["modelValue","options"]),r.is24hr?Zg("",!0):(Ir(),Ni("div",aQ,[Bt("button",{class:En({active:s.isAM,"vc-disabled":s.amDisabled}),onClick:e[2]||(e[2]=PT(o=>s.isAM=!0,["prevent"])),type:"button"}," AM ",2),Bt("button",{class:En({active:!s.isAM,"vc-disabled":s.pmDisabled}),onClick:e[3]||(e[3]=PT(o=>s.isAM=!1,["prevent"])),type:"button"}," PM ",2)]))])])],2)}var lQ=Vl(X9,[["render",oQ]]);const DS={type:"auto",mask:"iso",timeAdjust:""},uQ=[DS,DS],Jd={DATE:"date",DATE_TIME:"datetime",TIME:"time"},pi={NONE:0,START:1,END:2,BOTH:3},ume={name:"DatePicker",emits:["update:modelValue","drag","dayclick","daykeydown","popover-will-show","popover-did-show","popover-will-hide","popover-did-hide"],render(){const t=(i,s)=>{if(!this.$slots.footer)return i;const a=[i,this.$slots.footer()];return s?Ze(s,a):a},e=()=>{if(!this.dateParts)return null;const i=this.isRange?this.dateParts:[this.dateParts[0]];return Ze("div",{},vt(Ke({},this.$slots),{default:()=>i.map((s,a)=>{const o=this.$locale.getHourOptions(this.modelConfig_[a].validHours,s),l=this.$locale.getMinuteOptions(this.modelConfig_[a].minuteIncrement,s);return Ze(lQ,{modelValue:s,locale:this.$locale,theme:this.$theme,is24hr:this.is24hr,showBorder:!this.isTime,isDisabled:this.isDateTime&&!s.isValid||this.isDragging,hourOptions:o,minuteOptions:l,"onUpdate:modelValue":u=>this.onTimeInput(u,a===0)})})}))},r=()=>Ze(U9,vt(Ke({},this.$attrs),{attributes:this.attributes_,theme:this.$theme,locale:this.$locale,minDate:this.minDateExact||this.minDate,maxDate:this.maxDateExact||this.maxDate,disabledDates:this.disabledDates,availableDates:this.availableDates,onDayclick:this.onDayClick,onDaykeydown:this.onDayKeydown,onDaymouseenter:this.onDayMouseEnter,ref:"calendar"}),vt(Ke({},this.$slots),{footer:()=>this.isDateTime?t(e()):t()})),n=()=>this.isTime?Ze("div",{class:["vc-container",`vc-${this.$theme.color}`,{"vc-is-dark":this.$theme.isDark}]},t(e(),"div")):r();return this.$slots.default?Ze("div",[this.$slots.default(this.slotArgs),Ze(bv,{id:this.datePickerPopoverId,placement:"bottom-start",contentClass:`vc-container${this.isDark?" vc-is-dark":""}`,"on-before-show":i=>this.$emit("popover-will-show",i),"on-after-show":i=>this.$emit("popover-did-show",i),"on-before-hide":i=>this.$emit("popover-will-hide",i),"on-after-hide":i=>this.$emit("popover-did-hide",i),ref:"popover"},{default:n})]):n()},mixins:[nA],props:{mode:{type:String,default:Jd.DATE},modelValue:{type:null,required:!0},modelConfig:{type:Object,default:()=>({})},is24hr:Boolean,minuteIncrement:Number,isRequired:Boolean,isRange:Boolean,updateOnInput:{type:Boolean,default:()=>zs("datePicker.updateOnInput")},inputDebounce:{type:Number,default:()=>zs("datePicker.inputDebounce")},popover:{type:Object,default:()=>({})},dragAttribute:Object,selectAttribute:Object,attributes:Array,validHours:[Object,Array,Function]},data(){return{value_:null,dateParts:null,activeDate:"",dragValue:null,inputValues:["",""],updateTimeout:null,watchValue:!0,datePickerPopoverId:hh()}},computed:{isDate(){return this.mode.toLowerCase()===Jd.DATE},isDateTime(){return this.mode.toLowerCase()===Jd.DATE_TIME},isTime(){return this.mode.toLowerCase()===Jd.TIME},isDragging(){return!!this.dragValue},modelConfig_(){return this.normalizeConfig(this.modelConfig,uQ)},inputMask(){const t=this.$locale.masks;return this.isTime?this.is24hr?t.inputTime24hr:t.inputTime:this.isDateTime?this.is24hr?t.inputDateTime24hr:t.inputDateTime:this.$locale.masks.input},inputMaskHasTime(){return/[Hh]/g.test(this.inputMask)},inputMaskHasDate(){return/[dD]{1,2}|Do|W{1,4}|M{1,4}|YY(?:YY)?/g.test(this.inputMask)},inputMaskPatch(){if(this.inputMaskHasTime&&this.inputMaskHasDate)return Ps.DATE_TIME;if(this.inputMaskHasDate)return Ps.DATE;if(this.inputMaskHasTime)return Ps.TIME},slotArgs(){const{isRange:t,isDragging:e,updateValue:r,showPopover:n,hidePopover:i,togglePopover:s}=this,a=t?{start:this.inputValues[0],end:this.inputValues[1]}:this.inputValues[0],o=[!0,!1].map(u=>Ke({input:this.onInputInput(u),change:this.onInputChange(u),keyup:this.onInputKeyup},vh(vt(Ke({},this.popover_),{id:this.datePickerPopoverId,callback:c=>{c.action==="show"&&c.completed&&this.onInputShow(u)}})))),l=t?{start:o[0],end:o[1]}:o[0];return{inputValue:a,inputEvents:l,isDragging:e,updateValue:r,showPopover:n,hidePopover:i,togglePopover:s,getPopoverTriggerEvents:vh}},popover_(){return A0(this.popover,zs("datePicker.popover"))},selectAttribute_(){if(!this.hasValue(this.value_))return null;const t=vt(Ke({key:"select-drag"},this.selectAttribute),{dates:this.value_,pinPage:!0}),{dot:e,bar:r,highlight:n,content:i}=t;return!e&&!r&&!n&&!i&&(t.highlight=!0),t},dragAttribute_(){if(!this.isRange||!this.hasValue(this.dragValue))return null;const t=vt(Ke({key:"select-drag"},this.dragAttribute),{dates:this.dragValue}),{dot:e,bar:r,highlight:n,content:i}=t;return!e&&!r&&!n&&!i&&(t.highlight={startEnd:{fillMode:"outline"}}),t},attributes_(){const t=ri(this.attributes)?[...this.attributes]:[];return this.dragAttribute_?t.push(this.dragAttribute_):this.selectAttribute_&&t.push(this.selectAttribute_),t}},watch:{inputMask(){this.formatInput()},modelValue(t){!this.watchValue||this.forceUpdateValue(t,{config:this.modelConfig_,formatInput:!0,hidePopover:!1})},value_(){this.refreshDateParts()},dragValue(){this.refreshDateParts()},timezone(){this.refreshDateParts(),this.forceUpdateValue(this.value_,{formatInput:!0})}},created(){this.value_=this.normalizeValue(this.modelValue,this.modelConfig_,Ps.DATE_TIME,pi.BOTH),this.forceUpdateValue(this.modelValue,{config:this.modelConfig_,formatInput:!0,hidePopover:!1}),this.refreshDateParts()},mounted(){zr(document,"keydown",this.onDocumentKeyDown),zr(document,"click",this.onDocumentClick)},beforeUnmount(){Wr(document,"keydown",this.onDocumentKeyDown),Wr(document,"click",this.onDocumentClick)},methods:{getDateParts(t){return this.$locale.getDateParts(t)},getDateFromParts(t){return this.$locale.getDateFromParts(t)},refreshDateParts(){const t=this.dragValue||this.value_,e=[];this.isRange?(t&&t.start?e.push(this.getDateParts(t.start)):e.push({}),t&&t.end?e.push(this.getDateParts(t.end)):e.push({})):t?e.push(this.getDateParts(t)):e.push({}),this.$nextTick(()=>this.dateParts=e)},onDocumentKeyDown(t){this.dragValue&&t.key==="Escape"&&(this.dragValue=null)},onDocumentClick(t){document.body.contains(t.target)&&!ac(this.$el,t.target)&&(this.dragValue=null,this.formatInput())},onDayClick(t){this.handleDayClick(t),this.$emit("dayclick",t)},onDayKeydown(t){switch(t.event.key){case" ":case"Enter":{this.handleDayClick(t),t.event.preventDefault();break}case"Escape":this.hidePopover()}this.$emit("daykeydown",t)},handleDayClick(t){const{keepVisibleOnInput:e,visibility:r}=this.popover_,n={patch:Ps.DATE,adjustTime:!0,formatInput:!0,hidePopover:this.isDate&&!e&&r!=="visible"};this.isRange?(this.isDragging?this.dragTrackingValue.end=t.date:this.dragTrackingValue=Ke({},t.range),n.isDragging=!this.isDragging,n.rangePriority=n.isDragging?pi.NONE:pi.BOTH,n.hidePopover=n.hidePopover&&!n.isDragging,this.updateValue(this.dragTrackingValue,n)):(n.clearIfEqual=!this.isRequired,this.updateValue(t.date,n))},onDayMouseEnter(t){!this.isDragging||(this.dragTrackingValue.end=t.date,this.updateValue(this.dragTrackingValue,{patch:Ps.DATE,adjustTime:!0,formatInput:!0,hidePriority:!1,rangePriority:pi.NONE}))},onTimeInput(t,e){let r=null;if(this.isRange){const n=e?t:this.dateParts[0],i=e?this.dateParts[1]:t;r={start:n,end:i}}else r=t;this.updateValue(r,{patch:Ps.TIME,rangePriority:e?pi.START:pi.END}).then(()=>this.adjustPageRange(e))},onInputInput(t){return e=>{!this.updateOnInput||this.onInputUpdate(e.target.value,t,{formatInput:!1,hidePopover:!1,debounce:this.inputDebounce})}},onInputChange(t){return e=>{this.onInputUpdate(e.target.value,t,{formatInput:!0,hidePopover:!1})}},onInputUpdate(t,e,r){this.inputValues.splice(e?0:1,1,t);const n=this.isRange?{start:this.inputValues[0],end:this.inputValues[1]||this.inputValues[0]}:t,i={type:"string",mask:this.inputMask};this.updateValue(n,vt(Ke({},r),{config:i,patch:this.inputMaskPatch,rangePriority:e?pi.START:pi.END})).then(()=>this.adjustPageRange(e))},onInputShow(t){this.adjustPageRange(t)},onInputKeyup(t){t.key==="Escape"&&this.updateValue(this.value_,{formatInput:!0,hidePopover:!0})},updateValue(t,e={}){return clearTimeout(this.updateTimeout),new Promise(r=>{const n=e,{debounce:i}=n,s=bU(n,["debounce"]);i>0?this.updateTimeout=setTimeout(()=>{this.forceUpdateValue(t,s),r(this.value_)},i):(this.forceUpdateValue(t,s),r(this.value_))})},normalizeConfig(t,e=this.modelConfig_){return t=ri(t)?t:[t.start||t,t.end||t],e.map((r,n)=>Ke(Ke({validHours:this.validHours,minuteIncrement:this.minuteIncrement},r),t[n]))},forceUpdateValue(t,{config:e=this.modelConfig_,patch:r=Ps.DATE_TIME,clearIfEqual:n=!1,formatInput:i=!0,hidePopover:s=!1,isDragging:a=this.isDragging,rangePriority:o=pi.BOTH}={}){e=this.normalizeConfig(e);let l=this.normalizeValue(t,e,r,o);!l&&this.isRequired&&(l=this.value_),l=this.adjustTimeForValue(l,e);const u=this.valueIsDisabled(l);if(u){if(a)return;l=this.value_,s=!1}const c=a?"dragValue":"value_";let d=!this.valuesAreEqual(this[c],l);if(!u&&!d&&n&&(l=null,d=!0),d){this[c]=l,a||(this.dragValue=null);const f=this.denormalizeValue(l),h=this.isDragging?"drag":"update:modelValue";this.watchValue=!1,this.$emit(h,f),this.$nextTick(()=>this.watchValue=!0)}s&&this.hidePopover(),i&&this.formatInput()},hasValue(t){return this.isRange?Fi(t)&&!!t.start&&!!t.end:!!t},normalizeValue(t,e,r,n){if(!this.hasValue(t))return null;if(this.isRange){const i={},s=t.start>t.end?t.end:t.start;i.start=this.normalizeDate(s,vt(Ke({},e[0]),{fillDate:this.value_&&this.value_.start||e[0].fillDate,patch:r}));const a=t.start>t.end?t.start:t.end;return i.end=this.normalizeDate(a,vt(Ke({},e[1]),{fillDate:this.value_&&this.value_.end||e[1].fillDate,patch:r})),this.sortRange(i,n)}return this.normalizeDate(t,vt(Ke({},e[0]),{fillDate:this.value_||e[0].fillDate,patch:r}))},adjustTimeForValue(t,e){return this.hasValue(t)?this.isRange?{start:this.$locale.adjustTimeForDate(t.start,e[0]),end:this.$locale.adjustTimeForDate(t.end,e[1])}:this.$locale.adjustTimeForDate(t,e[0]):null},sortRange(t,e=pi.NONE){const{start:r,end:n}=t;if(r>n)switch(e){case pi.START:return{start:r,end:r};case pi.END:return{start:n,end:n};case pi.BOTH:return{start:n,end:r}}return{start:r,end:n}},denormalizeValue(t,e=this.modelConfig_){return this.isRange?this.hasValue(t)?{start:this.$locale.denormalizeDate(t.start,e[0]),end:this.$locale.denormalizeDate(t.end,e[1])}:null:this.$locale.denormalizeDate(t,e[0])},valuesAreEqual(t,e){if(this.isRange){const r=this.hasValue(t),n=this.hasValue(e);return!r&&!n?!0:r!==n?!1:Gm(t.start,e.start)&&Gm(t.end,e.end)}return Gm(t,e)},valueIsDisabled(t){return this.hasValue(t)&&this.disabledAttribute&&this.disabledAttribute.intersectsDate(t)},formatInput(){this.$nextTick(()=>{const t=this.normalizeConfig({type:"string",mask:this.inputMask}),e=this.denormalizeValue(this.dragValue||this.value_,t);this.isRange?this.inputValues=[e&&e.start,e&&e.end]:this.inputValues=[e,""]})},showPopover(t={}){Tv(vt(Ke(Ke({ref:this.$el},this.popover_),t),{isInteractive:!0,id:this.datePickerPopoverId}))},hidePopover(t={}){xv(vt(Ke(Ke({hideDelay:10},this.showPopover_),t),{id:this.datePickerPopoverId}))},togglePopover(t){aA(vt(Ke(Ke({ref:this.$el},this.popover_),t),{isInteractive:!0,id:this.datePickerPopoverId}))},adjustPageRange(t){this.$nextTick(()=>{const e=this.$refs.calendar,r=this.getPageForValue(t),n=t?1:-1;r&&e&&!ZD(r,e.firstPage,e.lastPage)&&e.move(r,{position:n,transition:"fade"})})},getPageForValue(t){return this.hasValue(this.value_)?this.pageForDate(this.isRange?this.value_[t?"start":"end"]:this.value_):null},move(t,e){return this.$refs.calendar?this.$refs.calendar.move(t,e):Promise.reject(new Error("Navigation disabled while calendar is not yet displayed"))},focusDate(t,e){return this.$refs.calendar?this.$refs.calendar.focusDate(t,e):Promise.reject(new Error("Navigation disabled while calendar is not yet displayed"))}}};var $u;typeof window!="undefined"?$u=window:typeof Pt!="undefined"?$u=Pt:typeof self!="undefined"?$u=self:$u={};var J=$u,cQ={},dQ=Object.freeze(Object.defineProperty({__proto__:null,default:cQ},Symbol.toStringTag,{value:"Module"})),fQ=e0(dQ),AS=typeof Pt!="undefined"?Pt:typeof window!="undefined"?window:{},hQ=fQ,Uu;typeof document!="undefined"?Uu=document:(Uu=AS["__GLOBAL_DOCUMENT_CACHE@4"],Uu||(Uu=AS["__GLOBAL_DOCUMENT_CACHE@4"]=hQ));var Fe=Uu;function Vi(){return Vi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vi.apply(this,arguments)}var pQ=Object.freeze(Object.defineProperty({__proto__:null,default:Vi},Symbol.toStringTag,{value:"Module"})),Sv={exports:{}};(function(t,e){function r(l){if(l&&typeof l=="object"){var u=l.which||l.keyCode||l.charCode;u&&(l=u)}if(typeof l=="number")return a[l];var c=String(l),d=n[c.toLowerCase()];if(d)return d;var d=i[c.toLowerCase()];if(d)return d;if(c.length===1)return c.charCodeAt(0)}r.isEventKey=function(u,c){if(u&&typeof u=="object"){var d=u.which||u.keyCode||u.charCode;if(d==null)return!1;if(typeof c=="string"){var f=n[c.toLowerCase()];if(f)return f===d;var f=i[c.toLowerCase()];if(f)return f===d}else if(typeof c=="number")return c===d;return!1}},e=t.exports=r;var n=e.code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},i=e.aliases={windows:91,"\u21E7":16,"\u2325":18,"\u2303":17,"\u2318":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};/*!
 * Programatically add the following
 */for(s=97;s<123;s++)n[String.fromCharCode(s)]=s-32;for(var s=48;s<58;s++)n[s-48]=s;for(s=1;s<13;s++)n["f"+s]=s+111;for(s=0;s<10;s++)n["numpad "+s]=s+96;var a=e.names=e.title={};for(s in n)a[n[s]]=s;for(var o in i)n[o]=i[o]})(Sv,Sv.exports);var ot=Sv.exports;function st(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kc(t,e){return kc=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},kc(t,e)}function $e(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,kc(t,e)}var mQ=gQ;function gQ(t,e){var r,n=null;try{r=JSON.parse(t,e)}catch(i){n=i}return[n,r]}var k0={exports:{}},vQ=e0(pQ),yQ=_Q,bQ=Object.prototype.toString;function _Q(t){if(!t)return!1;var e=bQ.call(t);return e==="[object Function]"||typeof t=="function"&&e!=="[object RegExp]"||typeof window!="undefined"&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}var TQ=J,xQ=function(e,r){return r===void 0&&(r=!1),function(n,i,s){if(n){e(n);return}if(i.statusCode>=400&&i.statusCode<=599){var a=s;if(r)if(TQ.TextDecoder){var o=SQ(i.headers&&i.headers["content-type"]);try{a=new TextDecoder(o).decode(s)}catch{}}else a=String.fromCharCode.apply(null,new Uint8Array(s));e({cause:a});return}e(null,s)}};function SQ(t){return t===void 0&&(t=""),t.toLowerCase().split(";").reduce(function(e,r){var n=r.split("="),i=n[0],s=n[1];return i.trim()==="charset"?s.trim():e},"utf-8")}var EQ=xQ,oA=J,CQ=vQ,wQ=yQ;wn.httpHandler=EQ;/**
 * @license
 * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
 * Copyright (c) 2014 David Bjrklund
 * Available under the MIT license
 * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
 */var PQ=function(e){var r={};return e&&e.trim().split(`
`).forEach(function(n){var i=n.indexOf(":"),s=n.slice(0,i).trim().toLowerCase(),a=n.slice(i+1).trim();typeof r[s]=="undefined"?r[s]=a:Array.isArray(r[s])?r[s].push(a):r[s]=[r[s],a]}),r};k0.exports=wn;k0.exports.default=wn;wn.XMLHttpRequest=oA.XMLHttpRequest||RQ;wn.XDomainRequest="withCredentials"in new wn.XMLHttpRequest?wn.XMLHttpRequest:oA.XDomainRequest;DQ(["get","put","post","patch","head","delete"],function(t){wn[t==="delete"?"del":t]=function(e,r,n){return r=lA(e,r,n),r.method=t.toUpperCase(),uA(r)}});function DQ(t,e){for(var r=0;r<t.length;r++)e(t[r])}function AQ(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function lA(t,e,r){var n=t;return wQ(e)?(r=e,typeof t=="string"&&(n={uri:t})):n=CQ({},e,{uri:t}),n.callback=r,n}function wn(t,e,r){return e=lA(t,e,r),uA(e)}function uA(t){if(typeof t.callback=="undefined")throw new Error("callback argument missing");var e=!1,r=function(D,P,O){e||(e=!0,t.callback(D,P,O))};function n(){o.readyState===4&&setTimeout(a,0)}function i(){var S=void 0;if(o.response?S=o.response:S=o.responseText||OQ(o),g)try{S=JSON.parse(S)}catch{}return S}function s(S){return clearTimeout(v),S instanceof Error||(S=new Error(""+(S||"Unknown XMLHttpRequest Error"))),S.statusCode=0,r(S,x)}function a(){if(!u){var S;clearTimeout(v),t.useXDR&&o.status===void 0?S=200:S=o.status===1223?204:o.status;var D=x,P=null;return S!==0?(D={body:i(),statusCode:S,method:d,headers:{},url:c,rawRequest:o},o.getAllResponseHeaders&&(D.headers=PQ(o.getAllResponseHeaders()))):P=new Error("Internal XMLHttpRequest Error"),r(P,D,D.body)}}var o=t.xhr||null;o||(t.cors||t.useXDR?o=new wn.XDomainRequest:o=new wn.XMLHttpRequest);var l,u,c=o.url=t.uri||t.url,d=o.method=t.method||"GET",f=t.body||t.data,h=o.headers=t.headers||{},m=!!t.sync,g=!1,v,x={body:void 0,headers:{},statusCode:0,method:d,url:c,rawRequest:o};if("json"in t&&t.json!==!1&&(g=!0,h.accept||h.Accept||(h.Accept="application/json"),d!=="GET"&&d!=="HEAD"&&(h["content-type"]||h["Content-Type"]||(h["Content-Type"]="application/json"),f=JSON.stringify(t.json===!0?f:t.json))),o.onreadystatechange=n,o.onload=a,o.onerror=s,o.onprogress=function(){},o.onabort=function(){u=!0},o.ontimeout=s,o.open(d,c,!m,t.username,t.password),m||(o.withCredentials=!!t.withCredentials),!m&&t.timeout>0&&(v=setTimeout(function(){if(!u){u=!0,o.abort("timeout");var S=new Error("XMLHttpRequest timeout");S.code="ETIMEDOUT",s(S)}},t.timeout)),o.setRequestHeader)for(l in h)h.hasOwnProperty(l)&&o.setRequestHeader(l,h[l]);else if(t.headers&&!AQ(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(o.responseType=t.responseType),"beforeSend"in t&&typeof t.beforeSend=="function"&&t.beforeSend(o),o.send(f||null),o}function OQ(t){try{if(t.responseType==="document")return t.responseXML;var e=t.responseXML&&t.responseXML.documentElement.nodeName==="parsererror";if(t.responseType===""&&!e)return t.responseXML}catch{}return null}function RQ(){}var cA=k0.exports,dA={exports:{}},OS=Fe,I0=Object.create||function(){function t(){}return function(e){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();function _i(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}_i.prototype=I0(Error.prototype);_i.prototype.constructor=_i;_i.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function M0(t){function e(n,i,s,a){return(n|0)*3600+(i|0)*60+(s|0)+(a|0)/1e3}var r=t.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return r?r[3]?e(r[1],r[2],r[3].replace(":",""),r[4]):r[1]>59?e(r[1],r[2],0,r[4]):e(0,r[1],r[2],r[4]):null}function oc(){this.values=I0(null)}oc.prototype={set:function(t,e){!this.get(t)&&e!==""&&(this.values[t]=e)},get:function(t,e,r){return r?this.has(t)?this.values[t]:e[r]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,r){for(var n=0;n<r.length;++n)if(e===r[n]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e),e>=0&&e<=100)?(this.set(t,e),!0):!1}};function ju(t,e,r,n){var i=n?t.split(n):[t];for(var s in i)if(typeof i[s]=="string"){var a=i[s].split(r);if(a.length===2){var o=a[0],l=a[1];e(o,l)}}}function kQ(t,e,r){var n=t;function i(){var o=M0(t);if(o===null)throw new _i(_i.Errors.BadTimeStamp,"Malformed timestamp: "+n);return t=t.replace(/^[^\sa-zA-Z-]+/,""),o}function s(o,l){var u=new oc;ju(o,function(c,d){switch(c){case"region":for(var f=r.length-1;f>=0;f--)if(r[f].id===d){u.set(c,r[f].region);break}break;case"vertical":u.alt(c,d,["rl","lr"]);break;case"line":var h=d.split(","),m=h[0];u.integer(c,m),u.percent(c,m)&&u.set("snapToLines",!1),u.alt(c,m,["auto"]),h.length===2&&u.alt("lineAlign",h[1],["start","center","end"]);break;case"position":h=d.split(","),u.percent(c,h[0]),h.length===2&&u.alt("positionAlign",h[1],["start","center","end"]);break;case"size":u.percent(c,d);break;case"align":u.alt(c,d,["start","center","end","left","right"]);break}},/:/,/\s/),l.region=u.get("region",null),l.vertical=u.get("vertical","");try{l.line=u.get("line","auto")}catch{}l.lineAlign=u.get("lineAlign","start"),l.snapToLines=u.get("snapToLines",!0),l.size=u.get("size",100);try{l.align=u.get("align","center")}catch{l.align=u.get("align","middle")}try{l.position=u.get("position","auto")}catch{l.position=u.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},l.align)}l.positionAlign=u.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},l.align)}function a(){t=t.replace(/^\s+/,"")}if(a(),e.startTime=i(),a(),t.substr(0,3)!=="-->")throw new _i(_i.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+n);t=t.substr(3),a(),e.endTime=i(),a(),s(t,e)}var Jm=OS.createElement&&OS.createElement("textarea"),IQ={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},RS={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},MQ={v:"title",lang:"lang"},kS={rt:"ruby"};function fA(t,e){function r(){if(!e)return null;function m(v){return e=e.substr(v.length),v}var g=e.match(/^([^<]*)(<[^>]*>?)?/);return m(g[1]?g[1]:g[2])}function n(m){return Jm.innerHTML=m,m=Jm.textContent,Jm.textContent="",m}function i(m,g){return!kS[g.localName]||kS[g.localName]===m.localName}function s(m,g){var v=IQ[m];if(!v)return null;var x=t.document.createElement(v),S=MQ[m];return S&&g&&(x[S]=g.trim()),x}for(var a=t.document.createElement("div"),o=a,l,u=[];(l=r())!==null;){if(l[0]==="<"){if(l[1]==="/"){u.length&&u[u.length-1]===l.substr(2).replace(">","")&&(u.pop(),o=o.parentNode);continue}var c=M0(l.substr(1,l.length-2)),d;if(c){d=t.document.createProcessingInstruction("timestamp",c),o.appendChild(d);continue}var f=l.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!f||(d=s(f[1],f[3]),!d)||!i(o,d))continue;if(f[2]){var h=f[2].split(".");h.forEach(function(m){var g=/^bg_/.test(m),v=g?m.slice(3):m;if(RS.hasOwnProperty(v)){var x=g?"background-color":"color",S=RS[v];d.style[x]=S}}),d.className=h.join(" ")}u.push(f[1]),o.appendChild(d),o=d;continue}o.appendChild(t.document.createTextNode(n(l)))}return a}var IS=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function LQ(t){for(var e=0;e<IS.length;e++){var r=IS[e];if(t>=r[0]&&t<=r[1])return!0}return!1}function NQ(t){var e=[],r="",n;if(!t||!t.childNodes)return"ltr";function i(o,l){for(var u=l.childNodes.length-1;u>=0;u--)o.push(l.childNodes[u])}function s(o){if(!o||!o.length)return null;var l=o.pop(),u=l.textContent||l.innerText;if(u){var c=u.match(/^.*(\n|\r)/);return c?(o.length=0,c[0]):u}if(l.tagName==="ruby")return s(o);if(l.childNodes)return i(o,l),s(o)}for(i(e,t);r=s(e);)for(var a=0;a<r.length;a++)if(n=r.charCodeAt(a),LQ(n))return"rtl";return"ltr"}function FQ(t){if(typeof t.line=="number"&&(t.snapToLines||t.line>=0&&t.line<=100))return t.line;if(!t.track||!t.track.textTrackList||!t.track.textTrackList.mediaElement)return-1;for(var e=t.track,r=e.textTrackList,n=0,i=0;i<r.length&&r[i]!==e;i++)r[i].mode==="showing"&&n++;return++n*-1}function kp(){}kp.prototype.applyStyles=function(t,e){e=e||this.div;for(var r in t)t.hasOwnProperty(r)&&(e.style[r]=t[r])};kp.prototype.formatStyle=function(t,e){return t===0?0:t+e};function yh(t,e,r){kp.call(this),this.cue=e,this.cueDiv=fA(t,e.text);var n={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(n,this.cueDiv),this.div=t.document.createElement("div"),n={direction:NQ(this.cueDiv),writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:e.align==="middle"?"center":e.align,font:r.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(n),this.div.appendChild(this.cueDiv);var i=0;switch(e.positionAlign){case"start":i=e.position;break;case"center":i=e.position-e.size/2;break;case"end":i=e.position-e.size;break}e.vertical===""?this.applyStyles({left:this.formatStyle(i,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(i,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(s){this.applyStyles({top:this.formatStyle(s.top,"px"),bottom:this.formatStyle(s.bottom,"px"),left:this.formatStyle(s.left,"px"),right:this.formatStyle(s.right,"px"),height:this.formatStyle(s.height,"px"),width:this.formatStyle(s.width,"px")})}}yh.prototype=I0(kp.prototype);yh.prototype.constructor=yh;function Gr(t){var e,r,n,i;if(t.div){r=t.div.offsetHeight,n=t.div.offsetWidth,i=t.div.offsetTop;var s=(s=t.div.childNodes)&&(s=s[0])&&s.getClientRects&&s.getClientRects();t=t.div.getBoundingClientRect(),e=s?Math.max(s[0]&&s[0].height||0,t.height/s.length):0}this.left=t.left,this.right=t.right,this.top=t.top||i,this.height=t.height||r,this.bottom=t.bottom||i+(t.height||r),this.width=t.width||n,this.lineHeight=e!==void 0?e:t.lineHeight}Gr.prototype.move=function(t,e){switch(e=e!==void 0?e:this.lineHeight,t){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e;break}};Gr.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top};Gr.prototype.overlapsAny=function(t){for(var e=0;e<t.length;e++)if(this.overlaps(t[e]))return!0;return!1};Gr.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right};Gr.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}};Gr.prototype.intersectPercentage=function(t){var e=Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left)),r=Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top)),n=e*r;return n/(this.height*this.width)};Gr.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}};Gr.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,r=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,n=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t;var i={left:t.left,right:t.right,top:t.top||n,height:t.height||e,bottom:t.bottom||n+(t.height||e),width:t.width||r};return i};function BQ(t,e,r,n){function i(v,x){for(var S,D=new Gr(v),P=1,O=0;O<x.length;O++){for(;v.overlapsOppositeAxis(r,x[O])||v.within(r)&&v.overlapsAny(n);)v.move(x[O]);if(v.within(r))return v;var B=v.intersectPercentage(r);P>B&&(S=new Gr(v),P=B),v=new Gr(D)}return S||D}var s=new Gr(e),a=e.cue,o=FQ(a),l=[];if(a.snapToLines){var u;switch(a.vertical){case"":l=["+y","-y"],u="height";break;case"rl":l=["+x","-x"],u="width";break;case"lr":l=["-x","+x"],u="width";break}var c=s.lineHeight,d=c*Math.round(o),f=r[u]+c,h=l[0];Math.abs(d)>f&&(d=d<0?-1:1,d*=Math.ceil(f/c)*c),o<0&&(d+=a.vertical===""?r.height:r.width,l=l.reverse()),s.move(h,d)}else{var m=s.lineHeight/r.height*100;switch(a.lineAlign){case"center":o-=m/2;break;case"end":o-=m;break}switch(a.vertical){case"":e.applyStyles({top:e.formatStyle(o,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(o,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(o,"%")});break}l=["+y","-x","+x","-y"],s=new Gr(e)}var g=i(s,l);e.move(g.toCSSCompatValues(r))}function Hl(){}Hl.StringDecoder=function(){return{decode:function(t){if(!t)return"";if(typeof t!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}};Hl.convertCueToDOMTree=function(t,e){return!t||!e?null:fA(t,e)};var $Q=.05,UQ="sans-serif",jQ="1.5%";Hl.processCues=function(t,e,r){if(!t||!e||!r)return null;for(;r.firstChild;)r.removeChild(r.firstChild);var n=t.document.createElement("div");n.style.position="absolute",n.style.left="0",n.style.right="0",n.style.top="0",n.style.bottom="0",n.style.margin=jQ,r.appendChild(n);function i(c){for(var d=0;d<c.length;d++)if(c[d].hasBeenReset||!c[d].displayState)return!0;return!1}if(!i(e)){for(var s=0;s<e.length;s++)n.appendChild(e[s].displayState);return}var a=[],o=Gr.getSimpleBoxPosition(n),l=Math.round(o.height*$Q*100)/100,u={font:l+"px "+UQ};(function(){for(var c,d,f=0;f<e.length;f++)d=e[f],c=new yh(t,d,u),n.appendChild(c.div),BQ(t,c,o,a),d.displayState=c.div,a.push(Gr.getSimpleBoxPosition(c))})()};Hl.Parser=function(t,e,r){r||(r=e,e={}),e||(e={}),this.window=t,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=r||new TextDecoder("utf8"),this.regionList=[]};Hl.Parser.prototype={reportOrThrowError:function(t){if(t instanceof _i)this.onparsingerror&&this.onparsingerror(t);else throw t},parse:function(t){var e=this;t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));function r(){for(var c=e.buffer,d=0;d<c.length&&c[d]!=="\r"&&c[d]!==`
`;)++d;var f=c.substr(0,d);return c[d]==="\r"&&++d,c[d]===`
`&&++d,e.buffer=c.substr(d),f}function n(c){var d=new oc;if(ju(c,function(h,m){switch(h){case"id":d.set(h,m);break;case"width":d.percent(h,m);break;case"lines":d.integer(h,m);break;case"regionanchor":case"viewportanchor":var g=m.split(",");if(g.length!==2)break;var v=new oc;if(v.percent("x",g[0]),v.percent("y",g[1]),!v.has("x")||!v.has("y"))break;d.set(h+"X",v.get("x")),d.set(h+"Y",v.get("y"));break;case"scroll":d.alt(h,m,["up"]);break}},/=/,/\s/),d.has("id")){var f=new(e.vttjs.VTTRegion||e.window.VTTRegion);f.width=d.get("width",100),f.lines=d.get("lines",3),f.regionAnchorX=d.get("regionanchorX",0),f.regionAnchorY=d.get("regionanchorY",100),f.viewportAnchorX=d.get("viewportanchorX",0),f.viewportAnchorY=d.get("viewportanchorY",100),f.scroll=d.get("scroll",""),e.onregion&&e.onregion(f),e.regionList.push({id:d.get("id"),region:f})}}function i(c){var d=new oc;ju(c,function(f,h){switch(f){case"MPEGT":d.integer(f+"S",h);break;case"LOCA":d.set(f+"L",M0(h));break}},/[^\d]:/,/,/),e.ontimestampmap&&e.ontimestampmap({MPEGTS:d.get("MPEGTS"),LOCAL:d.get("LOCAL")})}function s(c){c.match(/X-TIMESTAMP-MAP/)?ju(c,function(d,f){switch(d){case"X-TIMESTAMP-MAP":i(f);break}},/=/):ju(c,function(d,f){switch(d){case"Region":n(f);break}},/:/)}try{var a;if(e.state==="INITIAL"){if(!/\r\n|\n/.test(e.buffer))return this;a=r();var o=a.match(/^WEBVTT([ \t].*)?$/);if(!o||!o[0])throw new _i(_i.Errors.BadSignature);e.state="HEADER"}for(var l=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(l?l=!1:a=r(),e.state){case"HEADER":/:/.test(a)?s(a):a||(e.state="ID");continue;case"NOTE":a||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(a)){e.state="NOTE";break}if(!a)continue;e.cue=new(e.vttjs.VTTCue||e.window.VTTCue)(0,0,"");try{e.cue.align="center"}catch{e.cue.align="middle"}if(e.state="CUE",a.indexOf("-->")===-1){e.cue.id=a;continue}case"CUE":try{kQ(a,e.cue,e.regionList)}catch(c){e.reportOrThrowError(c),e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var u=a.indexOf("-->")!==-1;if(!a||u&&(l=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+=`
`),e.cue.text+=a.replace(/\u2028/g,`
`).replace(/u2029/g,`
`);continue;case"BADCUE":a||(e.state="ID");continue}}}catch(c){e.reportOrThrowError(c),e.state==="CUETEXT"&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state=e.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),(t.cue||t.state==="HEADER")&&(t.buffer+=`

`,t.parse()),t.state==="INITIAL")throw new _i(_i.Errors.BadSignature)}catch(e){t.reportOrThrowError(e)}return t.onflush&&t.onflush(),this}};var VQ=Hl,HQ="auto",zQ={"":1,lr:1,rl:1},WQ={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function YQ(t){if(typeof t!="string")return!1;var e=zQ[t.toLowerCase()];return e?t.toLowerCase():!1}function Zm(t){if(typeof t!="string")return!1;var e=WQ[t.toLowerCase()];return e?t.toLowerCase():!1}function hA(t,e,r){this.hasBeenReset=!1;var n="",i=!1,s=t,a=e,o=r,l=null,u="",c=!0,d="auto",f="start",h="auto",m="auto",g=100,v="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return n},set:function(x){n=""+x}},pauseOnExit:{enumerable:!0,get:function(){return i},set:function(x){i=!!x}},startTime:{enumerable:!0,get:function(){return s},set:function(x){if(typeof x!="number")throw new TypeError("Start time must be set to a number.");s=x,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return a},set:function(x){if(typeof x!="number")throw new TypeError("End time must be set to a number.");a=x,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return o},set:function(x){o=""+x,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return l},set:function(x){l=x,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return u},set:function(x){var S=YQ(x);if(S===!1)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");u=S,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return c},set:function(x){c=!!x,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return d},set:function(x){if(typeof x!="number"&&x!==HQ)throw new SyntaxError("Line: an invalid number or illegal string was specified.");d=x,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return f},set:function(x){var S=Zm(x);S?(f=S,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return h},set:function(x){if(x<0||x>100)throw new Error("Position must be between 0 and 100.");h=x,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return m},set:function(x){var S=Zm(x);S?(m=S,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return g},set:function(x){if(x<0||x>100)throw new Error("Size must be between 0 and 100.");g=x,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return v},set:function(x){var S=Zm(x);if(!S)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");v=S,this.hasBeenReset=!0}}}),this.displayState=void 0}hA.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var GQ=hA,qQ={"":!0,up:!0};function KQ(t){if(typeof t!="string")return!1;var e=qQ[t.toLowerCase()];return e?t.toLowerCase():!1}function vu(t){return typeof t=="number"&&t>=0&&t<=100}function XQ(){var t=100,e=3,r=0,n=100,i=0,s=100,a="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(o){if(!vu(o))throw new Error("Width must be between 0 and 100.");t=o}},lines:{enumerable:!0,get:function(){return e},set:function(o){if(typeof o!="number")throw new TypeError("Lines must be set to a number.");e=o}},regionAnchorY:{enumerable:!0,get:function(){return n},set:function(o){if(!vu(o))throw new Error("RegionAnchorX must be between 0 and 100.");n=o}},regionAnchorX:{enumerable:!0,get:function(){return r},set:function(o){if(!vu(o))throw new Error("RegionAnchorY must be between 0 and 100.");r=o}},viewportAnchorY:{enumerable:!0,get:function(){return s},set:function(o){if(!vu(o))throw new Error("ViewportAnchorY must be between 0 and 100.");s=o}},viewportAnchorX:{enumerable:!0,get:function(){return i},set:function(o){if(!vu(o))throw new Error("ViewportAnchorX must be between 0 and 100.");i=o}},scroll:{enumerable:!0,get:function(){return a},set:function(o){var l=KQ(o);l===!1?console.warn("Scroll: an invalid or illegal string was specified."):a=l}}})}var QQ=XQ,os=J,io=dA.exports={WebVTT:VQ,VTTCue:GQ,VTTRegion:QQ};os.vttjs=io;os.WebVTT=io.WebVTT;var JQ=io.VTTCue,ZQ=io.VTTRegion,eJ=os.VTTCue,tJ=os.VTTRegion;io.shim=function(){os.VTTCue=JQ,os.VTTRegion=ZQ};io.restore=function(){os.VTTCue=eJ,os.VTTRegion=tJ};os.VTTCue||io.shim();var MS=dA.exports;function rJ(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Bf(t,e,r){return rJ()?Bf=Reflect.construct:Bf=function(i,s,a){var o=[null];o.push.apply(o,s);var l=Function.bind.apply(i,o),u=new l;return a&&kc(u,a.prototype),u},Bf.apply(null,arguments)}function iJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kc(t,e)}var pA={exports:{}};(function(t,e){(function(r){var n=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,i=/^(?=([^\/?#]*))\1([^]*)$/,s=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,o={buildAbsoluteURL:function(l,u,c){if(c=c||{},l=l.trim(),u=u.trim(),!u){if(!c.alwaysNormalize)return l;var d=o.parseURL(l);if(!d)throw new Error("Error trying to parse base URL.");return d.path=o.normalizePath(d.path),o.buildURLFromParts(d)}var f=o.parseURL(u);if(!f)throw new Error("Error trying to parse relative URL.");if(f.scheme)return c.alwaysNormalize?(f.path=o.normalizePath(f.path),o.buildURLFromParts(f)):u;var h=o.parseURL(l);if(!h)throw new Error("Error trying to parse base URL.");if(!h.netLoc&&h.path&&h.path[0]!=="/"){var m=i.exec(h.path);h.netLoc=m[1],h.path=m[2]}h.netLoc&&!h.path&&(h.path="/");var g={scheme:h.scheme,netLoc:f.netLoc,path:null,params:f.params,query:f.query,fragment:f.fragment};if(!f.netLoc&&(g.netLoc=h.netLoc,f.path[0]!=="/"))if(!f.path)g.path=h.path,f.params||(g.params=h.params,f.query||(g.query=h.query));else{var v=h.path,x=v.substring(0,v.lastIndexOf("/")+1)+f.path;g.path=o.normalizePath(x)}return g.path===null&&(g.path=c.alwaysNormalize?o.normalizePath(f.path):f.path),o.buildURLFromParts(g)},parseURL:function(l){var u=n.exec(l);return u?{scheme:u[1]||"",netLoc:u[2]||"",path:u[3]||"",params:u[4]||"",query:u[5]||"",fragment:u[6]||""}:null},normalizePath:function(l){for(l=l.split("").reverse().join("").replace(s,"");l.length!==(l=l.replace(a,"")).length;);return l.split("").reverse().join("")},buildURLFromParts:function(l){return l.scheme+l.netLoc+l.path+l.params+l.query+l.fragment}};t.exports=o})()})(pA);var LS=pA.exports,NS="http://example.com",Ip=function(e,r){if(/^[a-z]+:/i.test(r))return r;/^data:/.test(e)&&(e=J.location&&J.location.href||"");var n=typeof J.URL=="function",i=/^\/\//.test(e),s=!J.location&&!/\/\//i.test(e);if(n?e=new J.URL(e,J.location||NS):/\/\//i.test(e)||(e=LS.buildAbsoluteURL(J.location&&J.location.href||"",e)),n){var a=new URL(r,e);return s?a.href.slice(NS.length):i?a.href.slice(a.protocol.length):a.href}return LS.buildAbsoluteURL(e,r)},L0=function(){function t(){this.listeners={}}var e=t.prototype;return e.on=function(n,i){this.listeners[n]||(this.listeners[n]=[]),this.listeners[n].push(i)},e.off=function(n,i){if(!this.listeners[n])return!1;var s=this.listeners[n].indexOf(i);return this.listeners[n]=this.listeners[n].slice(0),this.listeners[n].splice(s,1),s>-1},e.trigger=function(n){var i=this.listeners[n];if(!!i)if(arguments.length===2)for(var s=i.length,a=0;a<s;++a)i[a].call(this,arguments[1]);else for(var o=Array.prototype.slice.call(arguments,1),l=i.length,u=0;u<l;++u)i[u].apply(this,o)},e.dispose=function(){this.listeners={}},e.pipe=function(n){this.on("data",function(i){n.push(i)})},t}(),nJ=function(e){return J.atob?J.atob(e):Buffer.from(e,"base64").toString("binary")};function mA(t){for(var e=nJ(t),r=new Uint8Array(e.length),n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return r}/*! @name m3u8-parser @version 4.7.0 @license Apache-2.0 */var sJ=function(t){$e(e,t);function e(){var n;return n=t.call(this)||this,n.buffer="",n}var r=e.prototype;return r.push=function(i){var s;for(this.buffer+=i,s=this.buffer.indexOf(`
`);s>-1;s=this.buffer.indexOf(`
`))this.trigger("data",this.buffer.substring(0,s)),this.buffer=this.buffer.substring(s+1)},e}(L0),aJ=String.fromCharCode(9),eg=function(e){var r=/([0-9.]*)?@?([0-9.]*)?/.exec(e||""),n={};return r[1]&&(n.length=parseInt(r[1],10)),r[2]&&(n.offset=parseInt(r[2],10)),n},oJ=function(){var e="[^=]*",r='"[^"]*"|[^,]*',n="(?:"+e+")=(?:"+r+")";return new RegExp("(?:^|,)("+n+")")},Gi=function(e){for(var r=e.split(oJ()),n={},i=r.length,s;i--;)r[i]!==""&&(s=/([^=]*)=(.*)/.exec(r[i]).slice(1),s[0]=s[0].replace(/^\s+|\s+$/g,""),s[1]=s[1].replace(/^\s+|\s+$/g,""),s[1]=s[1].replace(/^['"](.*)['"]$/g,"$1"),n[s[0]]=s[1]);return n},lJ=function(t){$e(e,t);function e(){var n;return n=t.call(this)||this,n.customParsers=[],n.tagMappers=[],n}var r=e.prototype;return r.push=function(i){var s=this,a,o;if(i=i.trim(),i.length!==0){if(i[0]!=="#"){this.trigger("data",{type:"uri",uri:i});return}var l=this.tagMappers.reduce(function(u,c){var d=c(i);return d===i?u:u.concat([d])},[i]);l.forEach(function(u){for(var c=0;c<s.customParsers.length;c++)if(s.customParsers[c].call(s,u))return;if(u.indexOf("#EXT")!==0){s.trigger("data",{type:"comment",text:u.slice(1)});return}if(u=u.replace("\r",""),a=/^#EXTM3U/.exec(u),a){s.trigger("data",{type:"tag",tagType:"m3u"});return}if(a=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(u),a){o={type:"tag",tagType:"inf"},a[1]&&(o.duration=parseFloat(a[1])),a[2]&&(o.title=a[2]),s.trigger("data",o);return}if(a=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(u),a){o={type:"tag",tagType:"targetduration"},a[1]&&(o.duration=parseInt(a[1],10)),s.trigger("data",o);return}if(a=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(u),a){o={type:"tag",tagType:"version"},a[1]&&(o.version=parseInt(a[1],10)),s.trigger("data",o);return}if(a=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(u),a){o={type:"tag",tagType:"media-sequence"},a[1]&&(o.number=parseInt(a[1],10)),s.trigger("data",o);return}if(a=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(u),a){o={type:"tag",tagType:"discontinuity-sequence"},a[1]&&(o.number=parseInt(a[1],10)),s.trigger("data",o);return}if(a=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(u),a){o={type:"tag",tagType:"playlist-type"},a[1]&&(o.playlistType=a[1]),s.trigger("data",o);return}if(a=/^#EXT-X-BYTERANGE:?(.*)?$/.exec(u),a){o=Vi(eg(a[1]),{type:"tag",tagType:"byterange"}),s.trigger("data",o);return}if(a=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(u),a){o={type:"tag",tagType:"allow-cache"},a[1]&&(o.allowed=!/NO/.test(a[1])),s.trigger("data",o);return}if(a=/^#EXT-X-MAP:?(.*)$/.exec(u),a){if(o={type:"tag",tagType:"map"},a[1]){var d=Gi(a[1]);d.URI&&(o.uri=d.URI),d.BYTERANGE&&(o.byterange=eg(d.BYTERANGE))}s.trigger("data",o);return}if(a=/^#EXT-X-STREAM-INF:?(.*)$/.exec(u),a){if(o={type:"tag",tagType:"stream-inf"},a[1]){if(o.attributes=Gi(a[1]),o.attributes.RESOLUTION){var f=o.attributes.RESOLUTION.split("x"),h={};f[0]&&(h.width=parseInt(f[0],10)),f[1]&&(h.height=parseInt(f[1],10)),o.attributes.RESOLUTION=h}o.attributes.BANDWIDTH&&(o.attributes.BANDWIDTH=parseInt(o.attributes.BANDWIDTH,10)),o.attributes["PROGRAM-ID"]&&(o.attributes["PROGRAM-ID"]=parseInt(o.attributes["PROGRAM-ID"],10))}s.trigger("data",o);return}if(a=/^#EXT-X-MEDIA:?(.*)$/.exec(u),a){o={type:"tag",tagType:"media"},a[1]&&(o.attributes=Gi(a[1])),s.trigger("data",o);return}if(a=/^#EXT-X-ENDLIST/.exec(u),a){s.trigger("data",{type:"tag",tagType:"endlist"});return}if(a=/^#EXT-X-DISCONTINUITY/.exec(u),a){s.trigger("data",{type:"tag",tagType:"discontinuity"});return}if(a=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(u),a){o={type:"tag",tagType:"program-date-time"},a[1]&&(o.dateTimeString=a[1],o.dateTimeObject=new Date(a[1])),s.trigger("data",o);return}if(a=/^#EXT-X-KEY:?(.*)$/.exec(u),a){o={type:"tag",tagType:"key"},a[1]&&(o.attributes=Gi(a[1]),o.attributes.IV&&(o.attributes.IV.substring(0,2).toLowerCase()==="0x"&&(o.attributes.IV=o.attributes.IV.substring(2)),o.attributes.IV=o.attributes.IV.match(/.{8}/g),o.attributes.IV[0]=parseInt(o.attributes.IV[0],16),o.attributes.IV[1]=parseInt(o.attributes.IV[1],16),o.attributes.IV[2]=parseInt(o.attributes.IV[2],16),o.attributes.IV[3]=parseInt(o.attributes.IV[3],16),o.attributes.IV=new Uint32Array(o.attributes.IV))),s.trigger("data",o);return}if(a=/^#EXT-X-START:?(.*)$/.exec(u),a){o={type:"tag",tagType:"start"},a[1]&&(o.attributes=Gi(a[1]),o.attributes["TIME-OFFSET"]=parseFloat(o.attributes["TIME-OFFSET"]),o.attributes.PRECISE=/YES/.test(o.attributes.PRECISE)),s.trigger("data",o);return}if(a=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(u),a){o={type:"tag",tagType:"cue-out-cont"},a[1]?o.data=a[1]:o.data="",s.trigger("data",o);return}if(a=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(u),a){o={type:"tag",tagType:"cue-out"},a[1]?o.data=a[1]:o.data="",s.trigger("data",o);return}if(a=/^#EXT-X-CUE-IN:?(.*)?$/.exec(u),a){o={type:"tag",tagType:"cue-in"},a[1]?o.data=a[1]:o.data="",s.trigger("data",o);return}if(a=/^#EXT-X-SKIP:(.*)$/.exec(u),a&&a[1]){o={type:"tag",tagType:"skip"},o.attributes=Gi(a[1]),o.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(o.attributes["SKIPPED-SEGMENTS"]=parseInt(o.attributes["SKIPPED-SEGMENTS"],10)),o.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(o.attributes["RECENTLY-REMOVED-DATERANGES"]=o.attributes["RECENTLY-REMOVED-DATERANGES"].split(aJ)),s.trigger("data",o);return}if(a=/^#EXT-X-PART:(.*)$/.exec(u),a&&a[1]){o={type:"tag",tagType:"part"},o.attributes=Gi(a[1]),["DURATION"].forEach(function(m){o.attributes.hasOwnProperty(m)&&(o.attributes[m]=parseFloat(o.attributes[m]))}),["INDEPENDENT","GAP"].forEach(function(m){o.attributes.hasOwnProperty(m)&&(o.attributes[m]=/YES/.test(o.attributes[m]))}),o.attributes.hasOwnProperty("BYTERANGE")&&(o.attributes.byterange=eg(o.attributes.BYTERANGE)),s.trigger("data",o);return}if(a=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(u),a&&a[1]){o={type:"tag",tagType:"server-control"},o.attributes=Gi(a[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(m){o.attributes.hasOwnProperty(m)&&(o.attributes[m]=parseFloat(o.attributes[m]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(m){o.attributes.hasOwnProperty(m)&&(o.attributes[m]=/YES/.test(o.attributes[m]))}),s.trigger("data",o);return}if(a=/^#EXT-X-PART-INF:(.*)$/.exec(u),a&&a[1]){o={type:"tag",tagType:"part-inf"},o.attributes=Gi(a[1]),["PART-TARGET"].forEach(function(m){o.attributes.hasOwnProperty(m)&&(o.attributes[m]=parseFloat(o.attributes[m]))}),s.trigger("data",o);return}if(a=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(u),a&&a[1]){o={type:"tag",tagType:"preload-hint"},o.attributes=Gi(a[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(m){if(o.attributes.hasOwnProperty(m)){o.attributes[m]=parseInt(o.attributes[m],10);var g=m==="BYTERANGE-LENGTH"?"length":"offset";o.attributes.byterange=o.attributes.byterange||{},o.attributes.byterange[g]=o.attributes[m],delete o.attributes[m]}}),s.trigger("data",o);return}if(a=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(u),a&&a[1]){o={type:"tag",tagType:"rendition-report"},o.attributes=Gi(a[1]),["LAST-MSN","LAST-PART"].forEach(function(m){o.attributes.hasOwnProperty(m)&&(o.attributes[m]=parseInt(o.attributes[m],10))}),s.trigger("data",o);return}s.trigger("data",{type:"tag",data:u.slice(4)})})}},r.addParser=function(i){var s=this,a=i.expression,o=i.customType,l=i.dataParser,u=i.segment;typeof l!="function"&&(l=function(d){return d}),this.customParsers.push(function(c){var d=a.exec(c);if(d)return s.trigger("data",{type:"custom",data:l(c),customType:o,segment:u}),!0})},r.addTagMapper=function(i){var s=i.expression,a=i.map,o=function(u){return s.test(u)?a(u):u};this.tagMappers.push(o)},e}(L0),uJ=function(e){return e.toLowerCase().replace(/-(\w)/g,function(r){return r[1].toUpperCase()})},Ao=function(e){var r={};return Object.keys(e).forEach(function(n){r[uJ(n)]=e[n]}),r},tg=function(e){var r=e.serverControl,n=e.targetDuration,i=e.partTargetDuration;if(!!r){var s="#EXT-X-SERVER-CONTROL",a="holdBack",o="partHoldBack",l=n&&n*3,u=i&&i*2;n&&!r.hasOwnProperty(a)&&(r[a]=l,this.trigger("info",{message:s+" defaulting HOLD-BACK to targetDuration * 3 ("+l+")."})),l&&r[a]<l&&(this.trigger("warn",{message:s+" clamping HOLD-BACK ("+r[a]+") to targetDuration * 3 ("+l+")"}),r[a]=l),i&&!r.hasOwnProperty(o)&&(r[o]=i*3,this.trigger("info",{message:s+" defaulting PART-HOLD-BACK to partTargetDuration * 3 ("+r[o]+")."})),i&&r[o]<u&&(this.trigger("warn",{message:s+" clamping PART-HOLD-BACK ("+r[o]+") to partTargetDuration * 2 ("+u+")."}),r[o]=u)}},cJ=function(t){$e(e,t);function e(){var n;n=t.call(this)||this,n.lineStream=new sJ,n.parseStream=new lJ,n.lineStream.pipe(n.parseStream);var i=st(n),s=[],a={},o,l,u=!1,c=function(){},d={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},f="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",h=0;n.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};var m=0,g=0;return n.on("end",function(){a.uri||!a.parts&&!a.preloadHints||(!a.map&&o&&(a.map=o),!a.key&&l&&(a.key=l),!a.timeline&&typeof h=="number"&&(a.timeline=h),n.manifest.preloadSegment=a)}),n.parseStream.on("data",function(v){var x,S;({tag:function(){({version:function(){v.version&&(this.manifest.version=v.version)},"allow-cache":function(){this.manifest.allowCache=v.allowed,"allowed"in v||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var O={};"length"in v&&(a.byterange=O,O.length=v.length,"offset"in v||(v.offset=m)),"offset"in v&&(a.byterange=O,O.offset=v.offset),m=O.offset+O.length},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),v.duration>0&&(a.duration=v.duration),v.duration===0&&(a.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=s},key:function(){if(!v.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if(v.attributes.METHOD==="NONE"){l=null;return}if(!v.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}if(v.attributes.KEYFORMAT==="com.apple.streamingkeydelivery"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:v.attributes};return}if(v.attributes.KEYFORMAT===f){var O=["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"];if(O.indexOf(v.attributes.METHOD)===-1){this.trigger("warn",{message:"invalid key method provided for Widevine"});return}if(v.attributes.METHOD==="SAMPLE-AES-CENC"&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),v.attributes.URI.substring(0,23)!=="data:text/plain;base64,"){this.trigger("warn",{message:"invalid key URI provided for Widevine"});return}if(!(v.attributes.KEYID&&v.attributes.KEYID.substring(0,2)==="0x")){this.trigger("warn",{message:"invalid key ID provided for Widevine"});return}this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:v.attributes.KEYFORMAT,keyId:v.attributes.KEYID.substring(2)},pssh:mA(v.attributes.URI.split(",")[1])};return}v.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),l={method:v.attributes.METHOD||"AES-128",uri:v.attributes.URI},typeof v.attributes.IV!="undefined"&&(l.iv=v.attributes.IV)},"media-sequence":function(){if(!isFinite(v.number)){this.trigger("warn",{message:"ignoring invalid media sequence: "+v.number});return}this.manifest.mediaSequence=v.number},"discontinuity-sequence":function(){if(!isFinite(v.number)){this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+v.number});return}this.manifest.discontinuitySequence=v.number,h=v.number},"playlist-type":function(){if(!/VOD|EVENT/.test(v.playlistType)){this.trigger("warn",{message:"ignoring unknown playlist type: "+v.playlist});return}this.manifest.playlistType=v.playlistType},map:function(){o={},v.uri&&(o.uri=v.uri),v.byterange&&(o.byterange=v.byterange),l&&(o.key=l)},"stream-inf":function(){if(this.manifest.playlists=s,this.manifest.mediaGroups=this.manifest.mediaGroups||d,!v.attributes){this.trigger("warn",{message:"ignoring empty stream-inf attributes"});return}a.attributes||(a.attributes={}),Vi(a.attributes,v.attributes)},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||d,!(v.attributes&&v.attributes.TYPE&&v.attributes["GROUP-ID"]&&v.attributes.NAME)){this.trigger("warn",{message:"ignoring incomplete or missing media group"});return}var O=this.manifest.mediaGroups[v.attributes.TYPE];O[v.attributes["GROUP-ID"]]=O[v.attributes["GROUP-ID"]]||{},x=O[v.attributes["GROUP-ID"]],S={default:/yes/i.test(v.attributes.DEFAULT)},S.default?S.autoselect=!0:S.autoselect=/yes/i.test(v.attributes.AUTOSELECT),v.attributes.LANGUAGE&&(S.language=v.attributes.LANGUAGE),v.attributes.URI&&(S.uri=v.attributes.URI),v.attributes["INSTREAM-ID"]&&(S.instreamId=v.attributes["INSTREAM-ID"]),v.attributes.CHARACTERISTICS&&(S.characteristics=v.attributes.CHARACTERISTICS),v.attributes.FORCED&&(S.forced=/yes/i.test(v.attributes.FORCED)),x[v.attributes.NAME]=S},discontinuity:function(){h+=1,a.discontinuity=!0,this.manifest.discontinuityStarts.push(s.length)},"program-date-time":function(){typeof this.manifest.dateTimeString=="undefined"&&(this.manifest.dateTimeString=v.dateTimeString,this.manifest.dateTimeObject=v.dateTimeObject),a.dateTimeString=v.dateTimeString,a.dateTimeObject=v.dateTimeObject},targetduration:function(){if(!isFinite(v.duration)||v.duration<0){this.trigger("warn",{message:"ignoring invalid target duration: "+v.duration});return}this.manifest.targetDuration=v.duration,tg.call(this,this.manifest)},start:function(){if(!v.attributes||isNaN(v.attributes["TIME-OFFSET"])){this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});return}this.manifest.start={timeOffset:v.attributes["TIME-OFFSET"],precise:v.attributes.PRECISE}},"cue-out":function(){a.cueOut=v.data},"cue-out-cont":function(){a.cueOutCont=v.data},"cue-in":function(){a.cueIn=v.data},skip:function(){this.manifest.skip=Ao(v.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",v.attributes,["SKIPPED-SEGMENTS"])},part:function(){var O=this;u=!0;var B=this.manifest.segments.length,z=Ao(v.attributes);a.parts=a.parts||[],a.parts.push(z),z.byterange&&(z.byterange.hasOwnProperty("offset")||(z.byterange.offset=g),g=z.byterange.offset+z.byterange.length);var U=a.parts.length-1;this.warnOnMissingAttributes_("#EXT-X-PART #"+U+" for segment #"+B,v.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach(function(Y,F){Y.hasOwnProperty("lastPart")||O.trigger("warn",{message:"#EXT-X-RENDITION-REPORT #"+F+" lacks required attribute(s): LAST-PART"})})},"server-control":function(){var O=this.manifest.serverControl=Ao(v.attributes);O.hasOwnProperty("canBlockReload")||(O.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),tg.call(this,this.manifest),O.canSkipDateranges&&!O.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint":function(){var O=this.manifest.segments.length,B=Ao(v.attributes),z=B.type&&B.type==="PART";a.preloadHints=a.preloadHints||[],a.preloadHints.push(B),B.byterange&&(B.byterange.hasOwnProperty("offset")||(B.byterange.offset=z?g:0,z&&(g=B.byterange.offset+B.byterange.length)));var U=a.preloadHints.length-1;if(this.warnOnMissingAttributes_("#EXT-X-PRELOAD-HINT #"+U+" for segment #"+O,v.attributes,["TYPE","URI"]),!!B.type)for(var Y=0;Y<a.preloadHints.length-1;Y++){var F=a.preloadHints[Y];!F.type||F.type===B.type&&this.trigger("warn",{message:"#EXT-X-PRELOAD-HINT #"+U+" for segment #"+O+" has the same TYPE "+B.type+" as preload hint #"+Y})}},"rendition-report":function(){var O=Ao(v.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(O);var B=this.manifest.renditionReports.length-1,z=["LAST-MSN","URI"];u&&z.push("LAST-PART"),this.warnOnMissingAttributes_("#EXT-X-RENDITION-REPORT #"+B,v.attributes,z)},"part-inf":function(){this.manifest.partInf=Ao(v.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",v.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),tg.call(this,this.manifest)}}[v.tagType]||c).call(i)},uri:function(){a.uri=v.uri,s.push(a),this.manifest.targetDuration&&!("duration"in a)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),a.duration=this.manifest.targetDuration),l&&(a.key=l),a.timeline=h,o&&(a.map=o),g=0,a={}},comment:function(){},custom:function(){v.segment?(a.custom=a.custom||{},a.custom[v.customType]=v.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[v.customType]=v.data)}})[v.type].call(i)}),n}var r=e.prototype;return r.warnOnMissingAttributes_=function(i,s,a){var o=[];a.forEach(function(l){s.hasOwnProperty(l)||o.push(l)}),o.length&&this.trigger("warn",{message:i+" lacks required attribute(s): "+o.join(", ")})},r.push=function(i){this.lineStream.push(i)},r.end=function(){this.lineStream.push(`
`),this.trigger("end")},r.addParser=function(i){this.parseStream.addParser(i)},r.addTagMapper=function(i){this.parseStream.addTagMapper(i)},e}(L0),Ua={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},dJ=["video","audio","text"],FS=["Video","Audio","Text"],gA=function(e){return e&&e.replace(/avc1\.(\d+)\.(\d+)/i,function(r,n,i){var s=("00"+Number(n).toString(16)).slice(-2),a=("00"+Number(i).toString(16)).slice(-2);return"avc1."+s+"00"+a})},gn=function(e){e===void 0&&(e="");var r=e.split(","),n=[];return r.forEach(function(i){i=i.trim();var s;dJ.forEach(function(a){var o=Ua[a].exec(i.toLowerCase());if(!(!o||o.length<=1)){s=a;var l=i.substring(0,o[1].length),u=i.replace(l,"");n.push({type:l,details:u,mediaType:a})}}),s||n.push({type:i,details:"",mediaType:"unknown"})}),n},fJ=function(e,r){if(!e.mediaGroups.AUDIO||!r)return null;var n=e.mediaGroups.AUDIO[r];if(!n)return null;for(var i in n){var s=n[i];if(s.default&&s.playlists)return gn(s.playlists[0].attributes.CODECS)}return null},vA=function(e){return e===void 0&&(e=""),Ua.audio.test(e.trim().toLowerCase())},hJ=function(e){return e===void 0&&(e=""),Ua.text.test(e.trim().toLowerCase())},Ic=function(e){if(!(!e||typeof e!="string")){var r=e.toLowerCase().split(",").map(function(s){return gA(s.trim())}),n="video";r.length===1&&vA(r[0])?n="audio":r.length===1&&hJ(r[0])&&(n="application");var i="mp4";return r.every(function(s){return Ua.mp4.test(s)})?i="mp4":r.every(function(s){return Ua.webm.test(s)})?i="webm":r.every(function(s){return Ua.ogg.test(s)})&&(i="ogg"),n+"/"+i+';codecs="'+e+'"'}},$f=function(e){return e===void 0&&(e=""),J.MediaSource&&J.MediaSource.isTypeSupported&&J.MediaSource.isTypeSupported(Ic(e))||!1},rg=function(e){return e===void 0&&(e=""),e.toLowerCase().split(",").every(function(r){r=r.trim();for(var n=0;n<FS.length;n++){var i=FS[n];if(Ua["muxer"+i].test(r))return!0}return!1})},BS="mp4a.40.2",pJ="avc1.4d400d",mJ=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,gJ=/^application\/dash\+xml/i,yA=function(e){return mJ.test(e)?"hls":gJ.test(e)?"dash":e==="application/vnd.videojs.vhs+json"?"vhs-json":null},vJ=function(e,r,n){r.forEach(function(i){for(var s in e.mediaGroups[i])for(var a in e.mediaGroups[i][s]){var o=e.mediaGroups[i][s][a];n(o,i,s,a)}})},ea={},no={};function N0(t,e){return e===void 0&&(e=Object),e&&typeof e.freeze=="function"?e.freeze(t):t}var bA=N0({HTML:"text/html",isHTML:function(t){return t===bA.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),_A=N0({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(t){return t===_A.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});no.freeze=N0;no.MIME_TYPE=bA;no.NAMESPACE=_A;var yJ=no,Mc=yJ.NAMESPACE;function bJ(t){return t!==""}function _J(t){return t?t.split(/[\t\n\f\r ]+/).filter(bJ):[]}function TJ(t,e){return t.hasOwnProperty(e)||(t[e]=!0),t}function $S(t){if(!t)return[];var e=_J(t);return Object.keys(e.reduce(TJ,{}))}function xJ(t){return function(e){return t&&t.indexOf(e)!==-1}}function id(t,e){for(var r in t)e[r]=t[r]}function oi(t,e){var r=t.prototype;if(!(r instanceof e)){let n=function(){};n.prototype=e.prototype,n=new n,id(r,n),t.prototype=r=n}r.constructor!=t&&(typeof t!="function"&&console.error("unknown Class:"+t),r.constructor=t)}var li={},Zi=li.ELEMENT_NODE=1,ul=li.ATTRIBUTE_NODE=2,bh=li.TEXT_NODE=3,TA=li.CDATA_SECTION_NODE=4,xA=li.ENTITY_REFERENCE_NODE=5,SJ=li.ENTITY_NODE=6,SA=li.PROCESSING_INSTRUCTION_NODE=7,EA=li.COMMENT_NODE=8,CA=li.DOCUMENT_NODE=9,wA=li.DOCUMENT_TYPE_NODE=10,ls=li.DOCUMENT_FRAGMENT_NODE=11,EJ=li.NOTATION_NODE=12,Fr={},Tr={};Fr.INDEX_SIZE_ERR=(Tr[1]="Index size error",1);Fr.DOMSTRING_SIZE_ERR=(Tr[2]="DOMString size error",2);var CJ=Fr.HIERARCHY_REQUEST_ERR=(Tr[3]="Hierarchy request error",3);Fr.WRONG_DOCUMENT_ERR=(Tr[4]="Wrong document",4);Fr.INVALID_CHARACTER_ERR=(Tr[5]="Invalid character",5);Fr.NO_DATA_ALLOWED_ERR=(Tr[6]="No data allowed",6);Fr.NO_MODIFICATION_ALLOWED_ERR=(Tr[7]="No modification allowed",7);var wJ=Fr.NOT_FOUND_ERR=(Tr[8]="Not found",8);Fr.NOT_SUPPORTED_ERR=(Tr[9]="Not supported",9);var US=Fr.INUSE_ATTRIBUTE_ERR=(Tr[10]="Attribute in use",10);Fr.INVALID_STATE_ERR=(Tr[11]="Invalid state",11);Fr.SYNTAX_ERR=(Tr[12]="Syntax error",12);Fr.INVALID_MODIFICATION_ERR=(Tr[13]="Invalid modification",13);Fr.NAMESPACE_ERR=(Tr[14]="Invalid namespace",14);Fr.INVALID_ACCESS_ERR=(Tr[15]="Invalid access",15);function Ya(t,e){if(e instanceof Error)var r=e;else r=this,Error.call(this,Tr[t]),this.message=Tr[t],Error.captureStackTrace&&Error.captureStackTrace(this,Ya);return r.code=t,e&&(this.message=this.message+": "+e),r}Ya.prototype=Error.prototype;id(Fr,Ya);function rs(){}rs.prototype={length:0,item:function(t){return this[t]||null},toString:function(t,e){for(var r=[],n=0;n<this.length;n++)Vo(this[n],r,t,e);return r.join("")}};function cl(t,e){this._node=t,this._refresh=e,F0(this)}function F0(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!=e){var r=t._refresh(t._node);BA(t,"length",r.length),id(r,t),t._inc=e}}cl.prototype.item=function(t){return F0(this),this[t]};oi(cl,rs);function _h(){}function PA(t,e){for(var r=t.length;r--;)if(t[r]===e)return r}function jS(t,e,r,n){if(n?e[PA(e,n)]=r:e[e.length++]=r,t){r.ownerElement=t;var i=t.ownerDocument;i&&(n&&OA(i,t,n),PJ(i,t,r))}}function VS(t,e,r){var n=PA(e,r);if(n>=0){for(var i=e.length-1;n<i;)e[n]=e[++n];if(e.length=i,t){var s=t.ownerDocument;s&&(OA(s,t,r),r.ownerElement=null)}}else throw Ya(wJ,new Error(t.tagName+"@"+r))}_h.prototype={length:0,item:rs.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var r=this[e];if(r.nodeName==t)return r}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new Ya(US);var r=this.getNamedItem(t.nodeName);return jS(this._ownerElement,this,t,r),r},setNamedItemNS:function(t){var e=t.ownerElement,r;if(e&&e!=this._ownerElement)throw new Ya(US);return r=this.getNamedItemNS(t.namespaceURI,t.localName),jS(this._ownerElement,this,t,r),r},removeNamedItem:function(t){var e=this.getNamedItem(t);return VS(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var r=this.getNamedItemNS(t,e);return VS(this._ownerElement,this,r),r},getNamedItemNS:function(t,e){for(var r=this.length;r--;){var n=this[r];if(n.localName==e&&n.namespaceURI==t)return n}return null}};function DA(){}DA.prototype={hasFeature:function(t,e){return!0},createDocument:function(t,e,r){var n=new nd;if(n.implementation=this,n.childNodes=new rs,n.doctype=r||null,r&&n.appendChild(r),e){var i=n.createElementNS(t,e);n.appendChild(i)}return n},createDocumentType:function(t,e,r){var n=new Mp;return n.name=t,n.nodeName=t,n.publicId=e||"",n.systemId=r||"",n}};function Br(){}Br.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return kA(this,t,e)},replaceChild:function(t,e){this.insertBefore(t,e),e&&this.removeChild(e)},removeChild:function(t){return RA(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(t){return Ev(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==bh&&t.nodeType==bh?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var r=e._nsMap;if(r){for(var n in r)if(r[n]==t)return n}e=e.nodeType==ul?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var r=e._nsMap;if(r&&t in r)return r[t];e=e.nodeType==ul?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){var e=this.lookupPrefix(t);return e==null}};function AA(t){return t=="<"&&"&lt;"||t==">"&&"&gt;"||t=="&"&&"&amp;"||t=='"'&&"&quot;"||"&#"+t.charCodeAt()+";"}id(li,Br);id(li,Br.prototype);function Lc(t,e){if(e(t))return!0;if(t=t.firstChild)do if(Lc(t,e))return!0;while(t=t.nextSibling)}function nd(){}function PJ(t,e,r){t&&t._inc++;var n=r.namespaceURI;n===Mc.XMLNS&&(e._nsMap[r.prefix?r.localName:""]=r.value)}function OA(t,e,r,n){t&&t._inc++;var i=r.namespaceURI;i===Mc.XMLNS&&delete e._nsMap[r.prefix?r.localName:""]}function B0(t,e,r){if(t&&t._inc){t._inc++;var n=e.childNodes;if(r)n[n.length++]=r;else{for(var i=e.firstChild,s=0;i;)n[s++]=i,i=i.nextSibling;n.length=s}}}function RA(t,e){var r=e.previousSibling,n=e.nextSibling;return r?r.nextSibling=n:t.firstChild=n,n?n.previousSibling=r:t.lastChild=r,B0(t.ownerDocument,t),e}function kA(t,e,r){var n=e.parentNode;if(n&&n.removeChild(e),e.nodeType===ls){var i=e.firstChild;if(i==null)return e;var s=e.lastChild}else i=s=e;var a=r?r.previousSibling:t.lastChild;i.previousSibling=a,s.nextSibling=r,a?a.nextSibling=i:t.firstChild=i,r==null?t.lastChild=s:r.previousSibling=s;do i.parentNode=t;while(i!==s&&(i=i.nextSibling));return B0(t.ownerDocument||t,t),e.nodeType==ls&&(e.firstChild=e.lastChild=null),e}function DJ(t,e){var r=e.parentNode;if(r){var n=t.lastChild;r.removeChild(e);var n=t.lastChild}var n=t.lastChild;return e.parentNode=t,e.previousSibling=n,e.nextSibling=null,n?n.nextSibling=e:t.firstChild=e,t.lastChild=e,B0(t.ownerDocument,t,e),e}nd.prototype={nodeName:"#document",nodeType:CA,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==ls){for(var r=t.firstChild;r;){var n=r.nextSibling;this.insertBefore(r,e),r=n}return t}return this.documentElement==null&&t.nodeType==Zi&&(this.documentElement=t),kA(this,t,e),t.ownerDocument=this,t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),RA(this,t)},importNode:function(t,e){return FA(this,t,e)},getElementById:function(t){var e=null;return Lc(this.documentElement,function(r){if(r.nodeType==Zi&&r.getAttribute("id")==t)return e=r,!0}),e},getElementsByClassName:function(t){var e=$S(t);return new cl(this,function(r){var n=[];return e.length>0&&Lc(r.documentElement,function(i){if(i!==r&&i.nodeType===Zi){var s=i.getAttribute("class");if(s){var a=t===s;if(!a){var o=$S(s);a=e.every(xJ(o))}a&&n.push(i)}}}),n})},createElement:function(t){var e=new Ga;e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.localName=t,e.childNodes=new rs;var r=e.attributes=new _h;return r._ownerElement=e,e},createDocumentFragment:function(){var t=new Lp;return t.ownerDocument=this,t.childNodes=new rs,t},createTextNode:function(t){var e=new $0;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new U0;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new j0;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var r=new H0;return r.ownerDocument=this,r.tagName=r.target=t,r.nodeValue=r.data=e,r},createAttribute:function(t){var e=new Th;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new V0;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var r=new Ga,n=e.split(":"),i=r.attributes=new _h;return r.childNodes=new rs,r.ownerDocument=this,r.nodeName=e,r.tagName=e,r.namespaceURI=t,n.length==2?(r.prefix=n[0],r.localName=n[1]):r.localName=e,i._ownerElement=r,r},createAttributeNS:function(t,e){var r=new Th,n=e.split(":");return r.ownerDocument=this,r.nodeName=e,r.name=e,r.namespaceURI=t,r.specified=!0,n.length==2?(r.prefix=n[0],r.localName=n[1]):r.localName=e,r}};oi(nd,Br);function Ga(){this._nsMap={}}Ga.prototype={nodeType:Zi,hasAttribute:function(t){return this.getAttributeNode(t)!=null},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var r=this.ownerDocument.createAttribute(t);r.value=r.nodeValue=""+e,this.setAttributeNode(r)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===ls?this.insertBefore(t,null):DJ(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var r=this.getAttributeNodeNS(t,e);r&&this.removeAttributeNode(r)},hasAttributeNS:function(t,e){return this.getAttributeNodeNS(t,e)!=null},getAttributeNS:function(t,e){var r=this.getAttributeNodeNS(t,e);return r&&r.value||""},setAttributeNS:function(t,e,r){var n=this.ownerDocument.createAttributeNS(t,e);n.value=n.nodeValue=""+r,this.setAttributeNode(n)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new cl(this,function(e){var r=[];return Lc(e,function(n){n!==e&&n.nodeType==Zi&&(t==="*"||n.tagName==t)&&r.push(n)}),r})},getElementsByTagNameNS:function(t,e){return new cl(this,function(r){var n=[];return Lc(r,function(i){i!==r&&i.nodeType===Zi&&(t==="*"||i.namespaceURI===t)&&(e==="*"||i.localName==e)&&n.push(i)}),n})}};nd.prototype.getElementsByTagName=Ga.prototype.getElementsByTagName;nd.prototype.getElementsByTagNameNS=Ga.prototype.getElementsByTagNameNS;oi(Ga,Br);function Th(){}Th.prototype.nodeType=ul;oi(Th,Br);function sd(){}sd.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(Tr[CJ])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,r){var n=this.data.substring(0,t),i=this.data.substring(t+e);r=n+r+i,this.nodeValue=this.data=r,this.length=r.length}};oi(sd,Br);function $0(){}$0.prototype={nodeName:"#text",nodeType:bh,splitText:function(t){var e=this.data,r=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var n=this.ownerDocument.createTextNode(r);return this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling),n}};oi($0,sd);function U0(){}U0.prototype={nodeName:"#comment",nodeType:EA};oi(U0,sd);function j0(){}j0.prototype={nodeName:"#cdata-section",nodeType:TA};oi(j0,sd);function Mp(){}Mp.prototype.nodeType=wA;oi(Mp,Br);function IA(){}IA.prototype.nodeType=EJ;oi(IA,Br);function MA(){}MA.prototype.nodeType=SJ;oi(MA,Br);function V0(){}V0.prototype.nodeType=xA;oi(V0,Br);function Lp(){}Lp.prototype.nodeName="#document-fragment";Lp.prototype.nodeType=ls;oi(Lp,Br);function H0(){}H0.prototype.nodeType=SA;oi(H0,Br);function LA(){}LA.prototype.serializeToString=function(t,e,r){return NA.call(t,e,r)};Br.prototype.toString=NA;function NA(t,e){var r=[],n=this.nodeType==9&&this.documentElement||this,i=n.prefix,s=n.namespaceURI;if(s&&i==null){var i=n.lookupPrefix(s);if(i==null)var a=[{namespace:s,prefix:null}]}return Vo(this,r,t,e,a),r.join("")}function HS(t,e,r){var n=t.prefix||"",i=t.namespaceURI;if(!i||n==="xml"&&i===Mc.XML||i===Mc.XMLNS)return!1;for(var s=r.length;s--;){var a=r[s];if(a.prefix===n)return a.namespace!==i}return!0}function ig(t,e,r){t.push(" ",e,'="',r.replace(/[<&"]/g,AA),'"')}function Vo(t,e,r,n,i){if(i||(i=[]),n)if(t=n(t),t){if(typeof t=="string"){e.push(t);return}}else return;switch(t.nodeType){case Zi:var s=t.attributes,a=s.length,x=t.firstChild,o=t.tagName;r=Mc.isHTML(t.namespaceURI)||r;var l=o;if(!r&&!t.prefix&&t.namespaceURI){for(var u,c=0;c<s.length;c++)if(s.item(c).name==="xmlns"){u=s.item(c).value;break}if(!u)for(var d=i.length-1;d>=0;d--){var f=i[d];if(f.prefix===""&&f.namespace===t.namespaceURI){u=f.namespace;break}}if(u!==t.namespaceURI)for(var d=i.length-1;d>=0;d--){var f=i[d];if(f.namespace===t.namespaceURI){f.prefix&&(l=f.prefix+":"+o);break}}}e.push("<",l);for(var h=0;h<a;h++){var m=s.item(h);m.prefix=="xmlns"?i.push({prefix:m.localName,namespace:m.value}):m.nodeName=="xmlns"&&i.push({prefix:"",namespace:m.value})}for(var h=0;h<a;h++){var m=s.item(h);if(HS(m,r,i)){var g=m.prefix||"",v=m.namespaceURI;ig(e,g?"xmlns:"+g:"xmlns",v),i.push({prefix:g,namespace:v})}Vo(m,e,r,n,i)}if(o===l&&HS(t,r,i)){var g=t.prefix||"",v=t.namespaceURI;ig(e,g?"xmlns:"+g:"xmlns",v),i.push({prefix:g,namespace:v})}if(x||r&&!/^(?:meta|link|img|br|hr|input)$/i.test(o)){if(e.push(">"),r&&/^script$/i.test(o))for(;x;)x.data?e.push(x.data):Vo(x,e,r,n,i.slice()),x=x.nextSibling;else for(;x;)Vo(x,e,r,n,i.slice()),x=x.nextSibling;e.push("</",l,">")}else e.push("/>");return;case CA:case ls:for(var x=t.firstChild;x;)Vo(x,e,r,n,i.slice()),x=x.nextSibling;return;case ul:return ig(e,t.name,t.value);case bh:return e.push(t.data.replace(/[<&]/g,AA).replace(/]]>/g,"]]&gt;"));case TA:return e.push("<![CDATA[",t.data,"]]>");case EA:return e.push("<!--",t.data,"-->");case wA:var S=t.publicId,D=t.systemId;if(e.push("<!DOCTYPE ",t.name),S)e.push(" PUBLIC ",S),D&&D!="."&&e.push(" ",D),e.push(">");else if(D&&D!=".")e.push(" SYSTEM ",D,">");else{var P=t.internalSubset;P&&e.push(" [",P,"]"),e.push(">")}return;case SA:return e.push("<?",t.target," ",t.data,"?>");case xA:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function FA(t,e,r){var n;switch(e.nodeType){case Zi:n=e.cloneNode(!1),n.ownerDocument=t;case ls:break;case ul:r=!0;break}if(n||(n=e.cloneNode(!1)),n.ownerDocument=t,n.parentNode=null,r)for(var i=e.firstChild;i;)n.appendChild(FA(t,i,r)),i=i.nextSibling;return n}function Ev(t,e,r){var n=new e.constructor;for(var i in e){var s=e[i];typeof s!="object"&&s!=n[i]&&(n[i]=s)}switch(e.childNodes&&(n.childNodes=new rs),n.ownerDocument=t,n.nodeType){case Zi:var a=e.attributes,o=n.attributes=new _h,l=a.length;o._ownerElement=n;for(var u=0;u<l;u++)n.setAttributeNode(Ev(t,a.item(u),!0));break;case ul:r=!0}if(r)for(var c=e.firstChild;c;)n.appendChild(Ev(t,c,r)),c=c.nextSibling;return n}function BA(t,e,r){t[e]=r}try{if(Object.defineProperty){let t=function(e){switch(e.nodeType){case Zi:case ls:var r=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&r.push(t(e)),e=e.nextSibling;return r.join("");default:return e.nodeValue}};Object.defineProperty(cl.prototype,"length",{get:function(){return F0(this),this.$$length}}),Object.defineProperty(Br.prototype,"textContent",{get:function(){return t(this)},set:function(e){switch(this.nodeType){case Zi:case ls:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),BA=function(e,r,n){e["$$"+r]=n}}}catch{}ea.DocumentType=Mp;ea.DOMException=Ya;ea.DOMImplementation=DA;ea.Element=Ga;ea.Node=Br;ea.NodeList=rs;ea.XMLSerializer=LA;var ad={},$A={};(function(t){var e=no.freeze;t.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=e({lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"\xC0",Aacute:"\xC1",Acirc:"\xC2",Atilde:"\xC3",Auml:"\xC4",Aring:"\xC5",AElig:"\xC6",Ccedil:"\xC7",Egrave:"\xC8",Eacute:"\xC9",Ecirc:"\xCA",Euml:"\xCB",Igrave:"\xCC",Iacute:"\xCD",Icirc:"\xCE",Iuml:"\xCF",ETH:"\xD0",Ntilde:"\xD1",Ograve:"\xD2",Oacute:"\xD3",Ocirc:"\xD4",Otilde:"\xD5",Ouml:"\xD6",Oslash:"\xD8",Ugrave:"\xD9",Uacute:"\xDA",Ucirc:"\xDB",Uuml:"\xDC",Yacute:"\xDD",THORN:"\xDE",szlig:"\xDF",agrave:"\xE0",aacute:"\xE1",acirc:"\xE2",atilde:"\xE3",auml:"\xE4",aring:"\xE5",aelig:"\xE6",ccedil:"\xE7",egrave:"\xE8",eacute:"\xE9",ecirc:"\xEA",euml:"\xEB",igrave:"\xEC",iacute:"\xED",icirc:"\xEE",iuml:"\xEF",eth:"\xF0",ntilde:"\xF1",ograve:"\xF2",oacute:"\xF3",ocirc:"\xF4",otilde:"\xF5",ouml:"\xF6",oslash:"\xF8",ugrave:"\xF9",uacute:"\xFA",ucirc:"\xFB",uuml:"\xFC",yacute:"\xFD",thorn:"\xFE",yuml:"\xFF",nbsp:"\xA0",iexcl:"\xA1",cent:"\xA2",pound:"\xA3",curren:"\xA4",yen:"\xA5",brvbar:"\xA6",sect:"\xA7",uml:"\xA8",copy:"\xA9",ordf:"\xAA",laquo:"\xAB",not:"\xAC",shy:"\xAD\xAD",reg:"\xAE",macr:"\xAF",deg:"\xB0",plusmn:"\xB1",sup2:"\xB2",sup3:"\xB3",acute:"\xB4",micro:"\xB5",para:"\xB6",middot:"\xB7",cedil:"\xB8",sup1:"\xB9",ordm:"\xBA",raquo:"\xBB",frac14:"\xBC",frac12:"\xBD",frac34:"\xBE",iquest:"\xBF",times:"\xD7",divide:"\xF7",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220B",prod:"\u220F",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221A",prop:"\u221D",infin:"\u221E",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222A",int:"\u222B",there4:"\u2234",sim:"\u223C",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22A5",sdot:"\u22C5",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039A",Lambda:"\u039B",Mu:"\u039C",Nu:"\u039D",Xi:"\u039E",Omicron:"\u039F",Pi:"\u03A0",Rho:"\u03A1",Sigma:"\u03A3",Tau:"\u03A4",Upsilon:"\u03A5",Phi:"\u03A6",Chi:"\u03A7",Psi:"\u03A8",Omega:"\u03A9",alpha:"\u03B1",beta:"\u03B2",gamma:"\u03B3",delta:"\u03B4",epsilon:"\u03B5",zeta:"\u03B6",eta:"\u03B7",theta:"\u03B8",iota:"\u03B9",kappa:"\u03BA",lambda:"\u03BB",mu:"\u03BC",nu:"\u03BD",xi:"\u03BE",omicron:"\u03BF",pi:"\u03C0",rho:"\u03C1",sigmaf:"\u03C2",sigma:"\u03C3",tau:"\u03C4",upsilon:"\u03C5",phi:"\u03C6",chi:"\u03C7",psi:"\u03C8",omega:"\u03C9",thetasym:"\u03D1",upsih:"\u03D2",piv:"\u03D6",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02C6",tilde:"\u02DC",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200C",zwj:"\u200D",lrm:"\u200E",rlm:"\u200F",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201A",ldquo:"\u201C",rdquo:"\u201D",bdquo:"\u201E",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203A",oline:"\u203E",euro:"\u20AC",trade:"\u2122",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21B5",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230A",rfloor:"\u230B",loz:"\u25CA",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666"}),t.entityMap=t.HTML_ENTITIES})($A);var z0={},Nc=no.NAMESPACE,Cv=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,zS=new RegExp("[\\-\\.0-9"+Cv.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),WS=new RegExp("^"+Cv.source+zS.source+"*(?::"+Cv.source+zS.source+"*)?$"),yu=0,As=1,Oo=2,bu=3,Ro=4,ko=5,_u=6,Zd=7;function dl(t,e){this.message=t,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,dl)}dl.prototype=new Error;dl.prototype.name=dl.name;function UA(){}UA.prototype={parse:function(t,e,r){var n=this.domBuilder;n.startDocument(),jA(e,e={}),AJ(t,e,r,n,this.errorHandler),n.endDocument()}};function AJ(t,e,r,n,i){function s(Se){if(Se>65535){Se-=65536;var Ae=55296+(Se>>10),he=56320+(Se&1023);return String.fromCharCode(Ae,he)}else return String.fromCharCode(Se)}function a(Se){var Ae=Se.slice(1,-1);return Ae in r?r[Ae]:Ae.charAt(0)==="#"?s(parseInt(Ae.substr(1).replace("x","0x"))):(i.error("entity not found:"+Se),Se)}function o(Se){if(Se>g){var Ae=t.substring(g,Se).replace(/&#?\w+;/g,a);f&&l(g),n.characters(Ae,0,Se-g),g=Se}}function l(Se,Ae){for(;Se>=c&&(Ae=d.exec(t));)u=Ae.index,c=u+Ae[0].length,f.lineNumber++;f.columnNumber=Se-u+1}for(var u=0,c=0,d=/.*(?:\r\n?|\n)|.*$/g,f=n.locator,h=[{currentNSMap:e}],m={},g=0;;){try{var v=t.indexOf("<",g);if(v<0){if(!t.substr(g).match(/^\s*$/)){var x=n.doc,S=x.createTextNode(t.substr(g));x.appendChild(S),n.currentElement=S}return}switch(v>g&&o(v),t.charAt(v+1)){case"/":var ue=t.indexOf(">",v+3),D=t.substring(v+2,ue).replace(/[ \t\n\r]+$/g,""),P=h.pop();ue<0?(D=t.substring(v+2).replace(/[\s<].*/,""),i.error("end tag name: "+D+" is not complete:"+P.tagName),ue=v+1+D.length):D.match(/\s</)&&(D=D.replace(/[\s<].*/,""),i.error("end tag name: "+D+" maybe not complete"),ue=v+1+D.length);var O=P.localNSMap,B=P.tagName==D,z=B||P.tagName&&P.tagName.toLowerCase()==D.toLowerCase();if(z){if(n.endElement(P.uri,P.localName,D),O)for(var U in O)n.endPrefixMapping(U);B||i.fatalError("end tag name: "+D+" is not match the current start tagName:"+P.tagName)}else h.push(P);ue++;break;case"?":f&&l(v),ue=MJ(t,v,n);break;case"!":f&&l(v),ue=IJ(t,v,n,i);break;default:f&&l(v);var Y=new VA,F=h[h.length-1].currentNSMap,ue=OJ(t,v,Y,F,a,i),X=Y.length;if(!Y.closed&&kJ(t,ue,Y.tagName,m)&&(Y.closed=!0,r.nbsp||i.warning("unclosed xml attribute")),f&&X){for(var me=YS(f,{}),xe=0;xe<X;xe++){var ge=Y[xe];l(ge.offset),ge.locator=YS(f,{})}n.locator=me,GS(Y,n,F)&&h.push(Y),n.locator=f}else GS(Y,n,F)&&h.push(Y);Nc.isHTML(Y.uri)&&!Y.closed?ue=RJ(t,ue,Y.tagName,a,n):ue++}}catch(Se){if(Se instanceof dl)throw Se;i.error("element parse error: "+Se),ue=-1}ue>g?g=ue:o(Math.max(v,g)+1)}}function YS(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function OJ(t,e,r,n,i,s){function a(f,h,m){r.attributeNames.hasOwnProperty(f)&&s.fatalError("Attribute "+f+" redefined"),r.addValue(f,h,m)}for(var o,l,u=++e,c=yu;;){var d=t.charAt(u);switch(d){case"=":if(c===As)o=t.slice(e,u),c=bu;else if(c===Oo)c=bu;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(c===bu||c===As)if(c===As&&(s.warning('attribute value must after "="'),o=t.slice(e,u)),e=u+1,u=t.indexOf(d,e),u>0)l=t.slice(e,u).replace(/&#?\w+;/g,i),a(o,l,e-1),c=ko;else throw new Error("attribute value no end '"+d+"' match");else if(c==Ro)l=t.slice(e,u).replace(/&#?\w+;/g,i),a(o,l,e),s.warning('attribute "'+o+'" missed start quot('+d+")!!"),e=u+1,c=ko;else throw new Error('attribute value must after "="');break;case"/":switch(c){case yu:r.setTagName(t.slice(e,u));case ko:case _u:case Zd:c=Zd,r.closed=!0;case Ro:case As:case Oo:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return s.error("unexpected end of input"),c==yu&&r.setTagName(t.slice(e,u)),u;case">":switch(c){case yu:r.setTagName(t.slice(e,u));case ko:case _u:case Zd:break;case Ro:case As:l=t.slice(e,u),l.slice(-1)==="/"&&(r.closed=!0,l=l.slice(0,-1));case Oo:c===Oo&&(l=o),c==Ro?(s.warning('attribute "'+l+'" missed quot(")!'),a(o,l.replace(/&#?\w+;/g,i),e)):((!Nc.isHTML(n[""])||!l.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+l+'" missed value!! "'+l+'" instead!!'),a(l,l,e));break;case bu:throw new Error("attribute value missed!!")}return u;case"\x80":d=" ";default:if(d<=" ")switch(c){case yu:r.setTagName(t.slice(e,u)),c=_u;break;case As:o=t.slice(e,u),c=Oo;break;case Ro:var l=t.slice(e,u).replace(/&#?\w+;/g,i);s.warning('attribute "'+l+'" missed quot(")!!'),a(o,l,e);case ko:c=_u;break}else switch(c){case Oo:r.tagName,(!Nc.isHTML(n[""])||!o.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+o+'" missed value!! "'+o+'" instead2!!'),a(o,o,e),e=u,c=As;break;case ko:s.warning('attribute space is required"'+o+'"!!');case _u:c=As,e=u;break;case bu:c=Ro,e=u;break;case Zd:throw new Error("elements closed character '/' and '>' must be connected to")}}u++}}function GS(t,e,r){for(var n=t.tagName,i=null,d=t.length;d--;){var s=t[d],a=s.qName,o=s.value,f=a.indexOf(":");if(f>0)var l=s.prefix=a.slice(0,f),u=a.slice(f+1),c=l==="xmlns"&&u;else u=a,l=null,c=a==="xmlns"&&"";s.localName=u,c!==!1&&(i==null&&(i={},jA(r,r={})),r[c]=i[c]=o,s.uri=Nc.XMLNS,e.startPrefixMapping(c,o))}for(var d=t.length;d--;){s=t[d];var l=s.prefix;l&&(l==="xml"&&(s.uri=Nc.XML),l!=="xmlns"&&(s.uri=r[l||""]))}var f=n.indexOf(":");f>0?(l=t.prefix=n.slice(0,f),u=t.localName=n.slice(f+1)):(l=null,u=t.localName=n);var h=t.uri=r[l||""];if(e.startElement(h,u,n,t),t.closed){if(e.endElement(h,u,n),i)for(l in i)e.endPrefixMapping(l)}else return t.currentNSMap=r,t.localNSMap=i,!0}function RJ(t,e,r,n,i){if(/^(?:script|textarea)$/i.test(r)){var s=t.indexOf("</"+r+">",e),a=t.substring(e+1,s);if(/[&<]/.test(a))return/^script$/i.test(r)?(i.characters(a,0,a.length),s):(a=a.replace(/&#?\w+;/g,n),i.characters(a,0,a.length),s)}return e+1}function kJ(t,e,r,n){var i=n[r];return i==null&&(i=t.lastIndexOf("</"+r+">"),i<e&&(i=t.lastIndexOf("</"+r)),n[r]=i),i<e}function jA(t,e){for(var r in t)e[r]=t[r]}function IJ(t,e,r,n){var i=t.charAt(e+2);switch(i){case"-":if(t.charAt(e+3)==="-"){var s=t.indexOf("-->",e+4);return s>e?(r.comment(t,e+4,s-e-4),s+3):(n.error("Unclosed comment"),-1)}else return-1;default:if(t.substr(e+3,6)=="CDATA["){var s=t.indexOf("]]>",e+9);return r.startCDATA(),r.characters(t,e+9,s-e-9),r.endCDATA(),s+3}var a=LJ(t,e),o=a.length;if(o>1&&/!doctype/i.test(a[0][0])){var l=a[1][0],u=!1,c=!1;o>3&&(/^public$/i.test(a[2][0])?(u=a[3][0],c=o>4&&a[4][0]):/^system$/i.test(a[2][0])&&(c=a[3][0]));var d=a[o-1];return r.startDTD(l,u,c),r.endDTD(),d.index+d[0].length}}return-1}function MJ(t,e,r){var n=t.indexOf("?>",e);if(n){var i=t.substring(e,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return i?(i[0].length,r.processingInstruction(i[1],i[2]),n+2):-1}return-1}function VA(){this.attributeNames={}}VA.prototype={setTagName:function(t){if(!WS.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},addValue:function(t,e,r){if(!WS.test(t))throw new Error("invalid attribute:"+t);this.attributeNames[t]=this.length,this[this.length++]={qName:t,value:e,offset:r}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}};function LJ(t,e){var r,n=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(i.lastIndex=e,i.exec(t);r=i.exec(t);)if(n.push(r),r[1])return n}z0.XMLReader=UA;z0.ParseError=dl;var NJ=no,W0=ea,qS=$A,HA=z0,FJ=W0.DOMImplementation,KS=NJ.NAMESPACE,BJ=HA.ParseError,$J=HA.XMLReader;function zA(t){this.options=t||{locator:{}}}zA.prototype.parseFromString=function(t,e){var r=this.options,n=new $J,i=r.domBuilder||new od,s=r.errorHandler,a=r.locator,o=r.xmlns||{},l=/\/x?html?$/.test(e),u=l?qS.HTML_ENTITIES:qS.XML_ENTITIES;return a&&i.setDocumentLocator(a),n.errorHandler=UJ(s,i,a),n.domBuilder=r.domBuilder||i,l&&(o[""]=KS.HTML),o.xml=o.xml||KS.XML,t&&typeof t=="string"?n.parse(t,o,u):n.errorHandler.error("invalid doc source"),i.doc};function UJ(t,e,r){if(!t){if(e instanceof od)return e;t=e}var n={},i=t instanceof Function;r=r||{};function s(a){var o=t[a];!o&&i&&(o=t.length==2?function(l){t(a,l)}:t),n[a]=o&&function(l){o("[xmldom "+a+"]	"+l+wv(r))}||function(){}}return s("warning"),s("error"),s("fatalError"),n}function od(){this.cdata=!1}function Io(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}od.prototype={startDocument:function(){this.doc=new FJ().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,r,n){var i=this.doc,s=i.createElementNS(t,r||e),a=n.length;ef(this,s),this.currentElement=s,this.locator&&Io(this.locator,s);for(var o=0;o<a;o++){var t=n.getURI(o),l=n.getValue(o),r=n.getQName(o),u=i.createAttributeNS(t,r);this.locator&&Io(n.getLocator(o),u),u.value=u.nodeValue=l,s.setAttributeNode(u)}},endElement:function(t,e,r){var n=this.currentElement;n.tagName,this.currentElement=n.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var r=this.doc.createProcessingInstruction(t,e);this.locator&&Io(this.locator,r),ef(this,r)},ignorableWhitespace:function(t,e,r){},characters:function(t,e,r){if(t=XS.apply(this,arguments),t){if(this.cdata)var n=this.doc.createCDATASection(t);else var n=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(t)&&this.doc.appendChild(n),this.locator&&Io(this.locator,n)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,r){t=XS.apply(this,arguments);var n=this.doc.createComment(t);this.locator&&Io(this.locator,n),ef(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,r){var n=this.doc.implementation;if(n&&n.createDocumentType){var i=n.createDocumentType(t,e,r);this.locator&&Io(this.locator,i),ef(this,i),this.doc.doctype=i}},warning:function(t){console.warn("[xmldom warning]	"+t,wv(this.locator))},error:function(t){console.error("[xmldom error]	"+t,wv(this.locator))},fatalError:function(t){throw new BJ(t,this.locator)}};function wv(t){if(t)return`
@`+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function XS(t,e,r){return typeof t=="string"?t.substr(e,r):t.length>=e+r||e?new java.lang.String(t,e,r)+"":t}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){od.prototype[t]=function(){return null}});function ef(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}ad.__DOMHandler=od;ad.DOMParser=zA;ad.DOMImplementation=W0.DOMImplementation;ad.XMLSerializer=W0.XMLSerializer;var jJ=ad.DOMParser;/*! @name mpd-parser @version 0.21.0 @license Apache-2.0 */var QS=function(e){return!!e&&typeof e=="object"},qr=function t(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return r.reduce(function(i,s){return typeof s!="object"||Object.keys(s).forEach(function(a){Array.isArray(i[a])&&Array.isArray(s[a])?i[a]=i[a].concat(s[a]):QS(i[a])&&QS(s[a])?i[a]=t(i[a],s[a]):i[a]=s[a]}),i},{})},WA=function(e){return Object.keys(e).map(function(r){return e[r]})},VJ=function(e,r){for(var n=[],i=e;i<r;i++)n.push(i);return n},Np=function(e){return e.reduce(function(r,n){return r.concat(n)},[])},YA=function(e){if(!e.length)return[];for(var r=[],n=0;n<e.length;n++)r.push(e[n]);return r},HJ=function(e,r){return e.reduce(function(n,i,s){return i[r]&&n.push(s),n},[])},Pv=function(e,r){for(var n=0;n<e.length;n++)if(r(e[n]))return n;return-1},zJ=function(e,r){return WA(e.reduce(function(n,i){return i.forEach(function(s){n[r(s)]=s}),n},{}))},fl={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",MISSING_SEGMENT_INFORMATION:"MISSING_SEGMENT_INFORMATION",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"},Fc=function(e){var r=e.baseUrl,n=r===void 0?"":r,i=e.source,s=i===void 0?"":i,a=e.range,o=a===void 0?"":a,l=e.indexRange,u=l===void 0?"":l,c={uri:s,resolvedUri:Ip(n||"",s)};if(o||u){var d=o||u,f=d.split("-"),h=J.BigInt?J.BigInt(f[0]):parseInt(f[0],10),m=J.BigInt?J.BigInt(f[1]):parseInt(f[1],10);h<Number.MAX_SAFE_INTEGER&&typeof h=="bigint"&&(h=Number(h)),m<Number.MAX_SAFE_INTEGER&&typeof m=="bigint"&&(m=Number(m));var g;typeof m=="bigint"||typeof h=="bigint"?g=J.BigInt(m)-J.BigInt(h)+J.BigInt(1):g=m-h+1,typeof g=="bigint"&&g<Number.MAX_SAFE_INTEGER&&(g=Number(g)),c.byterange={length:g,offset:h}}return c},WJ=function(e){var r;return typeof e.offset=="bigint"||typeof e.length=="bigint"?r=J.BigInt(e.offset)+J.BigInt(e.length)-J.BigInt(1):r=e.offset+e.length-1,e.offset+"-"+r},JS=function(e){return e&&typeof e!="number"&&(e=parseInt(e,10)),isNaN(e)?null:e},YJ={static:function(e){var r=e.duration,n=e.timescale,i=n===void 0?1:n,s=e.sourceDuration,a=e.periodDuration,o=JS(e.endNumber),l=r/i;return typeof o=="number"?{start:0,end:o}:typeof a=="number"?{start:0,end:a/l}:{start:0,end:s/l}},dynamic:function(e){var r=e.NOW,n=e.clientOffset,i=e.availabilityStartTime,s=e.timescale,a=s===void 0?1:s,o=e.duration,l=e.periodStart,u=l===void 0?0:l,c=e.minimumUpdatePeriod,d=c===void 0?0:c,f=e.timeShiftBufferDepth,h=f===void 0?1/0:f,m=JS(e.endNumber),g=(r+n)/1e3,v=i+u,x=g+d,S=x-v,D=Math.ceil(S*a/o),P=Math.floor((g-v-h)*a/o),O=Math.floor((g-v)*a/o);return{start:Math.max(0,P),end:typeof m=="number"?m:Math.min(D,O)}}},GJ=function(e){return function(r){var n=e.duration,i=e.timescale,s=i===void 0?1:i,a=e.periodStart,o=e.startNumber,l=o===void 0?1:o;return{number:l+r,duration:n/s,timeline:a,time:r*n}}},Y0=function(e){var r=e.type,n=e.duration,i=e.timescale,s=i===void 0?1:i,a=e.periodDuration,o=e.sourceDuration,l=YJ[r](e),u=l.start,c=l.end,d=VJ(u,c).map(GJ(e));if(r==="static"){var f=d.length-1,h=typeof a=="number"?a:o;d[f].duration=h-n/s*f}return d},GA=function(e){var r=e.baseUrl,n=e.initialization,i=n===void 0?{}:n,s=e.sourceDuration,a=e.indexRange,o=a===void 0?"":a,l=e.periodStart,u=e.presentationTime,c=e.number,d=c===void 0?0:c,f=e.duration;if(!r)throw new Error(fl.NO_BASE_URL);var h=Fc({baseUrl:r,source:i.sourceURL,range:i.range}),m=Fc({baseUrl:r,source:r,indexRange:o});if(m.map=h,f){var g=Y0(e);g.length&&(m.duration=g[0].duration,m.timeline=g[0].timeline)}else s&&(m.duration=s,m.timeline=l);return m.presentationTime=u||l,m.number=d,[m]},G0=function(e,r,n){var i=e.sidx.map?e.sidx.map:null,s=e.sidx.duration,a=e.timeline||0,o=e.sidx.byterange,l=o.offset+o.length,u=r.timescale,c=r.references.filter(function(Y){return Y.referenceType!==1}),d=[],f=e.endList?"static":"dynamic",h=e.sidx.timeline,m=h,g=e.mediaSequence||0,v;typeof r.firstOffset=="bigint"?v=J.BigInt(l)+r.firstOffset:v=l+r.firstOffset;for(var x=0;x<c.length;x++){var S=r.references[x],D=S.referencedSize,P=S.subsegmentDuration,O=void 0;typeof v=="bigint"?O=v+J.BigInt(D)-J.BigInt(1):O=v+D-1;var B=v+"-"+O,z={baseUrl:n,timescale:u,timeline:a,periodStart:h,presentationTime:m,number:g,duration:P,sourceDuration:s,indexRange:B,type:f},U=GA(z)[0];i&&(U.map=i),d.push(U),typeof v=="bigint"?v+=J.BigInt(D):v+=D,m+=P/u,g++}return e.segments=d,e},qJ=["AUDIO","SUBTITLES"],KJ=1/60,qA=function(e){return zJ(e,function(r){var n=r.timeline;return n}).sort(function(r,n){return r.timeline>n.timeline?1:-1})},XJ=function(e,r){for(var n=0;n<e.length;n++)if(e[n].attributes.NAME===r)return e[n];return null},ZS=function(e){var r=[];return vJ(e,qJ,function(n,i,s,a){r=r.concat(n.playlists||[])}),r},eE=function(e){var r=e.playlist,n=e.mediaSequence;r.mediaSequence=n,r.segments.forEach(function(i,s){i.number=r.mediaSequence+s})},QJ=function(e){var r=e.oldPlaylists,n=e.newPlaylists,i=e.timelineStarts;n.forEach(function(s){s.discontinuitySequence=Pv(i,function(c){var d=c.timeline;return d===s.timeline});var a=XJ(r,s.attributes.NAME);if(!!a&&!s.sidx){var o=s.segments[0],l=Pv(a.segments,function(c){return Math.abs(c.presentationTime-o.presentationTime)<KJ});if(l===-1){eE({playlist:s,mediaSequence:a.mediaSequence+a.segments.length}),s.segments[0].discontinuity=!0,s.discontinuityStarts.unshift(0),(!a.segments.length&&s.timeline>a.timeline||a.segments.length&&s.timeline>a.segments[a.segments.length-1].timeline)&&s.discontinuitySequence--;return}var u=a.segments[l];u.discontinuity&&!o.discontinuity&&(o.discontinuity=!0,s.discontinuityStarts.unshift(0),s.discontinuitySequence--),eE({playlist:s,mediaSequence:a.segments[l].number})}})},JJ=function(e){var r=e.oldManifest,n=e.newManifest,i=r.playlists.concat(ZS(r)),s=n.playlists.concat(ZS(n));return n.timelineStarts=qA([r.timelineStarts,n.timelineStarts]),QJ({oldPlaylists:i,newPlaylists:s,timelineStarts:n.timelineStarts}),n},Fp=function(e){return e&&e.uri+"-"+WJ(e.byterange)},ng=function(e){var r=WA(e.reduce(function(n,i){var s=i.attributes.id+(i.attributes.lang||"");if(!n[s])n[s]=i,n[s].attributes.timelineStarts=[];else{if(i.segments){var a;i.segments[0]&&(i.segments[0].discontinuity=!0),(a=n[s].segments).push.apply(a,i.segments)}i.attributes.contentProtection&&(n[s].attributes.contentProtection=i.attributes.contentProtection)}return n[s].attributes.timelineStarts.push({start:i.attributes.periodStart,timeline:i.attributes.periodStart}),n},{}));return r.map(function(n){return n.discontinuityStarts=HJ(n.segments||[],"discontinuity"),n})},q0=function(e,r){var n=Fp(e.sidx),i=n&&r[n]&&r[n].sidx;return i&&G0(e,i,e.sidx.resolvedUri),e},ZJ=function(e,r){if(r===void 0&&(r={}),!Object.keys(r).length)return e;for(var n in e)e[n]=q0(e[n],r);return e},eZ=function(e,r){var n,i=e.attributes,s=e.segments,a=e.sidx,o=e.mediaSequence,l=e.discontinuitySequence,u=e.discontinuityStarts,c={attributes:(n={NAME:i.id,BANDWIDTH:i.bandwidth,CODECS:i.codecs},n["PROGRAM-ID"]=1,n),uri:"",endList:i.type==="static",timeline:i.periodStart,resolvedUri:"",targetDuration:i.duration,discontinuitySequence:l,discontinuityStarts:u,timelineStarts:i.timelineStarts,mediaSequence:o,segments:s};return i.contentProtection&&(c.contentProtection=i.contentProtection),a&&(c.sidx=a),r&&(c.attributes.AUDIO="audio",c.attributes.SUBTITLES="subs"),c},tZ=function(e){var r,n=e.attributes,i=e.segments,s=e.mediaSequence,a=e.discontinuityStarts,o=e.discontinuitySequence;typeof i=="undefined"&&(i=[{uri:n.baseUrl,timeline:n.periodStart,resolvedUri:n.baseUrl||"",duration:n.sourceDuration,number:0}],n.duration=n.sourceDuration);var l=(r={NAME:n.id,BANDWIDTH:n.bandwidth},r["PROGRAM-ID"]=1,r);return n.codecs&&(l.CODECS=n.codecs),{attributes:l,uri:"",endList:n.type==="static",timeline:n.periodStart,resolvedUri:n.baseUrl||"",targetDuration:n.duration,timelineStarts:n.timelineStarts,discontinuityStarts:a,discontinuitySequence:o,mediaSequence:s,segments:i}},rZ=function(e,r,n){r===void 0&&(r={}),n===void 0&&(n=!1);var i,s=e.reduce(function(o,l){var u=l.attributes.role&&l.attributes.role.value||"",c=l.attributes.lang||"",d=l.attributes.label||"main";if(c&&!l.attributes.label){var f=u?" ("+u+")":"";d=""+l.attributes.lang+f}o[d]||(o[d]={language:c,autoselect:!0,default:u==="main",playlists:[],uri:""});var h=q0(eZ(l,n),r);return o[d].playlists.push(h),typeof i=="undefined"&&u==="main"&&(i=l,i.default=!0),o},{});if(!i){var a=Object.keys(s)[0];s[a].default=!0}return s},iZ=function(e,r){return r===void 0&&(r={}),e.reduce(function(n,i){var s=i.attributes.lang||"text";return n[s]||(n[s]={language:s,default:!1,autoselect:!1,playlists:[],uri:""}),n[s].playlists.push(q0(tZ(i),r)),n},{})},nZ=function(e){return e.reduce(function(r,n){return n&&n.forEach(function(i){var s=i.channel,a=i.language;r[a]={autoselect:!1,default:!1,instreamId:s,language:a},i.hasOwnProperty("aspectRatio")&&(r[a].aspectRatio=i.aspectRatio),i.hasOwnProperty("easyReader")&&(r[a].easyReader=i.easyReader),i.hasOwnProperty("3D")&&(r[a]["3D"]=i["3D"])}),r},{})},sZ=function(e){var r,n=e.attributes,i=e.segments,s=e.sidx,a=e.discontinuityStarts,o={attributes:(r={NAME:n.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:n.width,height:n.height},CODECS:n.codecs,BANDWIDTH:n.bandwidth},r["PROGRAM-ID"]=1,r),uri:"",endList:n.type==="static",timeline:n.periodStart,resolvedUri:"",targetDuration:n.duration,discontinuityStarts:a,timelineStarts:n.timelineStarts,segments:i};return n.contentProtection&&(o.contentProtection=n.contentProtection),s&&(o.sidx=s),o},aZ=function(e){var r=e.attributes;return r.mimeType==="video/mp4"||r.mimeType==="video/webm"||r.contentType==="video"},oZ=function(e){var r=e.attributes;return r.mimeType==="audio/mp4"||r.mimeType==="audio/webm"||r.contentType==="audio"},lZ=function(e){var r=e.attributes;return r.mimeType==="text/vtt"||r.contentType==="text"},uZ=function(e,r){e.forEach(function(n){n.mediaSequence=0,n.discontinuitySequence=Pv(r,function(i){var s=i.timeline;return s===n.timeline}),n.segments&&n.segments.forEach(function(i,s){i.number=s})})},tE=function(e){return e?Object.keys(e).reduce(function(r,n){var i=e[n];return r.concat(i.playlists)},[]):[]},cZ=function(e){var r,n=e.dashPlaylists,i=e.locations,s=e.sidxMapping,a=s===void 0?{}:s,o=e.previousManifest;if(!n.length)return{};var l=n[0].attributes,u=l.sourceDuration,c=l.type,d=l.suggestedPresentationDelay,f=l.minimumUpdatePeriod,h=ng(n.filter(aZ)).map(sZ),m=ng(n.filter(oZ)),g=ng(n.filter(lZ)),v=n.map(function(z){return z.attributes.captionServices}).filter(Boolean),x={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(r={AUDIO:{},VIDEO:{}},r["CLOSED-CAPTIONS"]={},r.SUBTITLES={},r),uri:"",duration:u,playlists:ZJ(h,a)};f>=0&&(x.minimumUpdatePeriod=f*1e3),i&&(x.locations=i),c==="dynamic"&&(x.suggestedPresentationDelay=d);var S=x.playlists.length===0,D=m.length?rZ(m,a,S):null,P=g.length?iZ(g,a):null,O=h.concat(tE(D),tE(P)),B=O.map(function(z){var U=z.timelineStarts;return U});return x.timelineStarts=qA(B),uZ(O,x.timelineStarts),D&&(x.mediaGroups.AUDIO.audio=D),P&&(x.mediaGroups.SUBTITLES.subs=P),v.length&&(x.mediaGroups["CLOSED-CAPTIONS"].cc=nZ(v)),o?JJ({oldManifest:o,newManifest:x}):x},dZ=function(e,r,n){var i=e.NOW,s=e.clientOffset,a=e.availabilityStartTime,o=e.timescale,l=o===void 0?1:o,u=e.periodStart,c=u===void 0?0:u,d=e.minimumUpdatePeriod,f=d===void 0?0:d,h=(i+s)/1e3,m=a+c,g=h+f,v=g-m;return Math.ceil((v*l-r)/n)},KA=function(e,r){for(var n=e.type,i=e.minimumUpdatePeriod,s=i===void 0?0:i,a=e.media,o=a===void 0?"":a,l=e.sourceDuration,u=e.timescale,c=u===void 0?1:u,d=e.startNumber,f=d===void 0?1:d,h=e.periodStart,m=[],g=-1,v=0;v<r.length;v++){var x=r[v],S=x.d,D=x.r||0,P=x.t||0;g<0&&(g=P),P&&P>g&&(g=P);var O=void 0;if(D<0){var B=v+1;B===r.length?n==="dynamic"&&s>0&&o.indexOf("$Number$")>0?O=dZ(e,g,S):O=(l*c-g)/S:O=(r[B].t-g)/S}else O=D+1;for(var z=f+m.length+O,U=f+m.length;U<z;)m.push({number:U,duration:S/c,time:g,timeline:h}),g+=S,U++}return m},fZ=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,hZ=function(e){return function(r,n,i,s){if(r==="$$")return"$";if(typeof e[n]=="undefined")return r;var a=""+e[n];return n==="RepresentationID"||(i?s=parseInt(s,10):s=1,a.length>=s)?a:""+new Array(s-a.length+1).join("0")+a}},rE=function(e,r){return e.replace(fZ,hZ(r))},pZ=function(e,r){return!e.duration&&!r?[{number:e.startNumber||1,duration:e.sourceDuration,time:0,timeline:e.periodStart}]:e.duration?Y0(e):KA(e,r)},mZ=function(e,r){var n={RepresentationID:e.id,Bandwidth:e.bandwidth||0},i=e.initialization,s=i===void 0?{sourceURL:"",range:""}:i,a=Fc({baseUrl:e.baseUrl,source:rE(s.sourceURL,n),range:s.range}),o=pZ(e,r);return o.map(function(l){n.Number=l.number,n.Time=l.time;var u=rE(e.media||"",n),c=e.timescale||1,d=e.presentationTimeOffset||0,f=e.periodStart+(l.time-d)/c,h={uri:u,timeline:l.timeline,duration:l.duration,resolvedUri:Ip(e.baseUrl||"",u),map:a,number:l.number,presentationTime:f};return h})},gZ=function(e,r){var n=e.baseUrl,i=e.initialization,s=i===void 0?{}:i,a=Fc({baseUrl:n,source:s.sourceURL,range:s.range}),o=Fc({baseUrl:n,source:r.media,range:r.mediaRange});return o.map=a,o},vZ=function(e,r){var n=e.duration,i=e.segmentUrls,s=i===void 0?[]:i,a=e.periodStart;if(!n&&!r||n&&r)throw new Error(fl.SEGMENT_TIME_UNSPECIFIED);var o=s.map(function(c){return gZ(e,c)}),l;n&&(l=Y0(e)),r&&(l=KA(e,r));var u=l.map(function(c,d){if(o[d]){var f=o[d],h=e.timescale||1,m=e.presentationTimeOffset||0;return f.timeline=c.timeline,f.duration=c.duration,f.number=c.number,f.presentationTime=a+(c.time-m)/h,f}}).filter(function(c){return c});return u},yZ=function(e){var r=e.attributes,n=e.segmentInfo,i,s;n.template?(s=mZ,i=qr(r,n.template)):n.base?(s=GA,i=qr(r,n.base)):n.list&&(s=vZ,i=qr(r,n.list));var a={attributes:r};if(!s)return a;var o=s(i,n.segmentTimeline);if(i.duration){var l=i,u=l.duration,c=l.timescale,d=c===void 0?1:c;i.duration=u/d}else o.length?i.duration=o.reduce(function(f,h){return Math.max(f,Math.ceil(h.duration))},0):i.duration=0;return a.attributes=i,a.segments=o,n.base&&i.indexRange&&(a.sidx=o[0],a.segments=[]),a},bZ=function(e){return e.map(yZ)},ir=function(e,r){return YA(e.childNodes).filter(function(n){var i=n.tagName;return i===r})},K0=function(e){return e.textContent.trim()},Mo=function(e){var r=31536e3,n=30*24*60*60,i=24*60*60,s=60*60,a=60,o=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/,l=o.exec(e);if(!l)return 0;var u=l.slice(1),c=u[0],d=u[1],f=u[2],h=u[3],m=u[4],g=u[5];return parseFloat(c||0)*r+parseFloat(d||0)*n+parseFloat(f||0)*i+parseFloat(h||0)*s+parseFloat(m||0)*a+parseFloat(g||0)},_Z=function(e){var r=/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/;return r.test(e)&&(e+="Z"),Date.parse(e)},iE={mediaPresentationDuration:function(e){return Mo(e)},availabilityStartTime:function(e){return _Z(e)/1e3},minimumUpdatePeriod:function(e){return Mo(e)},suggestedPresentationDelay:function(e){return Mo(e)},type:function(e){return e},timeShiftBufferDepth:function(e){return Mo(e)},start:function(e){return Mo(e)},width:function(e){return parseInt(e,10)},height:function(e){return parseInt(e,10)},bandwidth:function(e){return parseInt(e,10)},startNumber:function(e){return parseInt(e,10)},timescale:function(e){return parseInt(e,10)},presentationTimeOffset:function(e){return parseInt(e,10)},duration:function(e){var r=parseInt(e,10);return isNaN(r)?Mo(e):r},d:function(e){return parseInt(e,10)},t:function(e){return parseInt(e,10)},r:function(e){return parseInt(e,10)},DEFAULT:function(e){return e}},Rr=function(e){return e&&e.attributes?YA(e.attributes).reduce(function(r,n){var i=iE[n.name]||iE.DEFAULT;return r[n.name]=i(n.value),r},{}):{}},TZ={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},Bp=function(e,r){return r.length?Np(e.map(function(n){return r.map(function(i){return Ip(n,K0(i))})})):e},X0=function(e){var r=ir(e,"SegmentTemplate")[0],n=ir(e,"SegmentList")[0],i=n&&ir(n,"SegmentURL").map(function(f){return qr({tag:"SegmentURL"},Rr(f))}),s=ir(e,"SegmentBase")[0],a=n||r,o=a&&ir(a,"SegmentTimeline")[0],l=n||s||r,u=l&&ir(l,"Initialization")[0],c=r&&Rr(r);c&&u?c.initialization=u&&Rr(u):c&&c.initialization&&(c.initialization={sourceURL:c.initialization});var d={template:c,segmentTimeline:o&&ir(o,"S").map(function(f){return Rr(f)}),list:n&&qr(Rr(n),{segmentUrls:i,initialization:Rr(u)}),base:s&&qr(Rr(s),{initialization:Rr(u)})};return Object.keys(d).forEach(function(f){d[f]||delete d[f]}),d},xZ=function(e,r,n){return function(i){var s=ir(i,"BaseURL"),a=Bp(r,s),o=qr(e,Rr(i)),l=X0(i);return a.map(function(u){return{segmentInfo:qr(n,l),attributes:qr(o,{baseUrl:u})}})}},SZ=function(e){return e.reduce(function(r,n){var i=Rr(n),s=TZ[i.schemeIdUri];if(s){r[s]={attributes:i};var a=ir(n,"cenc:pssh")[0];if(a){var o=K0(a),l=o&&mA(o);r[s].pssh=l}}return r},{})},EZ=function(e){if(e.schemeIdUri==="urn:scte:dash:cc:cea-608:2015"){var r=typeof e.value!="string"?[]:e.value.split(";");return r.map(function(i){var s,a;if(a=i,/^CC\d=/.test(i)){var o=i.split("=");s=o[0],a=o[1]}else/^CC\d$/.test(i)&&(s=i);return{channel:s,language:a}})}else if(e.schemeIdUri==="urn:scte:dash:cc:cea-708:2015"){var n=typeof e.value!="string"?[]:e.value.split(";");return n.map(function(i){var s={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(i)){var a=i.split("="),o=a[0],l=a[1],u=l===void 0?"":l;s.channel=o,s.language=i,u.split(",").forEach(function(c){var d=c.split(":"),f=d[0],h=d[1];f==="lang"?s.language=h:f==="er"?s.easyReader=Number(h):f==="war"?s.aspectRatio=Number(h):f==="3D"&&(s["3D"]=Number(h))})}else s.language=i;return s.channel&&(s.channel="SERVICE"+s.channel),s})}},CZ=function(e,r,n){return function(i){var s=Rr(i),a=Bp(r,ir(i,"BaseURL")),o=ir(i,"Role")[0],l={role:Rr(o)},u=qr(e,s,l),c=ir(i,"Accessibility")[0],d=EZ(Rr(c));d&&(u=qr(u,{captionServices:d}));var f=ir(i,"Label")[0];if(f&&f.childNodes.length){var h=f.childNodes[0].nodeValue.trim();u=qr(u,{label:h})}var m=SZ(ir(i,"ContentProtection"));Object.keys(m).length&&(u=qr(u,{contentProtection:m}));var g=X0(i),v=ir(i,"Representation"),x=qr(n,g);return Np(v.map(xZ(u,a,x)))}},wZ=function(e,r){return function(n,i){var s=Bp(r,ir(n.node,"BaseURL")),a=qr(e,{periodStart:n.attributes.start});typeof n.attributes.duration=="number"&&(a.periodDuration=n.attributes.duration);var o=ir(n.node,"AdaptationSet"),l=X0(n.node);return Np(o.map(CZ(a,s,l)))}},PZ=function(e){var r=e.attributes,n=e.priorPeriodAttributes,i=e.mpdType;return typeof r.start=="number"?r.start:n&&typeof n.start=="number"&&typeof n.duration=="number"?n.start+n.duration:!n&&i==="static"?0:null},DZ=function(e,r){r===void 0&&(r={});var n=r,i=n.manifestUri,s=i===void 0?"":i,a=n.NOW,o=a===void 0?Date.now():a,l=n.clientOffset,u=l===void 0?0:l,c=ir(e,"Period");if(!c.length)throw new Error(fl.INVALID_NUMBER_OF_PERIOD);var d=ir(e,"Location"),f=Rr(e),h=Bp([s],ir(e,"BaseURL"));f.type=f.type||"static",f.sourceDuration=f.mediaPresentationDuration||0,f.NOW=o,f.clientOffset=u,d.length&&(f.locations=d.map(K0));var m=[];return c.forEach(function(g,v){var x=Rr(g),S=m[v-1];x.start=PZ({attributes:x,priorPeriodAttributes:S?S.attributes:null,mpdType:f.type}),m.push({node:g,attributes:x})}),{locations:f.locations,representationInfo:Np(m.map(wZ(f,h)))}},XA=function(e){if(e==="")throw new Error(fl.DASH_EMPTY_MANIFEST);var r=new jJ,n,i;try{n=r.parseFromString(e,"application/xml"),i=n&&n.documentElement.tagName==="MPD"?n.documentElement:null}catch{}if(!i||i&&i.getElementsByTagName("parsererror").length>0)throw new Error(fl.DASH_INVALID_XML);return i},AZ=function(e){var r=ir(e,"UTCTiming")[0];if(!r)return null;var n=Rr(r);switch(n.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":n.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":n.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":n.method="DIRECT",n.value=Date.parse(n.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(fl.UNSUPPORTED_UTC_TIMING_SCHEME)}return n},OZ=function(e,r){r===void 0&&(r={});var n=DZ(XA(e),r),i=bZ(n.representationInfo);return cZ({dashPlaylists:i,locations:n.locations,sidxMapping:r.sidxMapping,previousManifest:r.previousManifest})},RZ=function(e){return AZ(XA(e))},QA=Math.pow(2,32),kZ=function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),r;return e.getBigUint64?(r=e.getBigUint64(0),r<Number.MAX_SAFE_INTEGER?Number(r):r):e.getUint32(0)*QA+e.getUint32(4)},IZ={getUint64:kZ,MAX_UINT32:QA},nE=IZ.getUint64,MZ=function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),r={version:t[0],flags:new Uint8Array(t.subarray(1,4)),references:[],referenceId:e.getUint32(4),timescale:e.getUint32(8)},n=12;r.version===0?(r.earliestPresentationTime=e.getUint32(n),r.firstOffset=e.getUint32(n+4),n+=8):(r.earliestPresentationTime=nE(t.subarray(n)),r.firstOffset=nE(t.subarray(n+8)),n+=16),n+=2;var i=e.getUint16(n);for(n+=2;i>0;n+=12,i--)r.references.push({referenceType:(t[n]&128)>>>7,referencedSize:e.getUint32(n)&2147483647,subsegmentDuration:e.getUint32(n+4),startsWithSap:!!(t[n+8]&128),sapType:(t[n+8]&112)>>>4,sapDeltaTime:e.getUint32(n+8)&268435455});return r},LZ=MZ,NZ=function(e){return e.toString(2).length},FZ=function(e){return Math.ceil(NZ(e)/8)},BZ=function(e){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},$Z=function(e){return BZ(e)},Je=function(e){return e instanceof Uint8Array?e:(!Array.isArray(e)&&!$Z(e)&&!(e instanceof ArrayBuffer)&&(typeof e!="number"||typeof e=="number"&&e!==e?e=0:e=[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))},Er=J.BigInt||Number,Dv=[Er("0x1"),Er("0x100"),Er("0x10000"),Er("0x1000000"),Er("0x100000000"),Er("0x10000000000"),Er("0x1000000000000"),Er("0x100000000000000"),Er("0x10000000000000000")];(function(){var t=new Uint16Array([65484]),e=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);return e[0]===255?"big":e[0]===204?"little":"unknown"})();var UZ=function(e,r){var n=r===void 0?{}:r,i=n.signed,s=i===void 0?!1:i,a=n.le,o=a===void 0?!1:a;e=Je(e);var l=o?"reduce":"reduceRight",u=e[l]?e[l]:Array.prototype[l],c=u.call(e,function(f,h,m){var g=o?m:Math.abs(m+1-e.length);return f+Er(h)*Dv[g]},Er(0));if(s){var d=Dv[e.length]/Er(2)-Er(1);c=Er(c),c>d&&(c-=d,c-=d,c-=Er(2))}return Number(c)},jZ=function(e,r){var n=r===void 0?{}:r,i=n.le,s=i===void 0?!1:i;(typeof e!="bigint"&&typeof e!="number"||typeof e=="number"&&e!==e)&&(e=0),e=Er(e);for(var a=FZ(e),o=new Uint8Array(new ArrayBuffer(a)),l=0;l<a;l++){var u=s?l:Math.abs(l+1-o.length);o[u]=Number(e/Dv[l]&Er(255)),e<0&&(o[u]=Math.abs(~o[u]),o[u]-=l===0?1:2)}return o},JA=function(e,r){if(typeof e!="string"&&e&&typeof e.toString=="function"&&(e=e.toString()),typeof e!="string")return new Uint8Array;r||(e=unescape(encodeURIComponent(e)));for(var n=new Uint8Array(e.length),i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n},VZ=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(r=r.filter(function(o){return o&&(o.byteLength||o.length)&&typeof o!="string"}),r.length<=1)return Je(r[0]);var i=r.reduce(function(o,l,u){return o+(l.byteLength||l.length)},0),s=new Uint8Array(i),a=0;return r.forEach(function(o){o=Je(o),s.set(o,a),a+=o.byteLength}),s},qt=function(e,r,n){var i=n===void 0?{}:n,s=i.offset,a=s===void 0?0:s,o=i.mask,l=o===void 0?[]:o;e=Je(e),r=Je(r);var u=r.every?r.every:Array.prototype.every;return r.length&&e.length-a>=r.length&&u.call(r,function(c,d){var f=l[d]?l[d]&e[a+d]:e[a+d];return c===f})},HZ=Je([73,68,51]),zZ=function(e,r){r===void 0&&(r=0),e=Je(e);var n=e[r+5],i=e[r+6]<<21|e[r+7]<<14|e[r+8]<<7|e[r+9],s=(n&16)>>4;return s?i+20:i+10},Vu=function t(e,r){return r===void 0&&(r=0),e=Je(e),e.length-r<10||!qt(e,HZ,{offset:r})?r:(r+=zZ(e,r),t(e,r))},sE=function(e){return typeof e=="string"?JA(e):e},WZ=function(e){return Array.isArray(e)?e.map(function(r){return sE(r)}):[sE(e)]},YZ=function t(e,r,n){n===void 0&&(n=!1),r=WZ(r),e=Je(e);var i=[];if(!r.length)return i;for(var s=0;s<e.length;){var a=(e[s]<<24|e[s+1]<<16|e[s+2]<<8|e[s+3])>>>0,o=e.subarray(s+4,s+8);if(a===0)break;var l=s+a;if(l>e.length){if(n)break;l=e.length}var u=e.subarray(s+8,l);qt(o,r[0])&&(r.length===1?i.push(u):i.push.apply(i,t(u,r.slice(1),n))),s=l}return i},tf={EBML:Je([26,69,223,163]),DocType:Je([66,130]),Segment:Je([24,83,128,103]),SegmentInfo:Je([21,73,169,102]),Tracks:Je([22,84,174,107]),Track:Je([174]),TrackNumber:Je([215]),DefaultDuration:Je([35,227,131]),TrackEntry:Je([174]),TrackType:Je([131]),FlagDefault:Je([136]),CodecID:Je([134]),CodecPrivate:Je([99,162]),VideoTrack:Je([224]),AudioTrack:Je([225]),Cluster:Je([31,67,182,117]),Timestamp:Je([231]),TimestampScale:Je([42,215,177]),BlockGroup:Je([160]),BlockDuration:Je([155]),Block:Je([161]),SimpleBlock:Je([163])},Av=[128,64,32,16,8,4,2,1],GZ=function(e){for(var r=1,n=0;n<Av.length&&!(e&Av[n]);n++)r++;return r},xh=function(e,r,n,i){n===void 0&&(n=!0),i===void 0&&(i=!1);var s=GZ(e[r]),a=e.subarray(r,r+s);return n&&(a=Array.prototype.slice.call(e,r,r+s),a[0]^=Av[s-1]),{length:s,value:UZ(a,{signed:i}),bytes:a}},aE=function t(e){return typeof e=="string"?e.match(/.{1,2}/g).map(function(r){return t(r)}):typeof e=="number"?jZ(e):e},qZ=function(e){return Array.isArray(e)?e.map(function(r){return aE(r)}):[aE(e)]},KZ=function t(e,r,n){if(n>=r.length)return r.length;var i=xh(r,n,!1);if(qt(e.bytes,i.bytes))return n;var s=xh(r,n+i.length);return t(e,r,n+s.length+s.value+i.length)},oE=function t(e,r){r=qZ(r),e=Je(e);var n=[];if(!r.length)return n;for(var i=0;i<e.length;){var s=xh(e,i,!1),a=xh(e,i+s.length),o=i+s.length+a.length;a.value===127&&(a.value=KZ(s,e,o),a.value!==e.length&&(a.value-=o));var l=o+a.value>e.length?e.length:o+a.value,u=e.subarray(o,l);qt(r[0],s.bytes)&&(r.length===1?n.push(u):n=n.concat(t(u,r.slice(1))));var c=s.length+a.length+u.length;i+=c}return n},XZ=Je([0,0,0,1]),QZ=Je([0,0,1]),JZ=Je([0,0,3]),ZZ=function(e){for(var r=[],n=1;n<e.length-2;)qt(e.subarray(n,n+3),JZ)&&(r.push(n+2),n++),n++;if(r.length===0)return e;var i=e.length-r.length,s=new Uint8Array(i),a=0;for(n=0;n<i;a++,n++)a===r[0]&&(a++,r.shift()),s[n]=e[a];return s},ZA=function(e,r,n,i){i===void 0&&(i=1/0),e=Je(e),n=[].concat(n);for(var s=0,a,o=0;s<e.length&&(o<i||a);){var l=void 0;if(qt(e.subarray(s),XZ)?l=4:qt(e.subarray(s),QZ)&&(l=3),!l){s++;continue}if(o++,a)return ZZ(e.subarray(a,s));var u=void 0;r==="h264"?u=e[s+l]&31:r==="h265"&&(u=e[s+l]>>1&63),n.indexOf(u)!==-1&&(a=s+l),s+=l+(r==="h264"?1:2)}return e.subarray(0,0)},eee=function(e,r,n){return ZA(e,"h264",r,n)},tee=function(e,r,n){return ZA(e,"h265",r,n)},Vr={webm:Je([119,101,98,109]),matroska:Je([109,97,116,114,111,115,107,97]),flac:Je([102,76,97,67]),ogg:Je([79,103,103,83]),ac3:Je([11,119]),riff:Je([82,73,70,70]),avi:Je([65,86,73]),wav:Je([87,65,86,69]),"3gp":Je([102,116,121,112,51,103]),mp4:Je([102,116,121,112]),fmp4:Je([115,116,121,112]),mov:Je([102,116,121,112,113,116]),moov:Je([109,111,111,118]),moof:Je([109,111,111,102])},hl={aac:function(e){var r=Vu(e);return qt(e,[255,16],{offset:r,mask:[255,22]})},mp3:function(e){var r=Vu(e);return qt(e,[255,2],{offset:r,mask:[255,6]})},webm:function(e){var r=oE(e,[tf.EBML,tf.DocType])[0];return qt(r,Vr.webm)},mkv:function(e){var r=oE(e,[tf.EBML,tf.DocType])[0];return qt(r,Vr.matroska)},mp4:function(e){if(hl["3gp"](e)||hl.mov(e))return!1;if(qt(e,Vr.mp4,{offset:4})||qt(e,Vr.fmp4,{offset:4})||qt(e,Vr.moof,{offset:4})||qt(e,Vr.moov,{offset:4}))return!0},mov:function(e){return qt(e,Vr.mov,{offset:4})},"3gp":function(e){return qt(e,Vr["3gp"],{offset:4})},ac3:function(e){var r=Vu(e);return qt(e,Vr.ac3,{offset:r})},ts:function(e){if(e.length<189&&e.length>=1)return e[0]===71;for(var r=0;r+188<e.length&&r<188;){if(e[r]===71&&e[r+188]===71)return!0;r+=1}return!1},flac:function(e){var r=Vu(e);return qt(e,Vr.flac,{offset:r})},ogg:function(e){return qt(e,Vr.ogg)},avi:function(e){return qt(e,Vr.riff)&&qt(e,Vr.avi,{offset:8})},wav:function(e){return qt(e,Vr.riff)&&qt(e,Vr.wav,{offset:8})},h264:function(e){return eee(e,7,3).length},h265:function(e){return tee(e,[32,33],3).length}},Ov=Object.keys(hl).filter(function(t){return t!=="ts"&&t!=="h264"&&t!=="h265"}).concat(["ts","h264","h265"]);Ov.forEach(function(t){var e=hl[t];hl[t]=function(r){return e(Je(r))}});var ree=hl,Q0=function(e){e=Je(e);for(var r=0;r<Ov.length;r++){var n=Ov[r];if(ree[n](e))return n}return""},iee=function(e){return YZ(e,["moof"]).length>0},J0=9e4,Z0,eb,$p,tb,eO,tO,rO;Z0=function(t){return t*J0};eb=function(t,e){return t*e};$p=function(t){return t/J0};tb=function(t,e){return t/e};eO=function(t,e){return Z0(tb(t,e))};tO=function(t,e){return eb($p(t),e)};rO=function(t,e,r){return $p(r?t:t-e)};var Sh={ONE_SECOND_IN_TS:J0,secondsToVideoTs:Z0,secondsToAudioTs:eb,videoTsToSeconds:$p,audioTsToSeconds:tb,audioTsToVideoTs:eO,videoTsToAudioTs:tO,metadataTsToSeconds:rO};/**
 * @license
 * Video.js 7.18.1 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/main/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/main/LICENSE>
 */var iO="7.18.1",qn={},Ys=function(e,r){return qn[e]=qn[e]||[],r&&(qn[e]=qn[e].concat(r)),qn[e]},nee=function(e,r){Ys(e,r)},nO=function(e,r){var n=Ys(e).indexOf(r);return n<=-1?!1:(qn[e]=qn[e].slice(),qn[e].splice(n,1),!0)},see=function(e,r){Ys(e,[].concat(r).map(function(n){var i=function s(){return nO(e,s),n.apply(void 0,arguments)};return i}))},Eh={prefixed:!0},Uf=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],lE=Uf[0],Hu;for(var rf=0;rf<Uf.length;rf++)if(Uf[rf][1]in Fe){Hu=Uf[rf];break}if(Hu){for(var nf=0;nf<Hu.length;nf++)Eh[lE[nf]]=Hu[nf];Eh.prefixed=Hu[0]!==lE[0]}var ti=[],aee=function(e,r){return function(n,i,s){var a=r.levels[i],o=new RegExp("^("+a+")$");if(n!=="log"&&s.unshift(n.toUpperCase()+":"),s.unshift(e+":"),ti){ti.push([].concat(s));var l=ti.length-1e3;ti.splice(0,l>0?l:0)}if(!!J.console){var u=J.console[n];!u&&n==="debug"&&(u=J.console.info||J.console.log),!(!u||!a||!o.test(n))&&u[Array.isArray(s)?"apply":"call"](J.console,s)}}};function sO(t){var e="info",r,n=function(){for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];r("log",e,a)};return r=aee(t,n),n.createLogger=function(i){return sO(t+": "+i)},n.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:e},n.level=function(i){if(typeof i=="string"){if(!n.levels.hasOwnProperty(i))throw new Error('"'+i+'" in not a valid log level');e=i}return e},n.history=function(){return ti?[].concat(ti):[]},n.history.filter=function(i){return(ti||[]).filter(function(s){return new RegExp(".*"+i+".*").test(s[0])})},n.history.clear=function(){ti&&(ti.length=0)},n.history.disable=function(){ti!==null&&(ti.length=0,ti=null)},n.history.enable=function(){ti===null&&(ti=[])},n.error=function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return r("error",e,s)},n.warn=function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return r("warn",e,s)},n.debug=function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return r("debug",e,s)},n}var ht=sO("VIDEOJS"),aO=ht.createLogger,oee=Object.prototype.toString,oO=function(e){return us(e)?Object.keys(e):[]};function Ko(t,e){oO(t).forEach(function(r){return e(t[r],r)})}function lee(t,e,r){return r===void 0&&(r=0),oO(t).reduce(function(n,i){return e(n,t[i],i)},r)}function Jt(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return Object.assign?Vi.apply(void 0,[t].concat(r)):(r.forEach(function(i){!i||Ko(i,function(s,a){t[a]=s})}),t)}function us(t){return!!t&&typeof t=="object"}function Bc(t){return us(t)&&oee.call(t)==="[object Object]"&&t.constructor===Object}function $c(t,e){if(!t||!e)return"";if(typeof J.getComputedStyle=="function"){var r;try{r=J.getComputedStyle(t)}catch{return""}return r?r.getPropertyValue(e)||r[e]:""}return""}var _r=J.navigator&&J.navigator.userAgent||"",uE=/AppleWebKit\/([\d.]+)/i.exec(_r),uee=uE?parseFloat(uE.pop()):null,lO=/iPod/i.test(_r),cee=function(){var t=_r.match(/OS (\d+)_/i);return t&&t[1]?t[1]:null}(),ps=/Android/i.test(_r),rb=function(){var t=_r.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!t)return null;var e=t[1]&&parseFloat(t[1]),r=t[2]&&parseFloat(t[2]);return e&&r?parseFloat(t[1]+"."+t[2]):e||null}(),uO=ps&&rb<5&&uee<537,cO=/Firefox/i.test(_r),ld=/Edg/i.test(_r),ms=!ld&&(/Chrome/i.test(_r)||/CriOS/i.test(_r)),dO=function(){var t=_r.match(/(Chrome|CriOS)\/(\d+)/);return t&&t[2]?parseFloat(t[2]):null}(),ud=function(){var t=/MSIE\s(\d+)\.\d/.exec(_r),e=t&&parseFloat(t[1]);return!e&&/Trident\/7.0/i.test(_r)&&/rv:11.0/.test(_r)&&(e=11),e}(),ib=/Safari/i.test(_r)&&!ms&&!ps&&!ld,fO=/Windows/i.test(_r),pl=Boolean(zl()&&("ontouchstart"in J||J.navigator.maxTouchPoints||J.DocumentTouch&&J.document instanceof J.DocumentTouch)),nb=/iPad/i.test(_r)||ib&&pl&&!/iPhone/i.test(_r),sb=/iPhone/i.test(_r)&&!nb,Jr=sb||nb||lO,Up=(ib||Jr)&&!ms,dee=Object.freeze({__proto__:null,IS_IPOD:lO,IOS_VERSION:cee,IS_ANDROID:ps,ANDROID_VERSION:rb,IS_NATIVE_ANDROID:uO,IS_FIREFOX:cO,IS_EDGE:ld,IS_CHROME:ms,CHROME_VERSION:dO,IE_VERSION:ud,IS_SAFARI:ib,IS_WINDOWS:fO,TOUCH_ENABLED:pl,IS_IPAD:nb,IS_IPHONE:sb,IS_IOS:Jr,IS_ANY_SAFARI:Up});function cE(t){return typeof t=="string"&&Boolean(t.trim())}function hO(t){if(t.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function fee(t){return new RegExp("(^|\\s)"+t+"($|\\s)")}function zl(){return Fe===J.document}function Wl(t){return us(t)&&t.nodeType===1}function pO(){try{return J.parent!==J.self}catch{return!0}}function mO(t){return function(e,r){if(!cE(e))return Fe[t](null);cE(r)&&(r=Fe.querySelector(r));var n=Wl(r)?r:Fe;return n[t]&&n[t](e)}}function bt(t,e,r,n){t===void 0&&(t="div"),e===void 0&&(e={}),r===void 0&&(r={});var i=Fe.createElement(t);return Object.getOwnPropertyNames(e).forEach(function(s){var a=e[s];s.indexOf("aria-")!==-1||s==="role"||s==="type"?(ht.warn(`Setting attributes in the second argument of createEl()
has been deprecated. Use the third argument instead.
`+("createEl(type, properties, attributes). Attempting to set "+s+" to "+a+".")),i.setAttribute(s,a)):s==="textContent"?so(i,a):(i[s]!==a||s==="tabIndex")&&(i[s]=a)}),Object.getOwnPropertyNames(r).forEach(function(s){i.setAttribute(s,r[s])}),n&&ob(i,n),i}function so(t,e){return typeof t.textContent=="undefined"?t.innerText=e:t.textContent=e,t}function Rv(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function ja(t,e){return hO(e),t.classList?t.classList.contains(e):fee(e).test(t.className)}function is(t,e){return t.classList?t.classList.add(e):ja(t,e)||(t.className=(t.className+" "+e).trim()),t}function cd(t,e){return t?(t.classList?t.classList.remove(e):(hO(e),t.className=t.className.split(/\s+/).filter(function(r){return r!==e}).join(" ")),t):(ht.warn("removeClass was called with an element that doesn't exist"),null)}function gO(t,e,r){var n=ja(t,e);if(typeof r=="function"&&(r=r(t,e)),typeof r!="boolean"&&(r=!n),r!==n)return r?is(t,e):cd(t,e),t}function vO(t,e){Object.getOwnPropertyNames(e).forEach(function(r){var n=e[r];n===null||typeof n=="undefined"||n===!1?t.removeAttribute(r):t.setAttribute(r,n===!0?"":n)})}function Yn(t){var e={},r=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(t&&t.attributes&&t.attributes.length>0)for(var n=t.attributes,i=n.length-1;i>=0;i--){var s=n[i].name,a=n[i].value;(typeof t[s]=="boolean"||r.indexOf(","+s+",")!==-1)&&(a=a!==null),e[s]=a}return e}function yO(t,e){return t.getAttribute(e)}function ml(t,e,r){t.setAttribute(e,r)}function jp(t,e){t.removeAttribute(e)}function bO(){Fe.body.focus(),Fe.onselectstart=function(){return!1}}function _O(){Fe.onselectstart=function(){return!0}}function gl(t){if(t&&t.getBoundingClientRect&&t.parentNode){var e=t.getBoundingClientRect(),r={};return["bottom","height","left","right","top","width"].forEach(function(n){e[n]!==void 0&&(r[n]=e[n])}),r.height||(r.height=parseFloat($c(t,"height"))),r.width||(r.width=parseFloat($c(t,"width"))),r}}function Uc(t){if(!t||t&&!t.offsetParent)return{left:0,top:0,width:0,height:0};for(var e=t.offsetWidth,r=t.offsetHeight,n=0,i=0;t.offsetParent&&t!==Fe[Eh.fullscreenElement];)n+=t.offsetLeft,i+=t.offsetTop,t=t.offsetParent;return{left:n,top:i,width:e,height:r}}function Vp(t,e){var r={x:0,y:0};if(Jr)for(var n=t;n&&n.nodeName.toLowerCase()!=="html";){var i=$c(n,"transform");if(/^matrix/.test(i)){var s=i.slice(7,-1).split(/,\s/).map(Number);r.x+=s[4],r.y+=s[5]}else if(/^matrix3d/.test(i)){var a=i.slice(9,-1).split(/,\s/).map(Number);r.x+=a[12],r.y+=a[13]}n=n.parentNode}var o={},l=Uc(e.target),u=Uc(t),c=u.width,d=u.height,f=e.offsetY-(u.top-l.top),h=e.offsetX-(u.left-l.left);return e.changedTouches&&(h=e.changedTouches[0].pageX-u.left,f=e.changedTouches[0].pageY+u.top,Jr&&(h-=r.x,f-=r.y)),o.y=1-Math.max(0,Math.min(1,f/d)),o.x=Math.max(0,Math.min(1,h/c)),o}function TO(t){return us(t)&&t.nodeType===3}function ab(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function xO(t){return typeof t=="function"&&(t=t()),(Array.isArray(t)?t:[t]).map(function(e){if(typeof e=="function"&&(e=e()),Wl(e)||TO(e))return e;if(typeof e=="string"&&/\S/.test(e))return Fe.createTextNode(e)}).filter(function(e){return e})}function ob(t,e){return xO(e).forEach(function(r){return t.appendChild(r)}),t}function SO(t,e){return ob(ab(t),e)}function jc(t){return t.button===void 0&&t.buttons===void 0||t.button===0&&t.buttons===void 0||t.type==="mouseup"&&t.button===0&&t.buttons===0?!0:!(t.button!==0||t.buttons!==1)}var Gs=mO("querySelector"),EO=mO("querySelectorAll"),CO=Object.freeze({__proto__:null,isReal:zl,isEl:Wl,isInFrame:pO,createEl:bt,textContent:so,prependTo:Rv,hasClass:ja,addClass:is,removeClass:cd,toggleClass:gO,setAttributes:vO,getAttributes:Yn,getAttribute:yO,setAttribute:ml,removeAttribute:jp,blockTextSelection:bO,unblockTextSelection:_O,getBoundingClientRect:gl,findPosition:Uc,getPointerPosition:Vp,isTextNode:TO,emptyEl:ab,normalizeContent:xO,appendContent:ob,insertContent:SO,isSingleLeftClick:jc,$:Gs,$$:EO}),wO=!1,kv,hee=function(){if(kv.options.autoSetup!==!1){var e=Array.prototype.slice.call(Fe.getElementsByTagName("video")),r=Array.prototype.slice.call(Fe.getElementsByTagName("audio")),n=Array.prototype.slice.call(Fe.getElementsByTagName("video-js")),i=e.concat(r,n);if(i&&i.length>0)for(var s=0,a=i.length;s<a;s++){var o=i[s];if(o&&o.getAttribute){if(o.player===void 0){var l=o.getAttribute("data-setup");l!==null&&kv(o)}}else{Iv(1);break}}else wO||Iv(1)}};function Iv(t,e){!zl()||(e&&(kv=e),J.setTimeout(hee,t))}function Mv(){wO=!0,J.removeEventListener("load",Mv)}zl()&&(Fe.readyState==="complete"?Mv():J.addEventListener("load",Mv));var PO=function(e){var r=Fe.createElement("style");return r.className=e,r},DO=function(e,r){e.styleSheet?e.styleSheet.cssText=r:e.textContent=r},pee=3,mee=pee;function ta(){return mee++}var AO;J.WeakMap||(AO=function(){function t(){this.vdata="vdata"+Math.floor(J.performance&&J.performance.now()||Date.now()),this.data={}}var e=t.prototype;return e.set=function(n,i){var s=n[this.vdata]||ta();return n[this.vdata]||(n[this.vdata]=s),this.data[s]=i,this},e.get=function(n){var i=n[this.vdata];if(i)return this.data[i];ht("We have no data for this element",n)},e.has=function(n){var i=n[this.vdata];return i in this.data},e.delete=function(n){var i=n[this.vdata];i&&(delete this.data[i],delete n[this.vdata])},t}());var Kr=J.WeakMap?new WeakMap:new AO;function dE(t,e){if(!!Kr.has(t)){var r=Kr.get(t);r.handlers[e].length===0&&(delete r.handlers[e],t.removeEventListener?t.removeEventListener(e,r.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,r.dispatcher)),Object.getOwnPropertyNames(r.handlers).length<=0&&(delete r.handlers,delete r.dispatcher,delete r.disabled),Object.getOwnPropertyNames(r).length===0&&Kr.delete(t)}}function lb(t,e,r,n){r.forEach(function(i){t(e,i,n)})}function Hp(t){if(t.fixed_)return t;function e(){return!0}function r(){return!1}if(!t||!t.isPropagationStopped||!t.isImmediatePropagationStopped){var n=t||J.event;t={};for(var i in n)i!=="layerX"&&i!=="layerY"&&i!=="keyLocation"&&i!=="webkitMovementX"&&i!=="webkitMovementY"&&(i==="returnValue"&&n.preventDefault||(t[i]=n[i]));if(t.target||(t.target=t.srcElement||Fe),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){n.preventDefault&&n.preventDefault(),t.returnValue=!1,n.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){n.stopPropagation&&n.stopPropagation(),t.cancelBubble=!0,n.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=r,t.stopImmediatePropagation=function(){n.stopImmediatePropagation&&n.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=r,t.clientX!==null&&t.clientX!==void 0){var s=Fe.documentElement,a=Fe.body;t.pageX=t.clientX+(s&&s.scrollLeft||a&&a.scrollLeft||0)-(s&&s.clientLeft||a&&a.clientLeft||0),t.pageY=t.clientY+(s&&s.scrollTop||a&&a.scrollTop||0)-(s&&s.clientTop||a&&a.clientTop||0)}t.which=t.charCode||t.keyCode,t.button!==null&&t.button!==void 0&&(t.button=t.button&1?0:t.button&4?1:t.button&2?2:0)}return t.fixed_=!0,t}var sf,gee=function(){if(typeof sf!="boolean"){sf=!1;try{var e=Object.defineProperty({},"passive",{get:function(){sf=!0}});J.addEventListener("test",null,e),J.removeEventListener("test",null,e)}catch{}}return sf},vee=["touchstart","touchmove"];function Si(t,e,r){if(Array.isArray(e))return lb(Si,t,e,r);Kr.has(t)||Kr.set(t,{});var n=Kr.get(t);if(n.handlers||(n.handlers={}),n.handlers[e]||(n.handlers[e]=[]),r.guid||(r.guid=ta()),n.handlers[e].push(r),n.dispatcher||(n.disabled=!1,n.dispatcher=function(s,a){if(!n.disabled){s=Hp(s);var o=n.handlers[s.type];if(o)for(var l=o.slice(0),u=0,c=l.length;u<c&&!s.isImmediatePropagationStopped();u++)try{l[u].call(t,s,a)}catch(d){ht.error(d)}}}),n.handlers[e].length===1)if(t.addEventListener){var i=!1;gee()&&vee.indexOf(e)>-1&&(i={passive:!0}),t.addEventListener(e,n.dispatcher,i)}else t.attachEvent&&t.attachEvent("on"+e,n.dispatcher)}function Mr(t,e,r){if(!!Kr.has(t)){var n=Kr.get(t);if(!!n.handlers){if(Array.isArray(e))return lb(Mr,t,e,r);var i=function(u,c){n.handlers[c]=[],dE(u,c)};if(e===void 0){for(var s in n.handlers)Object.prototype.hasOwnProperty.call(n.handlers||{},s)&&i(t,s);return}var a=n.handlers[e];if(!!a){if(!r){i(t,e);return}if(r.guid)for(var o=0;o<a.length;o++)a[o].guid===r.guid&&a.splice(o--,1);dE(t,e)}}}}function Yl(t,e,r){var n=Kr.has(t)?Kr.get(t):{},i=t.parentNode||t.ownerDocument;if(typeof e=="string"?e={type:e,target:t}:e.target||(e.target=t),e=Hp(e),n.dispatcher&&n.dispatcher.call(t,e,r),i&&!e.isPropagationStopped()&&e.bubbles===!0)Yl.call(null,i,e,r);else if(!i&&!e.defaultPrevented&&e.target&&e.target[e.type]){Kr.has(e.target)||Kr.set(e.target,{});var s=Kr.get(e.target);e.target[e.type]&&(s.disabled=!0,typeof e.target[e.type]=="function"&&e.target[e.type](),s.disabled=!1)}return!e.defaultPrevented}function zp(t,e,r){if(Array.isArray(e))return lb(zp,t,e,r);var n=function i(){Mr(t,e,i),r.apply(this,arguments)};n.guid=r.guid=r.guid||ta(),Si(t,e,n)}function OO(t,e,r){var n=function i(){Mr(t,e,i),r.apply(this,arguments)};n.guid=r.guid=r.guid||ta(),Si(t,e,n)}var yee=Object.freeze({__proto__:null,fixEvent:Hp,on:Si,off:Mr,trigger:Yl,one:zp,any:OO}),sn=30,$t=function(e,r,n){r.guid||(r.guid=ta());var i=r.bind(e);return i.guid=n?n+"_"+r.guid:r.guid,i},cs=function(e,r){var n=J.performance.now(),i=function(){var a=J.performance.now();a-n>=r&&(e.apply(void 0,arguments),n=a)};return i},bee=function(e,r,n,i){i===void 0&&(i=J);var s,a=function(){i.clearTimeout(s),s=null},o=function(){var u=this,c=arguments,d=function(){s=null,d=null,n||e.apply(u,c)};!s&&n&&e.apply(u,c),i.clearTimeout(s),s=i.setTimeout(d,r)};return o.cancel=a,o},xr=function(){};xr.prototype.allowedEvents_={};xr.prototype.on=function(t,e){var r=this.addEventListener;this.addEventListener=function(){},Si(this,t,e),this.addEventListener=r};xr.prototype.addEventListener=xr.prototype.on;xr.prototype.off=function(t,e){Mr(this,t,e)};xr.prototype.removeEventListener=xr.prototype.off;xr.prototype.one=function(t,e){var r=this.addEventListener;this.addEventListener=function(){},zp(this,t,e),this.addEventListener=r};xr.prototype.any=function(t,e){var r=this.addEventListener;this.addEventListener=function(){},OO(this,t,e),this.addEventListener=r};xr.prototype.trigger=function(t){var e=t.type||t;typeof t=="string"&&(t={type:e}),t=Hp(t),this.allowedEvents_[e]&&this["on"+e]&&this["on"+e](t),Yl(this,t)};xr.prototype.dispatchEvent=xr.prototype.trigger;var Tu;xr.prototype.queueTrigger=function(t){var e=this;Tu||(Tu=new Map);var r=t.type||t,n=Tu.get(this);n||(n=new Map,Tu.set(this,n));var i=n.get(r);n.delete(r),J.clearTimeout(i);var s=J.setTimeout(function(){n.size===0&&(n=null,Tu.delete(e)),e.trigger(t)},0);n.set(r,s)};var Wp=function(e){return typeof e.name=="function"?e.name():typeof e.name=="string"?e.name:e.name_?e.name_:e.constructor&&e.constructor.name?e.constructor.name:typeof e},ns=function(e){return e instanceof xr||!!e.eventBusEl_&&["on","one","off","trigger"].every(function(r){return typeof e[r]=="function"})},_ee=function(e,r){ns(e)?r():(e.eventedCallbacks||(e.eventedCallbacks=[]),e.eventedCallbacks.push(r))},Lv=function(e){return typeof e=="string"&&/\S/.test(e)||Array.isArray(e)&&!!e.length},Ch=function(e,r,n){if(!e||!e.nodeName&&!ns(e))throw new Error("Invalid target for "+Wp(r)+"#"+n+"; must be a DOM node or evented object.")},RO=function(e,r,n){if(!Lv(e))throw new Error("Invalid event type for "+Wp(r)+"#"+n+"; must be a non-empty string or array.")},kO=function(e,r,n){if(typeof e!="function")throw new Error("Invalid listener for "+Wp(r)+"#"+n+"; must be a function.")},sg=function(e,r,n){var i=r.length<3||r[0]===e||r[0]===e.eventBusEl_,s,a,o;return i?(s=e.eventBusEl_,r.length>=3&&r.shift(),a=r[0],o=r[1]):(s=r[0],a=r[1],o=r[2]),Ch(s,e,n),RO(a,e,n),kO(o,e,n),o=$t(e,o),{isTargetingSelf:i,target:s,type:a,listener:o}},Sa=function(e,r,n,i){Ch(e,e,r),e.nodeName?yee[r](e,n,i):e[r](n,i)},Tee={on:function(){for(var e=this,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=sg(this,n,"on"),a=s.isTargetingSelf,o=s.target,l=s.type,u=s.listener;if(Sa(o,"on",l,u),!a){var c=function(){return e.off(o,l,u)};c.guid=u.guid;var d=function(){return e.off("dispose",c)};d.guid=u.guid,Sa(this,"on","dispose",c),Sa(o,"on","dispose",d)}},one:function(){for(var e=this,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=sg(this,n,"one"),a=s.isTargetingSelf,o=s.target,l=s.type,u=s.listener;if(a)Sa(o,"one",l,u);else{var c=function d(){e.off(o,l,d);for(var f=arguments.length,h=new Array(f),m=0;m<f;m++)h[m]=arguments[m];u.apply(null,h)};c.guid=u.guid,Sa(o,"one",l,c)}},any:function(){for(var e=this,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=sg(this,n,"any"),a=s.isTargetingSelf,o=s.target,l=s.type,u=s.listener;if(a)Sa(o,"any",l,u);else{var c=function d(){e.off(o,l,d);for(var f=arguments.length,h=new Array(f),m=0;m<f;m++)h[m]=arguments[m];u.apply(null,h)};c.guid=u.guid,Sa(o,"any",l,c)}},off:function(e,r,n){if(!e||Lv(e))Mr(this.eventBusEl_,e,r);else{var i=e,s=r;Ch(i,this,"off"),RO(s,this,"off"),kO(n,this,"off"),n=$t(this,n),this.off("dispose",n),i.nodeName?(Mr(i,s,n),Mr(i,"dispose",n)):ns(i)&&(i.off(s,n),i.off("dispose",n))}},trigger:function(e,r){Ch(this.eventBusEl_,this,"trigger");var n=e&&typeof e!="string"?e.type:e;if(!Lv(n)){var i="Invalid event type for "+Wp(this)+"#trigger; must be a non-empty string or object with a type key that has a non-empty value.";if(e)(this.log||ht).error(i);else throw new Error(i)}return Yl(this.eventBusEl_,e,r)}};function ub(t,e){e===void 0&&(e={});var r=e,n=r.eventBusKey;if(n){if(!t[n].nodeName)throw new Error('The eventBusKey "'+n+'" does not refer to an element.');t.eventBusEl_=t[n]}else t.eventBusEl_=bt("span",{className:"vjs-event-bus"});return Jt(t,Tee),t.eventedCallbacks&&t.eventedCallbacks.forEach(function(i){i()}),t.on("dispose",function(){t.off(),[t,t.el_,t.eventBusEl_].forEach(function(i){i&&Kr.has(i)&&Kr.delete(i)}),J.setTimeout(function(){t.eventBusEl_=null},0)}),t}var xee={state:{},setState:function(e){var r=this;typeof e=="function"&&(e=e());var n;return Ko(e,function(i,s){r.state[s]!==i&&(n=n||{},n[s]={from:r.state[s],to:i}),r.state[s]=i}),n&&ns(this)&&this.trigger({changes:n,type:"statechanged"}),n}};function IO(t,e){return Jt(t,xee),t.state=Jt({},t.state,e),typeof t.handleStateChanged=="function"&&ns(t)&&t.on("statechanged",t.handleStateChanged),t}var jf=function(e){return typeof e!="string"?e:e.replace(/./,function(r){return r.toLowerCase()})},nr=function(e){return typeof e!="string"?e:e.replace(/./,function(r){return r.toUpperCase()})},See=function(e,r){return nr(e)===nr(r)};function Yt(){for(var t={},e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return r.forEach(function(i){!i||Ko(i,function(s,a){if(!Bc(s)){t[a]=s;return}Bc(t[a])||(t[a]={}),t[a]=Yt(t[a],s)})}),t}var Eee=function(){function t(){this.map_={}}var e=t.prototype;return e.has=function(n){return n in this.map_},e.delete=function(n){var i=this.has(n);return delete this.map_[n],i},e.set=function(n,i){return this.map_[n]=i,this},e.forEach=function(n,i){for(var s in this.map_)n.call(i,this.map_[s],s,this)},t}(),Cee=J.Map?J.Map:Eee,wee=function(){function t(){this.set_={}}var e=t.prototype;return e.has=function(n){return n in this.set_},e.delete=function(n){var i=this.has(n);return delete this.set_[n],i},e.add=function(n){return this.set_[n]=1,this},e.forEach=function(n,i){for(var s in this.set_)n.call(i,s,s,this)},t}(),ag=J.Set?J.Set:wee,Oe=function(){function t(r,n,i){if(!r&&this.play?this.player_=r=this:this.player_=r,this.isDisposed_=!1,this.parentComponent_=null,this.options_=Yt({},this.options_),n=this.options_=Yt(this.options_,n),this.id_=n.id||n.el&&n.el.id,!this.id_){var s=r&&r.id&&r.id()||"no_player";this.id_=s+"_component_"+ta()}this.name_=n.name||null,n.el?this.el_=n.el:n.createEl!==!1&&(this.el_=this.createEl()),n.evented!==!1&&(ub(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),IO(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new ag,this.setIntervalIds_=new ag,this.rafIds_=new ag,this.namedRafs_=new Cee,this.clearingTimersOnDispose_=!1,n.initChildren!==!1&&this.initChildren(),this.ready(i),n.reportTouchActivity!==!1&&this.enableTouchActivity()}var e=t.prototype;return e.dispose=function(){if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(var n=this.children_.length-1;n>=0;n--)this.children_[n].dispose&&this.children_[n].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),this.el_=null),this.player_=null}},e.isDisposed=function(){return Boolean(this.isDisposed_)},e.player=function(){return this.player_},e.options=function(n){return n?(this.options_=Yt(this.options_,n),this.options_):this.options_},e.el=function(){return this.el_},e.createEl=function(n,i,s){return bt(n,i,s)},e.localize=function(n,i,s){s===void 0&&(s=n);var a=this.player_.language&&this.player_.language(),o=this.player_.languages&&this.player_.languages(),l=o&&o[a],u=a&&a.split("-")[0],c=o&&o[u],d=s;return l&&l[n]?d=l[n]:c&&c[n]&&(d=c[n]),i&&(d=d.replace(/\{(\d+)\}/g,function(f,h){var m=i[h-1],g=m;return typeof m=="undefined"&&(g=f),g})),d},e.handleLanguagechange=function(){},e.contentEl=function(){return this.contentEl_||this.el_},e.id=function(){return this.id_},e.name=function(){return this.name_},e.children=function(){return this.children_},e.getChildById=function(n){return this.childIndex_[n]},e.getChild=function(n){if(!!n)return this.childNameIndex_[n]},e.getDescendant=function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];i=i.reduce(function(l,u){return l.concat(u)},[]);for(var a=this,o=0;o<i.length;o++)if(a=a.getChild(i[o]),!a||!a.getChild)return;return a},e.addChild=function(n,i,s){i===void 0&&(i={}),s===void 0&&(s=this.children_.length);var a,o;if(typeof n=="string"){o=nr(n);var l=i.componentClass||o;i.name=o;var u=t.getComponent(l);if(!u)throw new Error("Component "+l+" does not exist");if(typeof u!="function")return null;a=new u(this.player_||this,i)}else a=n;if(a.parentComponent_&&a.parentComponent_.removeChild(a),this.children_.splice(s,0,a),a.parentComponent_=this,typeof a.id=="function"&&(this.childIndex_[a.id()]=a),o=o||a.name&&nr(a.name()),o&&(this.childNameIndex_[o]=a,this.childNameIndex_[jf(o)]=a),typeof a.el=="function"&&a.el()){var c=null;this.children_[s+1]&&(this.children_[s+1].el_?c=this.children_[s+1].el_:Wl(this.children_[s+1])&&(c=this.children_[s+1])),this.contentEl().insertBefore(a.el(),c)}return a},e.removeChild=function(n){if(typeof n=="string"&&(n=this.getChild(n)),!(!n||!this.children_)){for(var i=!1,s=this.children_.length-1;s>=0;s--)if(this.children_[s]===n){i=!0,this.children_.splice(s,1);break}if(!!i){n.parentComponent_=null,this.childIndex_[n.id()]=null,this.childNameIndex_[nr(n.name())]=null,this.childNameIndex_[jf(n.name())]=null;var a=n.el();a&&a.parentNode===this.contentEl()&&this.contentEl().removeChild(n.el())}}},e.initChildren=function(){var n=this,i=this.options_.children;if(i){var s=this.options_,a=function(c){var d=c.name,f=c.opts;if(s[d]!==void 0&&(f=s[d]),f!==!1){f===!0&&(f={}),f.playerOptions=n.options_.playerOptions;var h=n.addChild(d,f);h&&(n[d]=h)}},o,l=t.getComponent("Tech");Array.isArray(i)?o=i:o=Object.keys(i),o.concat(Object.keys(this.options_).filter(function(u){return!o.some(function(c){return typeof c=="string"?u===c:u===c.name})})).map(function(u){var c,d;return typeof u=="string"?(c=u,d=i[c]||n.options_[c]||{}):(c=u.name,d=u),{name:c,opts:d}}).filter(function(u){var c=t.getComponent(u.opts.componentClass||nr(u.name));return c&&!l.isTech(c)}).forEach(a)}},e.buildCSSClass=function(){return""},e.ready=function(n,i){if(i===void 0&&(i=!1),!!n){if(!this.isReady_){this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(n);return}i?n.call(this):this.setTimeout(n,1)}},e.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var n=this.readyQueue_;this.readyQueue_=[],n&&n.length>0&&n.forEach(function(i){i.call(this)},this),this.trigger("ready")},1)},e.$=function(n,i){return Gs(n,i||this.contentEl())},e.$$=function(n,i){return EO(n,i||this.contentEl())},e.hasClass=function(n){return ja(this.el_,n)},e.addClass=function(n){is(this.el_,n)},e.removeClass=function(n){cd(this.el_,n)},e.toggleClass=function(n,i){gO(this.el_,n,i)},e.show=function(){this.removeClass("vjs-hidden")},e.hide=function(){this.addClass("vjs-hidden")},e.lockShowing=function(){this.addClass("vjs-lock-showing")},e.unlockShowing=function(){this.removeClass("vjs-lock-showing")},e.getAttribute=function(n){return yO(this.el_,n)},e.setAttribute=function(n,i){ml(this.el_,n,i)},e.removeAttribute=function(n){jp(this.el_,n)},e.width=function(n,i){return this.dimension("width",n,i)},e.height=function(n,i){return this.dimension("height",n,i)},e.dimensions=function(n,i){this.width(n,!0),this.height(i)},e.dimension=function(n,i,s){if(i!==void 0){(i===null||i!==i)&&(i=0),(""+i).indexOf("%")!==-1||(""+i).indexOf("px")!==-1?this.el_.style[n]=i:i==="auto"?this.el_.style[n]="":this.el_.style[n]=i+"px",s||this.trigger("componentresize");return}if(!this.el_)return 0;var a=this.el_.style[n],o=a.indexOf("px");return parseInt(o!==-1?a.slice(0,o):this.el_["offset"+nr(n)],10)},e.currentDimension=function(n){var i=0;if(n!=="width"&&n!=="height")throw new Error("currentDimension only accepts width or height value");if(i=$c(this.el_,n),i=parseFloat(i),i===0||isNaN(i)){var s="offset"+nr(n);i=this.el_[s]}return i},e.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},e.currentWidth=function(){return this.currentDimension("width")},e.currentHeight=function(){return this.currentDimension("height")},e.focus=function(){this.el_.focus()},e.blur=function(){this.el_.blur()},e.handleKeyDown=function(n){this.player_&&(ot.isEventKey(n,"Tab")||n.stopPropagation(),this.player_.handleKeyDown(n))},e.handleKeyPress=function(n){this.handleKeyDown(n)},e.emitTapEvents=function(){var n=0,i=null,s=10,a=200,o;this.on("touchstart",function(u){u.touches.length===1&&(i={pageX:u.touches[0].pageX,pageY:u.touches[0].pageY},n=J.performance.now(),o=!0)}),this.on("touchmove",function(u){if(u.touches.length>1)o=!1;else if(i){var c=u.touches[0].pageX-i.pageX,d=u.touches[0].pageY-i.pageY,f=Math.sqrt(c*c+d*d);f>s&&(o=!1)}});var l=function(){o=!1};this.on("touchleave",l),this.on("touchcancel",l),this.on("touchend",function(u){if(i=null,o===!0){var c=J.performance.now()-n;c<a&&(u.preventDefault(),this.trigger("tap"))}})},e.enableTouchActivity=function(){if(!(!this.player()||!this.player().reportUserActivity)){var n=$t(this.player(),this.player().reportUserActivity),i;this.on("touchstart",function(){n(),this.clearInterval(i),i=this.setInterval(n,250)});var s=function(o){n(),this.clearInterval(i)};this.on("touchmove",n),this.on("touchend",s),this.on("touchcancel",s)}},e.setTimeout=function(n,i){var s=this,a;return n=$t(this,n),this.clearTimersOnDispose_(),a=J.setTimeout(function(){s.setTimeoutIds_.has(a)&&s.setTimeoutIds_.delete(a),n()},i),this.setTimeoutIds_.add(a),a},e.clearTimeout=function(n){return this.setTimeoutIds_.has(n)&&(this.setTimeoutIds_.delete(n),J.clearTimeout(n)),n},e.setInterval=function(n,i){n=$t(this,n),this.clearTimersOnDispose_();var s=J.setInterval(n,i);return this.setIntervalIds_.add(s),s},e.clearInterval=function(n){return this.setIntervalIds_.has(n)&&(this.setIntervalIds_.delete(n),J.clearInterval(n)),n},e.requestAnimationFrame=function(n){var i=this;if(!this.supportsRaf_)return this.setTimeout(n,1e3/60);this.clearTimersOnDispose_();var s;return n=$t(this,n),s=J.requestAnimationFrame(function(){i.rafIds_.has(s)&&i.rafIds_.delete(s),n()}),this.rafIds_.add(s),s},e.requestNamedAnimationFrame=function(n,i){var s=this;if(!this.namedRafs_.has(n)){this.clearTimersOnDispose_(),i=$t(this,i);var a=this.requestAnimationFrame(function(){i(),s.namedRafs_.has(n)&&s.namedRafs_.delete(n)});return this.namedRafs_.set(n,a),n}},e.cancelNamedAnimationFrame=function(n){!this.namedRafs_.has(n)||(this.cancelAnimationFrame(this.namedRafs_.get(n)),this.namedRafs_.delete(n))},e.cancelAnimationFrame=function(n){return this.supportsRaf_?(this.rafIds_.has(n)&&(this.rafIds_.delete(n),J.cancelAnimationFrame(n)),n):this.clearTimeout(n)},e.clearTimersOnDispose_=function(){var n=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",function(){[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(function(i){var s=i[0],a=i[1];n[s].forEach(function(o,l){return n[a](l)})}),n.clearingTimersOnDispose_=!1}))},t.registerComponent=function(n,i){if(typeof n!="string"||!n)throw new Error('Illegal component name, "'+n+'"; must be a non-empty string.');var s=t.getComponent("Tech"),a=s&&s.isTech(i),o=t===i||t.prototype.isPrototypeOf(i.prototype);if(a||!o){var l;throw a?l="techs must be registered using Tech.registerTech()":l="must be a Component subclass",new Error('Illegal component, "'+n+'"; '+l+".")}n=nr(n),t.components_||(t.components_={});var u=t.getComponent("Player");if(n==="Player"&&u&&u.players){var c=u.players,d=Object.keys(c);if(c&&d.length>0&&d.map(function(f){return c[f]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return t.components_[n]=i,t.components_[jf(n)]=i,i},t.getComponent=function(n){if(!(!n||!t.components_))return t.components_[n]},t}();Oe.prototype.supportsRaf_=typeof J.requestAnimationFrame=="function"&&typeof J.cancelAnimationFrame=="function";Oe.registerComponent("Component",Oe);function Pee(t,e,r){if(typeof e!="number"||e<0||e>r)throw new Error("Failed to execute '"+t+"' on 'TimeRanges': The index provided ("+e+") is non-numeric or out of bounds (0-"+r+").")}function fE(t,e,r,n){return Pee(t,n,r.length-1),r[n][e]}function og(t){var e;return t===void 0||t.length===0?e={length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:e={length:t.length,start:fE.bind(null,"start",0,t),end:fE.bind(null,"end",1,t)},J.Symbol&&J.Symbol.iterator&&(e[J.Symbol.iterator]=function(){return(t||[]).values()}),e}function Va(t,e){return Array.isArray(t)?og(t):t===void 0||e===void 0?og():og([[t,e]])}function MO(t,e){var r=0,n,i;if(!e)return 0;(!t||!t.length)&&(t=Va(0,0));for(var s=0;s<t.length;s++)n=t.start(s),i=t.end(s),i>e&&(i=e),r+=i-n;return r/e}function Xr(t){if(t instanceof Xr)return t;typeof t=="number"?this.code=t:typeof t=="string"?this.message=t:us(t)&&(typeof t.code=="number"&&(this.code=t.code),Jt(this,t)),this.message||(this.message=Xr.defaultMessages[this.code]||"")}Xr.prototype.code=0;Xr.prototype.message="";Xr.prototype.status=null;Xr.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"];Xr.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var Lo=0;Lo<Xr.errorTypes.length;Lo++)Xr[Xr.errorTypes[Lo]]=Lo,Xr.prototype[Xr.errorTypes[Lo]]=Lo;function lc(t){return t!=null&&typeof t.then=="function"}function Tn(t){lc(t)&&t.then(null,function(e){})}var Nv=function(e){var r=["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(n,i,s){return e[i]&&(n[i]=e[i]),n},{cues:e.cues&&Array.prototype.map.call(e.cues,function(n){return{startTime:n.startTime,endTime:n.endTime,text:n.text,id:n.id}})});return r},Dee=function(e){var r=e.$$("track"),n=Array.prototype.map.call(r,function(s){return s.track}),i=Array.prototype.map.call(r,function(s){var a=Nv(s.track);return s.src&&(a.src=s.src),a});return i.concat(Array.prototype.filter.call(e.textTracks(),function(s){return n.indexOf(s)===-1}).map(Nv))},Aee=function(e,r){return e.forEach(function(n){var i=r.addRemoteTextTrack(n).track;!n.src&&n.cues&&n.cues.forEach(function(s){return i.addCue(s)})}),r.textTracks()},hE={textTracksToJson:Dee,jsonToTextTracks:Aee,trackToJson_:Nv},lg="vjs-modal-dialog",Gl=function(t){$e(e,t);function e(n,i){var s;return s=t.call(this,n,i)||this,s.handleKeyDown_=function(a){return s.handleKeyDown(a)},s.close_=function(a){return s.close(a)},s.opened_=s.hasBeenOpened_=s.hasBeenFilled_=!1,s.closeable(!s.options_.uncloseable),s.content(s.options_.content),s.contentEl_=bt("div",{className:lg+"-content"},{role:"document"}),s.descEl_=bt("p",{className:lg+"-description vjs-control-text",id:s.el().getAttribute("aria-describedby")}),so(s.descEl_,s.description()),s.el_.appendChild(s.descEl_),s.el_.appendChild(s.contentEl_),s}var r=e.prototype;return r.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},r.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,t.prototype.dispose.call(this)},r.buildCSSClass=function(){return lg+" vjs-hidden "+t.prototype.buildCSSClass.call(this)},r.label=function(){return this.localize(this.options_.label||"Modal Window")},r.description=function(){var i=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(i+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),i},r.open=function(){if(!this.opened_){var i=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!i.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&i.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=i.controls(),i.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},r.opened=function(i){return typeof i=="boolean"&&this[i?"open":"close"](),this.opened_},r.close=function(){if(!!this.opened_){var i=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&i.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&i.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},r.closeable=function(i){if(typeof i=="boolean"){var s=this.closeable_=!!i,a=this.getChild("closeButton");if(s&&!a){var o=this.contentEl_;this.contentEl_=this.el_,a=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=o,this.on(a,"close",this.close_)}!s&&a&&(this.off(a,"close",this.close_),this.removeChild(a),a.dispose())}return this.closeable_},r.fill=function(){this.fillWith(this.content())},r.fillWith=function(i){var s=this.contentEl(),a=s.parentNode,o=s.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,a.removeChild(s),this.empty(),SO(s,i),this.trigger("modalfill"),o?a.insertBefore(s,o):a.appendChild(s);var l=this.getChild("closeButton");l&&a.appendChild(l.el_)},r.empty=function(){this.trigger("beforemodalempty"),ab(this.contentEl()),this.trigger("modalempty")},r.content=function(i){return typeof i!="undefined"&&(this.content_=i),this.content_},r.conditionalFocus_=function(){var i=Fe.activeElement,s=this.player_.el_;this.previouslyActiveEl_=null,(s.contains(i)||s===i)&&(this.previouslyActiveEl_=i,this.focus())},r.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},r.handleKeyDown=function(i){if(i.stopPropagation(),ot.isEventKey(i,"Escape")&&this.closeable()){i.preventDefault(),this.close();return}if(!!ot.isEventKey(i,"Tab")){for(var s=this.focusableEls_(),a=this.el_.querySelector(":focus"),o,l=0;l<s.length;l++)if(a===s[l]){o=l;break}Fe.activeElement===this.el_&&(o=0),i.shiftKey&&o===0?(s[s.length-1].focus(),i.preventDefault()):!i.shiftKey&&o===s.length-1&&(s[0].focus(),i.preventDefault())}},r.focusableEls_=function(){var i=this.el_.querySelectorAll("*");return Array.prototype.filter.call(i,function(s){return(s instanceof J.HTMLAnchorElement||s instanceof J.HTMLAreaElement)&&s.hasAttribute("href")||(s instanceof J.HTMLInputElement||s instanceof J.HTMLSelectElement||s instanceof J.HTMLTextAreaElement||s instanceof J.HTMLButtonElement)&&!s.hasAttribute("disabled")||s instanceof J.HTMLIFrameElement||s instanceof J.HTMLObjectElement||s instanceof J.HTMLEmbedElement||s.hasAttribute("tabindex")&&s.getAttribute("tabindex")!==-1||s.hasAttribute("contenteditable")})},e}(Oe);Gl.prototype.options_={pauseOnOpen:!0,temporary:!0};Oe.registerComponent("ModalDialog",Gl);var vl=function(t){$e(e,t);function e(n){var i;n===void 0&&(n=[]),i=t.call(this)||this,i.tracks_=[],Object.defineProperty(st(i),"length",{get:function(){return this.tracks_.length}});for(var s=0;s<n.length;s++)i.addTrack(n[s]);return i}var r=e.prototype;return r.addTrack=function(i){var s=this,a=this.tracks_.length;""+a in this||Object.defineProperty(this,a,{get:function(){return this.tracks_[a]}}),this.tracks_.indexOf(i)===-1&&(this.tracks_.push(i),this.trigger({track:i,type:"addtrack",target:this})),i.labelchange_=function(){s.trigger({track:i,type:"labelchange",target:s})},ns(i)&&i.addEventListener("labelchange",i.labelchange_)},r.removeTrack=function(i){for(var s,a=0,o=this.length;a<o;a++)if(this[a]===i){s=this[a],s.off&&s.off(),this.tracks_.splice(a,1);break}!s||this.trigger({track:s,type:"removetrack",target:this})},r.getTrackById=function(i){for(var s=null,a=0,o=this.length;a<o;a++){var l=this[a];if(l.id===i){s=l;break}}return s},e}(xr);vl.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(var Oee in vl.prototype.allowedEvents_)vl.prototype["on"+Oee]=null;var ug=function(e,r){for(var n=0;n<e.length;n++)!Object.keys(e[n]).length||r.id===e[n].id||(e[n].enabled=!1)},Ree=function(t){$e(e,t);function e(n){var i;n===void 0&&(n=[]);for(var s=n.length-1;s>=0;s--)if(n[s].enabled){ug(n,n[s]);break}return i=t.call(this,n)||this,i.changing_=!1,i}var r=e.prototype;return r.addTrack=function(i){var s=this;i.enabled&&ug(this,i),t.prototype.addTrack.call(this,i),i.addEventListener&&(i.enabledChange_=function(){s.changing_||(s.changing_=!0,ug(s,i),s.changing_=!1,s.trigger("change"))},i.addEventListener("enabledchange",i.enabledChange_))},r.removeTrack=function(i){t.prototype.removeTrack.call(this,i),i.removeEventListener&&i.enabledChange_&&(i.removeEventListener("enabledchange",i.enabledChange_),i.enabledChange_=null)},e}(vl),cg=function(e,r){for(var n=0;n<e.length;n++)!Object.keys(e[n]).length||r.id===e[n].id||(e[n].selected=!1)},kee=function(t){$e(e,t);function e(n){var i;n===void 0&&(n=[]);for(var s=n.length-1;s>=0;s--)if(n[s].selected){cg(n,n[s]);break}return i=t.call(this,n)||this,i.changing_=!1,Object.defineProperty(st(i),"selectedIndex",{get:function(){for(var o=0;o<this.length;o++)if(this[o].selected)return o;return-1},set:function(){}}),i}var r=e.prototype;return r.addTrack=function(i){var s=this;i.selected&&cg(this,i),t.prototype.addTrack.call(this,i),i.addEventListener&&(i.selectedChange_=function(){s.changing_||(s.changing_=!0,cg(s,i),s.changing_=!1,s.trigger("change"))},i.addEventListener("selectedchange",i.selectedChange_))},r.removeTrack=function(i){t.prototype.removeTrack.call(this,i),i.removeEventListener&&i.selectedChange_&&(i.removeEventListener("selectedchange",i.selectedChange_),i.selectedChange_=null)},e}(vl),LO=function(t){$e(e,t);function e(){return t.apply(this,arguments)||this}var r=e.prototype;return r.addTrack=function(i){var s=this;t.prototype.addTrack.call(this,i),this.queueChange_||(this.queueChange_=function(){return s.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return s.trigger("selectedlanguagechange")}),i.addEventListener("modechange",this.queueChange_);var a=["metadata","chapters"];a.indexOf(i.kind)===-1&&i.addEventListener("modechange",this.triggerSelectedlanguagechange_)},r.removeTrack=function(i){t.prototype.removeTrack.call(this,i),i.removeEventListener&&(this.queueChange_&&i.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&i.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},e}(vl),Iee=function(){function t(r){r===void 0&&(r=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var n=0,i=r.length;n<i;n++)this.addTrackElement_(r[n])}var e=t.prototype;return e.addTrackElement_=function(n){var i=this.trackElements_.length;""+i in this||Object.defineProperty(this,i,{get:function(){return this.trackElements_[i]}}),this.trackElements_.indexOf(n)===-1&&this.trackElements_.push(n)},e.getTrackElementByTrack_=function(n){for(var i,s=0,a=this.trackElements_.length;s<a;s++)if(n===this.trackElements_[s].track){i=this.trackElements_[s];break}return i},e.removeTrackElement_=function(n){for(var i=0,s=this.trackElements_.length;i<s;i++)if(n===this.trackElements_[i]){this.trackElements_[i].track&&typeof this.trackElements_[i].track.off=="function"&&this.trackElements_[i].track.off(),typeof this.trackElements_[i].off=="function"&&this.trackElements_[i].off(),this.trackElements_.splice(i,1);break}},t}(),pE=function(){function t(r){t.prototype.setCues_.call(this,r),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var e=t.prototype;return e.setCues_=function(n){var i=this.length||0,s=0,a=n.length;this.cues_=n,this.length_=n.length;var o=function(u){""+u in this||Object.defineProperty(this,""+u,{get:function(){return this.cues_[u]}})};if(i<a)for(s=i;s<a;s++)o.call(this,s)},e.getCueById=function(n){for(var i=null,s=0,a=this.length;s<a;s++){var o=this[s];if(o.id===n){i=o;break}}return i},t}(),Mee={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},Lee={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},Nee={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},mE={disabled:"disabled",hidden:"hidden",showing:"showing"},cb=function(t){$e(e,t);function e(r){var n;r===void 0&&(r={}),n=t.call(this)||this;var i={id:r.id||"vjs_track_"+ta(),kind:r.kind||"",language:r.language||""},s=r.label||"",a=function(u){Object.defineProperty(st(n),u,{get:function(){return i[u]},set:function(){}})};for(var o in i)a(o);return Object.defineProperty(st(n),"label",{get:function(){return s},set:function(u){u!==s&&(s=u,this.trigger("labelchange"))}}),n}return e}(xr),db=function(e){var r=["protocol","hostname","port","pathname","search","hash","host"],n=Fe.createElement("a");n.href=e;for(var i={},s=0;s<r.length;s++)i[r[s]]=n[r[s]];return i.protocol==="http:"&&(i.host=i.host.replace(/:80$/,"")),i.protocol==="https:"&&(i.host=i.host.replace(/:443$/,"")),i.protocol||(i.protocol=J.location.protocol),i.host||(i.host=J.location.host),i},NO=function(e){if(!e.match(/^https?:\/\//)){var r=Fe.createElement("a");r.href=e,e=r.href}return e},fb=function(e){if(typeof e=="string"){var r=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/,n=r.exec(e);if(n)return n.pop().toLowerCase()}return""},Yp=function(e,r){r===void 0&&(r=J.location);var n=db(e),i=n.protocol===":"?r.protocol:n.protocol,s=i+n.host!==r.protocol+r.host;return s},Fee=Object.freeze({__proto__:null,parseUrl:db,getAbsoluteURL:NO,getFileExtension:fb,isCrossOrigin:Yp}),gE=function(e,r){var n=new J.WebVTT.Parser(J,J.vttjs,J.WebVTT.StringDecoder()),i=[];n.oncue=function(s){r.addCue(s)},n.onparsingerror=function(s){i.push(s)},n.onflush=function(){r.trigger({type:"loadeddata",target:r})},n.parse(e),i.length>0&&(J.console&&J.console.groupCollapsed&&J.console.groupCollapsed("Text Track parsing errors for "+r.src),i.forEach(function(s){return ht.error(s)}),J.console&&J.console.groupEnd&&J.console.groupEnd()),n.flush()},vE=function(e,r){var n={uri:e},i=Yp(e);i&&(n.cors=i);var s=r.tech_.crossOrigin()==="use-credentials";s&&(n.withCredentials=s),cA(n,$t(this,function(a,o,l){if(a)return ht.error(a,o);r.loaded_=!0,typeof J.WebVTT!="function"?r.tech_&&r.tech_.any(["vttjsloaded","vttjserror"],function(u){if(u.type==="vttjserror"){ht.error("vttjs failed to load, stopping trying to process "+r.src);return}return gE(l,r)}):gE(l,r)}))},dd=function(t){$e(e,t);function e(n){var i;if(n===void 0&&(n={}),!n.tech)throw new Error("A tech was not provided.");var s=Yt(n,{kind:Nee[n.kind]||"subtitles",language:n.language||n.srclang||""}),a=mE[s.mode]||"disabled",o=s.default;(s.kind==="metadata"||s.kind==="chapters")&&(a="hidden"),i=t.call(this,s)||this,i.tech_=s.tech,i.cues_=[],i.activeCues_=[],i.preload_=i.tech_.preloadTextTracks!==!1;var l=new pE(i.cues_),u=new pE(i.activeCues_),c=!1,d=$t(st(i),function(){!this.tech_.isReady_||this.tech_.isDisposed()||(this.activeCues=this.activeCues,c&&(this.trigger("cuechange"),c=!1))}),f=function(){i.tech_.off("timeupdate",d)};return i.tech_.one("dispose",f),a!=="disabled"&&i.tech_.on("timeupdate",d),Object.defineProperties(st(i),{default:{get:function(){return o},set:function(){}},mode:{get:function(){return a},set:function(m){!mE[m]||a!==m&&(a=m,!this.preload_&&a!=="disabled"&&this.cues.length===0&&vE(this.src,this),this.tech_.off("timeupdate",d),a!=="disabled"&&this.tech_.on("timeupdate",d),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?l:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(this.cues.length===0)return u;for(var m=this.tech_.currentTime(),g=[],v=0,x=this.cues.length;v<x;v++){var S=this.cues[v];(S.startTime<=m&&S.endTime>=m||S.startTime===S.endTime&&S.startTime<=m&&S.startTime+.5>=m)&&g.push(S)}if(c=!1,g.length!==this.activeCues_.length)c=!0;else for(var D=0;D<g.length;D++)this.activeCues_.indexOf(g[D])===-1&&(c=!0);return this.activeCues_=g,u.setCues_(this.activeCues_),u},set:function(){}}}),s.src?(i.src=s.src,i.preload_||(i.loaded_=!0),(i.preload_||s.kind!=="subtitles"&&s.kind!=="captions")&&vE(i.src,st(i))):i.loaded_=!0,i}var r=e.prototype;return r.addCue=function(i){var s=i;if(J.vttjs&&!(i instanceof J.vttjs.VTTCue)){s=new J.vttjs.VTTCue(i.startTime,i.endTime,i.text);for(var a in i)a in s||(s[a]=i[a]);s.id=i.id,s.originalCue_=i}for(var o=this.tech_.textTracks(),l=0;l<o.length;l++)o[l]!==this&&o[l].removeCue(s);this.cues_.push(s),this.cues.setCues_(this.cues_)},r.removeCue=function(i){for(var s=this.cues_.length;s--;){var a=this.cues_[s];if(a===i||a.originalCue_&&a.originalCue_===i){this.cues_.splice(s,1),this.cues.setCues_(this.cues_);break}}},e}(cb);dd.prototype.allowedEvents_={cuechange:"cuechange"};var FO=function(t){$e(e,t);function e(r){var n;r===void 0&&(r={});var i=Yt(r,{kind:Lee[r.kind]||""});n=t.call(this,i)||this;var s=!1;return Object.defineProperty(st(n),"enabled",{get:function(){return s},set:function(o){typeof o!="boolean"||o===s||(s=o,this.trigger("enabledchange"))}}),i.enabled&&(n.enabled=i.enabled),n.loaded_=!0,n}return e}(cb),BO=function(t){$e(e,t);function e(r){var n;r===void 0&&(r={});var i=Yt(r,{kind:Mee[r.kind]||""});n=t.call(this,i)||this;var s=!1;return Object.defineProperty(st(n),"selected",{get:function(){return s},set:function(o){typeof o!="boolean"||o===s||(s=o,this.trigger("selectedchange"))}}),i.selected&&(n.selected=i.selected),n}return e}(cb),$O=0,Bee=1,UO=2,$ee=3,ql=function(t){$e(e,t);function e(r){var n;r===void 0&&(r={}),n=t.call(this)||this;var i,s=new dd(r);return n.kind=s.kind,n.src=s.src,n.srclang=s.language,n.label=s.label,n.default=s.default,Object.defineProperties(st(n),{readyState:{get:function(){return i}},track:{get:function(){return s}}}),i=$O,s.addEventListener("loadeddata",function(){i=UO,n.trigger({type:"load",target:st(n)})}),n}return e}(xr);ql.prototype.allowedEvents_={load:"load"};ql.NONE=$O;ql.LOADING=Bee;ql.LOADED=UO;ql.ERROR=$ee;var Bi={audio:{ListClass:Ree,TrackClass:FO,capitalName:"Audio"},video:{ListClass:kee,TrackClass:BO,capitalName:"Video"},text:{ListClass:LO,TrackClass:dd,capitalName:"Text"}};Object.keys(Bi).forEach(function(t){Bi[t].getterName=t+"Tracks",Bi[t].privateName=t+"Tracks_"});var yl={remoteText:{ListClass:LO,TrackClass:dd,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:Iee,TrackClass:ql,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},Yr=Vi({},Bi,yl);yl.names=Object.keys(yl);Bi.names=Object.keys(Bi);Yr.names=[].concat(yl.names).concat(Bi.names);function Uee(t,e,r,n,i){i===void 0&&(i={});var s=t.textTracks();i.kind=e,r&&(i.label=r),n&&(i.language=n),i.tech=t;var a=new Yr.text.TrackClass(i);return s.addTrack(a),a}var jt=function(t){$e(e,t);function e(n,i){var s;return n===void 0&&(n={}),i===void 0&&(i=function(){}),n.reportTouchActivity=!1,s=t.call(this,null,n,i)||this,s.onDurationChange_=function(a){return s.onDurationChange(a)},s.trackProgress_=function(a){return s.trackProgress(a)},s.trackCurrentTime_=function(a){return s.trackCurrentTime(a)},s.stopTrackingCurrentTime_=function(a){return s.stopTrackingCurrentTime(a)},s.disposeSourceHandler_=function(a){return s.disposeSourceHandler(a)},s.hasStarted_=!1,s.on("playing",function(){this.hasStarted_=!0}),s.on("loadstart",function(){this.hasStarted_=!1}),Yr.names.forEach(function(a){var o=Yr[a];n&&n[o.getterName]&&(s[o.privateName]=n[o.getterName])}),s.featuresProgressEvents||s.manualProgressOn(),s.featuresTimeupdateEvents||s.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(a){n["native"+a+"Tracks"]===!1&&(s["featuresNative"+a+"Tracks"]=!1)}),n.nativeCaptions===!1||n.nativeTextTracks===!1?s.featuresNativeTextTracks=!1:(n.nativeCaptions===!0||n.nativeTextTracks===!0)&&(s.featuresNativeTextTracks=!0),s.featuresNativeTextTracks||s.emulateTextTracks(),s.preloadTextTracks=n.preloadTextTracks!==!1,s.autoRemoteTextTracks_=new Yr.text.ListClass,s.initTrackListeners(),n.nativeControlsForTouch||s.emitTapEvents(),s.constructor&&(s.name_=s.constructor.name||"Unknown Tech"),s}var r=e.prototype;return r.triggerSourceset=function(i){var s=this;this.isReady_||this.one("ready",function(){return s.setTimeout(function(){return s.triggerSourceset(i)},1)}),this.trigger({src:i,type:"sourceset"})},r.manualProgressOn=function(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)},r.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)},r.trackProgress=function(i){this.stopTrackingProgress(),this.progressInterval=this.setInterval($t(this,function(){var s=this.bufferedPercent();this.bufferedPercent_!==s&&this.trigger("progress"),this.bufferedPercent_=s,s===1&&this.stopTrackingProgress()}),500)},r.onDurationChange=function(i){this.duration_=this.duration()},r.buffered=function(){return Va(0,0)},r.bufferedPercent=function(){return MO(this.buffered(),this.duration_)},r.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},r.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)},r.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)},r.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},r.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},r.dispose=function(){this.clearTracks(Bi.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),t.prototype.dispose.call(this)},r.clearTracks=function(i){var s=this;i=[].concat(i),i.forEach(function(a){for(var o=s[a+"Tracks"]()||[],l=o.length;l--;){var u=o[l];a==="text"&&s.removeRemoteTextTrack(u),o.removeTrack(u)}})},r.cleanupAutoTextTracks=function(){for(var i=this.autoRemoteTextTracks_||[],s=i.length;s--;){var a=i[s];this.removeRemoteTextTrack(a)}},r.reset=function(){},r.crossOrigin=function(){},r.setCrossOrigin=function(){},r.error=function(i){return i!==void 0&&(this.error_=new Xr(i),this.trigger("error")),this.error_},r.played=function(){return this.hasStarted_?Va(0,0):Va()},r.play=function(){},r.setScrubbing=function(){},r.scrubbing=function(){},r.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},r.initTrackListeners=function(){var i=this;Bi.names.forEach(function(s){var a=Bi[s],o=function(){i.trigger(s+"trackchange")},l=i[a.getterName]();l.addEventListener("removetrack",o),l.addEventListener("addtrack",o),i.on("dispose",function(){l.removeEventListener("removetrack",o),l.removeEventListener("addtrack",o)})})},r.addWebVttScript_=function(){var i=this;if(!J.WebVTT)if(Fe.body.contains(this.el())){if(!this.options_["vtt.js"]&&Bc(MS)&&Object.keys(MS).length>0){this.trigger("vttjsloaded");return}var s=Fe.createElement("script");s.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",s.onload=function(){i.trigger("vttjsloaded")},s.onerror=function(){i.trigger("vttjserror")},this.on("dispose",function(){s.onload=null,s.onerror=null}),J.WebVTT=!0,this.el().parentNode.appendChild(s)}else this.ready(this.addWebVttScript_)},r.emulateTextTracks=function(){var i=this,s=this.textTracks(),a=this.remoteTextTracks(),o=function(f){return s.addTrack(f.track)},l=function(f){return s.removeTrack(f.track)};a.on("addtrack",o),a.on("removetrack",l),this.addWebVttScript_();var u=function(){return i.trigger("texttrackchange")},c=function(){u();for(var f=0;f<s.length;f++){var h=s[f];h.removeEventListener("cuechange",u),h.mode==="showing"&&h.addEventListener("cuechange",u)}};c(),s.addEventListener("change",c),s.addEventListener("addtrack",c),s.addEventListener("removetrack",c),this.on("dispose",function(){a.off("addtrack",o),a.off("removetrack",l),s.removeEventListener("change",c),s.removeEventListener("addtrack",c),s.removeEventListener("removetrack",c);for(var d=0;d<s.length;d++){var f=s[d];f.removeEventListener("cuechange",u)}})},r.addTextTrack=function(i,s,a){if(!i)throw new Error("TextTrack kind is required but was not provided");return Uee(this,i,s,a)},r.createRemoteTextTrack=function(i){var s=Yt(i,{tech:this});return new yl.remoteTextEl.TrackClass(s)},r.addRemoteTextTrack=function(i,s){var a=this;i===void 0&&(i={});var o=this.createRemoteTextTrack(i);return s!==!0&&s!==!1&&(ht.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),s=!0),this.remoteTextTrackEls().addTrackElement_(o),this.remoteTextTracks().addTrack(o.track),s!==!0&&this.ready(function(){return a.autoRemoteTextTracks_.addTrack(o.track)}),o},r.removeRemoteTextTrack=function(i){var s=this.remoteTextTrackEls().getTrackElementByTrack_(i);this.remoteTextTrackEls().removeTrackElement_(s),this.remoteTextTracks().removeTrack(i),this.autoRemoteTextTracks_.removeTrack(i)},r.getVideoPlaybackQuality=function(){return{}},r.requestPictureInPicture=function(){var i=this.options_.Promise||J.Promise;if(i)return i.reject()},r.disablePictureInPicture=function(){return!0},r.setDisablePictureInPicture=function(){},r.setPoster=function(){},r.playsinline=function(){},r.setPlaysinline=function(){},r.overrideNativeAudioTracks=function(){},r.overrideNativeVideoTracks=function(){},r.canPlayType=function(){return""},e.canPlayType=function(){return""},e.canPlaySource=function(i,s){return e.canPlayType(i.type)},e.isTech=function(i){return i.prototype instanceof e||i instanceof e||i===e},e.registerTech=function(i,s){if(e.techs_||(e.techs_={}),!e.isTech(s))throw new Error("Tech "+i+" must be a Tech");if(!e.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!e.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return i=nr(i),e.techs_[i]=s,e.techs_[jf(i)]=s,i!=="Tech"&&e.defaultTechOrder_.push(i),s},e.getTech=function(i){if(!!i){if(e.techs_&&e.techs_[i])return e.techs_[i];if(i=nr(i),J&&J.videojs&&J.videojs[i])return ht.warn("The "+i+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),J.videojs[i]}},e}(Oe);Yr.names.forEach(function(t){var e=Yr[t];jt.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}});jt.prototype.featuresVolumeControl=!0;jt.prototype.featuresMuteControl=!0;jt.prototype.featuresFullscreenResize=!1;jt.prototype.featuresPlaybackRate=!1;jt.prototype.featuresProgressEvents=!1;jt.prototype.featuresSourceset=!1;jt.prototype.featuresTimeupdateEvents=!1;jt.prototype.featuresNativeTextTracks=!1;jt.withSourceHandlers=function(t){t.registerSourceHandler=function(r,n){var i=t.sourceHandlers;i||(i=t.sourceHandlers=[]),n===void 0&&(n=i.length),i.splice(n,0,r)},t.canPlayType=function(r){for(var n=t.sourceHandlers||[],i,s=0;s<n.length;s++)if(i=n[s].canPlayType(r),i)return i;return""},t.selectSourceHandler=function(r,n){for(var i=t.sourceHandlers||[],s,a=0;a<i.length;a++)if(s=i[a].canHandleSource(r,n),s)return i[a];return null},t.canPlaySource=function(r,n){var i=t.selectSourceHandler(r,n);return i?i.canHandleSource(r,n):""};var e=["seekable","seeking","duration"];e.forEach(function(r){var n=this[r];typeof n=="function"&&(this[r]=function(){return this.sourceHandler_&&this.sourceHandler_[r]?this.sourceHandler_[r].apply(this.sourceHandler_,arguments):n.apply(this,arguments)})},t.prototype),t.prototype.setSource=function(r){var n=t.selectSourceHandler(r,this.options_);n||(t.nativeSourceHandler?n=t.nativeSourceHandler:ht.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),n!==t.nativeSourceHandler&&(this.currentSource_=r),this.sourceHandler_=n.handleSource(r,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},t.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}};Oe.registerComponent("Tech",jt);jt.registerTech("Tech",jt);jt.defaultTechOrder_=[];var Ha={},Fv={},wh={};function jee(t,e){Ha[t]=Ha[t]||[],Ha[t].push(e)}function Vee(t,e,r){t.setTimeout(function(){return Da(e,Ha[e.type],r,t)},1)}function Hee(t,e){t.forEach(function(r){return r.setTech&&r.setTech(e)})}function zee(t,e,r){return t.reduceRight(hb(r),e[r]())}function Wee(t,e,r,n){return e[r](t.reduce(hb(r),n))}function yE(t,e,r,n){n===void 0&&(n=null);var i="call"+nr(r),s=t.reduce(hb(i),n),a=s===wh,o=a?null:e[r](s);return qee(t,r,o,a),o}var Yee={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},Gee={setCurrentTime:1,setMuted:1,setVolume:1},bE={play:1,pause:1};function hb(t){return function(e,r){return e===wh?wh:r[t]?r[t](e):e}}function qee(t,e,r,n){for(var i=t.length-1;i>=0;i--){var s=t[i];s[e]&&s[e](n,r)}}function Kee(t){Fv[t.id()]=null}function Xee(t,e){var r=Fv[t.id()],n=null;if(r==null)return n=e(t),Fv[t.id()]=[[e,n]],n;for(var i=0;i<r.length;i++){var s=r[i],a=s[0],o=s[1];a===e&&(n=o)}return n===null&&(n=e(t),r.push([e,n])),n}function Da(t,e,r,n,i,s){t===void 0&&(t={}),e===void 0&&(e=[]),i===void 0&&(i=[]),s===void 0&&(s=!1);var a=e,o=a[0],l=a.slice(1);if(typeof o=="string")Da(t,Ha[o],r,n,i,s);else if(o){var u=Xee(n,o);if(!u.setSource)return i.push(u),Da(t,l,r,n,i,s);u.setSource(Jt({},t),function(c,d){if(c)return Da(t,l,r,n,i,s);i.push(u),Da(d,t.type===d.type?l:Ha[d.type],r,n,i,s)})}else l.length?Da(t,l,r,n,i,s):s?r(t,i):Da(t,Ha["*"],r,n,i,!0)}var Qee={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},Ph=function(e){e===void 0&&(e="");var r=fb(e),n=Qee[r.toLowerCase()];return n||""},Jee=function(e,r){if(!r)return"";if(e.cache_.source.src===r&&e.cache_.source.type)return e.cache_.source.type;var n=e.cache_.sources.filter(function(o){return o.src===r});if(n.length)return n[0].type;for(var i=e.$$("source"),s=0;s<i.length;s++){var a=i[s];if(a.type&&a.src&&a.src===r)return a.type}return Ph(r)},Zee=function t(e){if(Array.isArray(e)){var r=[];e.forEach(function(n){n=t(n),Array.isArray(n)?r=r.concat(n):us(n)&&r.push(n)}),e=r}else typeof e=="string"&&e.trim()?e=[_E({src:e})]:us(e)&&typeof e.src=="string"&&e.src&&e.src.trim()?e=[_E(e)]:e=[];return e};function _E(t){if(!t.type){var e=Ph(t.src);e&&(t.type=e)}return t}var ete=function(t){$e(e,t);function e(r,n,i){var s,a=Yt({createEl:!1},n);if(s=t.call(this,r,a,i)||this,!n.playerOptions.sources||n.playerOptions.sources.length===0)for(var o=0,l=n.playerOptions.techOrder;o<l.length;o++){var u=nr(l[o]),c=jt.getTech(u);if(u||(c=Oe.getComponent(u)),c&&c.isSupported()){r.loadTech_(u);break}}else r.src(n.playerOptions.sources);return s}return e}(Oe);Oe.registerComponent("MediaLoader",ete);var Gp=function(t){$e(e,t);function e(n,i){var s;return s=t.call(this,n,i)||this,s.handleMouseOver_=function(a){return s.handleMouseOver(a)},s.handleMouseOut_=function(a){return s.handleMouseOut(a)},s.handleClick_=function(a){return s.handleClick(a)},s.handleKeyDown_=function(a){return s.handleKeyDown(a)},s.emitTapEvents(),s.enable(),s}var r=e.prototype;return r.createEl=function(i,s,a){i===void 0&&(i="div"),s===void 0&&(s={}),a===void 0&&(a={}),s=Jt({className:this.buildCSSClass(),tabIndex:0},s),i==="button"&&ht.error("Creating a ClickableComponent with an HTML element of "+i+" is not supported; use a Button instead."),a=Jt({role:"button"},a),this.tabIndex_=s.tabIndex;var o=bt(i,s,a);return o.appendChild(bt("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(o),o},r.dispose=function(){this.controlTextEl_=null,t.prototype.dispose.call(this)},r.createControlTextEl=function(i){return this.controlTextEl_=bt("span",{className:"vjs-control-text"},{"aria-live":"polite"}),i&&i.appendChild(this.controlTextEl_),this.controlText(this.controlText_,i),this.controlTextEl_},r.controlText=function(i,s){if(s===void 0&&(s=this.el()),i===void 0)return this.controlText_||"Need Text";var a=this.localize(i);this.controlText_=i,so(this.controlTextEl_,a),!this.nonIconControl&&!this.player_.options_.noUITitleAttributes&&s.setAttribute("title",a)},r.buildCSSClass=function(){return"vjs-control vjs-button "+t.prototype.buildCSSClass.call(this)},r.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),typeof this.tabIndex_!="undefined"&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))},r.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),typeof this.tabIndex_!="undefined"&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)},r.handleLanguagechange=function(){this.controlText(this.controlText_)},r.handleClick=function(i){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)},r.handleKeyDown=function(i){ot.isEventKey(i,"Space")||ot.isEventKey(i,"Enter")?(i.preventDefault(),i.stopPropagation(),this.trigger("click")):t.prototype.handleKeyDown.call(this,i)},e}(Oe);Oe.registerComponent("ClickableComponent",Gp);var tte=function(t){$e(e,t);function e(n,i){var s;return s=t.call(this,n,i)||this,s.update(),s.update_=function(a){return s.update(a)},n.on("posterchange",s.update_),s}var r=e.prototype;return r.dispose=function(){this.player().off("posterchange",this.update_),t.prototype.dispose.call(this)},r.createEl=function(){var i=bt("div",{className:"vjs-poster",tabIndex:-1});return i},r.update=function(i){var s=this.player().poster();this.setSrc(s),s?this.show():this.hide()},r.setSrc=function(i){var s="";i&&(s='url("'+i+'")'),this.el_.style.backgroundImage=s},r.handleClick=function(i){if(!!this.player_.controls()){var s=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;this.player_.tech(!0)&&!((ud||ld)&&s)&&this.player_.tech(!0).focus(),this.player_.paused()?Tn(this.player_.play()):this.player_.pause()}},e}(Gp);Oe.registerComponent("PosterImage",tte);var Oi="#222",TE="#ccc",rte={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function dg(t,e){var r;if(t.length===4)r=t[1]+t[1]+t[2]+t[2]+t[3]+t[3];else if(t.length===7)r=t.slice(1);else throw new Error("Invalid color code provided, "+t+"; must be formatted as e.g. #f0e or #f604e2.");return"rgba("+parseInt(r.slice(0,2),16)+","+parseInt(r.slice(2,4),16)+","+parseInt(r.slice(4,6),16)+","+e+")"}function fg(t,e,r){try{t.style[e]=r}catch{return}}var ite=function(t){$e(e,t);function e(n,i,s){var a;a=t.call(this,n,i,s)||this;var o=function(u){return a.updateDisplay(u)};return n.on("loadstart",function(l){return a.toggleDisplay(l)}),n.on("texttrackchange",o),n.on("loadedmetadata",function(l){return a.preselectTrack(l)}),n.ready($t(st(a),function(){if(n.tech_&&n.tech_.featuresNativeTextTracks){this.hide();return}n.on("fullscreenchange",o),n.on("playerresize",o),J.addEventListener("orientationchange",o),n.on("dispose",function(){return J.removeEventListener("orientationchange",o)});for(var l=this.options_.playerOptions.tracks||[],u=0;u<l.length;u++)this.player_.addRemoteTextTrack(l[u],!0);this.preselectTrack()})),a}var r=e.prototype;return r.preselectTrack=function(){for(var i={captions:1,subtitles:1},s=this.player_.textTracks(),a=this.player_.cache_.selectedLanguage,o,l,u,c=0;c<s.length;c++){var d=s[c];a&&a.enabled&&a.language&&a.language===d.language&&d.kind in i?d.kind===a.kind?u=d:u||(u=d):a&&!a.enabled?(u=null,o=null,l=null):d.default&&(d.kind==="descriptions"&&!o?o=d:d.kind in i&&!l&&(l=d))}u?u.mode="showing":l?l.mode="showing":o&&(o.mode="showing")},r.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},r.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})},r.clearDisplay=function(){typeof J.WebVTT=="function"&&J.WebVTT.processCues(J,[],this.el_)},r.updateDisplay=function(){var i=this.player_.textTracks(),s=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),s){for(var a=[],o=0;o<i.length;++o){var l=i[o];l.mode==="showing"&&a.push(l)}this.updateForTrack(a);return}for(var u=null,c=null,d=i.length;d--;){var f=i[d];f.mode==="showing"&&(f.kind==="descriptions"?u=f:c=f)}c?(this.getAttribute("aria-live")!=="off"&&this.setAttribute("aria-live","off"),this.updateForTrack(c)):u&&(this.getAttribute("aria-live")!=="assertive"&&this.setAttribute("aria-live","assertive"),this.updateForTrack(u))},r.updateDisplayState=function(i){for(var s=this.player_.textTrackSettings.getValues(),a=i.activeCues,o=a.length;o--;){var l=a[o];if(!!l){var u=l.displayState;if(s.color&&(u.firstChild.style.color=s.color),s.textOpacity&&fg(u.firstChild,"color",dg(s.color||"#fff",s.textOpacity)),s.backgroundColor&&(u.firstChild.style.backgroundColor=s.backgroundColor),s.backgroundOpacity&&fg(u.firstChild,"backgroundColor",dg(s.backgroundColor||"#000",s.backgroundOpacity)),s.windowColor&&(s.windowOpacity?fg(u,"backgroundColor",dg(s.windowColor,s.windowOpacity)):u.style.backgroundColor=s.windowColor),s.edgeStyle&&(s.edgeStyle==="dropshadow"?u.firstChild.style.textShadow="2px 2px 3px "+Oi+", 2px 2px 4px "+Oi+", 2px 2px 5px "+Oi:s.edgeStyle==="raised"?u.firstChild.style.textShadow="1px 1px "+Oi+", 2px 2px "+Oi+", 3px 3px "+Oi:s.edgeStyle==="depressed"?u.firstChild.style.textShadow="1px 1px "+TE+", 0 1px "+TE+", -1px -1px "+Oi+", 0 -1px "+Oi:s.edgeStyle==="uniform"&&(u.firstChild.style.textShadow="0 0 4px "+Oi+", 0 0 4px "+Oi+", 0 0 4px "+Oi+", 0 0 4px "+Oi)),s.fontPercent&&s.fontPercent!==1){var c=J.parseFloat(u.style.fontSize);u.style.fontSize=c*s.fontPercent+"px",u.style.height="auto",u.style.top="auto"}s.fontFamily&&s.fontFamily!=="default"&&(s.fontFamily==="small-caps"?u.firstChild.style.fontVariant="small-caps":u.firstChild.style.fontFamily=rte[s.fontFamily])}}},r.updateForTrack=function(i){if(Array.isArray(i)||(i=[i]),!(typeof J.WebVTT!="function"||i.every(function(h){return!h.activeCues}))){for(var s=[],a=0;a<i.length;++a)for(var o=i[a],l=0;l<o.activeCues.length;++l)s.push(o.activeCues[l]);J.WebVTT.processCues(J,s,this.el_);for(var u=0;u<i.length;++u){for(var c=i[u],d=0;d<c.activeCues.length;++d){var f=c.activeCues[d].displayState;is(f,"vjs-text-track-cue"),is(f,"vjs-text-track-cue-"+(c.language?c.language:u)),c.language&&ml(f,"lang",c.language)}this.player_.textTrackSettings&&this.updateDisplayState(c)}}},e}(Oe);Oe.registerComponent("TextTrackDisplay",ite);var nte=function(t){$e(e,t);function e(){return t.apply(this,arguments)||this}var r=e.prototype;return r.createEl=function(){var i=this.player_.isAudio(),s=this.localize(i?"Audio Player":"Video Player"),a=bt("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[s])}),o=t.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return o.appendChild(a),o},e}(Oe);Oe.registerComponent("LoadingSpinner",nte);var en=function(t){$e(e,t);function e(){return t.apply(this,arguments)||this}var r=e.prototype;return r.createEl=function(i,s,a){s===void 0&&(s={}),a===void 0&&(a={}),i="button",s=Jt({className:this.buildCSSClass()},s),a=Jt({type:"button"},a);var o=bt(i,s,a);return o.appendChild(bt("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(o),o},r.addChild=function(i,s){s===void 0&&(s={});var a=this.constructor.name;return ht.warn("Adding an actionable (user controllable) child to a Button ("+a+") is not supported; use a ClickableComponent instead."),Oe.prototype.addChild.call(this,i,s)},r.enable=function(){t.prototype.enable.call(this),this.el_.removeAttribute("disabled")},r.disable=function(){t.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},r.handleKeyDown=function(i){if(ot.isEventKey(i,"Space")||ot.isEventKey(i,"Enter")){i.stopPropagation();return}t.prototype.handleKeyDown.call(this,i)},e}(Gp);Oe.registerComponent("Button",en);var jO=function(t){$e(e,t);function e(n,i){var s;return s=t.call(this,n,i)||this,s.mouseused_=!1,s.on("mousedown",function(a){return s.handleMouseDown(a)}),s}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-big-play-button"},r.handleClick=function(i){var s=this.player_.play();if(this.mouseused_&&i.clientX&&i.clientY){var a=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;Tn(s),this.player_.tech(!0)&&!((ud||ld)&&a)&&this.player_.tech(!0).focus();return}var o=this.player_.getChild("controlBar"),l=o&&o.getChild("playToggle");if(!l){this.player_.tech(!0).focus();return}var u=function(){return l.focus()};lc(s)?s.then(u,function(){}):this.setTimeout(u,1)},r.handleKeyDown=function(i){this.mouseused_=!1,t.prototype.handleKeyDown.call(this,i)},r.handleMouseDown=function(i){this.mouseused_=!0},e}(en);jO.prototype.controlText_="Play Video";Oe.registerComponent("BigPlayButton",jO);var ste=function(t){$e(e,t);function e(n,i){var s;return s=t.call(this,n,i)||this,s.controlText(i&&i.controlText||s.localize("Close")),s}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-close-button "+t.prototype.buildCSSClass.call(this)},r.handleClick=function(i){this.trigger({type:"close",bubbles:!1})},r.handleKeyDown=function(i){ot.isEventKey(i,"Esc")?(i.preventDefault(),i.stopPropagation(),this.trigger("click")):t.prototype.handleKeyDown.call(this,i)},e}(en);Oe.registerComponent("CloseButton",ste);var VO=function(t){$e(e,t);function e(n,i){var s;return i===void 0&&(i={}),s=t.call(this,n,i)||this,i.replay=i.replay===void 0||i.replay,s.on(n,"play",function(a){return s.handlePlay(a)}),s.on(n,"pause",function(a){return s.handlePause(a)}),i.replay&&s.on(n,"ended",function(a){return s.handleEnded(a)}),s}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-play-control "+t.prototype.buildCSSClass.call(this)},r.handleClick=function(i){this.player_.paused()?Tn(this.player_.play()):this.player_.pause()},r.handleSeeked=function(i){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(i):this.handlePlay(i)},r.handlePlay=function(i){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},r.handlePause=function(i){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},r.handleEnded=function(i){var s=this;this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",function(a){return s.handleSeeked(a)})},e}(en);VO.prototype.controlText_="Play";Oe.registerComponent("PlayToggle",VO);var HO=function(e,r){e=e<0?0:e;var n=Math.floor(e%60),i=Math.floor(e/60%60),s=Math.floor(e/3600),a=Math.floor(r/60%60),o=Math.floor(r/3600);return(isNaN(e)||e===1/0)&&(s=i=n="-"),s=s>0||o>0?s+":":"",i=((s||a>=10)&&i<10?"0"+i:i)+":",n=n<10?"0"+n:n,s+i+n},pb=HO;function ate(t){pb=t}function ote(){pb=HO}function bl(t,e){return e===void 0&&(e=t),pb(t,e)}var Kl=function(t){$e(e,t);function e(n,i){var s;return s=t.call(this,n,i)||this,s.on(n,["timeupdate","ended"],function(a){return s.updateContent(a)}),s.updateTextNode_(),s}var r=e.prototype;return r.createEl=function(){var i=this.buildCSSClass(),s=t.prototype.createEl.call(this,"div",{className:i+" vjs-time-control vjs-control"}),a=bt("span",{className:"vjs-control-text",textContent:this.localize(this.labelText_)+"\xA0"},{role:"presentation"});return s.appendChild(a),this.contentEl_=bt("span",{className:i+"-display"},{"aria-live":"off",role:"presentation"}),s.appendChild(this.contentEl_),s},r.dispose=function(){this.contentEl_=null,this.textNode_=null,t.prototype.dispose.call(this)},r.updateTextNode_=function(i){var s=this;i===void 0&&(i=0),i=bl(i),this.formattedTime_!==i&&(this.formattedTime_=i,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",function(){if(!!s.contentEl_){var a=s.textNode_;a&&s.contentEl_.firstChild!==a&&(a=null,ht.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),s.textNode_=Fe.createTextNode(s.formattedTime_),s.textNode_&&(a?s.contentEl_.replaceChild(s.textNode_,a):s.contentEl_.appendChild(s.textNode_))}}))},r.updateContent=function(i){},e}(Oe);Kl.prototype.labelText_="Time";Kl.prototype.controlText_="Time";Oe.registerComponent("TimeDisplay",Kl);var mb=function(t){$e(e,t);function e(){return t.apply(this,arguments)||this}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-current-time"},r.updateContent=function(i){var s;this.player_.ended()?s=this.player_.duration():s=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(s)},e}(Kl);mb.prototype.labelText_="Current Time";mb.prototype.controlText_="Current Time";Oe.registerComponent("CurrentTimeDisplay",mb);var gb=function(t){$e(e,t);function e(n,i){var s;s=t.call(this,n,i)||this;var a=function(l){return s.updateContent(l)};return s.on(n,"durationchange",a),s.on(n,"loadstart",a),s.on(n,"loadedmetadata",a),s}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-duration"},r.updateContent=function(i){var s=this.player_.duration();this.updateTextNode_(s)},e}(Kl);gb.prototype.labelText_="Duration";gb.prototype.controlText_="Duration";Oe.registerComponent("DurationDisplay",gb);var lte=function(t){$e(e,t);function e(){return t.apply(this,arguments)||this}var r=e.prototype;return r.createEl=function(){var i=t.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),s=t.prototype.createEl.call(this,"div"),a=t.prototype.createEl.call(this,"span",{textContent:"/"});return s.appendChild(a),i.appendChild(s),i},e}(Oe);Oe.registerComponent("TimeDivider",lte);var vb=function(t){$e(e,t);function e(n,i){var s;return s=t.call(this,n,i)||this,s.on(n,"durationchange",function(a){return s.updateContent(a)}),s}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-remaining-time"},r.createEl=function(){var i=t.prototype.createEl.call(this);return this.options_.displayNegative!==!1&&i.insertBefore(bt("span",{},{"aria-hidden":!0},"-"),this.contentEl_),i},r.updateContent=function(i){if(typeof this.player_.duration()=="number"){var s;this.player_.ended()?s=0:this.player_.remainingTimeDisplay?s=this.player_.remainingTimeDisplay():s=this.player_.remainingTime(),this.updateTextNode_(s)}},e}(Kl);vb.prototype.labelText_="Remaining Time";vb.prototype.controlText_="Remaining Time";Oe.registerComponent("RemainingTimeDisplay",vb);var ute=function(t){$e(e,t);function e(n,i){var s;return s=t.call(this,n,i)||this,s.updateShowing(),s.on(s.player(),"durationchange",function(a){return s.updateShowing(a)}),s}var r=e.prototype;return r.createEl=function(){var i=t.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=bt("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(bt("span",{className:"vjs-control-text",textContent:this.localize("Stream Type")+"\xA0"})),this.contentEl_.appendChild(Fe.createTextNode(this.localize("LIVE"))),i.appendChild(this.contentEl_),i},r.dispose=function(){this.contentEl_=null,t.prototype.dispose.call(this)},r.updateShowing=function(i){this.player().duration()===1/0?this.show():this.hide()},e}(Oe);Oe.registerComponent("LiveDisplay",ute);var zO=function(t){$e(e,t);function e(n,i){var s;return s=t.call(this,n,i)||this,s.updateLiveEdgeStatus(),s.player_.liveTracker&&(s.updateLiveEdgeStatusHandler_=function(a){return s.updateLiveEdgeStatus(a)},s.on(s.player_.liveTracker,"liveedgechange",s.updateLiveEdgeStatusHandler_)),s}var r=e.prototype;return r.createEl=function(){var i=t.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=bt("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),i.appendChild(this.textEl_),i},r.updateLiveEdgeStatus=function(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},r.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},r.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,t.prototype.dispose.call(this)},e}(en);zO.prototype.controlText_="Seek to live, currently playing live";Oe.registerComponent("SeekToLive",zO);var qp=function(e,r,n){return e=Number(e),Math.min(n,Math.max(r,isNaN(e)?r:e))},yb=function(t){$e(e,t);function e(n,i){var s;return s=t.call(this,n,i)||this,s.handleMouseDown_=function(a){return s.handleMouseDown(a)},s.handleMouseUp_=function(a){return s.handleMouseUp(a)},s.handleKeyDown_=function(a){return s.handleKeyDown(a)},s.handleClick_=function(a){return s.handleClick(a)},s.handleMouseMove_=function(a){return s.handleMouseMove(a)},s.update_=function(a){return s.update(a)},s.bar=s.getChild(s.options_.barName),s.vertical(!!s.options_.vertical),s.enable(),s}var r=e.prototype;return r.enabled=function(){return this.enabled_},r.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},r.disable=function(){if(!!this.enabled()){var i=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(i,"mousemove",this.handleMouseMove_),this.off(i,"mouseup",this.handleMouseUp_),this.off(i,"touchmove",this.handleMouseMove_),this.off(i,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},r.createEl=function(i,s,a){return s===void 0&&(s={}),a===void 0&&(a={}),s.className=s.className+" vjs-slider",s=Jt({tabIndex:0},s),a=Jt({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},a),t.prototype.createEl.call(this,i,s,a)},r.handleMouseDown=function(i){var s=this.bar.el_.ownerDocument;i.type==="mousedown"&&i.preventDefault(),i.type==="touchstart"&&!ms&&i.preventDefault(),bO(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(s,"mousemove",this.handleMouseMove_),this.on(s,"mouseup",this.handleMouseUp_),this.on(s,"touchmove",this.handleMouseMove_),this.on(s,"touchend",this.handleMouseUp_),this.handleMouseMove(i,!0)},r.handleMouseMove=function(i){},r.handleMouseUp=function(){var i=this.bar.el_.ownerDocument;_O(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(i,"mousemove",this.handleMouseMove_),this.off(i,"mouseup",this.handleMouseUp_),this.off(i,"touchmove",this.handleMouseMove_),this.off(i,"touchend",this.handleMouseUp_),this.update()},r.update=function(){var i=this;if(!(!this.el_||!this.bar)){var s=this.getProgress();return s===this.progress_||(this.progress_=s,this.requestNamedAnimationFrame("Slider#update",function(){var a=i.vertical()?"height":"width";i.bar.el().style[a]=(s*100).toFixed(2)+"%"})),s}},r.getProgress=function(){return Number(qp(this.getPercent(),0,1).toFixed(4))},r.calculateDistance=function(i){var s=Vp(this.el_,i);return this.vertical()?s.y:s.x},r.handleKeyDown=function(i){ot.isEventKey(i,"Left")||ot.isEventKey(i,"Down")?(i.preventDefault(),i.stopPropagation(),this.stepBack()):ot.isEventKey(i,"Right")||ot.isEventKey(i,"Up")?(i.preventDefault(),i.stopPropagation(),this.stepForward()):t.prototype.handleKeyDown.call(this,i)},r.handleClick=function(i){i.stopPropagation(),i.preventDefault()},r.vertical=function(i){if(i===void 0)return this.vertical_||!1;this.vertical_=!!i,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},e}(Oe);Oe.registerComponent("Slider",yb);var hg=function(e,r){return qp(e/r*100,0,100).toFixed(2)+"%"},cte=function(t){$e(e,t);function e(n,i){var s;return s=t.call(this,n,i)||this,s.partEls_=[],s.on(n,"progress",function(a){return s.update(a)}),s}var r=e.prototype;return r.createEl=function(){var i=t.prototype.createEl.call(this,"div",{className:"vjs-load-progress"}),s=bt("span",{className:"vjs-control-text"}),a=bt("span",{textContent:this.localize("Loaded")}),o=Fe.createTextNode(": ");return this.percentageEl_=bt("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),i.appendChild(s),s.appendChild(a),s.appendChild(o),s.appendChild(this.percentageEl_),i},r.dispose=function(){this.partEls_=null,this.percentageEl_=null,t.prototype.dispose.call(this)},r.update=function(i){var s=this;this.requestNamedAnimationFrame("LoadProgressBar#update",function(){var a=s.player_.liveTracker,o=s.player_.buffered(),l=a&&a.isLive()?a.seekableEnd():s.player_.duration(),u=s.player_.bufferedEnd(),c=s.partEls_,d=hg(u,l);s.percent_!==d&&(s.el_.style.width=d,so(s.percentageEl_,d),s.percent_=d);for(var f=0;f<o.length;f++){var h=o.start(f),m=o.end(f),g=c[f];g||(g=s.el_.appendChild(bt()),c[f]=g),!(g.dataset.start===h&&g.dataset.end===m)&&(g.dataset.start=h,g.dataset.end=m,g.style.left=hg(h,u),g.style.width=hg(m-h,u))}for(var v=c.length;v>o.length;v--)s.el_.removeChild(c[v-1]);c.length=o.length})},e}(Oe);Oe.registerComponent("LoadProgressBar",cte);var dte=function(t){$e(e,t);function e(n,i){var s;return s=t.call(this,n,i)||this,s.update=cs($t(st(s),s.update),sn),s}var r=e.prototype;return r.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},r.update=function(i,s,a){var o=Uc(this.el_),l=gl(this.player_.el()),u=i.width*s;if(!(!l||!o)){var c=i.left-l.left+u,d=i.width-u+(l.right-i.right),f=o.width/2;c<f?f+=f-c:d<f&&(f=d),f<0?f=0:f>o.width&&(f=o.width),f=Math.round(f),this.el_.style.right="-"+f+"px",this.write(a)}},r.write=function(i){so(this.el_,i)},r.updateTime=function(i,s,a,o){var l=this;this.requestNamedAnimationFrame("TimeTooltip#updateTime",function(){var u,c=l.player_.duration();if(l.player_.liveTracker&&l.player_.liveTracker.isLive()){var d=l.player_.liveTracker.liveWindow(),f=d-s*d;u=(f<1?"":"-")+bl(f,d)}else u=bl(a,c);l.update(i,s,u),o&&o()})},e}(Oe);Oe.registerComponent("TimeTooltip",dte);var bb=function(t){$e(e,t);function e(n,i){var s;return s=t.call(this,n,i)||this,s.update=cs($t(st(s),s.update),sn),s}var r=e.prototype;return r.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},r.update=function(i,s){var a=this.getChild("timeTooltip");if(!!a){var o=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();a.updateTime(i,s,o)}},e}(Oe);bb.prototype.options_={children:[]};!Jr&&!ps&&bb.prototype.options_.children.push("timeTooltip");Oe.registerComponent("PlayProgressBar",bb);var WO=function(t){$e(e,t);function e(n,i){var s;return s=t.call(this,n,i)||this,s.update=cs($t(st(s),s.update),sn),s}var r=e.prototype;return r.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},r.update=function(i,s){var a=this,o=s*this.player_.duration();this.getChild("timeTooltip").updateTime(i,s,o,function(){a.el_.style.left=i.width*s+"px"})},e}(Oe);WO.prototype.options_={children:["timeTooltip"]};Oe.registerComponent("MouseTimeDisplay",WO);var af=5,xE=12,_b=function(t){$e(e,t);function e(n,i){var s;return s=t.call(this,n,i)||this,s.setEventHandlers_(),s}var r=e.prototype;return r.setEventHandlers_=function(){var i=this;this.update_=$t(this,this.update),this.update=cs(this.update_,sn),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=function(s){return i.enableInterval_(s)},this.disableIntervalHandler_=function(s){return i.disableInterval_(s)},this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in Fe&&"visibilityState"in Fe&&this.on(Fe,"visibilitychange",this.toggleVisibility_)},r.toggleVisibility_=function(i){Fe.visibilityState==="hidden"?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(i)):(!this.player_.ended()&&!this.player_.paused()&&this.enableInterval_(),this.update())},r.enableInterval_=function(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,sn))},r.disableInterval_=function(i){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&i&&i.type!=="ended"||!this.updateInterval||(this.clearInterval(this.updateInterval),this.updateInterval=null)},r.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},r.update=function(i){var s=this;if(Fe.visibilityState!=="hidden"){var a=t.prototype.update.call(this);return this.requestNamedAnimationFrame("SeekBar#update",function(){var o=s.player_.ended()?s.player_.duration():s.getCurrentTime_(),l=s.player_.liveTracker,u=s.player_.duration();l&&l.isLive()&&(u=s.player_.liveTracker.liveCurrentTime()),s.percent_!==a&&(s.el_.setAttribute("aria-valuenow",(a*100).toFixed(2)),s.percent_=a),(s.currentTime_!==o||s.duration_!==u)&&(s.el_.setAttribute("aria-valuetext",s.localize("progress bar timing: currentTime={1} duration={2}",[bl(o,u),bl(u,u)],"{1} of {2}")),s.currentTime_=o,s.duration_=u),s.bar&&s.bar.update(gl(s.el()),s.getProgress())}),a}},r.userSeek_=function(i){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(i)},r.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},r.getPercent=function(){var i=this.getCurrentTime_(),s,a=this.player_.liveTracker;return a&&a.isLive()?(s=(i-a.seekableStart())/a.liveWindow(),a.atLiveEdge()&&(s=1)):s=i/this.player_.duration(),s},r.handleMouseDown=function(i){!jc(i)||(i.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),t.prototype.handleMouseDown.call(this,i))},r.handleMouseMove=function(i,s){if(s===void 0&&(s=!1),!!jc(i)){!s&&!this.player_.scrubbing()&&this.player_.scrubbing(!0);var a,o=this.calculateDistance(i),l=this.player_.liveTracker;if(!l||!l.isLive())a=o*this.player_.duration(),a===this.player_.duration()&&(a=a-.1);else{if(o>=.99){l.seekToLiveEdge();return}var u=l.seekableStart(),c=l.liveCurrentTime();if(a=u+o*l.liveWindow(),a>=c&&(a=c),a<=u&&(a=u+.1),a===1/0)return}this.userSeek_(a)}},r.enable=function(){t.prototype.enable.call(this);var i=this.getChild("mouseTimeDisplay");!i||i.show()},r.disable=function(){t.prototype.disable.call(this);var i=this.getChild("mouseTimeDisplay");!i||i.hide()},r.handleMouseUp=function(i){t.prototype.handleMouseUp.call(this,i),i&&i.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?Tn(this.player_.play()):this.update_()},r.stepForward=function(){this.userSeek_(this.player_.currentTime()+af)},r.stepBack=function(){this.userSeek_(this.player_.currentTime()-af)},r.handleAction=function(i){this.player_.paused()?this.player_.play():this.player_.pause()},r.handleKeyDown=function(i){var s=this.player_.liveTracker;if(ot.isEventKey(i,"Space")||ot.isEventKey(i,"Enter"))i.preventDefault(),i.stopPropagation(),this.handleAction(i);else if(ot.isEventKey(i,"Home"))i.preventDefault(),i.stopPropagation(),this.userSeek_(0);else if(ot.isEventKey(i,"End"))i.preventDefault(),i.stopPropagation(),s&&s.isLive()?this.userSeek_(s.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(ot(i))){i.preventDefault(),i.stopPropagation();var a=(ot.codes[ot(i)]-ot.codes["0"])*10/100;s&&s.isLive()?this.userSeek_(s.seekableStart()+s.liveWindow()*a):this.userSeek_(this.player_.duration()*a)}else ot.isEventKey(i,"PgDn")?(i.preventDefault(),i.stopPropagation(),this.userSeek_(this.player_.currentTime()-af*xE)):ot.isEventKey(i,"PgUp")?(i.preventDefault(),i.stopPropagation(),this.userSeek_(this.player_.currentTime()+af*xE)):t.prototype.handleKeyDown.call(this,i)},r.dispose=function(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in Fe&&"visibilityState"in Fe&&this.off(Fe,"visibilitychange",this.toggleVisibility_),t.prototype.dispose.call(this)},e}(yb);_b.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"};!Jr&&!ps&&_b.prototype.options_.children.splice(1,0,"mouseTimeDisplay");Oe.registerComponent("SeekBar",_b);var YO=function(t){$e(e,t);function e(n,i){var s;return s=t.call(this,n,i)||this,s.handleMouseMove=cs($t(st(s),s.handleMouseMove),sn),s.throttledHandleMouseSeek=cs($t(st(s),s.handleMouseSeek),sn),s.handleMouseUpHandler_=function(a){return s.handleMouseUp(a)},s.handleMouseDownHandler_=function(a){return s.handleMouseDown(a)},s.enable(),s}var r=e.prototype;return r.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},r.handleMouseMove=function(i){var s=this.getChild("seekBar");if(!!s){var a=s.getChild("playProgressBar"),o=s.getChild("mouseTimeDisplay");if(!(!a&&!o)){var l=s.el(),u=Uc(l),c=Vp(l,i).x;c=qp(c,0,1),o&&o.update(u,c),a&&a.update(u,s.getProgress())}}},r.handleMouseSeek=function(i){var s=this.getChild("seekBar");s&&s.handleMouseMove(i)},r.enabled=function(){return this.enabled_},r.disable=function(){if(this.children().forEach(function(s){return s.disable&&s.disable()}),!!this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){var i=this.getChild("seekBar");this.player_.scrubbing(!1),i.videoWasPlaying&&Tn(this.player_.play())}},r.enable=function(){this.children().forEach(function(i){return i.enable&&i.enable()}),!this.enabled()&&(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},r.removeListenersAddedOnMousedownAndTouchstart=function(){var i=this.el_.ownerDocument;this.off(i,"mousemove",this.throttledHandleMouseSeek),this.off(i,"touchmove",this.throttledHandleMouseSeek),this.off(i,"mouseup",this.handleMouseUpHandler_),this.off(i,"touchend",this.handleMouseUpHandler_)},r.handleMouseDown=function(i){var s=this.el_.ownerDocument,a=this.getChild("seekBar");a&&a.handleMouseDown(i),this.on(s,"mousemove",this.throttledHandleMouseSeek),this.on(s,"touchmove",this.throttledHandleMouseSeek),this.on(s,"mouseup",this.handleMouseUpHandler_),this.on(s,"touchend",this.handleMouseUpHandler_)},r.handleMouseUp=function(i){var s=this.getChild("seekBar");s&&s.handleMouseUp(i),this.removeListenersAddedOnMousedownAndTouchstart()},e}(Oe);YO.prototype.options_={children:["seekBar"]};Oe.registerComponent("ProgressControl",YO);var GO=function(t){$e(e,t);function e(n,i){var s;return s=t.call(this,n,i)||this,s.on(n,["enterpictureinpicture","leavepictureinpicture"],function(a){return s.handlePictureInPictureChange(a)}),s.on(n,["disablepictureinpicturechanged","loadedmetadata"],function(a){return s.handlePictureInPictureEnabledChange(a)}),s.disable(),s}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-picture-in-picture-control "+t.prototype.buildCSSClass.call(this)},r.handlePictureInPictureEnabledChange=function(){Fe.pictureInPictureEnabled&&this.player_.disablePictureInPicture()===!1?this.enable():this.disable()},r.handlePictureInPictureChange=function(i){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture"),this.handlePictureInPictureEnabledChange()},r.handleClick=function(i){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},e}(en);GO.prototype.controlText_="Picture-in-Picture";Oe.registerComponent("PictureInPictureToggle",GO);var qO=function(t){$e(e,t);function e(n,i){var s;return s=t.call(this,n,i)||this,s.on(n,"fullscreenchange",function(a){return s.handleFullscreenChange(a)}),Fe[n.fsApi_.fullscreenEnabled]===!1&&s.disable(),s}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-fullscreen-control "+t.prototype.buildCSSClass.call(this)},r.handleFullscreenChange=function(i){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},r.handleClick=function(i){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},e}(en);qO.prototype.controlText_="Fullscreen";Oe.registerComponent("FullscreenToggle",qO);var fte=function(e,r){r.tech_&&!r.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(r,"loadstart",function(){r.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})},hte=function(t){$e(e,t);function e(){return t.apply(this,arguments)||this}var r=e.prototype;return r.createEl=function(){var i=t.prototype.createEl.call(this,"div",{className:"vjs-volume-level"});return i.appendChild(t.prototype.createEl.call(this,"span",{className:"vjs-control-text"})),i},e}(Oe);Oe.registerComponent("VolumeLevel",hte);var pte=function(t){$e(e,t);function e(n,i){var s;return s=t.call(this,n,i)||this,s.update=cs($t(st(s),s.update),sn),s}var r=e.prototype;return r.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})},r.update=function(i,s,a,o){if(!a){var l=gl(this.el_),u=gl(this.player_.el()),c=i.width*s;if(!u||!l)return;var d=i.left-u.left+c,f=i.width-c+(u.right-i.right),h=l.width/2;d<h?h+=h-d:f<h&&(h=f),h<0?h=0:h>l.width&&(h=l.width),this.el_.style.right="-"+h+"px"}this.write(o+"%")},r.write=function(i){so(this.el_,i)},r.updateVolume=function(i,s,a,o,l){var u=this;this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",function(){u.update(i,s,a,o.toFixed(0)),l&&l()})},e}(Oe);Oe.registerComponent("VolumeLevelTooltip",pte);var KO=function(t){$e(e,t);function e(n,i){var s;return s=t.call(this,n,i)||this,s.update=cs($t(st(s),s.update),sn),s}var r=e.prototype;return r.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},r.update=function(i,s,a){var o=this,l=100*s;this.getChild("volumeLevelTooltip").updateVolume(i,s,a,l,function(){a?o.el_.style.bottom=i.height*s+"px":o.el_.style.left=i.width*s+"px"})},e}(Oe);KO.prototype.options_={children:["volumeLevelTooltip"]};Oe.registerComponent("MouseVolumeLevelDisplay",KO);var Kp=function(t){$e(e,t);function e(n,i){var s;return s=t.call(this,n,i)||this,s.on("slideractive",function(a){return s.updateLastVolume_(a)}),s.on(n,"volumechange",function(a){return s.updateARIAAttributes(a)}),n.ready(function(){return s.updateARIAAttributes()}),s}var r=e.prototype;return r.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},r.handleMouseDown=function(i){!jc(i)||t.prototype.handleMouseDown.call(this,i)},r.handleMouseMove=function(i){var s=this.getChild("mouseVolumeLevelDisplay");if(s){var a=this.el(),o=gl(a),l=this.vertical(),u=Vp(a,i);u=l?u.y:u.x,u=qp(u,0,1),s.update(o,u,l)}!jc(i)||(this.checkMuted(),this.player_.volume(this.calculateDistance(i)))},r.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},r.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},r.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},r.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},r.updateARIAAttributes=function(i){var s=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",s),this.el_.setAttribute("aria-valuetext",s+"%")},r.volumeAsPercentage_=function(){return Math.round(this.player_.volume()*100)},r.updateLastVolume_=function(){var i=this,s=this.player_.volume();this.one("sliderinactive",function(){i.player_.volume()===0&&i.player_.lastVolume_(s)})},e}(yb);Kp.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};!Jr&&!ps&&Kp.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay");Kp.prototype.playerEvent="volumechange";Oe.registerComponent("VolumeBar",Kp);var XO=function(t){$e(e,t);function e(n,i){var s;return i===void 0&&(i={}),i.vertical=i.vertical||!1,(typeof i.volumeBar=="undefined"||Bc(i.volumeBar))&&(i.volumeBar=i.volumeBar||{},i.volumeBar.vertical=i.vertical),s=t.call(this,n,i)||this,fte(st(s),n),s.throttledHandleMouseMove=cs($t(st(s),s.handleMouseMove),sn),s.handleMouseUpHandler_=function(a){return s.handleMouseUp(a)},s.on("mousedown",function(a){return s.handleMouseDown(a)}),s.on("touchstart",function(a){return s.handleMouseDown(a)}),s.on("mousemove",function(a){return s.handleMouseMove(a)}),s.on(s.volumeBar,["focus","slideractive"],function(){s.volumeBar.addClass("vjs-slider-active"),s.addClass("vjs-slider-active"),s.trigger("slideractive")}),s.on(s.volumeBar,["blur","sliderinactive"],function(){s.volumeBar.removeClass("vjs-slider-active"),s.removeClass("vjs-slider-active"),s.trigger("sliderinactive")}),s}var r=e.prototype;return r.createEl=function(){var i="vjs-volume-horizontal";return this.options_.vertical&&(i="vjs-volume-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+i})},r.handleMouseDown=function(i){var s=this.el_.ownerDocument;this.on(s,"mousemove",this.throttledHandleMouseMove),this.on(s,"touchmove",this.throttledHandleMouseMove),this.on(s,"mouseup",this.handleMouseUpHandler_),this.on(s,"touchend",this.handleMouseUpHandler_)},r.handleMouseUp=function(i){var s=this.el_.ownerDocument;this.off(s,"mousemove",this.throttledHandleMouseMove),this.off(s,"touchmove",this.throttledHandleMouseMove),this.off(s,"mouseup",this.handleMouseUpHandler_),this.off(s,"touchend",this.handleMouseUpHandler_)},r.handleMouseMove=function(i){this.volumeBar.handleMouseMove(i)},e}(Oe);XO.prototype.options_={children:["volumeBar"]};Oe.registerComponent("VolumeControl",XO);var mte=function(e,r){r.tech_&&!r.tech_.featuresMuteControl&&e.addClass("vjs-hidden"),e.on(r,"loadstart",function(){r.tech_.featuresMuteControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})},QO=function(t){$e(e,t);function e(n,i){var s;return s=t.call(this,n,i)||this,mte(st(s),n),s.on(n,["loadstart","volumechange"],function(a){return s.update(a)}),s}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-mute-control "+t.prototype.buildCSSClass.call(this)},r.handleClick=function(i){var s=this.player_.volume(),a=this.player_.lastVolume_();if(s===0){var o=a<.1?.1:a;this.player_.volume(o),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},r.update=function(i){this.updateIcon_(),this.updateControlText_()},r.updateIcon_=function(){var i=this.player_.volume(),s=3;Jr&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),i===0||this.player_.muted()?s=0:i<.33?s=1:i<.67&&(s=2);for(var a=0;a<4;a++)cd(this.el_,"vjs-vol-"+a);is(this.el_,"vjs-vol-"+s)},r.updateControlText_=function(){var i=this.player_.muted()||this.player_.volume()===0,s=i?"Unmute":"Mute";this.controlText()!==s&&this.controlText(s)},e}(en);QO.prototype.controlText_="Mute";Oe.registerComponent("MuteToggle",QO);var JO=function(t){$e(e,t);function e(n,i){var s;return i===void 0&&(i={}),typeof i.inline!="undefined"?i.inline=i.inline:i.inline=!0,(typeof i.volumeControl=="undefined"||Bc(i.volumeControl))&&(i.volumeControl=i.volumeControl||{},i.volumeControl.vertical=!i.inline),s=t.call(this,n,i)||this,s.handleKeyPressHandler_=function(a){return s.handleKeyPress(a)},s.on(n,["loadstart"],function(a){return s.volumePanelState_(a)}),s.on(s.muteToggle,"keyup",function(a){return s.handleKeyPress(a)}),s.on(s.volumeControl,"keyup",function(a){return s.handleVolumeControlKeyUp(a)}),s.on("keydown",function(a){return s.handleKeyPress(a)}),s.on("mouseover",function(a){return s.handleMouseOver(a)}),s.on("mouseout",function(a){return s.handleMouseOut(a)}),s.on(s.volumeControl,["slideractive"],s.sliderActive_),s.on(s.volumeControl,["sliderinactive"],s.sliderInactive_),s}var r=e.prototype;return r.sliderActive_=function(){this.addClass("vjs-slider-active")},r.sliderInactive_=function(){this.removeClass("vjs-slider-active")},r.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},r.createEl=function(){var i="vjs-volume-panel-horizontal";return this.options_.inline||(i="vjs-volume-panel-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+i})},r.dispose=function(){this.handleMouseOut(),t.prototype.dispose.call(this)},r.handleVolumeControlKeyUp=function(i){ot.isEventKey(i,"Esc")&&this.muteToggle.focus()},r.handleMouseOver=function(i){this.addClass("vjs-hover"),Si(Fe,"keyup",this.handleKeyPressHandler_)},r.handleMouseOut=function(i){this.removeClass("vjs-hover"),Mr(Fe,"keyup",this.handleKeyPressHandler_)},r.handleKeyPress=function(i){ot.isEventKey(i,"Esc")&&this.handleMouseOut()},e}(Oe);JO.prototype.options_={children:["muteToggle","volumeControl"]};Oe.registerComponent("VolumePanel",JO);var ZO=function(t){$e(e,t);function e(n,i){var s;return s=t.call(this,n,i)||this,i&&(s.menuButton_=i.menuButton),s.focusedChild_=-1,s.on("keydown",function(a){return s.handleKeyDown(a)}),s.boundHandleBlur_=function(a){return s.handleBlur(a)},s.boundHandleTapClick_=function(a){return s.handleTapClick(a)},s}var r=e.prototype;return r.addEventListenerForItem=function(i){i instanceof Oe&&(this.on(i,"blur",this.boundHandleBlur_),this.on(i,["tap","click"],this.boundHandleTapClick_))},r.removeEventListenerForItem=function(i){i instanceof Oe&&(this.off(i,"blur",this.boundHandleBlur_),this.off(i,["tap","click"],this.boundHandleTapClick_))},r.removeChild=function(i){typeof i=="string"&&(i=this.getChild(i)),this.removeEventListenerForItem(i),t.prototype.removeChild.call(this,i)},r.addItem=function(i){var s=this.addChild(i);s&&this.addEventListenerForItem(s)},r.createEl=function(){var i=this.options_.contentElType||"ul";this.contentEl_=bt(i,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var s=t.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return s.appendChild(this.contentEl_),Si(s,"click",function(a){a.preventDefault(),a.stopImmediatePropagation()}),s},r.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,t.prototype.dispose.call(this)},r.handleBlur=function(i){var s=i.relatedTarget||Fe.activeElement;if(!this.children().some(function(o){return o.el()===s})){var a=this.menuButton_;a&&a.buttonPressed_&&s!==a.el().firstChild&&a.unpressButton()}},r.handleTapClick=function(i){if(this.menuButton_){this.menuButton_.unpressButton();var s=this.children();if(!Array.isArray(s))return;var a=s.filter(function(o){return o.el()===i.target})[0];if(!a)return;a.name()!=="CaptionSettingsMenuItem"&&this.menuButton_.focus()}},r.handleKeyDown=function(i){ot.isEventKey(i,"Left")||ot.isEventKey(i,"Down")?(i.preventDefault(),i.stopPropagation(),this.stepForward()):(ot.isEventKey(i,"Right")||ot.isEventKey(i,"Up"))&&(i.preventDefault(),i.stopPropagation(),this.stepBack())},r.stepForward=function(){var i=0;this.focusedChild_!==void 0&&(i=this.focusedChild_+1),this.focus(i)},r.stepBack=function(){var i=0;this.focusedChild_!==void 0&&(i=this.focusedChild_-1),this.focus(i)},r.focus=function(i){i===void 0&&(i=0);var s=this.children().slice(),a=s.length&&s[0].hasClass("vjs-menu-title");a&&s.shift(),s.length>0&&(i<0?i=0:i>=s.length&&(i=s.length-1),this.focusedChild_=i,s[i].el_.focus())},e}(Oe);Oe.registerComponent("Menu",ZO);var Tb=function(t){$e(e,t);function e(n,i){var s;i===void 0&&(i={}),s=t.call(this,n,i)||this,s.menuButton_=new en(n,i),s.menuButton_.controlText(s.controlText_),s.menuButton_.el_.setAttribute("aria-haspopup","true");var a=en.prototype.buildCSSClass();s.menuButton_.el_.className=s.buildCSSClass()+" "+a,s.menuButton_.removeClass("vjs-control"),s.addChild(s.menuButton_),s.update(),s.enabled_=!0;var o=function(u){return s.handleClick(u)};return s.handleMenuKeyUp_=function(l){return s.handleMenuKeyUp(l)},s.on(s.menuButton_,"tap",o),s.on(s.menuButton_,"click",o),s.on(s.menuButton_,"keydown",function(l){return s.handleKeyDown(l)}),s.on(s.menuButton_,"mouseenter",function(){s.addClass("vjs-hover"),s.menu.show(),Si(Fe,"keyup",s.handleMenuKeyUp_)}),s.on("mouseleave",function(l){return s.handleMouseLeave(l)}),s.on("keydown",function(l){return s.handleSubmenuKeyDown(l)}),s}var r=e.prototype;return r.update=function(){var i=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=i,this.addChild(i),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},r.createMenu=function(){var i=new ZO(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var s=bt("li",{className:"vjs-menu-title",textContent:nr(this.options_.title),tabIndex:-1}),a=new Oe(this.player_,{el:s});i.addItem(a)}if(this.items=this.createItems(),this.items)for(var o=0;o<this.items.length;o++)i.addItem(this.items[o]);return i},r.createItems=function(){},r.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},r.buildWrapperCSSClass=function(){var i="vjs-menu-button";this.options_.inline===!0?i+="-inline":i+="-popup";var s=en.prototype.buildCSSClass();return"vjs-menu-button "+i+" "+s+" "+t.prototype.buildCSSClass.call(this)},r.buildCSSClass=function(){var i="vjs-menu-button";return this.options_.inline===!0?i+="-inline":i+="-popup","vjs-menu-button "+i+" "+t.prototype.buildCSSClass.call(this)},r.controlText=function(i,s){return s===void 0&&(s=this.menuButton_.el()),this.menuButton_.controlText(i,s)},r.dispose=function(){this.handleMouseLeave(),t.prototype.dispose.call(this)},r.handleClick=function(i){this.buttonPressed_?this.unpressButton():this.pressButton()},r.handleMouseLeave=function(i){this.removeClass("vjs-hover"),Mr(Fe,"keyup",this.handleMenuKeyUp_)},r.focus=function(){this.menuButton_.focus()},r.blur=function(){this.menuButton_.blur()},r.handleKeyDown=function(i){ot.isEventKey(i,"Esc")||ot.isEventKey(i,"Tab")?(this.buttonPressed_&&this.unpressButton(),ot.isEventKey(i,"Tab")||(i.preventDefault(),this.menuButton_.focus())):(ot.isEventKey(i,"Up")||ot.isEventKey(i,"Down"))&&(this.buttonPressed_||(i.preventDefault(),this.pressButton()))},r.handleMenuKeyUp=function(i){(ot.isEventKey(i,"Esc")||ot.isEventKey(i,"Tab"))&&this.removeClass("vjs-hover")},r.handleSubmenuKeyPress=function(i){this.handleSubmenuKeyDown(i)},r.handleSubmenuKeyDown=function(i){(ot.isEventKey(i,"Esc")||ot.isEventKey(i,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),ot.isEventKey(i,"Tab")||(i.preventDefault(),this.menuButton_.focus()))},r.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),Jr&&pO())return;this.menu.focus()}},r.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},r.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},r.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},e}(Oe);Oe.registerComponent("MenuButton",Tb);var xb=function(t){$e(e,t);function e(r,n){var i,s=n.tracks;if(i=t.call(this,r,n)||this,i.items.length<=1&&i.hide(),!s)return st(i);var a=$t(st(i),i.update);return s.addEventListener("removetrack",a),s.addEventListener("addtrack",a),s.addEventListener("labelchange",a),i.player_.on("ready",a),i.player_.on("dispose",function(){s.removeEventListener("removetrack",a),s.removeEventListener("addtrack",a),s.removeEventListener("labelchange",a)}),i}return e}(Tb);Oe.registerComponent("TrackButton",xb);var gte=["Tab","Esc","Up","Down","Right","Left"],fd=function(t){$e(e,t);function e(n,i){var s;return s=t.call(this,n,i)||this,s.selectable=i.selectable,s.isSelected_=i.selected||!1,s.multiSelectable=i.multiSelectable,s.selected(s.isSelected_),s.selectable?s.multiSelectable?s.el_.setAttribute("role","menuitemcheckbox"):s.el_.setAttribute("role","menuitemradio"):s.el_.setAttribute("role","menuitem"),s}var r=e.prototype;return r.createEl=function(i,s,a){this.nonIconControl=!0;var o=t.prototype.createEl.call(this,"li",Jt({className:"vjs-menu-item",tabIndex:-1},s),a);return o.replaceChild(bt("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)}),o.querySelector(".vjs-icon-placeholder")),o},r.handleKeyDown=function(i){gte.some(function(s){return ot.isEventKey(i,s)})||t.prototype.handleKeyDown.call(this,i)},r.handleClick=function(i){this.selected(!0)},r.selected=function(i){this.selectable&&(i?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},e}(Gp);Oe.registerComponent("MenuItem",fd);var hd=function(t){$e(e,t);function e(n,i){var s,a=i.track,o=n.textTracks();i.label=a.label||a.language||"Unknown",i.selected=a.mode==="showing",s=t.call(this,n,i)||this,s.track=a,s.kinds=(i.kinds||[i.kind||s.track.kind]).filter(Boolean);var l=function(){for(var f=arguments.length,h=new Array(f),m=0;m<f;m++)h[m]=arguments[m];s.handleTracksChange.apply(st(s),h)},u=function(){for(var f=arguments.length,h=new Array(f),m=0;m<f;m++)h[m]=arguments[m];s.handleSelectedLanguageChange.apply(st(s),h)};if(n.on(["loadstart","texttrackchange"],l),o.addEventListener("change",l),o.addEventListener("selectedlanguagechange",u),s.on("dispose",function(){n.off(["loadstart","texttrackchange"],l),o.removeEventListener("change",l),o.removeEventListener("selectedlanguagechange",u)}),o.onchange===void 0){var c;s.on(["tap","click"],function(){if(typeof J.Event!="object")try{c=new J.Event("change")}catch{}c||(c=Fe.createEvent("Event"),c.initEvent("change",!0,!0)),o.dispatchEvent(c)})}return s.handleTracksChange(),s}var r=e.prototype;return r.handleClick=function(i){var s=this.track,a=this.player_.textTracks();if(t.prototype.handleClick.call(this,i),!!a)for(var o=0;o<a.length;o++){var l=a[o];this.kinds.indexOf(l.kind)!==-1&&(l===s?l.mode!=="showing"&&(l.mode="showing"):l.mode!=="disabled"&&(l.mode="disabled"))}},r.handleTracksChange=function(i){var s=this.track.mode==="showing";s!==this.isSelected_&&this.selected(s)},r.handleSelectedLanguageChange=function(i){if(this.track.mode==="showing"){var s=this.player_.cache_.selectedLanguage;if(s&&s.enabled&&s.language===this.track.language&&s.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},r.dispose=function(){this.track=null,t.prototype.dispose.call(this)},e}(fd);Oe.registerComponent("TextTrackMenuItem",hd);var eR=function(t){$e(e,t);function e(n,i){return i.track={player:n,kind:i.kind,kinds:i.kinds,default:!1,mode:"disabled"},i.kinds||(i.kinds=[i.kind]),i.label?i.track.label=i.label:i.track.label=i.kinds.join(" and ")+" off",i.selectable=!0,i.multiSelectable=!1,t.call(this,n,i)||this}var r=e.prototype;return r.handleTracksChange=function(i){for(var s=this.player().textTracks(),a=!0,o=0,l=s.length;o<l;o++){var u=s[o];if(this.options_.kinds.indexOf(u.kind)>-1&&u.mode==="showing"){a=!1;break}}a!==this.isSelected_&&this.selected(a)},r.handleSelectedLanguageChange=function(i){for(var s=this.player().textTracks(),a=!0,o=0,l=s.length;o<l;o++){var u=s[o];if(["captions","descriptions","subtitles"].indexOf(u.kind)>-1&&u.mode==="showing"){a=!1;break}}a&&(this.player_.cache_.selectedLanguage={enabled:!1})},e}(hd);Oe.registerComponent("OffTextTrackMenuItem",eR);var Xl=function(t){$e(e,t);function e(n,i){return i===void 0&&(i={}),i.tracks=n.textTracks(),t.call(this,n,i)||this}var r=e.prototype;return r.createItems=function(i,s){i===void 0&&(i=[]),s===void 0&&(s=hd);var a;this.label_&&(a=this.label_+" off"),i.push(new eR(this.player_,{kinds:this.kinds_,kind:this.kind_,label:a})),this.hideThreshold_+=1;var o=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var l=0;l<o.length;l++){var u=o[l];if(this.kinds_.indexOf(u.kind)>-1){var c=new s(this.player_,{track:u,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});c.addClass("vjs-"+u.kind+"-menu-item"),i.push(c)}}return i},e}(xb);Oe.registerComponent("TextTrackButton",Xl);var tR=function(t){$e(e,t);function e(n,i){var s,a=i.track,o=i.cue,l=n.currentTime();return i.selectable=!0,i.multiSelectable=!1,i.label=o.text,i.selected=o.startTime<=l&&l<o.endTime,s=t.call(this,n,i)||this,s.track=a,s.cue=o,a.addEventListener("cuechange",$t(st(s),s.update)),s}var r=e.prototype;return r.handleClick=function(i){t.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},r.update=function(i){var s=this.cue,a=this.player_.currentTime();this.selected(s.startTime<=a&&a<s.endTime)},e}(fd);Oe.registerComponent("ChaptersTrackMenuItem",tR);var Sb=function(t){$e(e,t);function e(n,i,s){return t.call(this,n,i,s)||this}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildWrapperCSSClass.call(this)},r.update=function(i){(!this.track_||i&&(i.type==="addtrack"||i.type==="removetrack"))&&this.setTrack(this.findChaptersTrack()),t.prototype.update.call(this)},r.setTrack=function(i){if(this.track_!==i){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var s=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);s&&s.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=i,this.track_){this.track_.mode="hidden";var a=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);a&&a.addEventListener("load",this.updateHandler_)}}},r.findChaptersTrack=function(){for(var i=this.player_.textTracks()||[],s=i.length-1;s>=0;s--){var a=i[s];if(a.kind===this.kind_)return a}},r.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(nr(this.kind_))},r.createMenu=function(){return this.options_.title=this.getMenuCaption(),t.prototype.createMenu.call(this)},r.createItems=function(){var i=[];if(!this.track_)return i;var s=this.track_.cues;if(!s)return i;for(var a=0,o=s.length;a<o;a++){var l=s[a],u=new tR(this.player_,{track:this.track_,cue:l});i.push(u)}return i},e}(Xl);Sb.prototype.kind_="chapters";Sb.prototype.controlText_="Chapters";Oe.registerComponent("ChaptersButton",Sb);var Eb=function(t){$e(e,t);function e(n,i,s){var a;a=t.call(this,n,i,s)||this;var o=n.textTracks(),l=$t(st(a),a.handleTracksChange);return o.addEventListener("change",l),a.on("dispose",function(){o.removeEventListener("change",l)}),a}var r=e.prototype;return r.handleTracksChange=function(i){for(var s=this.player().textTracks(),a=!1,o=0,l=s.length;o<l;o++){var u=s[o];if(u.kind!==this.kind_&&u.mode==="showing"){a=!0;break}}a?this.disable():this.enable()},r.buildCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildWrapperCSSClass.call(this)},e}(Xl);Eb.prototype.kind_="descriptions";Eb.prototype.controlText_="Descriptions";Oe.registerComponent("DescriptionsButton",Eb);var Cb=function(t){$e(e,t);function e(n,i,s){return t.call(this,n,i,s)||this}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildWrapperCSSClass.call(this)},e}(Xl);Cb.prototype.kind_="subtitles";Cb.prototype.controlText_="Subtitles";Oe.registerComponent("SubtitlesButton",Cb);var wb=function(t){$e(e,t);function e(n,i){var s;return i.track={player:n,kind:i.kind,label:i.kind+" settings",selectable:!1,default:!1,mode:"disabled"},i.selectable=!1,i.name="CaptionSettingsMenuItem",s=t.call(this,n,i)||this,s.addClass("vjs-texttrack-settings"),s.controlText(", opens "+i.kind+" settings dialog"),s}var r=e.prototype;return r.handleClick=function(i){this.player().getChild("textTrackSettings").open()},e}(hd);Oe.registerComponent("CaptionSettingsMenuItem",wb);var Pb=function(t){$e(e,t);function e(n,i,s){return t.call(this,n,i,s)||this}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-captions-button "+t.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-captions-button "+t.prototype.buildWrapperCSSClass.call(this)},r.createItems=function(){var i=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(i.push(new wb(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),t.prototype.createItems.call(this,i)},e}(Xl);Pb.prototype.kind_="captions";Pb.prototype.controlText_="Captions";Oe.registerComponent("CaptionsButton",Pb);var rR=function(t){$e(e,t);function e(){return t.apply(this,arguments)||this}var r=e.prototype;return r.createEl=function(i,s,a){var o=t.prototype.createEl.call(this,i,s,a),l=o.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="captions"&&(l.appendChild(bt("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),l.appendChild(bt("span",{className:"vjs-control-text",textContent:" "+this.localize("Captions")}))),o},e}(hd);Oe.registerComponent("SubsCapsMenuItem",rR);var Db=function(t){$e(e,t);function e(n,i){var s;return i===void 0&&(i={}),s=t.call(this,n,i)||this,s.label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(s.player_.language_)>-1&&(s.label_="captions"),s.menuButton_.controlText(nr(s.label_)),s}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildWrapperCSSClass.call(this)},r.createItems=function(){var i=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(i.push(new wb(this.player_,{kind:this.label_})),this.hideThreshold_+=1),i=t.prototype.createItems.call(this,i,rR),i},e}(Xl);Db.prototype.kinds_=["captions","subtitles"];Db.prototype.controlText_="Subtitles";Oe.registerComponent("SubsCapsButton",Db);var iR=function(t){$e(e,t);function e(n,i){var s,a=i.track,o=n.audioTracks();i.label=a.label||a.language||"Unknown",i.selected=a.enabled,s=t.call(this,n,i)||this,s.track=a,s.addClass("vjs-"+a.kind+"-menu-item");var l=function(){for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];s.handleTracksChange.apply(st(s),d)};return o.addEventListener("change",l),s.on("dispose",function(){o.removeEventListener("change",l)}),s}var r=e.prototype;return r.createEl=function(i,s,a){var o=t.prototype.createEl.call(this,i,s,a),l=o.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="main-desc"&&(l.appendChild(bt("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),l.appendChild(bt("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),o},r.handleClick=function(i){if(t.prototype.handleClick.call(this,i),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks)for(var s=this.player_.audioTracks(),a=0;a<s.length;a++){var o=s[a];o!==this.track&&(o.enabled=o===this.track)}},r.handleTracksChange=function(i){this.selected(this.track.enabled)},e}(fd);Oe.registerComponent("AudioTrackMenuItem",iR);var nR=function(t){$e(e,t);function e(n,i){return i===void 0&&(i={}),i.tracks=n.audioTracks(),t.call(this,n,i)||this}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-audio-button "+t.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-audio-button "+t.prototype.buildWrapperCSSClass.call(this)},r.createItems=function(i){i===void 0&&(i=[]),this.hideThreshold_=1;for(var s=this.player_.audioTracks(),a=0;a<s.length;a++){var o=s[a];i.push(new iR(this.player_,{track:o,selectable:!0,multiSelectable:!1}))}return i},e}(xb);nR.prototype.controlText_="Audio Track";Oe.registerComponent("AudioTrackButton",nR);var Ab=function(t){$e(e,t);function e(n,i){var s,a=i.rate,o=parseFloat(a,10);return i.label=a,i.selected=o===n.playbackRate(),i.selectable=!0,i.multiSelectable=!1,s=t.call(this,n,i)||this,s.label=a,s.rate=o,s.on(n,"ratechange",function(l){return s.update(l)}),s}var r=e.prototype;return r.handleClick=function(i){t.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},r.update=function(i){this.selected(this.player().playbackRate()===this.rate)},e}(fd);Ab.prototype.contentElType="button";Oe.registerComponent("PlaybackRateMenuItem",Ab);var sR=function(t){$e(e,t);function e(n,i){var s;return s=t.call(this,n,i)||this,s.menuButton_.el_.setAttribute("aria-describedby",s.labelElId_),s.updateVisibility(),s.updateLabel(),s.on(n,"loadstart",function(a){return s.updateVisibility(a)}),s.on(n,"ratechange",function(a){return s.updateLabel(a)}),s.on(n,"playbackrateschange",function(a){return s.handlePlaybackRateschange(a)}),s}var r=e.prototype;return r.createEl=function(){var i=t.prototype.createEl.call(this);return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=bt("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),i.appendChild(this.labelEl_),i},r.dispose=function(){this.labelEl_=null,t.prototype.dispose.call(this)},r.buildCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildWrapperCSSClass.call(this)},r.createItems=function(){for(var i=this.playbackRates(),s=[],a=i.length-1;a>=0;a--)s.push(new Ab(this.player(),{rate:i[a]+"x"}));return s},r.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},r.handleClick=function(i){var s=this.player().playbackRate(),a=this.playbackRates(),o=a.indexOf(s),l=(o+1)%a.length;this.player().playbackRate(a[l])},r.handlePlaybackRateschange=function(i){this.update()},r.playbackRates=function(){var i=this.player();return i.playbackRates&&i.playbackRates()||[]},r.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},r.updateVisibility=function(i){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},r.updateLabel=function(i){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")},e}(Tb);sR.prototype.controlText_="Playback Rate";Oe.registerComponent("PlaybackRateMenuButton",sR);var aR=function(t){$e(e,t);function e(){return t.apply(this,arguments)||this}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-spacer "+t.prototype.buildCSSClass.call(this)},r.createEl=function(i,s,a){return i===void 0&&(i="div"),s===void 0&&(s={}),a===void 0&&(a={}),s.className||(s.className=this.buildCSSClass()),t.prototype.createEl.call(this,i,s,a)},e}(Oe);Oe.registerComponent("Spacer",aR);var vte=function(t){$e(e,t);function e(){return t.apply(this,arguments)||this}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-custom-control-spacer "+t.prototype.buildCSSClass.call(this)},r.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),textContent:"\xA0"})},e}(aR);Oe.registerComponent("CustomControlSpacer",vte);var Dh=function(t){$e(e,t);function e(){return t.apply(this,arguments)||this}var r=e.prototype;return r.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},e}(Oe);Dh.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]};"exitPictureInPicture"in Fe&&Dh.prototype.options_.children.splice(Dh.prototype.options_.children.length-1,0,"pictureInPictureToggle");Oe.registerComponent("ControlBar",Dh);var oR=function(t){$e(e,t);function e(n,i){var s;return s=t.call(this,n,i)||this,s.on(n,"error",function(a){return s.open(a)}),s}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-error-display "+t.prototype.buildCSSClass.call(this)},r.content=function(){var i=this.player().error();return i?this.localize(i.message):""},e}(Gl);oR.prototype.options_=Vi({},Gl.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0});Oe.registerComponent("ErrorDisplay",oR);var pg="vjs-text-track-settings",SE=["#000","Black"],EE=["#00F","Blue"],CE=["#0FF","Cyan"],wE=["#0F0","Green"],PE=["#F0F","Magenta"],DE=["#F00","Red"],AE=["#FFF","White"],OE=["#FF0","Yellow"],mg=["1","Opaque"],gg=["0.5","Semi-Transparent"],RE=["0","Transparent"],Ia={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[SE,AE,DE,wE,EE,OE,PE,CE]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[mg,gg,RE]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[AE,SE,DE,wE,EE,OE,PE,CE]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(e){return e==="1.00"?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[mg,gg]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[RE,gg,mg]}};Ia.windowColor.options=Ia.backgroundColor.options;function lR(t,e){if(e&&(t=e(t)),t&&t!=="none")return t}function yte(t,e){var r=t.options[t.options.selectedIndex].value;return lR(r,e)}function bte(t,e,r){if(!!e){for(var n=0;n<t.options.length;n++)if(lR(t.options[n].value,r)===e){t.selectedIndex=n;break}}}var _te=function(t){$e(e,t);function e(n,i){var s;return i.temporary=!1,s=t.call(this,n,i)||this,s.updateDisplay=s.updateDisplay.bind(st(s)),s.fill(),s.hasBeenOpened_=s.hasBeenFilled_=!0,s.endDialog=bt("p",{className:"vjs-control-text",textContent:s.localize("End of dialog window.")}),s.el().appendChild(s.endDialog),s.setDefaults(),i.persistTextTrackSettings===void 0&&(s.options_.persistTextTrackSettings=s.options_.playerOptions.persistTextTrackSettings),s.on(s.$(".vjs-done-button"),"click",function(){s.saveSettings(),s.close()}),s.on(s.$(".vjs-default-button"),"click",function(){s.setDefaults(),s.updateDisplay()}),Ko(Ia,function(a){s.on(s.$(a.selector),"change",s.updateDisplay)}),s.options_.persistTextTrackSettings&&s.restoreSettings(),s}var r=e.prototype;return r.dispose=function(){this.endDialog=null,t.prototype.dispose.call(this)},r.createElSelect_=function(i,s,a){var o=this;s===void 0&&(s=""),a===void 0&&(a="label");var l=Ia[i],u=l.id.replace("%s",this.id_),c=[s,u].join(" ").trim();return["<"+a+' id="'+u+'" class="'+(a==="label"?"vjs-label":"")+'">',this.localize(l.label),"</"+a+">",'<select aria-labelledby="'+c+'">'].concat(l.options.map(function(d){var f=u+"-"+d[1].replace(/\W+/g,"");return['<option id="'+f+'" value="'+d[0]+'" ','aria-labelledby="'+c+" "+f+'">',o.localize(d[1]),"</option>"].join("")})).concat("</select>").join("")},r.createElFgColor_=function(){var i="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+i+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",i),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",i),"</span>","</fieldset>"].join("")},r.createElBgColor_=function(){var i="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+i+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",i),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",i),"</span>","</fieldset>"].join("")},r.createElWinColor_=function(){var i="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+i+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",i),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",i),"</span>","</fieldset>"].join("")},r.createElColors_=function(){return bt("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},r.createElFont_=function(){return bt("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},r.createElControls_=function(){var i=this.localize("restore all settings to the default values");return bt("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+i+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+i+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},r.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},r.label=function(){return this.localize("Caption Settings Dialog")},r.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},r.buildCSSClass=function(){return t.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},r.getValues=function(){var i=this;return lee(Ia,function(s,a,o){var l=yte(i.$(a.selector),a.parser);return l!==void 0&&(s[o]=l),s},{})},r.setValues=function(i){var s=this;Ko(Ia,function(a,o){bte(s.$(a.selector),i[o],a.parser)})},r.setDefaults=function(){var i=this;Ko(Ia,function(s){var a=s.hasOwnProperty("default")?s.default:0;i.$(s.selector).selectedIndex=a})},r.restoreSettings=function(){var i;try{i=JSON.parse(J.localStorage.getItem(pg))}catch(s){ht.warn(s)}i&&this.setValues(i)},r.saveSettings=function(){if(!!this.options_.persistTextTrackSettings){var i=this.getValues();try{Object.keys(i).length?J.localStorage.setItem(pg,JSON.stringify(i)):J.localStorage.removeItem(pg)}catch(s){ht.warn(s)}}},r.updateDisplay=function(){var i=this.player_.getChild("textTrackDisplay");i&&i.updateDisplay()},r.conditionalBlur_=function(){this.previouslyActiveEl_=null;var i=this.player_.controlBar,s=i&&i.subsCapsButton,a=i&&i.captionsButton;s?s.focus():a&&a.focus()},e}(Gl);Oe.registerComponent("TextTrackSettings",_te);var Tte=function(t){$e(e,t);function e(n,i){var s,a=i.ResizeObserver||J.ResizeObserver;i.ResizeObserver===null&&(a=!1);var o=Yt({createEl:!a,reportTouchActivity:!1},i);return s=t.call(this,n,o)||this,s.ResizeObserver=i.ResizeObserver||J.ResizeObserver,s.loadListener_=null,s.resizeObserver_=null,s.debouncedHandler_=bee(function(){s.resizeHandler()},100,!1,st(s)),a?(s.resizeObserver_=new s.ResizeObserver(s.debouncedHandler_),s.resizeObserver_.observe(n.el())):(s.loadListener_=function(){if(!(!s.el_||!s.el_.contentWindow)){var l=s.debouncedHandler_,u=s.unloadListener_=function(){Mr(this,"resize",l),Mr(this,"unload",u),u=null};Si(s.el_.contentWindow,"unload",u),Si(s.el_.contentWindow,"resize",l)}},s.one("load",s.loadListener_)),s}var r=e.prototype;return r.createEl=function(){return t.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1},{"aria-hidden":"true"})},r.resizeHandler=function(){!this.player_||!this.player_.trigger||this.player_.trigger("playerresize")},r.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,t.prototype.dispose.call(this)},e}(Oe);Oe.registerComponent("ResizeManager",Tte);var xte={trackingThreshold:20,liveTolerance:15},Ste=function(t){$e(e,t);function e(n,i){var s,a=Yt(xte,i,{createEl:!1});return s=t.call(this,n,a)||this,s.handleVisibilityChange_=function(o){return s.handleVisibilityChange(o)},s.trackLiveHandler_=function(){return s.trackLive_()},s.handlePlay_=function(o){return s.handlePlay(o)},s.handleFirstTimeupdate_=function(o){return s.handleFirstTimeupdate(o)},s.handleSeeked_=function(o){return s.handleSeeked(o)},s.seekToLiveEdge_=function(o){return s.seekToLiveEdge(o)},s.reset_(),s.on(s.player_,"durationchange",function(o){return s.handleDurationchange(o)}),s.on(s.player_,"canplay",function(){return s.toggleTracking()}),ud&&"hidden"in Fe&&"visibilityState"in Fe&&s.on(Fe,"visibilitychange",s.handleVisibilityChange_),s}var r=e.prototype;return r.handleVisibilityChange=function(){this.player_.duration()===1/0&&(Fe.hidden?this.stopTracking():this.startTracking())},r.trackLive_=function(){var i=this.player_.seekable();if(!(!i||!i.length)){var s=Number(J.performance.now().toFixed(4)),a=this.lastTime_===-1?0:(s-this.lastTime_)/1e3;this.lastTime_=s,this.pastSeekEnd_=this.pastSeekEnd()+a;var o=this.liveCurrentTime(),l=this.player_.currentTime(),u=this.player_.paused()||this.seekedBehindLive_||Math.abs(o-l)>this.options_.liveTolerance;(!this.timeupdateSeen_||o===1/0)&&(u=!1),u!==this.behindLiveEdge_&&(this.behindLiveEdge_=u,this.trigger("liveedgechange"))}},r.handleDurationchange=function(){this.toggleTracking()},r.toggleTracking=function(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())},r.startTracking=function(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,sn),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))},r.handleFirstTimeupdate=function(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)},r.handleSeeked=function(){var i=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&i>2,this.nextSeekedFromUser_=!1,this.trackLive_()},r.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)},r.reset_=function(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)},r.nextSeekedFromUser=function(){this.nextSeekedFromUser_=!0},r.stopTracking=function(){!this.isTracking()||(this.reset_(),this.trigger("liveedgechange"))},r.seekableEnd=function(){for(var i=this.player_.seekable(),s=[],a=i?i.length:0;a--;)s.push(i.end(a));return s.length?s.sort()[s.length-1]:1/0},r.seekableStart=function(){for(var i=this.player_.seekable(),s=[],a=i?i.length:0;a--;)s.push(i.start(a));return s.length?s.sort()[0]:0},r.liveWindow=function(){var i=this.liveCurrentTime();return i===1/0?0:i-this.seekableStart()},r.isLive=function(){return this.isTracking()},r.atLiveEdge=function(){return!this.behindLiveEdge()},r.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},r.pastSeekEnd=function(){var i=this.seekableEnd();return this.lastSeekEnd_!==-1&&i!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=i,this.pastSeekEnd_},r.behindLiveEdge=function(){return this.behindLiveEdge_},r.isTracking=function(){return typeof this.trackingInterval_=="number"},r.seekToLiveEdge=function(){this.seekedBehindLive_=!1,!this.atLiveEdge()&&(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))},r.dispose=function(){this.off(Fe,"visibilitychange",this.handleVisibilityChange_),this.stopTracking(),t.prototype.dispose.call(this)},e}(Oe);Oe.registerComponent("LiveTracker",Ste);var Bv=function(e){var r=e.el();if(r.hasAttribute("src"))return e.triggerSourceset(r.src),!0;var n=e.$$("source"),i=[],s="";if(!n.length)return!1;for(var a=0;a<n.length;a++){var o=n[a].src;o&&i.indexOf(o)===-1&&i.push(o)}return i.length?(i.length===1&&(s=i[0]),e.triggerSourceset(s),!0):!1},Ete=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(e){var r=Fe.createElement(this.nodeName.toLowerCase());r.innerHTML=e;for(var n=Fe.createDocumentFragment();r.childNodes.length;)n.appendChild(r.childNodes[0]);return this.innerText="",J.Element.prototype.appendChild.call(this,n),this.innerHTML}}),uR=function(e,r){for(var n={},i=0;i<e.length&&(n=Object.getOwnPropertyDescriptor(e[i],r),!(n&&n.set&&n.get));i++);return n.enumerable=!0,n.configurable=!0,n},Cte=function(e){return uR([e.el(),J.HTMLMediaElement.prototype,J.Element.prototype,Ete],"innerHTML")},kE=function(e){var r=e.el();if(!r.resetSourceWatch_){var n={},i=Cte(e),s=function(o){return function(){for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];var d=o.apply(r,u);return Bv(e),d}};["append","appendChild","insertAdjacentHTML"].forEach(function(a){!r[a]||(n[a]=r[a],r[a]=s(n[a]))}),Object.defineProperty(r,"innerHTML",Yt(i,{set:s(i.set)})),r.resetSourceWatch_=function(){r.resetSourceWatch_=null,Object.keys(n).forEach(function(a){r[a]=n[a]}),Object.defineProperty(r,"innerHTML",i)},e.one("sourceset",r.resetSourceWatch_)}},wte=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?NO(J.Element.prototype.getAttribute.call(this,"src")):""},set:function(e){return J.Element.prototype.setAttribute.call(this,"src",e),e}}),Pte=function(e){return uR([e.el(),J.HTMLMediaElement.prototype,wte],"src")},Dte=function(e){if(!!e.featuresSourceset){var r=e.el();if(!r.resetSourceset_){var n=Pte(e),i=r.setAttribute,s=r.load;Object.defineProperty(r,"src",Yt(n,{set:function(o){var l=n.set.call(r,o);return e.triggerSourceset(r.src),l}})),r.setAttribute=function(a,o){var l=i.call(r,a,o);return/src/i.test(a)&&e.triggerSourceset(r.src),l},r.load=function(){var a=s.call(r);return Bv(e)||(e.triggerSourceset(""),kE(e)),a},r.currentSrc?e.triggerSourceset(r.currentSrc):Bv(e)||kE(e),r.resetSourceset_=function(){r.resetSourceset_=null,r.load=s,r.setAttribute=i,Object.defineProperty(r,"src",n),r.resetSourceWatch_&&r.resetSourceWatch_()}}}},Ob=function(e,r,n,i){i===void 0&&(i=!0);var s=function(l){return Object.defineProperty(e,r,{value:l,enumerable:!0,writable:!0})},a={configurable:!0,enumerable:!0,get:function(){var l=n();return s(l),l}};return i&&(a.set=s),Object.defineProperty(e,r,a)},ze=function(t){$e(e,t);function e(n,i){var s;s=t.call(this,n,i)||this;var a=n.source,o=!1;if(a&&(s.el_.currentSrc!==a.src||n.tag&&n.tag.initNetworkState_===3)?s.setSource(a):s.handleLateInit_(s.el_),n.enableSourceset&&s.setupSourcesetHandling_(),s.isScrubbing_=!1,s.el_.hasChildNodes()){for(var l=s.el_.childNodes,u=l.length,c=[];u--;){var d=l[u],f=d.nodeName.toLowerCase();f==="track"&&(s.featuresNativeTextTracks?(s.remoteTextTrackEls().addTrackElement_(d),s.remoteTextTracks().addTrack(d.track),s.textTracks().addTrack(d.track),!o&&!s.el_.hasAttribute("crossorigin")&&Yp(d.src)&&(o=!0)):c.push(d))}for(var h=0;h<c.length;h++)s.el_.removeChild(c[h])}return s.proxyNativeTracks_(),s.featuresNativeTextTracks&&o&&ht.warn(`Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.
This may prevent text tracks from loading.`),s.restoreMetadataTracksInIOSNativePlayer_(),(pl||sb||uO)&&n.nativeControlsForTouch===!0&&s.setControls(!0),s.proxyWebkitFullscreen_(),s.triggerReady(),s}var r=e.prototype;return r.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),e.disposeMediaElement(this.el_),this.options_=null,t.prototype.dispose.call(this)},r.setupSourcesetHandling_=function(){Dte(this)},r.restoreMetadataTracksInIOSNativePlayer_=function(){var i=this.textTracks(),s,a=function(){s=[];for(var u=0;u<i.length;u++){var c=i[u];c.kind==="metadata"&&s.push({track:c,storedMode:c.mode})}};a(),i.addEventListener("change",a),this.on("dispose",function(){return i.removeEventListener("change",a)});var o=function l(){for(var u=0;u<s.length;u++){var c=s[u];c.track.mode==="disabled"&&c.track.mode!==c.storedMode&&(c.track.mode=c.storedMode)}i.removeEventListener("change",l)};this.on("webkitbeginfullscreen",function(){i.removeEventListener("change",a),i.removeEventListener("change",o),i.addEventListener("change",o)}),this.on("webkitendfullscreen",function(){i.removeEventListener("change",a),i.addEventListener("change",a),i.removeEventListener("change",o)})},r.overrideNative_=function(i,s){var a=this;if(s===this["featuresNative"+i+"Tracks"]){var o=i.toLowerCase();this[o+"TracksListeners_"]&&Object.keys(this[o+"TracksListeners_"]).forEach(function(l){var u=a.el()[o+"Tracks"];u.removeEventListener(l,a[o+"TracksListeners_"][l])}),this["featuresNative"+i+"Tracks"]=!s,this[o+"TracksListeners_"]=null,this.proxyNativeTracksForType_(o)}},r.overrideNativeAudioTracks=function(i){this.overrideNative_("Audio",i)},r.overrideNativeVideoTracks=function(i){this.overrideNative_("Video",i)},r.proxyNativeTracksForType_=function(i){var s=this,a=Bi[i],o=this.el()[a.getterName],l=this[a.getterName]();if(!(!this["featuresNative"+a.capitalName+"Tracks"]||!o||!o.addEventListener)){var u={change:function(f){var h={type:"change",target:l,currentTarget:l,srcElement:l};l.trigger(h),i==="text"&&s[yl.remoteText.getterName]().trigger(h)},addtrack:function(f){l.addTrack(f.track)},removetrack:function(f){l.removeTrack(f.track)}},c=function(){for(var f=[],h=0;h<l.length;h++){for(var m=!1,g=0;g<o.length;g++)if(o[g]===l[h]){m=!0;break}m||f.push(l[h])}for(;f.length;)l.removeTrack(f.shift())};this[a.getterName+"Listeners_"]=u,Object.keys(u).forEach(function(d){var f=u[d];o.addEventListener(d,f),s.on("dispose",function(h){return o.removeEventListener(d,f)})}),this.on("loadstart",c),this.on("dispose",function(d){return s.off("loadstart",c)})}},r.proxyNativeTracks_=function(){var i=this;Bi.names.forEach(function(s){i.proxyNativeTracksForType_(s)})},r.createEl=function(){var i=this.options_.tag;if(!i||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(i){var s=i.cloneNode(!0);i.parentNode&&i.parentNode.insertBefore(s,i),e.disposeMediaElement(i),i=s}else{i=Fe.createElement("video");var a=this.options_.tag&&Yn(this.options_.tag),o=Yt({},a);(!pl||this.options_.nativeControlsForTouch!==!0)&&delete o.controls,vO(i,Jt(o,{id:this.options_.techId,class:"vjs-tech"}))}i.playerId=this.options_.playerId}typeof this.options_.preload!="undefined"&&ml(i,"preload",this.options_.preload),this.options_.disablePictureInPicture!==void 0&&(i.disablePictureInPicture=this.options_.disablePictureInPicture);for(var l=["loop","muted","playsinline","autoplay"],u=0;u<l.length;u++){var c=l[u],d=this.options_[c];typeof d!="undefined"&&(d?ml(i,c,c):jp(i,c),i[c]=d)}return i},r.handleLateInit_=function(i){if(!(i.networkState===0||i.networkState===3)){if(i.readyState===0){var s=!1,a=function(){s=!0};this.on("loadstart",a);var o=function(){s||this.trigger("loadstart")};this.on("loadedmetadata",o),this.ready(function(){this.off("loadstart",a),this.off("loadedmetadata",o),s||this.trigger("loadstart")});return}var l=["loadstart"];l.push("loadedmetadata"),i.readyState>=2&&l.push("loadeddata"),i.readyState>=3&&l.push("canplay"),i.readyState>=4&&l.push("canplaythrough"),this.ready(function(){l.forEach(function(u){this.trigger(u)},this)})}},r.setScrubbing=function(i){this.isScrubbing_=i},r.scrubbing=function(){return this.isScrubbing_},r.setCurrentTime=function(i){try{this.isScrubbing_&&this.el_.fastSeek&&Up?this.el_.fastSeek(i):this.el_.currentTime=i}catch(s){ht(s,"Video is not ready. (Video.js)")}},r.duration=function(){var i=this;if(this.el_.duration===1/0&&ps&&ms&&this.el_.currentTime===0){var s=function a(){i.el_.currentTime>0&&(i.el_.duration===1/0&&i.trigger("durationchange"),i.off("timeupdate",a))};return this.on("timeupdate",s),NaN}return this.el_.duration||NaN},r.width=function(){return this.el_.offsetWidth},r.height=function(){return this.el_.offsetHeight},r.proxyWebkitFullscreen_=function(){var i=this;if("webkitDisplayingFullscreen"in this.el_){var s=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},a=function(){"webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"&&(this.one("webkitendfullscreen",s),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",a),this.on("dispose",function(){i.off("webkitbeginfullscreen",a),i.off("webkitendfullscreen",s)})}},r.supportsFullScreen=function(){if(typeof this.el_.webkitEnterFullScreen=="function"){var i=J.navigator&&J.navigator.userAgent||"";if(/Android/.test(i)||!/Chrome|Mac OS X 10.5/.test(i))return!0}return!1},r.enterFullScreen=function(){var i=this.el_;if(i.paused&&i.networkState<=i.HAVE_METADATA)Tn(this.el_.play()),this.setTimeout(function(){i.pause();try{i.webkitEnterFullScreen()}catch(s){this.trigger("fullscreenerror",s)}},0);else try{i.webkitEnterFullScreen()}catch(s){this.trigger("fullscreenerror",s)}},r.exitFullScreen=function(){if(!this.el_.webkitDisplayingFullscreen){this.trigger("fullscreenerror",new Error("The video is not fullscreen"));return}this.el_.webkitExitFullScreen()},r.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},r.src=function(i){if(i===void 0)return this.el_.src;this.setSrc(i)},r.reset=function(){e.resetMediaElement(this.el_)},r.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},r.setControls=function(i){this.el_.controls=!!i},r.addTextTrack=function(i,s,a){return this.featuresNativeTextTracks?this.el_.addTextTrack(i,s,a):t.prototype.addTextTrack.call(this,i,s,a)},r.createRemoteTextTrack=function(i){if(!this.featuresNativeTextTracks)return t.prototype.createRemoteTextTrack.call(this,i);var s=Fe.createElement("track");return i.kind&&(s.kind=i.kind),i.label&&(s.label=i.label),(i.language||i.srclang)&&(s.srclang=i.language||i.srclang),i.default&&(s.default=i.default),i.id&&(s.id=i.id),i.src&&(s.src=i.src),s},r.addRemoteTextTrack=function(i,s){var a=t.prototype.addRemoteTextTrack.call(this,i,s);return this.featuresNativeTextTracks&&this.el().appendChild(a),a},r.removeRemoteTextTrack=function(i){if(t.prototype.removeRemoteTextTrack.call(this,i),this.featuresNativeTextTracks)for(var s=this.$$("track"),a=s.length;a--;)(i===s[a]||i===s[a].track)&&this.el().removeChild(s[a])},r.getVideoPlaybackQuality=function(){if(typeof this.el().getVideoPlaybackQuality=="function")return this.el().getVideoPlaybackQuality();var i={};return typeof this.el().webkitDroppedFrameCount!="undefined"&&typeof this.el().webkitDecodedFrameCount!="undefined"&&(i.droppedVideoFrames=this.el().webkitDroppedFrameCount,i.totalVideoFrames=this.el().webkitDecodedFrameCount),J.performance&&typeof J.performance.now=="function"?i.creationTime=J.performance.now():J.performance&&J.performance.timing&&typeof J.performance.timing.navigationStart=="number"&&(i.creationTime=J.Date.now()-J.performance.timing.navigationStart),i},e}(jt);Ob(ze,"TEST_VID",function(){if(!!zl()){var t=Fe.createElement("video"),e=Fe.createElement("track");return e.kind="captions",e.srclang="en",e.label="English",t.appendChild(e),t}});ze.isSupported=function(){try{ze.TEST_VID.volume=.5}catch{return!1}return!!(ze.TEST_VID&&ze.TEST_VID.canPlayType)};ze.canPlayType=function(t){return ze.TEST_VID.canPlayType(t)};ze.canPlaySource=function(t,e){return ze.canPlayType(t.type)};ze.canControlVolume=function(){try{var t=ze.TEST_VID.volume;ze.TEST_VID.volume=t/2+.1;var e=t!==ze.TEST_VID.volume;return e&&Jr?(J.setTimeout(function(){ze&&ze.prototype&&(ze.prototype.featuresVolumeControl=t!==ze.TEST_VID.volume)}),!1):e}catch{return!1}};ze.canMuteVolume=function(){try{var t=ze.TEST_VID.muted;return ze.TEST_VID.muted=!t,ze.TEST_VID.muted?ml(ze.TEST_VID,"muted","muted"):jp(ze.TEST_VID,"muted","muted"),t!==ze.TEST_VID.muted}catch{return!1}};ze.canControlPlaybackRate=function(){if(ps&&ms&&dO<58)return!1;try{var t=ze.TEST_VID.playbackRate;return ze.TEST_VID.playbackRate=t/2+.1,t!==ze.TEST_VID.playbackRate}catch{return!1}};ze.canOverrideAttributes=function(){try{var t=function(){};Object.defineProperty(Fe.createElement("video"),"src",{get:t,set:t}),Object.defineProperty(Fe.createElement("audio"),"src",{get:t,set:t}),Object.defineProperty(Fe.createElement("video"),"innerHTML",{get:t,set:t}),Object.defineProperty(Fe.createElement("audio"),"innerHTML",{get:t,set:t})}catch{return!1}return!0};ze.supportsNativeTextTracks=function(){return Up||Jr&&ms};ze.supportsNativeVideoTracks=function(){return!!(ze.TEST_VID&&ze.TEST_VID.videoTracks)};ze.supportsNativeAudioTracks=function(){return!!(ze.TEST_VID&&ze.TEST_VID.audioTracks)};ze.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"];[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function(t){var e=t[0],r=t[1];Ob(ze.prototype,e,function(){return ze[r]()},!0)});ze.prototype.featuresVolumeControl=ze.canControlVolume();ze.prototype.movingMediaElementInDOM=!Jr;ze.prototype.featuresFullscreenResize=!0;ze.prototype.featuresProgressEvents=!0;ze.prototype.featuresTimeupdateEvents=!0;var Ah;ze.patchCanPlayType=function(){rb>=4&&!cO&&!ms&&(Ah=ze.TEST_VID&&ze.TEST_VID.constructor.prototype.canPlayType,ze.TEST_VID.constructor.prototype.canPlayType=function(t){var e=/^application\/(?:x-|vnd\.apple\.)mpegurl/i;return t&&e.test(t)?"maybe":Ah.call(this,t)})};ze.unpatchCanPlayType=function(){var t=ze.TEST_VID.constructor.prototype.canPlayType;return Ah&&(ze.TEST_VID.constructor.prototype.canPlayType=Ah),t};ze.patchCanPlayType();ze.disposeMediaElement=function(t){if(!!t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()}};ze.resetMediaElement=function(t){if(!!t){for(var e=t.querySelectorAll("source"),r=e.length;r--;)t.removeChild(e[r]);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()}};["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(t){ze.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}});["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){ze.prototype["set"+nr(t)]=function(e){this.el_[t]=e,e?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}});["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(t){ze.prototype[t]=function(){return this.el_[t]}});["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(t){ze.prototype["set"+nr(t)]=function(e){this.el_[t]=e}});["pause","load","play"].forEach(function(t){ze.prototype[t]=function(){return this.el_[t]()}});jt.withSourceHandlers(ze);ze.nativeSourceHandler={};ze.nativeSourceHandler.canPlayType=function(t){try{return ze.TEST_VID.canPlayType(t)}catch{return""}};ze.nativeSourceHandler.canHandleSource=function(t,e){if(t.type)return ze.nativeSourceHandler.canPlayType(t.type);if(t.src){var r=fb(t.src);return ze.nativeSourceHandler.canPlayType("video/"+r)}return""};ze.nativeSourceHandler.handleSource=function(t,e,r){e.setSrc(t.src)};ze.nativeSourceHandler.dispose=function(){};ze.registerSourceHandler(ze.nativeSourceHandler);jt.registerTech("Html5",ze);var cR=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],vg={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},$v=["tiny","xsmall","small","medium","large","xlarge","huge"],Vf={};$v.forEach(function(t){var e=t.charAt(0)==="x"?"x-"+t.substring(1):t;Vf[t]="vjs-layout-"+e});var Ate={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},cr=function(t){$e(e,t);function e(n,i,s){var a;if(n.id=n.id||i.id||"vjs_video_"+ta(),i=Jt(e.getTagSettings(n),i),i.initChildren=!1,i.createEl=!1,i.evented=!1,i.reportTouchActivity=!1,!i.language)if(typeof n.closest=="function"){var o=n.closest("[lang]");o&&o.getAttribute&&(i.language=o.getAttribute("lang"))}else for(var l=n;l&&l.nodeType===1;){if(Yn(l).hasOwnProperty("lang")){i.language=l.getAttribute("lang");break}l=l.parentNode}if(a=t.call(this,null,i,s)||this,a.boundDocumentFullscreenChange_=function(f){return a.documentFullscreenChange_(f)},a.boundFullWindowOnEscKey_=function(f){return a.fullWindowOnEscKey(f)},a.boundUpdateStyleEl_=function(f){return a.updateStyleEl_(f)},a.boundApplyInitTime_=function(f){return a.applyInitTime_(f)},a.boundUpdateCurrentBreakpoint_=function(f){return a.updateCurrentBreakpoint_(f)},a.boundHandleTechClick_=function(f){return a.handleTechClick_(f)},a.boundHandleTechDoubleClick_=function(f){return a.handleTechDoubleClick_(f)},a.boundHandleTechTouchStart_=function(f){return a.handleTechTouchStart_(f)},a.boundHandleTechTouchMove_=function(f){return a.handleTechTouchMove_(f)},a.boundHandleTechTouchEnd_=function(f){return a.handleTechTouchEnd_(f)},a.boundHandleTechTap_=function(f){return a.handleTechTap_(f)},a.isFullscreen_=!1,a.log=aO(a.id_),a.fsApi_=Eh,a.isPosterFromTech_=!1,a.queuedCallbacks_=[],a.isReady_=!1,a.hasStarted_=!1,a.userActive_=!1,a.debugEnabled_=!1,!a.options_||!a.options_.techOrder||!a.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(a.tag=n,a.tagAttributes=n&&Yn(n),a.language(a.options_.language),i.languages){var u={};Object.getOwnPropertyNames(i.languages).forEach(function(f){u[f.toLowerCase()]=i.languages[f]}),a.languages_=u}else a.languages_=e.prototype.options_.languages;a.resetCache_(),a.poster_=i.poster||"",a.controls_=!!i.controls,n.controls=!1,n.removeAttribute("controls"),a.changingSrc_=!1,a.playCallbacks_=[],a.playTerminatedQueue_=[],n.hasAttribute("autoplay")?a.autoplay(!0):a.autoplay(a.options_.autoplay),i.plugins&&Object.keys(i.plugins).forEach(function(f){if(typeof a[f]!="function")throw new Error('plugin "'+f+'" does not exist')}),a.scrubbing_=!1,a.el_=a.createEl(),ub(st(a),{eventBusKey:"el_"}),a.fsApi_.requestFullscreen&&(Si(Fe,a.fsApi_.fullscreenchange,a.boundDocumentFullscreenChange_),a.on(a.fsApi_.fullscreenchange,a.boundDocumentFullscreenChange_)),a.fluid_&&a.on(["playerreset","resize"],a.boundUpdateStyleEl_);var c=Yt(a.options_);i.plugins&&Object.keys(i.plugins).forEach(function(f){a[f](i.plugins[f])}),i.debug&&a.debug(!0),a.options_.playerOptions=c,a.middleware_=[],a.playbackRates(i.playbackRates),a.initChildren(),a.isAudio(n.nodeName.toLowerCase()==="audio"),a.controls()?a.addClass("vjs-controls-enabled"):a.addClass("vjs-controls-disabled"),a.el_.setAttribute("role","region"),a.isAudio()?a.el_.setAttribute("aria-label",a.localize("Audio Player")):a.el_.setAttribute("aria-label",a.localize("Video Player")),a.isAudio()&&a.addClass("vjs-audio"),a.flexNotSupported_()&&a.addClass("vjs-no-flex"),pl&&a.addClass("vjs-touch-enabled"),Jr||a.addClass("vjs-workinghover"),e.players[a.id_]=st(a);var d=iO.split(".")[0];return a.addClass("vjs-v"+d),a.userActive(!0),a.reportUserActivity(),a.one("play",function(f){return a.listenForUserActivity_(f)}),a.on("stageclick",function(f){return a.handleStageClick_(f)}),a.on("keydown",function(f){return a.handleKeyDown(f)}),a.on("languagechange",function(f){return a.handleLanguagechange(f)}),a.breakpoints(a.options_.breakpoints),a.responsive(a.options_.responsive),a}var r=e.prototype;return r.dispose=function(){var i=this;this.trigger("dispose"),this.off("dispose"),Mr(Fe,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),Mr(Fe,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),e.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),Kee(this),Yr.names.forEach(function(s){var a=Yr[s],o=i[a.getterName]();o&&o.off&&o.off()}),t.prototype.dispose.call(this)},r.createEl=function(){var i=this.tag,s,a=this.playerElIngest_=i.parentNode&&i.parentNode.hasAttribute&&i.parentNode.hasAttribute("data-vjs-player"),o=this.tag.tagName.toLowerCase()==="video-js";a?s=this.el_=i.parentNode:o||(s=this.el_=t.prototype.createEl.call(this,"div"));var l=Yn(i);if(o){for(s=this.el_=i,i=this.tag=Fe.createElement("video");s.children.length;)i.appendChild(s.firstChild);ja(s,"video-js")||is(s,"video-js"),s.appendChild(i),a=this.playerElIngest_=s,Object.keys(s).forEach(function(m){try{i[m]=s[m]}catch{}})}if(i.setAttribute("tabindex","-1"),l.tabindex="-1",(ud||ms&&fO)&&(i.setAttribute("role","application"),l.role="application"),i.removeAttribute("width"),i.removeAttribute("height"),"width"in l&&delete l.width,"height"in l&&delete l.height,Object.getOwnPropertyNames(l).forEach(function(m){o&&m==="class"||s.setAttribute(m,l[m]),o&&i.setAttribute(m,l[m])}),i.playerId=i.id,i.id+="_html5_api",i.className="vjs-tech",i.player=s.player=this,this.addClass("vjs-paused"),J.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=PO("vjs-styles-dimensions");var u=Gs(".vjs-styles-defaults"),c=Gs("head");c.insertBefore(this.styleEl_,u?u.nextSibling:c.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);for(var d=i.getElementsByTagName("a"),f=0;f<d.length;f++){var h=d.item(f);is(h,"vjs-hidden"),h.setAttribute("hidden","hidden")}return i.initNetworkState_=i.networkState,i.parentNode&&!a&&i.parentNode.insertBefore(s,i),Rv(i,s),this.children_.unshift(i),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=s,s},r.crossOrigin=function(i){if(!i)return this.techGet_("crossOrigin");if(i!=="anonymous"&&i!=="use-credentials"){ht.warn('crossOrigin must be "anonymous" or "use-credentials", given "'+i+'"');return}this.techCall_("setCrossOrigin",i)},r.width=function(i){return this.dimension("width",i)},r.height=function(i){return this.dimension("height",i)},r.dimension=function(i,s){var a=i+"_";if(s===void 0)return this[a]||0;if(s===""||s==="auto"){this[a]=void 0,this.updateStyleEl_();return}var o=parseFloat(s);if(isNaN(o)){ht.error('Improper value "'+s+'" supplied for for '+i);return}this[a]=o,this.updateStyleEl_()},r.fluid=function(i){var s=this;if(i===void 0)return!!this.fluid_;this.fluid_=!!i,ns(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),i?(this.addClass("vjs-fluid"),this.fill(!1),_ee(this,function(){s.on(["playerreset","resize"],s.boundUpdateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()},r.fill=function(i){if(i===void 0)return!!this.fill_;this.fill_=!!i,i?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},r.aspectRatio=function(i){if(i===void 0)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(i))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=i,this.fluid(!0),this.updateStyleEl_()},r.updateStyleEl_=function(){if(J.VIDEOJS_NO_DYNAMIC_STYLE===!0){var i=typeof this.width_=="number"?this.width_:this.options_.width,s=typeof this.height_=="number"?this.height_:this.options_.height,a=this.tech_&&this.tech_.el();a&&(i>=0&&(a.width=i),s>=0&&(a.height=s));return}var o,l,u,c;this.aspectRatio_!==void 0&&this.aspectRatio_!=="auto"?u=this.aspectRatio_:this.videoWidth()>0?u=this.videoWidth()+":"+this.videoHeight():u="16:9";var d=u.split(":"),f=d[1]/d[0];this.width_!==void 0?o=this.width_:this.height_!==void 0?o=this.height_/f:o=this.videoWidth()||300,this.height_!==void 0?l=this.height_:l=o*f,/^[^a-zA-Z]/.test(this.id())?c="dimensions-"+this.id():c=this.id()+"-dimensions",this.addClass(c),DO(this.styleEl_,`
      .`+c+` {
        width: `+o+`px;
        height: `+l+`px;
      }

      .`+c+`.vjs-fluid {
        padding-top: `+f*100+`%;
      }
    `)},r.loadTech_=function(i,s){var a=this;this.tech_&&this.unloadTech_();var o=nr(i),l=i.charAt(0).toLowerCase()+i.slice(1);o!=="Html5"&&this.tag&&(jt.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=o,this.isReady_=!1;var u=this.autoplay();(typeof this.autoplay()=="string"||this.autoplay()===!0&&this.options_.normalizeAutoplay)&&(u=!1);var c={source:s,autoplay:u,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+l+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};Yr.names.forEach(function(f){var h=Yr[f];c[h.getterName]=a[h.privateName]}),Jt(c,this.options_[o]),Jt(c,this.options_[l]),Jt(c,this.options_[i.toLowerCase()]),this.tag&&(c.tag=this.tag),s&&s.src===this.cache_.src&&this.cache_.currentTime>0&&(c.startTime=this.cache_.currentTime);var d=jt.getTech(i);if(!d)throw new Error("No Tech named '"+o+"' exists! '"+o+"' should be registered using videojs.registerTech()'");this.tech_=new d(c),this.tech_.ready($t(this,this.handleTechReady_),!0),hE.jsonToTextTracks(this.textTracksJson_||[],this.tech_),cR.forEach(function(f){a.on(a.tech_,f,function(h){return a["handleTech"+nr(f)+"_"](h)})}),Object.keys(vg).forEach(function(f){a.on(a.tech_,f,function(h){if(a.tech_.playbackRate()===0&&a.tech_.seeking()){a.queuedCallbacks_.push({callback:a["handleTech"+vg[f]+"_"].bind(a),event:h});return}a["handleTech"+vg[f]+"_"](h)})}),this.on(this.tech_,"loadstart",function(f){return a.handleTechLoadStart_(f)}),this.on(this.tech_,"sourceset",function(f){return a.handleTechSourceset_(f)}),this.on(this.tech_,"waiting",function(f){return a.handleTechWaiting_(f)}),this.on(this.tech_,"ended",function(f){return a.handleTechEnded_(f)}),this.on(this.tech_,"seeking",function(f){return a.handleTechSeeking_(f)}),this.on(this.tech_,"play",function(f){return a.handleTechPlay_(f)}),this.on(this.tech_,"firstplay",function(f){return a.handleTechFirstPlay_(f)}),this.on(this.tech_,"pause",function(f){return a.handleTechPause_(f)}),this.on(this.tech_,"durationchange",function(f){return a.handleTechDurationChange_(f)}),this.on(this.tech_,"fullscreenchange",function(f,h){return a.handleTechFullscreenChange_(f,h)}),this.on(this.tech_,"fullscreenerror",function(f,h){return a.handleTechFullscreenError_(f,h)}),this.on(this.tech_,"enterpictureinpicture",function(f){return a.handleTechEnterPictureInPicture_(f)}),this.on(this.tech_,"leavepictureinpicture",function(f){return a.handleTechLeavePictureInPicture_(f)}),this.on(this.tech_,"error",function(f){return a.handleTechError_(f)}),this.on(this.tech_,"posterchange",function(f){return a.handleTechPosterChange_(f)}),this.on(this.tech_,"textdata",function(f){return a.handleTechTextData_(f)}),this.on(this.tech_,"ratechange",function(f){return a.handleTechRateChange_(f)}),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode!==this.el()&&(o!=="Html5"||!this.tag)&&Rv(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},r.unloadTech_=function(){var i=this;Yr.names.forEach(function(s){var a=Yr[s];i[a.privateName]=i[a.getterName]()}),this.textTracksJson_=hE.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},r.tech=function(i){return i===void 0&&ht.warn(`Using the tech directly can be dangerous. I hope you know what you're doing.
See https://github.com/videojs/video.js/issues/2617 for more info.
`),this.tech_},r.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)},r.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)},r.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},r.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay()===!0&&this.options_.normalizeAutoplay?"play":this.autoplay())},r.manualAutoplay_=function(i){var s=this;if(!(!this.tech_||typeof i!="string")){var a=function(){var u=s.muted();s.muted(!0);var c=function(){s.muted(u)};s.playTerminatedQueue_.push(c);var d=s.play();if(!!lc(d))return d.catch(function(f){throw c(),new Error("Rejection at manualAutoplay. Restoring muted value. "+(f||""))})},o;if(i==="any"&&!this.muted()?(o=this.play(),lc(o)&&(o=o.catch(a))):i==="muted"&&!this.muted()?o=a():o=this.play(),!!lc(o))return o.then(function(){s.trigger({type:"autoplay-success",autoplay:i})}).catch(function(){s.trigger({type:"autoplay-failure",autoplay:i})})}},r.updateSourceCaches_=function(i){i===void 0&&(i="");var s=i,a="";typeof s!="string"&&(s=i.src,a=i.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],s&&!a&&(a=Jee(this,s)),this.cache_.source=Yt({},i,{src:s,type:a});for(var o=this.cache_.sources.filter(function(h){return h.src&&h.src===s}),l=[],u=this.$$("source"),c=[],d=0;d<u.length;d++){var f=Yn(u[d]);l.push(f),f.src&&f.src===s&&c.push(f.src)}c.length&&!o.length?this.cache_.sources=l:o.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=s},r.handleTechSourceset_=function(i){var s=this;if(!this.changingSrc_){var a=function(c){return s.updateSourceCaches_(c)},o=this.currentSource().src,l=i.src;o&&!/^blob:/.test(o)&&/^blob:/.test(l)&&(!this.lastSource_||this.lastSource_.tech!==l&&this.lastSource_.player!==o)&&(a=function(){}),a(l),i.src||this.tech_.any(["sourceset","loadstart"],function(u){if(u.type!=="sourceset"){var c=s.techGet("currentSrc");s.lastSource_.tech=c,s.updateSourceCaches_(c)}})}this.lastSource_={player:this.currentSource().src,tech:i.src},this.trigger({src:i.src,type:"sourceset"})},r.hasStarted=function(i){if(i===void 0)return this.hasStarted_;i!==this.hasStarted_&&(this.hasStarted_=i,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},r.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},r.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0&&(this.queuedCallbacks_.forEach(function(i){return i.callback(i.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},r.handleTechWaiting_=function(){var i=this;this.addClass("vjs-waiting"),this.trigger("waiting");var s=this.currentTime(),a=function o(){s!==i.currentTime()&&(i.removeClass("vjs-waiting"),i.off("timeupdate",o))};this.on("timeupdate",a)},r.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},r.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},r.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},r.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},r.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},r.handleTechFirstPlay_=function(){this.options_.starttime&&(ht.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},r.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},r.handleTechEnded_=function(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},r.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},r.handleTechClick_=function(i){!this.controls_||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.click===void 0||this.options_.userActions.click!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.click=="function"?this.options_.userActions.click.call(this,i):this.paused()?Tn(this.play()):this.pause())},r.handleTechDoubleClick_=function(i){if(!!this.controls_){var s=Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),function(a){return a.contains(i.target)});s||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.doubleClick===void 0||this.options_.userActions.doubleClick!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.doubleClick=="function"?this.options_.userActions.doubleClick.call(this,i):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}},r.handleTechTap_=function(){this.userActive(!this.userActive())},r.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},r.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},r.handleTechTouchEnd_=function(i){i.cancelable&&i.preventDefault()},r.handleStageClick_=function(){this.reportUserActivity()},r.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},r.documentFullscreenChange_=function(i){var s=i.target.player;if(!(s&&s!==this)){var a=this.el(),o=Fe[this.fsApi_.fullscreenElement]===a;!o&&a.matches?o=a.matches(":"+this.fsApi_.fullscreen):!o&&a.msMatchesSelector&&(o=a.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(o)}},r.handleTechFullscreenChange_=function(i,s){var a=this;s&&(s.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",function(){a.removeClass("vjs-ios-native-fs")})),this.isFullscreen(s.isFullscreen))},r.handleTechFullscreenError_=function(i,s){this.trigger("fullscreenerror",s)},r.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},r.handleTechEnterPictureInPicture_=function(i){this.isInPictureInPicture(!0)},r.handleTechLeavePictureInPicture_=function(i){this.isInPictureInPicture(!1)},r.handleTechError_=function(){var i=this.tech_.error();this.error(i)},r.handleTechTextData_=function(){var i=null;arguments.length>1&&(i=arguments[1]),this.trigger("textdata",i)},r.getCache=function(){return this.cache_},r.resetCache_=function(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}},r.techCall_=function(i,s){this.ready(function(){if(i in Gee)return Wee(this.middleware_,this.tech_,i,s);if(i in bE)return yE(this.middleware_,this.tech_,i,s);try{this.tech_&&this.tech_[i](s)}catch(a){throw ht(a),a}},!0)},r.techGet_=function(i){if(!(!this.tech_||!this.tech_.isReady_)){if(i in Yee)return zee(this.middleware_,this.tech_,i);if(i in bE)return yE(this.middleware_,this.tech_,i);try{return this.tech_[i]()}catch(s){throw this.tech_[i]===void 0?(ht("Video.js: "+i+" method not defined for "+this.techName_+" playback technology.",s),s):s.name==="TypeError"?(ht("Video.js: "+i+" unavailable on "+this.techName_+" playback technology element.",s),this.tech_.isReady_=!1,s):(ht(s),s)}}},r.play=function(){var i=this,s=this.options_.Promise||J.Promise;return s?new s(function(a){i.play_(a)}):this.play_()},r.play_=function(i){var s=this;i===void 0&&(i=Tn),this.playCallbacks_.push(i);var a=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc()));if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!a){this.waitToPlay_=function(l){s.play_()},this.one(["ready","loadstart"],this.waitToPlay_),!a&&(Up||Jr)&&this.load();return}var o=this.techGet_("play");o===null?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(o)},r.runPlayTerminatedQueue_=function(){var i=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],i.forEach(function(s){s()})},r.runPlayCallbacks_=function(i){var s=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],s.forEach(function(a){a(i)})},r.pause=function(){this.techCall_("pause")},r.paused=function(){return this.techGet_("paused")!==!1},r.played=function(){return this.techGet_("played")||Va(0,0)},r.scrubbing=function(i){if(typeof i=="undefined")return this.scrubbing_;this.scrubbing_=!!i,this.techCall_("setScrubbing",this.scrubbing_),i?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},r.currentTime=function(i){if(typeof i!="undefined"){if(i<0&&(i=0),!this.isReady_||this.changingSrc_||!this.tech_||!this.tech_.isReady_){this.cache_.initTime=i,this.off("canplay",this.boundApplyInitTime_),this.one("canplay",this.boundApplyInitTime_);return}this.techCall_("setCurrentTime",i),this.cache_.initTime=0;return}return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime},r.applyInitTime_=function(){this.currentTime(this.cache_.initTime)},r.duration=function(i){if(i===void 0)return this.cache_.duration!==void 0?this.cache_.duration:NaN;i=parseFloat(i),i<0&&(i=1/0),i!==this.cache_.duration&&(this.cache_.duration=i,i===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(i)||this.trigger("durationchange"))},r.remainingTime=function(){return this.duration()-this.currentTime()},r.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},r.buffered=function(){var i=this.techGet_("buffered");return(!i||!i.length)&&(i=Va(0,0)),i},r.bufferedPercent=function(){return MO(this.buffered(),this.duration())},r.bufferedEnd=function(){var i=this.buffered(),s=this.duration(),a=i.end(i.length-1);return a>s&&(a=s),a},r.volume=function(i){var s;if(i!==void 0){s=Math.max(0,Math.min(1,parseFloat(i))),this.cache_.volume=s,this.techCall_("setVolume",s),s>0&&this.lastVolume_(s);return}return s=parseFloat(this.techGet_("volume")),isNaN(s)?1:s},r.muted=function(i){if(i!==void 0){this.techCall_("setMuted",i);return}return this.techGet_("muted")||!1},r.defaultMuted=function(i){return i!==void 0?this.techCall_("setDefaultMuted",i):this.techGet_("defaultMuted")||!1},r.lastVolume_=function(i){if(i!==void 0&&i!==0){this.cache_.lastVolume=i;return}return this.cache_.lastVolume},r.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},r.isFullscreen=function(i){if(i!==void 0){var s=this.isFullscreen_;this.isFullscreen_=Boolean(i),this.isFullscreen_!==s&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),this.toggleFullscreenClass_();return}return this.isFullscreen_},r.requestFullscreen=function(i){var s=this.options_.Promise||J.Promise;if(s){var a=this;return new s(function(o,l){function u(){a.off("fullscreenerror",d),a.off("fullscreenchange",c)}function c(){u(),o()}function d(h,m){u(),l(m)}a.one("fullscreenchange",c),a.one("fullscreenerror",d);var f=a.requestFullscreenHelper_(i);f&&(f.then(u,u),f.then(o,l))})}return this.requestFullscreenHelper_()},r.requestFullscreenHelper_=function(i){var s=this,a;if(this.fsApi_.prefixed||(a=this.options_.fullscreen&&this.options_.fullscreen.options||{},i!==void 0&&(a=i)),this.fsApi_.requestFullscreen){var o=this.el_[this.fsApi_.requestFullscreen](a);return o&&o.then(function(){return s.isFullscreen(!0)},function(){return s.isFullscreen(!1)}),o}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()},r.exitFullscreen=function(){var i=this.options_.Promise||J.Promise;if(i){var s=this;return new i(function(a,o){function l(){s.off("fullscreenerror",c),s.off("fullscreenchange",u)}function u(){l(),a()}function c(f,h){l(),o(h)}s.one("fullscreenchange",u),s.one("fullscreenerror",c);var d=s.exitFullscreenHelper_();d&&(d.then(l,l),d.then(a,o))})}return this.exitFullscreenHelper_()},r.exitFullscreenHelper_=function(){var i=this;if(this.fsApi_.requestFullscreen){var s=Fe[this.fsApi_.exitFullscreen]();return s&&Tn(s.then(function(){return i.isFullscreen(!1)})),s}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()},r.enterFullWindow=function(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=Fe.documentElement.style.overflow,Si(Fe,"keydown",this.boundFullWindowOnEscKey_),Fe.documentElement.style.overflow="hidden",is(Fe.body,"vjs-full-window"),this.trigger("enterFullWindow")},r.fullWindowOnEscKey=function(i){ot.isEventKey(i,"Esc")&&this.isFullscreen()===!0&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())},r.exitFullWindow=function(){this.isFullscreen(!1),this.isFullWindow=!1,Mr(Fe,"keydown",this.boundFullWindowOnEscKey_),Fe.documentElement.style.overflow=this.docOrigOverflow,cd(Fe.body,"vjs-full-window"),this.trigger("exitFullWindow")},r.disablePictureInPicture=function(i){if(i===void 0)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",i),this.options_.disablePictureInPicture=i,this.trigger("disablepictureinpicturechanged")},r.isInPictureInPicture=function(i){if(i!==void 0){this.isInPictureInPicture_=!!i,this.togglePictureInPictureClass_();return}return!!this.isInPictureInPicture_},r.requestPictureInPicture=function(){if("pictureInPictureEnabled"in Fe&&this.disablePictureInPicture()===!1)return this.techGet_("requestPictureInPicture")},r.exitPictureInPicture=function(){if("pictureInPictureEnabled"in Fe)return Fe.exitPictureInPicture()},r.handleKeyDown=function(i){var s=this.options_.userActions;if(!(!s||!s.hotkeys)){var a=function(l){var u=l.tagName.toLowerCase();if(l.isContentEditable)return!0;var c=["button","checkbox","hidden","radio","reset","submit"];if(u==="input")return c.indexOf(l.type)===-1;var d=["textarea"];return d.indexOf(u)!==-1};a(this.el_.ownerDocument.activeElement)||(typeof s.hotkeys=="function"?s.hotkeys.call(this,i):this.handleHotkeys(i))}},r.handleHotkeys=function(i){var s=this.options_.userActions?this.options_.userActions.hotkeys:{},a=s.fullscreenKey,o=a===void 0?function(g){return ot.isEventKey(g,"f")}:a,l=s.muteKey,u=l===void 0?function(g){return ot.isEventKey(g,"m")}:l,c=s.playPauseKey,d=c===void 0?function(g){return ot.isEventKey(g,"k")||ot.isEventKey(g,"Space")}:c;if(o.call(this,i)){i.preventDefault(),i.stopPropagation();var f=Oe.getComponent("FullscreenToggle");Fe[this.fsApi_.fullscreenEnabled]!==!1&&f.prototype.handleClick.call(this,i)}else if(u.call(this,i)){i.preventDefault(),i.stopPropagation();var h=Oe.getComponent("MuteToggle");h.prototype.handleClick.call(this,i)}else if(d.call(this,i)){i.preventDefault(),i.stopPropagation();var m=Oe.getComponent("PlayToggle");m.prototype.handleClick.call(this,i)}},r.canPlayType=function(i){for(var s,a=0,o=this.options_.techOrder;a<o.length;a++){var l=o[a],u=jt.getTech(l);if(u||(u=Oe.getComponent(l)),!u){ht.error('The "'+l+'" tech is undefined. Skipped browser support check for that tech.');continue}if(u.isSupported()&&(s=u.canPlayType(i),s))return s}return""},r.selectSource=function(i){var s=this,a=this.options_.techOrder.map(function(d){return[d,jt.getTech(d)]}).filter(function(d){var f=d[0],h=d[1];return h?h.isSupported():(ht.error('The "'+f+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),o=function(f,h,m){var g;return f.some(function(v){return h.some(function(x){if(g=m(v,x),g)return!0})}),g},l,u=function(f){return function(h,m){return f(m,h)}},c=function(f,h){var m=f[0],g=f[1];if(g.canPlaySource(h,s.options_[m.toLowerCase()]))return{source:h,tech:m}};return this.options_.sourceOrder?l=o(i,a,u(c)):l=o(a,i,c),l||!1},r.handleSrc_=function(i,s){var a=this;if(typeof i=="undefined")return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();var o=Zee(i);if(!o.length){this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0);return}if(this.changingSrc_=!0,s||(this.cache_.sources=o),this.updateSourceCaches_(o[0]),Vee(this,o[0],function(c,d){a.middleware_=d,s||(a.cache_.sources=o),a.updateSourceCaches_(c);var f=a.src_(c);if(f){if(o.length>1)return a.handleSrc_(o.slice(1));a.changingSrc_=!1,a.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),a.triggerReady();return}Hee(d,a.tech_)}),this.options_.retryOnError&&o.length>1){var l=function(){a.error(null),a.handleSrc_(o.slice(1),!0)},u=function(){a.off("error",l)};this.one("error",l),this.one("playing",u),this.resetRetryOnError_=function(){a.off("error",l),a.off("playing",u)}}},r.src=function(i){return this.handleSrc_(i,!1)},r.src_=function(i){var s=this,a=this.selectSource([i]);return a?See(a.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",i):this.techCall_("src",i.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(a.tech,a.source),this.tech_.ready(function(){s.changingSrc_=!1}),!1):!0},r.load=function(){this.techCall_("load")},r.reset=function(){var i=this,s=this.options_.Promise||J.Promise;if(this.paused()||!s)this.doReset_();else{var a=this.play();Tn(a.then(function(){return i.doReset_()}))}},r.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),ns(this)&&this.trigger("playerreset")},r.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},r.resetProgressBar_=function(){this.currentTime(0);var i=this.controlBar,s=i.durationDisplay,a=i.remainingTimeDisplay;s&&s.updateContent(),a&&a.updateContent()},r.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},r.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},r.currentSources=function(){var i=this.currentSource(),s=[];return Object.keys(i).length!==0&&s.push(i),this.cache_.sources||s},r.currentSource=function(){return this.cache_.source||{}},r.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},r.currentType=function(){return this.currentSource()&&this.currentSource().type||""},r.preload=function(i){if(i!==void 0){this.techCall_("setPreload",i),this.options_.preload=i;return}return this.techGet_("preload")},r.autoplay=function(i){if(i===void 0)return this.options_.autoplay||!1;var s;typeof i=="string"&&/(any|play|muted)/.test(i)||i===!0&&this.options_.normalizeAutoplay?(this.options_.autoplay=i,this.manualAutoplay_(typeof i=="string"?i:"play"),s=!1):i?this.options_.autoplay=!0:this.options_.autoplay=!1,s=typeof s=="undefined"?this.options_.autoplay:s,this.tech_&&this.techCall_("setAutoplay",s)},r.playsinline=function(i){return i!==void 0?(this.techCall_("setPlaysinline",i),this.options_.playsinline=i,this):this.techGet_("playsinline")},r.loop=function(i){if(i!==void 0){this.techCall_("setLoop",i),this.options_.loop=i;return}return this.techGet_("loop")},r.poster=function(i){if(i===void 0)return this.poster_;i||(i=""),i!==this.poster_&&(this.poster_=i,this.techCall_("setPoster",i),this.isPosterFromTech_=!1,this.trigger("posterchange"))},r.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var i=this.tech_.poster()||"";i!==this.poster_&&(this.poster_=i,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},r.controls=function(i){if(i===void 0)return!!this.controls_;i=!!i,this.controls_!==i&&(this.controls_=i,this.usingNativeControls()&&this.techCall_("setControls",i),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},r.usingNativeControls=function(i){if(i===void 0)return!!this.usingNativeControls_;i=!!i,this.usingNativeControls_!==i&&(this.usingNativeControls_=i,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},r.error=function(i){var s=this;if(i===void 0)return this.error_||null;if(Ys("beforeerror").forEach(function(o){var l=o(s,i);if(!(us(l)&&!Array.isArray(l)||typeof l=="string"||typeof l=="number"||l===null)){s.log.error("please return a value that MediaError expects in beforeerror hooks");return}i=l}),this.options_.suppressNotSupportedError&&i&&i.code===4){var a=function(){this.error(i)};this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],a),this.one("loadstart",function(){this.off(["click","touchstart"],a)});return}if(i===null){this.error_=i,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close();return}this.error_=new Xr(i),this.addClass("vjs-error"),ht.error("(CODE:"+this.error_.code+" "+Xr.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error"),Ys("error").forEach(function(o){return o(s,s.error_)})},r.reportUserActivity=function(i){this.userActivity_=!0},r.userActive=function(i){if(i===void 0)return this.userActive_;if(i=!!i,i!==this.userActive_){if(this.userActive_=i,this.userActive_){this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive");return}this.tech_&&this.tech_.one("mousemove",function(s){s.stopPropagation(),s.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},r.listenForUserActivity_=function(){var i,s,a,o=$t(this,this.reportUserActivity),l=function(m){(m.screenX!==s||m.screenY!==a)&&(s=m.screenX,a=m.screenY,o())},u=function(){o(),this.clearInterval(i),i=this.setInterval(o,250)},c=function(m){o(),this.clearInterval(i)};this.on("mousedown",u),this.on("mousemove",l),this.on("mouseup",c),this.on("mouseleave",c);var d=this.getChild("controlBar");d&&!Jr&&!ps&&(d.on("mouseenter",function(h){this.player().options_.inactivityTimeout!==0&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),d.on("mouseleave",function(h){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",o),this.on("keyup",o);var f;this.setInterval(function(){if(!!this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(f);var h=this.options_.inactivityTimeout;h<=0||(f=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},h))}},250)},r.playbackRate=function(i){if(i!==void 0){this.techCall_("setPlaybackRate",i);return}return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1},r.defaultPlaybackRate=function(i){return i!==void 0?this.techCall_("setDefaultPlaybackRate",i):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},r.isAudio=function(i){if(i!==void 0){this.isAudio_=!!i;return}return!!this.isAudio_},r.addTextTrack=function(i,s,a){if(this.tech_)return this.tech_.addTextTrack(i,s,a)},r.addRemoteTextTrack=function(i,s){if(this.tech_)return this.tech_.addRemoteTextTrack(i,s)},r.removeRemoteTextTrack=function(i){i===void 0&&(i={});var s=i,a=s.track;if(a||(a=i),this.tech_)return this.tech_.removeRemoteTextTrack(a)},r.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},r.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},r.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},r.language=function(i){if(i===void 0)return this.language_;this.language_!==String(i).toLowerCase()&&(this.language_=String(i).toLowerCase(),ns(this)&&this.trigger("languagechange"))},r.languages=function(){return Yt(e.prototype.options_.languages,this.languages_)},r.toJSON=function(){var i=Yt(this.options_),s=i.tracks;i.tracks=[];for(var a=0;a<s.length;a++){var o=s[a];o=Yt(o),o.player=void 0,i.tracks[a]=o}return i},r.createModal=function(i,s){var a=this;s=s||{},s.content=i||"";var o=new Gl(this,s);return this.addChild(o),o.on("dispose",function(){a.removeChild(o)}),o.open(),o},r.updateCurrentBreakpoint_=function(){if(!!this.responsive())for(var i=this.currentBreakpoint(),s=this.currentWidth(),a=0;a<$v.length;a++){var o=$v[a],l=this.breakpoints_[o];if(s<=l){if(i===o)return;i&&this.removeClass(Vf[i]),this.addClass(Vf[o]),this.breakpoint_=o;break}}},r.removeCurrentBreakpoint_=function(){var i=this.currentBreakpointClass();this.breakpoint_="",i&&this.removeClass(i)},r.breakpoints=function(i){return i===void 0?Jt(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=Jt({},Ate,i),this.updateCurrentBreakpoint_(),Jt(this.breakpoints_))},r.responsive=function(i){if(i===void 0)return this.responsive_;i=Boolean(i);var s=this.responsive_;if(i!==s)return this.responsive_=i,i?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),i},r.currentBreakpoint=function(){return this.breakpoint_},r.currentBreakpointClass=function(){return Vf[this.breakpoint_]||""},r.loadMedia=function(i,s){var a=this;if(!(!i||typeof i!="object")){this.reset(),this.cache_.media=Yt(i);var o=this.cache_.media,l=o.artwork,u=o.poster,c=o.src,d=o.textTracks;!l&&u&&(this.cache_.media.artwork=[{src:u,type:Ph(u)}]),c&&this.src(c),u&&this.poster(u),Array.isArray(d)&&d.forEach(function(f){return a.addRemoteTextTrack(f,!1)}),this.ready(s)}},r.getMedia=function(){if(!this.cache_.media){var i=this.poster(),s=this.currentSources(),a=Array.prototype.map.call(this.remoteTextTracks(),function(l){return{kind:l.kind,label:l.label,language:l.language,src:l.src}}),o={src:s,textTracks:a};return i&&(o.poster=i,o.artwork=[{src:o.poster,type:Ph(o.poster)}]),o}return Yt(this.cache_.media)},e.getTagSettings=function(i){var s={sources:[],tracks:[]},a=Yn(i),o=a["data-setup"];if(ja(i,"vjs-fill")&&(a.fill=!0),ja(i,"vjs-fluid")&&(a.fluid=!0),o!==null){var l=mQ(o||"{}"),u=l[0],c=l[1];u&&ht.error(u),Jt(a,c)}if(Jt(s,a),i.hasChildNodes())for(var d=i.childNodes,f=0,h=d.length;f<h;f++){var m=d[f],g=m.nodeName.toLowerCase();g==="source"?s.sources.push(Yn(m)):g==="track"&&s.tracks.push(Yn(m))}return s},r.flexNotSupported_=function(){var i=Fe.createElement("i");return!("flexBasis"in i.style||"webkitFlexBasis"in i.style||"mozFlexBasis"in i.style||"msFlexBasis"in i.style||"msFlexOrder"in i.style)},r.debug=function(i){if(i===void 0)return this.debugEnabled_;i?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)},r.playbackRates=function(i){if(i===void 0)return this.cache_.playbackRates;!Array.isArray(i)||!i.every(function(s){return typeof s=="number"})||(this.cache_.playbackRates=i,this.trigger("playbackrateschange"))},e}(Oe);Yr.names.forEach(function(t){var e=Yr[t];cr.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}});cr.prototype.crossorigin=cr.prototype.crossOrigin;cr.players={};var xu=J.navigator;cr.prototype.options_={techOrder:jt.defaultTechOrder_,html5:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:xu&&(xu.languages&&xu.languages[0]||xu.userLanguage||xu.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1};["ended","seeking","seekable","networkState","readyState"].forEach(function(t){cr.prototype[t]=function(){return this.techGet_(t)}});cR.forEach(function(t){cr.prototype["handleTech"+nr(t)+"_"]=function(){return this.trigger(t)}});Oe.registerComponent("Player",cr);var Oh="plugin",Xo="activePlugins_",Ho={},Rh=function(e){return Ho.hasOwnProperty(e)},Hf=function(e){return Rh(e)?Ho[e]:void 0},dR=function(e,r){e[Xo]=e[Xo]||{},e[Xo][r]=!0},kh=function(e,r,n){var i=(n?"before":"")+"pluginsetup";e.trigger(i,r),e.trigger(i+":"+r.name,r)},Ote=function(e,r){var n=function(){kh(this,{name:e,plugin:r,instance:null},!0);var s=r.apply(this,arguments);return dR(this,e),kh(this,{name:e,plugin:r,instance:s}),s};return Object.keys(r).forEach(function(i){n[i]=r[i]}),n},IE=function(e,r){return r.prototype.name=e,function(){kh(this,{name:e,plugin:r,instance:null},!0);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];var a=Bf(r,[this].concat(i));return this[e]=function(){return a},kh(this,a.getEventHash()),a}},Rn=function(){function t(r){if(this.constructor===t)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=r,this.log||(this.log=this.player.log.createLogger(this.name)),ub(this),delete this.trigger,IO(this,this.constructor.defaultState),dR(r,this.name),this.dispose=this.dispose.bind(this),r.on("dispose",this.dispose)}var e=t.prototype;return e.version=function(){return this.constructor.VERSION},e.getEventHash=function(n){return n===void 0&&(n={}),n.name=this.name,n.plugin=this.constructor,n.instance=this,n},e.trigger=function(n,i){return i===void 0&&(i={}),Yl(this.eventBusEl_,n,this.getEventHash(i))},e.handleStateChanged=function(n){},e.dispose=function(){var n=this.name,i=this.player;this.trigger("dispose"),this.off(),i.off("dispose",this.dispose),i[Xo][n]=!1,this.player=this.state=null,i[n]=IE(n,Ho[n])},t.isBasic=function(n){var i=typeof n=="string"?Hf(n):n;return typeof i=="function"&&!t.prototype.isPrototypeOf(i.prototype)},t.registerPlugin=function(n,i){if(typeof n!="string")throw new Error('Illegal plugin name, "'+n+'", must be a string, was '+typeof n+".");if(Rh(n))ht.warn('A plugin named "'+n+'" already exists. You may want to avoid re-registering plugins!');else if(cr.prototype.hasOwnProperty(n))throw new Error('Illegal plugin name, "'+n+'", cannot share a name with an existing player method!');if(typeof i!="function")throw new Error('Illegal plugin for "'+n+'", must be a function, was '+typeof i+".");return Ho[n]=i,n!==Oh&&(t.isBasic(i)?cr.prototype[n]=Ote(n,i):cr.prototype[n]=IE(n,i)),i},t.deregisterPlugin=function(n){if(n===Oh)throw new Error("Cannot de-register base plugin.");Rh(n)&&(delete Ho[n],delete cr.prototype[n])},t.getPlugins=function(n){n===void 0&&(n=Object.keys(Ho));var i;return n.forEach(function(s){var a=Hf(s);a&&(i=i||{},i[s]=a)}),i},t.getPluginVersion=function(n){var i=Hf(n);return i&&i.VERSION||""},t}();Rn.getPlugin=Hf;Rn.BASE_PLUGIN_NAME=Oh;Rn.registerPlugin(Oh,Rn);cr.prototype.usingPlugin=function(t){return!!this[Xo]&&this[Xo][t]===!0};cr.prototype.hasPlugin=function(t){return!!Rh(t)};var Rte=function(e,r){r===void 0&&(r={});var n=function(){e.apply(this,arguments)},i={};typeof r=="object"?(r.constructor!==Object.prototype.constructor&&(n=r.constructor),i=r):typeof r=="function"&&(n=r),iJ(n,e),e&&(n.super_=e);for(var s in i)i.hasOwnProperty(s)&&(n.prototype[s]=i[s]);return n},fR=function(e){return e.indexOf("#")===0?e.slice(1):e};function le(t,e,r){var n=le.getPlayer(t);if(n)return e&&ht.warn('Player "'+t+'" is already initialised. Options will not be applied.'),r&&n.ready(r),n;var i=typeof t=="string"?Gs("#"+fR(t)):t;if(!Wl(i))throw new TypeError("The element or ID supplied is not valid. (videojs)");(!i.ownerDocument.defaultView||!i.ownerDocument.body.contains(i))&&ht.warn("The element supplied is not included in the DOM"),e=e||{},Ys("beforesetup").forEach(function(a){var o=a(i,Yt(e));if(!us(o)||Array.isArray(o)){ht.error("please return an object in beforesetup hooks");return}e=Yt(e,o)});var s=Oe.getComponent("Player");return n=new s(i,e,r),Ys("setup").forEach(function(a){return a(n)}),n}le.hooks_=qn;le.hooks=Ys;le.hook=nee;le.hookOnce=see;le.removeHook=nO;if(J.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&zl()){var of=Gs(".vjs-styles-defaults");if(!of){of=PO("vjs-styles-defaults");var yg=Gs("head");yg&&yg.insertBefore(of,yg.firstChild),DO(of,`
      .video-js {
        width: 300px;
        height: 150px;
      }

      .vjs-fluid {
        padding-top: 56.25%
      }
    `)}}Iv(1,le);le.VERSION=iO;le.options=cr.prototype.options_;le.getPlayers=function(){return cr.players};le.getPlayer=function(t){var e=cr.players,r;if(typeof t=="string"){var n=fR(t),i=e[n];if(i)return i;r=Gs("#"+n)}else r=t;if(Wl(r)){var s=r,a=s.player,o=s.playerId;if(a||e[o])return a||e[o]}};le.getAllPlayers=function(){return Object.keys(cr.players).map(function(t){return cr.players[t]}).filter(Boolean)};le.players=cr.players;le.getComponent=Oe.getComponent;le.registerComponent=function(t,e){jt.isTech(e)&&ht.warn("The "+t+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),Oe.registerComponent.call(Oe,t,e)};le.getTech=jt.getTech;le.registerTech=jt.registerTech;le.use=jee;Object.defineProperty(le,"middleware",{value:{},writeable:!1,enumerable:!0});Object.defineProperty(le.middleware,"TERMINATOR",{value:wh,writeable:!1,enumerable:!0});le.browser=dee;le.TOUCH_ENABLED=pl;le.extend=Rte;le.mergeOptions=Yt;le.bind=$t;le.registerPlugin=Rn.registerPlugin;le.deregisterPlugin=Rn.deregisterPlugin;le.plugin=function(t,e){return ht.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Rn.registerPlugin(t,e)};le.getPlugins=Rn.getPlugins;le.getPlugin=Rn.getPlugin;le.getPluginVersion=Rn.getPluginVersion;le.addLanguage=function(t,e){var r;return t=(""+t).toLowerCase(),le.options.languages=Yt(le.options.languages,(r={},r[t]=e,r)),le.options.languages[t]};le.log=ht;le.createLogger=aO;le.createTimeRange=le.createTimeRanges=Va;le.formatTime=bl;le.setFormatTime=ate;le.resetFormatTime=ote;le.parseUrl=db;le.isCrossOrigin=Yp;le.EventTarget=xr;le.on=Si;le.one=zp;le.off=Mr;le.trigger=Yl;le.xhr=cA;le.TextTrack=dd;le.AudioTrack=FO;le.VideoTrack=BO;["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(t){le[t]=function(){return ht.warn("videojs."+t+"() is deprecated; use videojs.dom."+t+"() instead"),CO[t].apply(null,arguments)}});le.computedStyle=$c;le.dom=CO;le.url=Fee;le.defineLazyProperty=Ob;le.addLanguage("en",{"Non-Fullscreen":"Exit Fullscreen"});/*! @name @videojs/http-streaming @version 2.13.1 @license Apache-2.0 */var Ki=Ip,Ih=function(e,r,n){return e&&n&&n.responseURL&&r!==n.responseURL?n.responseURL:r},an=function(e){return le.log.debug?le.log.debug.bind(le,"VHS:",e+" >"):function(){}},qs=1/30,xn=qs*3,hR=function(e,r){var n=[],i;if(e&&e.length)for(i=0;i<e.length;i++)r(e.start(i),e.end(i))&&n.push([e.start(i),e.end(i)]);return le.createTimeRanges(n)},zo=function(e,r){return hR(e,function(n,i){return n-xn<=r&&i+xn>=r})},lf=function(e,r){return hR(e,function(n){return n-qs>=r})},kte=function(e){if(e.length<2)return le.createTimeRanges();for(var r=[],n=1;n<e.length;n++){var i=e.end(n-1),s=e.start(n);r.push([i,s])}return le.createTimeRanges(r)},Ite=function(e,r){var n=null,i=null,s=0,a=[],o=[];if(!e||!e.length||!r||!r.length)return le.createTimeRange();for(var l=e.length;l--;)a.push({time:e.start(l),type:"start"}),a.push({time:e.end(l),type:"end"});for(l=r.length;l--;)a.push({time:r.start(l),type:"start"}),a.push({time:r.end(l),type:"end"});for(a.sort(function(u,c){return u.time-c.time}),l=0;l<a.length;l++)a[l].type==="start"?(s++,s===2&&(n=a[l].time)):a[l].type==="end"&&(s--,s===1&&(i=a[l].time)),n!==null&&i!==null&&(o.push([n,i]),n=null,i=null);return le.createTimeRanges(o)},pR=function(e){var r=[];if(!e||!e.length)return"";for(var n=0;n<e.length;n++)r.push(e.start(n)+" => "+e.end(n));return r.join(", ")},Mte=function(e,r,n){n===void 0&&(n=1);var i=e.length?e.end(e.length-1):0;return(i-r)/n},Na=function(e){for(var r=[],n=0;n<e.length;n++)r.push({start:e.start(n),end:e.end(n)});return r},Lte=function(e,r){if(e===r)return!1;if(!e&&r||!r&&e||e.length!==r.length)return!0;for(var n=0;n<e.length;n++)if(e.start(n)!==r.start(n)||e.end(n)!==r.end(n))return!0;return!1},ME=function(e){if(!(!e||!e.length||!e.end))return e.end(e.length-1)},Rb=function(e,r){var n=0;if(!e||!e.length)return n;for(var i=0;i<e.length;i++){var s=e.start(i),a=e.end(i);if(!(r>a)){if(r>s&&r<=a){n+=a-r;continue}n+=a-s}}return n},LE=le.createTimeRange,kb=function(e,r){if(!r.preload)return r.duration;var n=0;return(r.parts||[]).forEach(function(i){n+=i.duration}),(r.preloadHints||[]).forEach(function(i){i.type==="PART"&&(n+=e.partTargetDuration)}),n},Uv=function(e){return(e.segments||[]).reduce(function(r,n,i){return n.parts?n.parts.forEach(function(s,a){r.push({duration:s.duration,segmentIndex:i,partIndex:a,part:s,segment:n})}):r.push({duration:n.duration,segmentIndex:i,partIndex:null,segment:n,part:null}),r},[])},mR=function(e){var r=e.segments&&e.segments.length&&e.segments[e.segments.length-1];return r&&r.parts||[]},gR=function(e){var r=e.preloadSegment;if(!!r){var n=r.parts,i=r.preloadHints,s=(i||[]).reduce(function(a,o){return a+(o.type==="PART"?1:0)},0);return s+=n&&n.length?n.length:0,s}},vR=function(e,r){if(r.endList)return 0;if(e&&e.suggestedPresentationDelay)return e.suggestedPresentationDelay;var n=mR(r).length>0;return n&&r.serverControl&&r.serverControl.partHoldBack?r.serverControl.partHoldBack:n&&r.partTargetDuration?r.partTargetDuration*3:r.serverControl&&r.serverControl.holdBack?r.serverControl.holdBack:r.targetDuration?r.targetDuration*3:0},Nte=function(e,r){var n=0,i=r-e.mediaSequence,s=e.segments[i];if(s){if(typeof s.start!="undefined")return{result:s.start,precise:!0};if(typeof s.end!="undefined")return{result:s.end-s.duration,precise:!0}}for(;i--;){if(s=e.segments[i],typeof s.end!="undefined")return{result:n+s.end,precise:!0};if(n+=kb(e,s),typeof s.start!="undefined")return{result:n+s.start,precise:!0}}return{result:n,precise:!1}},Fte=function(e,r){for(var n=0,i,s=r-e.mediaSequence;s<e.segments.length;s++){if(i=e.segments[s],typeof i.start!="undefined")return{result:i.start-n,precise:!0};if(n+=kb(e,i),typeof i.end!="undefined")return{result:i.end-n,precise:!0}}return{result:-1,precise:!1}},yR=function(e,r,n){if(typeof r=="undefined"&&(r=e.mediaSequence+e.segments.length),r<e.mediaSequence)return 0;var i=Nte(e,r);if(i.precise)return i.result;var s=Fte(e,r);return s.precise?s.result:i.result+n},bR=function(e,r,n){if(!e)return 0;if(typeof n!="number"&&(n=0),typeof r=="undefined"){if(e.totalDuration)return e.totalDuration;if(!e.endList)return J.Infinity}return yR(e,r,n)},uc=function(e){var r=e.defaultDuration,n=e.durationList,i=e.startIndex,s=e.endIndex,a=0;if(i>s){var o=[s,i];i=o[0],s=o[1]}if(i<0){for(var l=i;l<Math.min(0,s);l++)a+=r;i=0}for(var u=i;u<s;u++)a+=n[u].duration;return a},_R=function(e,r,n,i){if(!e||!e.segments)return null;if(e.endList)return bR(e);if(r===null)return null;r=r||0;var s=yR(e,e.mediaSequence+e.segments.length,r);return n&&(i=typeof i=="number"?i:vR(null,e),s-=i),Math.max(0,s)},Bte=function(e,r,n){var i=!0,s=r||0,a=_R(e,r,i,n);return a===null?LE():LE(s,a)},$te=function(e){for(var r=e.playlist,n=e.currentTime,i=e.startingSegmentIndex,s=e.startingPartIndex,a=e.startTime,o=e.experimentalExactManifestTimings,l=n-a,u=Uv(r),c=0,d=0;d<u.length;d++){var f=u[d];if(i===f.segmentIndex&&!(typeof s=="number"&&typeof f.partIndex=="number"&&s!==f.partIndex)){c=d;break}}if(l<0){if(c>0)for(var h=c-1;h>=0;h--){var m=u[h];if(l+=m.duration,o){if(l<0)continue}else if(l+qs<=0)continue;return{partIndex:m.partIndex,segmentIndex:m.segmentIndex,startTime:a-uc({defaultDuration:r.targetDuration,durationList:u,startIndex:c,endIndex:h})}}return{partIndex:u[0]&&u[0].partIndex||null,segmentIndex:u[0]&&u[0].segmentIndex||0,startTime:n}}if(c<0){for(var g=c;g<0;g++)if(l-=r.targetDuration,l<0)return{partIndex:u[0]&&u[0].partIndex||null,segmentIndex:u[0]&&u[0].segmentIndex||0,startTime:n};c=0}for(var v=c;v<u.length;v++){var x=u[v];if(l-=x.duration,o){if(l>0)continue}else if(l-qs>=0)continue;return{partIndex:x.partIndex,segmentIndex:x.segmentIndex,startTime:a+uc({defaultDuration:r.targetDuration,durationList:u,startIndex:c,endIndex:v})}}return{segmentIndex:u[u.length-1].segmentIndex,partIndex:u[u.length-1].partIndex,startTime:n}},TR=function(e){return e.excludeUntil&&e.excludeUntil>Date.now()},Ib=function(e){return e.excludeUntil&&e.excludeUntil===1/0},Xp=function(e){var r=TR(e);return!e.disabled&&!r},Ute=function(e){return e.disabled},jte=function(e){for(var r=0;r<e.segments.length;r++)if(e.segments[r].key)return!0;return!1},xR=function(e,r){return r.attributes&&r.attributes[e]},Vte=function(e,r,n,i){if(i===void 0&&(i=0),!xR("BANDWIDTH",n))return NaN;var s=e*n.attributes.BANDWIDTH;return(s-i*8)/r},jv=function(e,r){if(e.playlists.length===1)return!0;var n=r.attributes.BANDWIDTH||Number.MAX_VALUE;return e.playlists.filter(function(i){return Xp(i)?(i.attributes.BANDWIDTH||0)<n:!1}).length===0},Mb=function(e,r){return!e&&!r||!e&&r||e&&!r?!1:!!(e===r||e.id&&r.id&&e.id===r.id||e.resolvedUri&&r.resolvedUri&&e.resolvedUri===r.resolvedUri||e.uri&&r.uri&&e.uri===r.uri)},NE=function(e,r){var n=e&&e.mediaGroups&&e.mediaGroups.AUDIO||{},i=!1;for(var s in n){for(var a in n[s])if(i=r(n[s][a]),i)break;if(i)break}return!!i},pd=function(e){if(!e||!e.playlists||!e.playlists.length){var r=NE(e,function(a){return a.playlists&&a.playlists.length||a.uri});return r}for(var n=function(o){var l=e.playlists[o],u=l.attributes&&l.attributes.CODECS;if(u&&u.split(",").every(function(d){return vA(d)}))return"continue";var c=NE(e,function(d){return Mb(l,d)});return c?"continue":{v:!1}},i=0;i<e.playlists.length;i++){var s=n(i);if(s!=="continue"&&typeof s=="object")return s.v}return!0},ni={liveEdgeDelay:vR,duration:bR,seekable:Bte,getMediaInfoForTime:$te,isEnabled:Xp,isDisabled:Ute,isBlacklisted:TR,isIncompatible:Ib,playlistEnd:_R,isAes:jte,hasAttribute:xR,estimateSegmentRequestTime:Vte,isLowestEnabledRendition:jv,isAudioOnly:pd,playlistMatch:Mb,segmentDurationWithParts:kb},SR=le.log,Lb=function(e,r){return e+"-"+r},Hte=function(e){var r=e.onwarn,n=e.oninfo,i=e.manifestString,s=e.customTagParsers,a=s===void 0?[]:s,o=e.customTagMappers,l=o===void 0?[]:o,u=e.experimentalLLHLS,c=new cJ;r&&c.on("warn",r),n&&c.on("info",n),a.forEach(function(g){return c.addParser(g)}),l.forEach(function(g){return c.addTagMapper(g)}),c.push(i),c.end();var d=c.manifest;if(u||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(g){d.hasOwnProperty(g)&&delete d[g]}),d.segments&&d.segments.forEach(function(g){["parts","preloadHints"].forEach(function(v){g.hasOwnProperty(v)&&delete g[v]})})),!d.targetDuration){var f=10;d.segments&&d.segments.length&&(f=d.segments.reduce(function(g,v){return Math.max(g,v.duration)},0)),r&&r("manifest has no targetDuration defaulting to "+f),d.targetDuration=f}var h=mR(d);if(h.length&&!d.partTargetDuration){var m=h.reduce(function(g,v){return Math.max(g,v.duration)},0);r&&(r("manifest has no partTargetDuration defaulting to "+m),SR.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),d.partTargetDuration=m}return d},md=function(e,r){!e.mediaGroups||["AUDIO","SUBTITLES"].forEach(function(n){if(!!e.mediaGroups[n])for(var i in e.mediaGroups[n])for(var s in e.mediaGroups[n][i]){var a=e.mediaGroups[n][i][s];r(a,n,i,s)}})},ER=function(e){var r=e.playlist,n=e.uri,i=e.id;r.id=i,r.playlistErrors_=0,n&&(r.uri=n),r.attributes=r.attributes||{}},zte=function(e){for(var r=e.playlists.length;r--;){var n=e.playlists[r];ER({playlist:n,id:Lb(r,n.uri)}),n.resolvedUri=Ki(e.uri,n.uri),e.playlists[n.id]=n,e.playlists[n.uri]=n,n.attributes.BANDWIDTH||SR.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}},Wte=function(e){md(e,function(r){r.uri&&(r.resolvedUri=Ki(e.uri,r.uri))})},Yte=function(e,r){var n=Lb(0,r),i={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:J.location.href,resolvedUri:J.location.href,playlists:[{uri:r,id:n,resolvedUri:r,attributes:{}}]};return i.playlists[n]=i.playlists[0],i.playlists[r]=i.playlists[0],i},CR=function(e,r){e.uri=r;for(var n=0;n<e.playlists.length;n++)if(!e.playlists[n].uri){var i="placeholder-uri-"+n;e.playlists[n].uri=i}var s=pd(e);md(e,function(a,o,l,u){var c="placeholder-uri-"+o+"-"+l+"-"+u;if(!a.playlists||!a.playlists.length){if(s&&o==="AUDIO"&&!a.uri)for(var d=0;d<e.playlists.length;d++){var f=e.playlists[d];if(f.attributes&&f.attributes.AUDIO&&f.attributes.AUDIO===l)return}a.playlists=[Vi({},a)]}a.playlists.forEach(function(h,m){var g=Lb(m,c);h.uri?h.resolvedUri=h.resolvedUri||Ki(e.uri,h.uri):(h.uri=m===0?c:g,h.resolvedUri=h.uri),h.id=h.id||g,h.attributes=h.attributes||{},e.playlists[h.id]=h,e.playlists[h.uri]=h})}),zte(e),Wte(e)},Mh=le.mergeOptions,Gte=le.EventTarget,qte=function(e,r){if(r.endList||!r.serverControl)return e;var n={};if(r.serverControl.canBlockReload){var i=r.preloadSegment,s=r.mediaSequence+r.segments.length;if(i){var a=i.parts||[],o=gR(r)-1;o>-1&&o!==a.length-1&&(n._HLS_part=o),(o>-1||a.length)&&s--}n._HLS_msn=s}if(r.serverControl&&r.serverControl.canSkipUntil&&(n._HLS_skip=r.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(n).length){var l=new J.URL(e);["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(u){!n.hasOwnProperty(u)||l.searchParams.set(u,n[u])}),e=l.toString()}return e},Kte=function(e,r){if(!e)return r;var n=Mh(e,r);if(e.preloadHints&&!r.preloadHints&&delete n.preloadHints,e.parts&&!r.parts)delete n.parts;else if(e.parts&&r.parts)for(var i=0;i<r.parts.length;i++)e.parts&&e.parts[i]&&(n.parts[i]=Mh(e.parts[i],r.parts[i]));return!e.skipped&&r.skipped&&(n.skipped=!1),e.preload&&!r.preload&&(n.preload=!1),n},Xte=function(e,r,n){var i=e.slice(),s=r.slice();n=n||0;for(var a=[],o,l=0;l<s.length;l++){var u=i[l+n],c=s[l];u?(o=u.map||o,a.push(Kte(u,c))):(o&&!c.map&&(c.map=o),a.push(c))}return a},wR=function(e,r){!e.resolvedUri&&e.uri&&(e.resolvedUri=Ki(r,e.uri)),e.key&&!e.key.resolvedUri&&(e.key.resolvedUri=Ki(r,e.key.uri)),e.map&&!e.map.resolvedUri&&(e.map.resolvedUri=Ki(r,e.map.uri)),e.map&&e.map.key&&!e.map.key.resolvedUri&&(e.map.key.resolvedUri=Ki(r,e.map.key.uri)),e.parts&&e.parts.length&&e.parts.forEach(function(n){n.resolvedUri||(n.resolvedUri=Ki(r,n.uri))}),e.preloadHints&&e.preloadHints.length&&e.preloadHints.forEach(function(n){n.resolvedUri||(n.resolvedUri=Ki(r,n.uri))})},PR=function(e){var r=e.segments||[],n=e.preloadSegment;if(n&&n.parts&&n.parts.length){if(n.preloadHints){for(var i=0;i<n.preloadHints.length;i++)if(n.preloadHints[i].type==="MAP")return r}n.duration=e.targetDuration,n.preload=!0,r.push(n)}return r},DR=function(e,r){return e===r||e.segments&&r.segments&&e.segments.length===r.segments.length&&e.endList===r.endList&&e.mediaSequence===r.mediaSequence&&e.preloadSegment===r.preloadSegment},Vv=function(e,r,n){n===void 0&&(n=DR);var i=Mh(e,{}),s=i.playlists[r.id];if(!s||n(s,r))return null;r.segments=PR(r);var a=Mh(s,r);if(a.preloadSegment&&!r.preloadSegment&&delete a.preloadSegment,s.segments){if(r.skip){r.segments=r.segments||[];for(var o=0;o<r.skip.skippedSegments;o++)r.segments.unshift({skipped:!0})}a.segments=Xte(s.segments,r.segments,r.mediaSequence-s.mediaSequence)}a.segments.forEach(function(u){wR(u,a.resolvedUri)});for(var l=0;l<i.playlists.length;l++)i.playlists[l].id===r.id&&(i.playlists[l]=a);return i.playlists[r.id]=a,i.playlists[r.uri]=a,md(e,function(u,c,d,f){if(!!u.playlists)for(var h=0;h<u.playlists.length;h++)r.id===u.playlists[h].id&&(u.playlists[h]=r)}),i},Hv=function(e,r){var n=e.segments||[],i=n[n.length-1],s=i&&i.parts&&i.parts[i.parts.length-1],a=s&&s.duration||i&&i.duration;return r&&a?a*1e3:(e.partTargetDuration||e.targetDuration||10)*500},Wo=function(t){$e(e,t);function e(n,i,s){var a;if(s===void 0&&(s={}),a=t.call(this)||this,!n)throw new Error("A non-empty playlist URL or object is required");a.logger_=an("PlaylistLoader");var o=s,l=o.withCredentials,u=l===void 0?!1:l,c=o.handleManifestRedirects,d=c===void 0?!1:c;a.src=n,a.vhs_=i,a.withCredentials=u,a.handleManifestRedirects=d;var f=i.options_;return a.customTagParsers=f&&f.customTagParsers||[],a.customTagMappers=f&&f.customTagMappers||[],a.experimentalLLHLS=f&&f.experimentalLLHLS||!1,le.browser.IE_VERSION&&(a.experimentalLLHLS=!1),a.state="HAVE_NOTHING",a.handleMediaupdatetimeout_=a.handleMediaupdatetimeout_.bind(st(a)),a.on("mediaupdatetimeout",a.handleMediaupdatetimeout_),a}var r=e.prototype;return r.handleMediaupdatetimeout_=function(){var i=this;if(this.state==="HAVE_METADATA"){var s=this.media(),a=Ki(this.master.uri,s.uri);this.experimentalLLHLS&&(a=qte(a,s)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:a,withCredentials:this.withCredentials},function(o,l){if(!!i.request){if(o)return i.playlistRequestError(i.request,i.media(),"HAVE_METADATA");i.haveMetadata({playlistString:i.request.responseText,url:i.media().uri,id:i.media().id})}})}},r.playlistRequestError=function(i,s,a){var o=s.uri,l=s.id;this.request=null,a&&(this.state=a),this.error={playlist:this.master.playlists[l],status:i.status,message:"HLS playlist request error at URL: "+o+".",responseText:i.responseText,code:i.status>=500?4:2},this.trigger("error")},r.parseManifest_=function(i){var s=this,a=i.url,o=i.manifestString;return Hte({onwarn:function(u){var c=u.message;return s.logger_("m3u8-parser warn for "+a+": "+c)},oninfo:function(u){var c=u.message;return s.logger_("m3u8-parser info for "+a+": "+c)},manifestString:o,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,experimentalLLHLS:this.experimentalLLHLS})},r.haveMetadata=function(i){var s=i.playlistString,a=i.playlistObject,o=i.url,l=i.id;this.request=null,this.state="HAVE_METADATA";var u=a||this.parseManifest_({url:o,manifestString:s});u.lastRequest=Date.now(),ER({playlist:u,uri:o,id:l});var c=Vv(this.master,u);this.targetDuration=u.partTargetDuration||u.targetDuration,this.pendingMedia_=null,c?(this.master=c,this.media_=this.master.playlists[l]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(Hv(this.media(),!!c)),this.trigger("loadedplaylist")},r.dispose=function(){this.trigger("dispose"),this.stopRequest(),J.clearTimeout(this.mediaUpdateTimeout),J.clearTimeout(this.finalRenditionTimeout),this.off()},r.stopRequest=function(){if(this.request){var i=this.request;this.request=null,i.onreadystatechange=null,i.abort()}},r.media=function(i,s){var a=this;if(!i)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);if(typeof i=="string"){if(!this.master.playlists[i])throw new Error("Unknown playlist URI: "+i);i=this.master.playlists[i]}if(J.clearTimeout(this.finalRenditionTimeout),s){var o=(i.partTargetDuration||i.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=J.setTimeout(this.media.bind(this,i,!1),o);return}var l=this.state,u=!this.media_||i.id!==this.media_.id,c=this.master.playlists[i.id];if(c&&c.endList||i.endList&&i.segments.length){this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=i,u&&(this.trigger("mediachanging"),l==="HAVE_MASTER"?this.trigger("loadedmetadata"):this.trigger("mediachange"));return}if(this.updateMediaUpdateTimeout_(Hv(i,!0)),!!u){if(this.state="SWITCHING_MEDIA",this.request){if(i.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=i,this.request=this.vhs_.xhr({uri:i.resolvedUri,withCredentials:this.withCredentials},function(d,f){if(!!a.request){if(i.lastRequest=Date.now(),i.resolvedUri=Ih(a.handleManifestRedirects,i.resolvedUri,f),d)return a.playlistRequestError(a.request,i,l);a.haveMetadata({playlistString:f.responseText,url:i.uri,id:i.id}),l==="HAVE_MASTER"?a.trigger("loadedmetadata"):a.trigger("mediachange")}})}},r.pause=function(){this.mediaUpdateTimeout&&(J.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),this.state==="HAVE_NOTHING"&&(this.started=!1),this.state==="SWITCHING_MEDIA"?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":this.state==="HAVE_CURRENT_METADATA"&&(this.state="HAVE_METADATA")},r.load=function(i){var s=this;this.mediaUpdateTimeout&&(J.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);var a=this.media();if(i){var o=a?(a.partTargetDuration||a.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=J.setTimeout(function(){s.mediaUpdateTimeout=null,s.load()},o);return}if(!this.started){this.start();return}a&&!a.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")},r.updateMediaUpdateTimeout_=function(i){var s=this;this.mediaUpdateTimeout&&(J.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),!(!this.media()||this.media().endList)&&(this.mediaUpdateTimeout=J.setTimeout(function(){s.mediaUpdateTimeout=null,s.trigger("mediaupdatetimeout"),s.updateMediaUpdateTimeout_(i)},i))},r.start=function(){var i=this;if(this.started=!0,typeof this.src=="object"){this.src.uri||(this.src.uri=J.location.href),this.src.resolvedUri=this.src.uri,setTimeout(function(){i.setupInitialPlaylist(i.src)},0);return}this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},function(s,a){if(!!i.request){if(i.request=null,s)return i.error={status:a.status,message:"HLS playlist request error at URL: "+i.src+".",responseText:a.responseText,code:2},i.state==="HAVE_NOTHING"&&(i.started=!1),i.trigger("error");i.src=Ih(i.handleManifestRedirects,i.src,a);var o=i.parseManifest_({manifestString:a.responseText,url:i.src});i.setupInitialPlaylist(o)}})},r.srcUri=function(){return typeof this.src=="string"?this.src:this.src.uri},r.setupInitialPlaylist=function(i){if(this.state="HAVE_MASTER",i.playlists){this.master=i,CR(this.master,this.srcUri()),i.playlists.forEach(function(a){a.segments=PR(a),a.segments.forEach(function(o){wR(o,a.resolvedUri)})}),this.trigger("loadedplaylist"),this.request||this.media(this.master.playlists[0]);return}var s=this.srcUri()||J.location.href;this.master=Yte(i,s),this.haveMetadata({playlistObject:i,url:s,id:this.master.playlists[0].id}),this.trigger("loadedmetadata")},e}(Gte),Qte=le.xhr,Jte=le.mergeOptions,zv=function(e,r,n,i){var s=e.responseType==="arraybuffer"?e.response:e.responseText;!r&&s&&(e.responseTime=Date.now(),e.roundTripTime=e.responseTime-e.requestTime,e.bytesReceived=s.byteLength||s.length,e.bandwidth||(e.bandwidth=Math.floor(e.bytesReceived/e.roundTripTime*8*1e3))),n.headers&&(e.responseHeaders=n.headers),r&&r.code==="ETIMEDOUT"&&(e.timedout=!0),!r&&!e.aborted&&n.statusCode!==200&&n.statusCode!==206&&n.statusCode!==0&&(r=new Error("XHR Failed with a response of: "+(e&&(s||e.responseText)))),i(r,e)},AR=function(){var e=function r(n,i){n=Jte({timeout:45e3},n);var s=r.beforeRequest||le.Vhs.xhr.beforeRequest;if(s&&typeof s=="function"){var a=s(n);a&&(n=a)}var o=le.Vhs.xhr.original===!0?Qte:le.Vhs.xhr,l=o(n,function(c,d){return zv(l,c,d,i)}),u=l.abort;return l.abort=function(){return l.aborted=!0,u.apply(l,arguments)},l.uri=n.uri,l.requestTime=Date.now(),l};return e.original=!0,e},Zte=function(e){var r,n=e.offset;return typeof e.offset=="bigint"||typeof e.length=="bigint"?r=J.BigInt(e.offset)+J.BigInt(e.length)-J.BigInt(1):r=e.offset+e.length-1,"bytes="+n+"-"+r},Wv=function(e){var r={};return e.byterange&&(r.Range=Zte(e.byterange)),r},ere=function(e,r){return e.start(r)+"-"+e.end(r)},tre=function(e,r){var n=e.toString(16);return"00".substring(0,2-n.length)+n+(r%2?" ":"")},rre=function(e){return e>=32&&e<126?String.fromCharCode(e):"."},OR=function(e){var r={};return Object.keys(e).forEach(function(n){var i=e[n];ArrayBuffer.isView(i)?r[n]={bytes:i.buffer,byteOffset:i.byteOffset,byteLength:i.byteLength}:r[n]=i}),r},Lh=function(e){var r=e.byterange||{length:1/0,offset:0};return[r.length,r.offset,e.resolvedUri].join(",")},RR=function(e){return e.resolvedUri},kR=function(e){for(var r=Array.prototype.slice.call(e),n=16,i="",s,a,o=0;o<r.length/n;o++)s=r.slice(o*n,o*n+n).map(tre).join(""),a=r.slice(o*n,o*n+n).map(rre).join(""),i+=s+" "+a+`
`;return i},ire=function(e){var r=e.bytes;return kR(r)},nre=function(e){var r="",n;for(n=0;n<e.length;n++)r+=ere(e,n)+" ";return r},sre=Object.freeze({__proto__:null,createTransferableMessage:OR,initSegmentId:Lh,segmentKeyId:RR,hexDump:kR,tagDump:ire,textRanges:nre}),IR=.25,are=function(e,r){if(!r.dateTimeObject)return null;var n=r.videoTimingInfo.transmuxerPrependedSeconds,i=r.videoTimingInfo.transmuxedPresentationStart,s=i+n,a=e-s;return new Date(r.dateTimeObject.getTime()+a*1e3)},ore=function(e){return e.transmuxedPresentationEnd-e.transmuxedPresentationStart-e.transmuxerPrependedSeconds},lre=function(e,r){var n;try{n=new Date(e)}catch{return null}if(!r||!r.segments||r.segments.length===0)return null;var i=r.segments[0];if(n<i.dateTimeObject)return null;for(var s=0;s<r.segments.length-1;s++){i=r.segments[s];var a=r.segments[s+1].dateTimeObject;if(n<a)break}var o=r.segments[r.segments.length-1],l=o.dateTimeObject,u=o.videoTimingInfo?ore(o.videoTimingInfo):o.duration+o.duration*IR,c=new Date(l.getTime()+u*1e3);return n>c?null:(n>l&&(i=o),{segment:i,estimatedStart:i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationStart:ni.duration(r,r.mediaSequence+r.segments.indexOf(i)),type:i.videoTimingInfo?"accurate":"estimate"})},ure=function(e,r){if(!r||!r.segments||r.segments.length===0)return null;for(var n=0,i,s=0;s<r.segments.length&&(i=r.segments[s],n=i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationEnd:n+i.duration,!(e<=n));s++);var a=r.segments[r.segments.length-1];if(a.videoTimingInfo&&a.videoTimingInfo.transmuxedPresentationEnd<e)return null;if(e>n){if(e>n+a.duration*IR)return null;i=a}return{segment:i,estimatedStart:i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationStart:n-i.duration,type:i.videoTimingInfo?"accurate":"estimate"}},cre=function(e,r){var n,i;try{n=new Date(e),i=new Date(r)}catch{}var s=n.getTime(),a=i.getTime();return(a-s)/1e3},dre=function(e){if(!e.segments||e.segments.length===0)return!1;for(var r=0;r<e.segments.length;r++){var n=e.segments[r];if(!n.dateTimeObject)return!1}return!0},fre=function(e){var r=e.playlist,n=e.time,i=n===void 0?void 0:n,s=e.callback;if(!s)throw new Error("getProgramTime: callback must be provided");if(!r||i===void 0)return s({message:"getProgramTime: playlist and time must be provided"});var a=ure(i,r);if(!a)return s({message:"valid programTime was not found"});if(a.type==="estimate")return s({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:a.estimatedStart});var o={mediaSeconds:i},l=are(i,a.segment);return l&&(o.programDateTime=l.toISOString()),s(null,o)},hre=function t(e){var r=e.programTime,n=e.playlist,i=e.retryCount,s=i===void 0?2:i,a=e.seekTo,o=e.pauseAfterSeek,l=o===void 0?!0:o,u=e.tech,c=e.callback;if(!c)throw new Error("seekToProgramTime: callback must be provided");if(typeof r=="undefined"||!n||!a)return c({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!n.endList&&!u.hasStarted_)return c({message:"player must be playing a live stream to start buffering"});if(!dre(n))return c({message:"programDateTime tags must be provided in the manifest "+n.resolvedUri});var d=lre(r,n);if(!d)return c({message:r+" was not found in the stream"});var f=d.segment,h=cre(f.dateTimeObject,r);if(d.type==="estimate"){if(s===0)return c({message:r+" is not buffered yet. Try again"});a(d.estimatedStart+h),u.one("seeked",function(){t({programTime:r,playlist:n,retryCount:s-1,seekTo:a,pauseAfterSeek:l,tech:u,callback:c})});return}var m=f.start+h,g=function(){return c(null,u.currentTime())};u.one("seeked",g),l&&u.pause(),a(m)},bg=function(e,r){if(e.readyState===4)return r()},pre=function(e,r,n){var i=[],s,a=!1,o=function(f,h,m,g){return h.abort(),a=!0,n(f,h,m,g)},l=function(f,h){if(!a){if(f)return o(f,h,"",i);var m=h.responseText.substring(i&&i.byteLength||0,h.responseText.length);if(i=VZ(i,JA(m,!0)),s=s||Vu(i),i.length<10||s&&i.length<s+2)return bg(h,function(){return o(f,h,"",i)});var g=Q0(i);return g==="ts"&&i.length<188?bg(h,function(){return o(f,h,"",i)}):!g&&i.length<376?bg(h,function(){return o(f,h,"",i)}):o(null,h,g,i)}},u={uri:e,beforeSend:function(f){f.overrideMimeType("text/plain; charset=x-user-defined"),f.addEventListener("progress",function(h){return h.total,h.loaded,zv(f,null,{statusCode:f.status},l)})}},c=r(u,function(d,f){return zv(c,d,f,l)});return c},mre=le.EventTarget,MR=le.mergeOptions,FE=function(e,r){if(!DR(e,r)||e.sidx&&r.sidx&&(e.sidx.offset!==r.sidx.offset||e.sidx.length!==r.sidx.length))return!1;if(!e.sidx&&r.sidx||e.sidx&&!r.sidx||e.segments&&!r.segments||!e.segments&&r.segments)return!1;if(!e.segments&&!r.segments)return!0;for(var n=0;n<e.segments.length;n++){var i=e.segments[n],s=r.segments[n];if(i.uri!==s.uri)return!1;if(!(!i.byterange&&!s.byterange)){var a=i.byterange,o=s.byterange;if(a&&!o||!a&&o||a.offset!==o.offset||a.length!==o.length)return!1}}return!0},gre=function(e){var r=e.masterXml,n=e.srcUrl,i=e.clientOffset,s=e.sidxMapping,a=e.previousManifest,o=OZ(r,{manifestUri:n,clientOffset:i,sidxMapping:s,previousManifest:a});return CR(o,n),o},vre=function(e,r,n){for(var i=!0,s=MR(e,{duration:r.duration,minimumUpdatePeriod:r.minimumUpdatePeriod,timelineStarts:r.timelineStarts}),a=0;a<r.playlists.length;a++){var o=r.playlists[a];if(o.sidx){var l=Fp(o.sidx);n&&n[l]&&n[l].sidx&&G0(o,n[l].sidx,o.sidx.resolvedUri)}var u=Vv(s,o,FE);u&&(s=u,i=!1)}return md(r,function(c,d,f,h){if(c.playlists&&c.playlists.length){var m=c.playlists[0].id,g=Vv(s,c.playlists[0],FE);g&&(s=g,s.mediaGroups[d][f][h].playlists[0]=s.playlists[m],i=!1)}}),r.minimumUpdatePeriod!==e.minimumUpdatePeriod&&(i=!1),i?null:s},yre=function(e,r){var n=Boolean(!e.map&&!r.map),i=n||Boolean(e.map&&r.map&&e.map.byterange.offset===r.map.byterange.offset&&e.map.byterange.length===r.map.byterange.length);return i&&e.uri===r.uri&&e.byterange.offset===r.byterange.offset&&e.byterange.length===r.byterange.length},BE=function(e,r){var n={};for(var i in e){var s=e[i],a=s.sidx;if(a){var o=Fp(a);if(!r[o])break;var l=r[o].sidxInfo;yre(l,a)&&(n[o]=r[o])}}return n},bre=function(e,r){var n=BE(e.playlists,r),i=n;return md(e,function(s,a,o,l){if(s.playlists&&s.playlists.length){var u=s.playlists;i=MR(i,BE(u,r))}}),i},Yv=function(t){$e(e,t);function e(n,i,s,a){var o;s===void 0&&(s={}),o=t.call(this)||this,o.masterPlaylistLoader_=a||st(o),a||(o.isMaster_=!0);var l=s,u=l.withCredentials,c=u===void 0?!1:u,d=l.handleManifestRedirects,f=d===void 0?!1:d;if(o.vhs_=i,o.withCredentials=c,o.handleManifestRedirects=f,!n)throw new Error("A non-empty playlist URL or object is required");return o.on("minimumUpdatePeriod",function(){o.refreshXml_()}),o.on("mediaupdatetimeout",function(){o.refreshMedia_(o.media().id)}),o.state="HAVE_NOTHING",o.loadedPlaylists_={},o.logger_=an("DashPlaylistLoader"),o.isMaster_?(o.masterPlaylistLoader_.srcUrl=n,o.masterPlaylistLoader_.sidxMapping_={}):o.childPlaylist_=n,o}var r=e.prototype;return r.requestErrored_=function(i,s,a){if(!this.request)return!0;if(this.request=null,i)return this.error=typeof i=="object"&&!(i instanceof Error)?i:{status:s.status,message:"DASH request error at URL: "+s.uri,response:s.response,code:2},a&&(this.state=a),this.trigger("error"),!0},r.addSidxSegments_=function(i,s,a){var o=this,l=i.sidx&&Fp(i.sidx);if(!i.sidx||!l||this.masterPlaylistLoader_.sidxMapping_[l]){this.mediaRequest_=J.setTimeout(function(){return a(!1)},0);return}var u=Ih(this.handleManifestRedirects,i.sidx.resolvedUri),c=function(f,h){if(!o.requestErrored_(f,h,s)){var m=o.masterPlaylistLoader_.sidxMapping_,g;try{g=LZ(Je(h.response).subarray(8))}catch(v){o.requestErrored_(v,h,s);return}return m[l]={sidxInfo:i.sidx,sidx:g},G0(i,g,i.sidx.resolvedUri),a(!0)}};this.request=pre(u,this.vhs_.xhr,function(d,f,h,m){if(d)return c(d,f);if(!h||h!=="mp4")return c({status:f.status,message:"Unsupported "+(h||"unknown")+" container type for sidx segment at URL: "+u,response:"",playlist:i,internal:!0,blacklistDuration:1/0,code:2},f);var g=i.sidx.byterange,v=g.offset,x=g.length;if(m.length>=x+v)return c(d,{response:m.subarray(v,v+x),status:f.status,uri:f.uri});o.request=o.vhs_.xhr({uri:u,responseType:"arraybuffer",headers:Wv({byterange:i.sidx.byterange})},c)})},r.dispose=function(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},J.clearTimeout(this.minimumUpdatePeriodTimeout_),J.clearTimeout(this.mediaRequest_),J.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.off()},r.hasPendingRequest=function(){return this.request||this.mediaRequest_},r.stopRequest=function(){if(this.request){var i=this.request;this.request=null,i.onreadystatechange=null,i.abort()}},r.media=function(i){var s=this;if(!i)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);var a=this.state;if(typeof i=="string"){if(!this.masterPlaylistLoader_.master.playlists[i])throw new Error("Unknown playlist URI: "+i);i=this.masterPlaylistLoader_.master.playlists[i]}var o=!this.media_||i.id!==this.media_.id;if(o&&this.loadedPlaylists_[i.id]&&this.loadedPlaylists_[i.id].endList){this.state="HAVE_METADATA",this.media_=i,o&&(this.trigger("mediachanging"),this.trigger("mediachange"));return}!o||(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(i,a,function(l){s.haveMetadata({startingState:a,playlist:i})}))},r.haveMetadata=function(i){var s=i.startingState,a=i.playlist;this.state="HAVE_METADATA",this.loadedPlaylists_[a.id]=a,this.mediaRequest_=null,this.refreshMedia_(a.id),s==="HAVE_MASTER"?this.trigger("loadedmetadata"):this.trigger("mediachange")},r.pause=function(){this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),J.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMaster_&&(J.clearTimeout(this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_),this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_=null),this.state==="HAVE_NOTHING"&&(this.started=!1)},r.load=function(i){var s=this;J.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;var a=this.media();if(i){var o=a?a.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=J.setTimeout(function(){return s.load()},o);return}if(!this.started){this.start();return}a&&!a.endList?(this.isMaster_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist")},r.start=function(){var i=this;if(this.started=!0,!this.isMaster_){this.mediaRequest_=J.setTimeout(function(){return i.haveMaster_()},0);return}this.requestMaster_(function(s,a){i.haveMaster_(),!i.hasPendingRequest()&&!i.media_&&i.media(i.masterPlaylistLoader_.master.playlists[0])})},r.requestMaster_=function(i){var s=this;this.request=this.vhs_.xhr({uri:this.masterPlaylistLoader_.srcUrl,withCredentials:this.withCredentials},function(a,o){if(s.requestErrored_(a,o)){s.state==="HAVE_NOTHING"&&(s.started=!1);return}var l=o.responseText!==s.masterPlaylistLoader_.masterXml_;if(s.masterPlaylistLoader_.masterXml_=o.responseText,o.responseHeaders&&o.responseHeaders.date?s.masterLoaded_=Date.parse(o.responseHeaders.date):s.masterLoaded_=Date.now(),s.masterPlaylistLoader_.srcUrl=Ih(s.handleManifestRedirects,s.masterPlaylistLoader_.srcUrl,o),l){s.handleMaster_(),s.syncClientServerClock_(function(){return i(o,l)});return}return i(o,l)})},r.syncClientServerClock_=function(i){var s=this,a=RZ(this.masterPlaylistLoader_.masterXml_);if(a===null)return this.masterPlaylistLoader_.clientOffset_=this.masterLoaded_-Date.now(),i();if(a.method==="DIRECT")return this.masterPlaylistLoader_.clientOffset_=a.value-Date.now(),i();this.request=this.vhs_.xhr({uri:Ki(this.masterPlaylistLoader_.srcUrl,a.value),method:a.method,withCredentials:this.withCredentials},function(o,l){if(!!s.request){if(o)return s.masterPlaylistLoader_.clientOffset_=s.masterLoaded_-Date.now(),i();var u;a.method==="HEAD"?!l.responseHeaders||!l.responseHeaders.date?u=s.masterLoaded_:u=Date.parse(l.responseHeaders.date):u=Date.parse(l.responseText),s.masterPlaylistLoader_.clientOffset_=u-Date.now(),i()}})},r.haveMaster_=function(){this.state="HAVE_MASTER",this.isMaster_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)},r.handleMaster_=function(){this.mediaRequest_=null;var i=this.masterPlaylistLoader_.master,s=gre({masterXml:this.masterPlaylistLoader_.masterXml_,srcUrl:this.masterPlaylistLoader_.srcUrl,clientOffset:this.masterPlaylistLoader_.clientOffset_,sidxMapping:this.masterPlaylistLoader_.sidxMapping_,previousManifest:i});i&&(s=vre(i,s,this.masterPlaylistLoader_.sidxMapping_)),this.masterPlaylistLoader_.master=s||i;var a=this.masterPlaylistLoader_.master.locations&&this.masterPlaylistLoader_.master.locations[0];return a&&a!==this.masterPlaylistLoader_.srcUrl&&(this.masterPlaylistLoader_.srcUrl=a),(!i||s&&s.minimumUpdatePeriod!==i.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),Boolean(s)},r.updateMinimumUpdatePeriodTimeout_=function(){var i=this.masterPlaylistLoader_;i.createMupOnMedia_&&(i.off("loadedmetadata",i.createMupOnMedia_),i.createMupOnMedia_=null),i.minimumUpdatePeriodTimeout_&&(J.clearTimeout(i.minimumUpdatePeriodTimeout_),i.minimumUpdatePeriodTimeout_=null);var s=i.master&&i.master.minimumUpdatePeriod;if(s===0&&(i.media()?s=i.media().targetDuration*1e3:(i.createMupOnMedia_=i.updateMinimumUpdatePeriodTimeout_,i.one("loadedmetadata",i.createMupOnMedia_))),typeof s!="number"||s<=0){s<0&&this.logger_("found invalid minimumUpdatePeriod of "+s+", not setting a timeout");return}this.createMUPTimeout_(s)},r.createMUPTimeout_=function(i){var s=this.masterPlaylistLoader_;s.minimumUpdatePeriodTimeout_=J.setTimeout(function(){s.minimumUpdatePeriodTimeout_=null,s.trigger("minimumUpdatePeriod"),s.createMUPTimeout_(i)},i)},r.refreshXml_=function(){var i=this;this.requestMaster_(function(s,a){!a||(i.media_&&(i.media_=i.masterPlaylistLoader_.master.playlists[i.media_.id]),i.masterPlaylistLoader_.sidxMapping_=bre(i.masterPlaylistLoader_.master,i.masterPlaylistLoader_.sidxMapping_),i.addSidxSegments_(i.media(),i.state,function(o){i.refreshMedia_(i.media().id)}))})},r.refreshMedia_=function(i){var s=this;if(!i)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMaster_&&this.handleMaster_();var a=this.masterPlaylistLoader_.master.playlists,o=!this.media_||this.media_!==a[i];if(o?this.media_=a[i]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){var l=function u(){s.media().endList||(s.mediaUpdateTimeout=J.setTimeout(function(){s.trigger("mediaupdatetimeout"),u()},Hv(s.media(),Boolean(o))))};l()}this.trigger("loadedplaylist")},e}(mre),vr={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30},_re=function(e){for(var r=new Uint8Array(new ArrayBuffer(e.length)),n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return r.buffer},LR=function(e){return e.on=e.addEventListener,e.off=e.removeEventListener,e},Tre=function(e){try{return URL.createObjectURL(new Blob([e],{type:"application/javascript"}))}catch{var r=new BlobBuilder;return r.append(e),URL.createObjectURL(r.getBlob())}},NR=function(e){return function(){var r=Tre(e),n=LR(new Worker(r));n.objURL=r;var i=n.terminate;return n.on=n.addEventListener,n.off=n.removeEventListener,n.terminate=function(){return URL.revokeObjectURL(r),i.call(this)},n}},FR=function(e){return"var browserWorkerPolyFill = "+LR.toString()+`;
browserWorkerPolyFill(self);
`+e},BR=function(e){return e.toString().replace(/^function.+?{/,"").slice(0,-1)},xre=FR(BR(function(){var t=function(){this.init=function(){var p={};this.on=function(b,y){p[b]||(p[b]=[]),p[b]=p[b].concat(y)},this.off=function(b,y){var T;return p[b]?(T=p[b].indexOf(y),p[b]=p[b].slice(),p[b].splice(T,1),T>-1):!1},this.trigger=function(b){var y,T,E,w;if(y=p[b],!!y)if(arguments.length===2)for(E=y.length,T=0;T<E;++T)y[T].call(this,arguments[1]);else{for(w=[],T=arguments.length,T=1;T<arguments.length;++T)w.push(arguments[T]);for(E=y.length,T=0;T<E;++T)y[T].apply(this,w)}},this.dispose=function(){p={}}}};t.prototype.pipe=function(A){return this.on("data",function(p){A.push(p)}),this.on("done",function(p){A.flush(p)}),this.on("partialdone",function(p){A.partialFlush(p)}),this.on("endedtimeline",function(p){A.endTimeline(p)}),this.on("reset",function(p){A.reset(p)}),A},t.prototype.push=function(A){this.trigger("data",A)},t.prototype.flush=function(A){this.trigger("done",A)},t.prototype.partialFlush=function(A){this.trigger("partialdone",A)},t.prototype.endTimeline=function(A){this.trigger("endedtimeline",A)},t.prototype.reset=function(A){this.trigger("reset",A)};var e=t,r=Math.pow(2,32),n=function(p){var b=new DataView(p.buffer,p.byteOffset,p.byteLength),y;return b.getBigUint64?(y=b.getBigUint64(0),y<Number.MAX_SAFE_INTEGER?Number(y):y):b.getUint32(0)*r+b.getUint32(4)},i={getUint64:n,MAX_UINT32:r},s=i.MAX_UINT32,a,o,l,u,c,d,f,h,m,g,v,x,S,D,P,O,B,z,U,Y,F,ue,X,me,xe,ge,Se,Ae,he,Ye,Z,C,q,ae,_e,k;(function(){var A;if(X={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},typeof Uint8Array!="undefined"){for(A in X)X.hasOwnProperty(A)&&(X[A]=[A.charCodeAt(0),A.charCodeAt(1),A.charCodeAt(2),A.charCodeAt(3)]);me=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),ge=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),xe=new Uint8Array([0,0,0,1]),Se=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),Ae=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),he={video:Se,audio:Ae},C=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),Z=new Uint8Array([0,0,0,0,0,0,0,0]),q=new Uint8Array([0,0,0,0,0,0,0,0]),ae=q,_e=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),k=q,Ye=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),a=function(p){var b=[],y=0,T,E,w;for(T=1;T<arguments.length;T++)b.push(arguments[T]);for(T=b.length;T--;)y+=b[T].byteLength;for(E=new Uint8Array(y+8),w=new DataView(E.buffer,E.byteOffset,E.byteLength),w.setUint32(0,E.byteLength),E.set(p,4),T=0,y=8;T<b.length;T++)E.set(b[T],y),y+=b[T].byteLength;return E},o=function(){return a(X.dinf,a(X.dref,C))},l=function(p){return a(X.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,p.audioobjecttype<<3|p.samplingfrequencyindex>>>1,p.samplingfrequencyindex<<7|p.channelcount<<3,6,1,2]))},u=function(){return a(X.ftyp,me,xe,me,ge)},O=function(p){return a(X.hdlr,he[p])},c=function(p){return a(X.mdat,p)},P=function(p){var b=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,p.duration>>>24&255,p.duration>>>16&255,p.duration>>>8&255,p.duration&255,85,196,0,0]);return p.samplerate&&(b[12]=p.samplerate>>>24&255,b[13]=p.samplerate>>>16&255,b[14]=p.samplerate>>>8&255,b[15]=p.samplerate&255),a(X.mdhd,b)},D=function(p){return a(X.mdia,P(p),O(p.type),f(p))},d=function(p){return a(X.mfhd,new Uint8Array([0,0,0,0,(p&4278190080)>>24,(p&16711680)>>16,(p&65280)>>8,p&255]))},f=function(p){return a(X.minf,p.type==="video"?a(X.vmhd,Ye):a(X.smhd,Z),o(),z(p))},h=function(p,b){for(var y=[],T=b.length;T--;)y[T]=Y(b[T]);return a.apply(null,[X.moof,d(p)].concat(y))},m=function(p){for(var b=p.length,y=[];b--;)y[b]=x(p[b]);return a.apply(null,[X.moov,v(4294967295)].concat(y).concat(g(p)))},g=function(p){for(var b=p.length,y=[];b--;)y[b]=F(p[b]);return a.apply(null,[X.mvex].concat(y))},v=function(p){var b=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(p&4278190080)>>24,(p&16711680)>>16,(p&65280)>>8,p&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return a(X.mvhd,b)},B=function(p){var b=p.samples||[],y=new Uint8Array(4+b.length),T,E;for(E=0;E<b.length;E++)T=b[E].flags,y[E+4]=T.dependsOn<<4|T.isDependedOn<<2|T.hasRedundancy;return a(X.sdtp,y)},z=function(p){return a(X.stbl,U(p),a(X.stts,k),a(X.stsc,ae),a(X.stsz,_e),a(X.stco,q))},function(){var A,p;U=function(y){return a(X.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),y.type==="video"?A(y):p(y))},A=function(y){var T=y.sps||[],E=y.pps||[],w=[],N=[],V,ne;for(V=0;V<T.length;V++)w.push((T[V].byteLength&65280)>>>8),w.push(T[V].byteLength&255),w=w.concat(Array.prototype.slice.call(T[V]));for(V=0;V<E.length;V++)N.push((E[V].byteLength&65280)>>>8),N.push(E[V].byteLength&255),N=N.concat(Array.prototype.slice.call(E[V]));if(ne=[X.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(y.width&65280)>>8,y.width&255,(y.height&65280)>>8,y.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),a(X.avcC,new Uint8Array([1,y.profileIdc,y.profileCompatibility,y.levelIdc,255].concat([T.length],w,[E.length],N))),a(X.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],y.sarRatio){var te=y.sarRatio[0],se=y.sarRatio[1];ne.push(a(X.pasp,new Uint8Array([(te&4278190080)>>24,(te&16711680)>>16,(te&65280)>>8,te&255,(se&4278190080)>>24,(se&16711680)>>16,(se&65280)>>8,se&255])))}return a.apply(null,ne)},p=function(y){return a(X.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(y.channelcount&65280)>>8,y.channelcount&255,(y.samplesize&65280)>>8,y.samplesize&255,0,0,0,0,(y.samplerate&65280)>>8,y.samplerate&255,0,0]),l(y))}}(),S=function(p){var b=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(p.id&4278190080)>>24,(p.id&16711680)>>16,(p.id&65280)>>8,p.id&255,0,0,0,0,(p.duration&4278190080)>>24,(p.duration&16711680)>>16,(p.duration&65280)>>8,p.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(p.width&65280)>>8,p.width&255,0,0,(p.height&65280)>>8,p.height&255,0,0]);return a(X.tkhd,b)},Y=function(p){var b,y,T,E,w,N,V;return b=a(X.tfhd,new Uint8Array([0,0,0,58,(p.id&4278190080)>>24,(p.id&16711680)>>16,(p.id&65280)>>8,p.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),N=Math.floor(p.baseMediaDecodeTime/s),V=Math.floor(p.baseMediaDecodeTime%s),y=a(X.tfdt,new Uint8Array([1,0,0,0,N>>>24&255,N>>>16&255,N>>>8&255,N&255,V>>>24&255,V>>>16&255,V>>>8&255,V&255])),w=32+20+8+16+8+8,p.type==="audio"?(T=ue(p,w),a(X.traf,b,y,T)):(E=B(p),T=ue(p,E.length+w),a(X.traf,b,y,T,E))},x=function(p){return p.duration=p.duration||4294967295,a(X.trak,S(p),D(p))},F=function(p){var b=new Uint8Array([0,0,0,0,(p.id&4278190080)>>24,(p.id&16711680)>>16,(p.id&65280)>>8,p.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return p.type!=="video"&&(b[b.length-1]=0),a(X.trex,b)},function(){var A,p,b;b=function(T,E){var w=0,N=0,V=0,ne=0;return T.length&&(T[0].duration!==void 0&&(w=1),T[0].size!==void 0&&(N=2),T[0].flags!==void 0&&(V=4),T[0].compositionTimeOffset!==void 0&&(ne=8)),[0,0,w|N|V|ne,1,(T.length&4278190080)>>>24,(T.length&16711680)>>>16,(T.length&65280)>>>8,T.length&255,(E&4278190080)>>>24,(E&16711680)>>>16,(E&65280)>>>8,E&255]},p=function(T,E){var w,N,V,ne,te,se;for(ne=T.samples||[],E+=8+12+16*ne.length,V=b(ne,E),N=new Uint8Array(V.length+ne.length*16),N.set(V),w=V.length,se=0;se<ne.length;se++)te=ne[se],N[w++]=(te.duration&4278190080)>>>24,N[w++]=(te.duration&16711680)>>>16,N[w++]=(te.duration&65280)>>>8,N[w++]=te.duration&255,N[w++]=(te.size&4278190080)>>>24,N[w++]=(te.size&16711680)>>>16,N[w++]=(te.size&65280)>>>8,N[w++]=te.size&255,N[w++]=te.flags.isLeading<<2|te.flags.dependsOn,N[w++]=te.flags.isDependedOn<<6|te.flags.hasRedundancy<<4|te.flags.paddingValue<<1|te.flags.isNonSyncSample,N[w++]=te.flags.degradationPriority&240<<8,N[w++]=te.flags.degradationPriority&15,N[w++]=(te.compositionTimeOffset&4278190080)>>>24,N[w++]=(te.compositionTimeOffset&16711680)>>>16,N[w++]=(te.compositionTimeOffset&65280)>>>8,N[w++]=te.compositionTimeOffset&255;return a(X.trun,N)},A=function(T,E){var w,N,V,ne,te,se;for(ne=T.samples||[],E+=8+12+8*ne.length,V=b(ne,E),w=new Uint8Array(V.length+ne.length*8),w.set(V),N=V.length,se=0;se<ne.length;se++)te=ne[se],w[N++]=(te.duration&4278190080)>>>24,w[N++]=(te.duration&16711680)>>>16,w[N++]=(te.duration&65280)>>>8,w[N++]=te.duration&255,w[N++]=(te.size&4278190080)>>>24,w[N++]=(te.size&16711680)>>>16,w[N++]=(te.size&65280)>>>8,w[N++]=te.size&255;return a(X.trun,w)},ue=function(T,E){return T.type==="audio"?A(T,E):p(T,E)}}();var W={ftyp:u,mdat:c,moof:h,moov:m,initSegment:function(p){var b=u(),y=m(p),T;return T=new Uint8Array(b.byteLength+y.byteLength),T.set(b),T.set(y,b.byteLength),T}},L=function(p){var b,y,T=[],E=[];for(E.byteLength=0,E.nalCount=0,E.duration=0,T.byteLength=0,b=0;b<p.length;b++)y=p[b],y.nalUnitType==="access_unit_delimiter_rbsp"?(T.length&&(T.duration=y.dts-T.dts,E.byteLength+=T.byteLength,E.nalCount+=T.length,E.duration+=T.duration,E.push(T)),T=[y],T.byteLength=y.data.byteLength,T.pts=y.pts,T.dts=y.dts):(y.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(T.keyFrame=!0),T.duration=y.dts-T.dts,T.byteLength+=y.data.byteLength,T.push(y));return E.length&&(!T.duration||T.duration<=0)&&(T.duration=E[E.length-1].duration),E.byteLength+=T.byteLength,E.nalCount+=T.length,E.duration+=T.duration,E.push(T),E},$=function(p){var b,y,T=[],E=[];for(T.byteLength=0,T.nalCount=0,T.duration=0,T.pts=p[0].pts,T.dts=p[0].dts,E.byteLength=0,E.nalCount=0,E.duration=0,E.pts=p[0].pts,E.dts=p[0].dts,b=0;b<p.length;b++)y=p[b],y.keyFrame?(T.length&&(E.push(T),E.byteLength+=T.byteLength,E.nalCount+=T.nalCount,E.duration+=T.duration),T=[y],T.nalCount=y.length,T.byteLength=y.byteLength,T.pts=y.pts,T.dts=y.dts,T.duration=y.duration):(T.duration+=y.duration,T.nalCount+=y.length,T.byteLength+=y.byteLength,T.push(y));return E.length&&T.duration<=0&&(T.duration=E[E.length-1].duration),E.byteLength+=T.byteLength,E.nalCount+=T.nalCount,E.duration+=T.duration,E.push(T),E},I=function(p){var b;return!p[0][0].keyFrame&&p.length>1&&(b=p.shift(),p.byteLength-=b.byteLength,p.nalCount-=b.nalCount,p[0][0].dts=b.dts,p[0][0].pts=b.pts,p[0][0].duration+=b.duration),p},K=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},pe=function(p,b){var y=K();return y.dataOffset=b,y.compositionTimeOffset=p.pts-p.dts,y.duration=p.duration,y.size=4*p.length,y.size+=p.byteLength,p.keyFrame&&(y.flags.dependsOn=2,y.flags.isNonSyncSample=0),y},ve=function(p,b){var y,T,E,w,N,V=b||0,ne=[];for(y=0;y<p.length;y++)for(w=p[y],T=0;T<w.length;T++)N=w[T],E=pe(N,V),V+=E.size,ne.push(E);return ne},R=function(p){var b,y,T,E,w,N,V=0,ne=p.byteLength,te=p.nalCount,se=ne+4*te,we=new Uint8Array(se),Be=new DataView(we.buffer);for(b=0;b<p.length;b++)for(E=p[b],y=0;y<E.length;y++)for(w=E[y],T=0;T<w.length;T++)N=w[T],Be.setUint32(V,N.data.byteLength),V+=4,we.set(N.data,V),V+=N.data.byteLength;return we},M=function(p,b){var y,T=b||0,E=[];return y=pe(p,T),E.push(y),E},ie=function(p){var b,y,T=0,E=p.byteLength,w=p.length,N=E+4*w,V=new Uint8Array(N),ne=new DataView(V.buffer);for(b=0;b<p.length;b++)y=p[b],ne.setUint32(T,y.data.byteLength),T+=4,V.set(y.data,T),T+=y.data.byteLength;return V},ye={groupNalsIntoFrames:L,groupFramesIntoGops:$,extendFirstKeyFrame:I,generateSampleTable:ve,concatenateNalData:R,generateSampleTableForFrame:M,concatenateNalDataForFrame:ie},H=[33,16,5,32,164,27],fe=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],ce=function(p){for(var b=[];p--;)b.push(0);return b},ee=function(p){return Object.keys(p).reduce(function(b,y){return b[y]=new Uint8Array(p[y].reduce(function(T,E){return T.concat(E)},[])),b},{})},oe,be=function(){if(!oe){var p={96e3:[H,[227,64],ce(154),[56]],88200:[H,[231],ce(170),[56]],64e3:[H,[248,192],ce(240),[56]],48e3:[H,[255,192],ce(268),[55,148,128],ce(54),[112]],44100:[H,[255,192],ce(268),[55,163,128],ce(84),[112]],32e3:[H,[255,192],ce(268),[55,234],ce(226),[112]],24e3:[H,[255,192],ce(268),[55,255,128],ce(268),[111,112],ce(126),[224]],16e3:[H,[255,192],ce(268),[55,255,128],ce(268),[111,255],ce(269),[223,108],ce(195),[1,192]],12e3:[fe,ce(268),[3,127,248],ce(268),[6,255,240],ce(268),[13,255,224],ce(268),[27,253,128],ce(259),[56]],11025:[fe,ce(268),[3,127,248],ce(268),[6,255,240],ce(268),[13,255,224],ce(268),[27,255,192],ce(268),[55,175,128],ce(108),[112]],8e3:[fe,ce(268),[3,121,16],ce(47),[7]]};oe=ee(p)}return oe},Pe=9e4,Re,Ie,He,Xe,pt,Qe,ut;Re=function(p){return p*Pe},Ie=function(p,b){return p*b},He=function(p){return p/Pe},Xe=function(p,b){return p/b},pt=function(p,b){return Re(Xe(p,b))},Qe=function(p,b){return Ie(He(p),b)},ut=function(p,b,y){return He(y?p:p-b)};var je={ONE_SECOND_IN_TS:Pe,secondsToVideoTs:Re,secondsToAudioTs:Ie,videoTsToSeconds:He,audioTsToSeconds:Xe,audioTsToVideoTs:pt,videoTsToAudioTs:Qe,metadataTsToSeconds:ut},_t=function(p){var b,y,T=0;for(b=0;b<p.length;b++)y=p[b],T+=y.data.byteLength;return T},at=function(p,b,y,T){var E,w=0,N=0,V=0,ne=0,te,se,we;if(!!b.length&&(E=je.audioTsToVideoTs(p.baseMediaDecodeTime,p.samplerate),w=Math.ceil(je.ONE_SECOND_IN_TS/(p.samplerate/1024)),y&&T&&(N=E-Math.max(y,T),V=Math.floor(N/w),ne=V*w),!(V<1||ne>je.ONE_SECOND_IN_TS/2))){for(te=be()[p.samplerate],te||(te=b[0].data),se=0;se<V;se++)we=b[0],b.splice(0,0,{data:te,dts:we.dts-w,pts:we.pts-w});return p.baseMediaDecodeTime-=Math.floor(je.videoTsToAudioTs(ne,p.samplerate)),ne}},Ue=function(p,b,y){return b.minSegmentDts>=y?p:(b.minSegmentDts=1/0,p.filter(function(T){return T.dts>=y?(b.minSegmentDts=Math.min(b.minSegmentDts,T.dts),b.minSegmentPts=b.minSegmentDts,!0):!1}))},Mt=function(p){var b,y,T=[];for(b=0;b<p.length;b++)y=p[b],T.push({size:y.data.byteLength,duration:1024});return T},dt=function(p){var b,y,T=0,E=new Uint8Array(_t(p));for(b=0;b<p.length;b++)y=p[b],E.set(y.data,T),T+=y.data.byteLength;return E},At={prefixWithSilence:at,trimAdtsFramesByEarliestDts:Ue,generateSampleTable:Mt,concatenateFrameData:dt},Zr=je.ONE_SECOND_IN_TS,un=function(p,b){typeof b.pts=="number"&&(p.timelineStartInfo.pts===void 0&&(p.timelineStartInfo.pts=b.pts),p.minSegmentPts===void 0?p.minSegmentPts=b.pts:p.minSegmentPts=Math.min(p.minSegmentPts,b.pts),p.maxSegmentPts===void 0?p.maxSegmentPts=b.pts:p.maxSegmentPts=Math.max(p.maxSegmentPts,b.pts)),typeof b.dts=="number"&&(p.timelineStartInfo.dts===void 0&&(p.timelineStartInfo.dts=b.dts),p.minSegmentDts===void 0?p.minSegmentDts=b.dts:p.minSegmentDts=Math.min(p.minSegmentDts,b.dts),p.maxSegmentDts===void 0?p.maxSegmentDts=b.dts:p.maxSegmentDts=Math.max(p.maxSegmentDts,b.dts))},cn=function(p){delete p.minSegmentDts,delete p.maxSegmentDts,delete p.minSegmentPts,delete p.maxSegmentPts},mr=function(p,b){var y,T,E=p.minSegmentDts;return b||(E-=p.timelineStartInfo.dts),y=p.timelineStartInfo.baseMediaDecodeTime,y+=E,y=Math.max(0,y),p.type==="audio"&&(T=p.samplerate/Zr,y*=T,y=Math.floor(y)),y},Qt={clearDtsInfo:cn,calculateTrackBaseMediaDecodeTime:mr,collectDtsInfo:un},ci=4,fo=128,sa=function(p){for(var b=0,y={payloadType:-1,payloadSize:0},T=0,E=0;b<p.byteLength&&p[b]!==fo;){for(;p[b]===255;)T+=255,b++;for(T+=p[b++];p[b]===255;)E+=255,b++;if(E+=p[b++],!y.payload&&T===ci){var w=String.fromCharCode(p[b+3],p[b+4],p[b+5],p[b+6]);if(w==="GA94"){y.payloadType=T,y.payloadSize=E,y.payload=p.subarray(b,b+E);break}else y.payload=void 0}b+=E,T=0,E=0}return y},ar=function(p){return p.payload[0]!==181||(p.payload[1]<<8|p.payload[2])!==49||String.fromCharCode(p.payload[3],p.payload[4],p.payload[5],p.payload[6])!=="GA94"||p.payload[7]!==3?null:p.payload.subarray(8,p.payload.length-1)},ho=function(p,b){var y=[],T,E,w,N;if(!(b[0]&64))return y;for(E=b[0]&31,T=0;T<E;T++)w=T*3,N={type:b[w+2]&3,pts:p},b[w+2]&4&&(N.ccData=b[w+3]<<8|b[w+4],y.push(N));return y},dn=function(p){for(var b=p.byteLength,y=[],T=1,E,w;T<b-2;)p[T]===0&&p[T+1]===0&&p[T+2]===3?(y.push(T+2),T+=2):T++;if(y.length===0)return p;E=b-y.length,w=new Uint8Array(E);var N=0;for(T=0;T<E;N++,T++)N===y[0]&&(N++,y.shift()),w[T]=p[N];return w},Yi={parseSei:sa,parseUserData:ar,parseCaptionPackets:ho,discardEmulationPreventionBytes:dn,USER_DATA_REGISTERED_ITU_T_T35:ci},or=function A(p){p=p||{},A.prototype.init.call(this),this.parse708captions_=typeof p.parse708captions=="boolean"?p.parse708captions:!0,this.captionPackets_=[],this.ccStreams_=[new Ct(0,0),new Ct(0,1),new Ct(1,0),new Ct(1,1)],this.parse708captions_&&(this.cc708Stream_=new ft({captionServices:p.captionServices})),this.reset(),this.ccStreams_.forEach(function(b){b.on("data",this.trigger.bind(this,"data")),b.on("partialdone",this.trigger.bind(this,"partialdone")),b.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};or.prototype=new e,or.prototype.push=function(A){var p,b,y;if(A.nalUnitType==="sei_rbsp"&&(p=Yi.parseSei(A.escapedRBSP),!!p.payload&&p.payloadType===Yi.USER_DATA_REGISTERED_ITU_T_T35&&(b=Yi.parseUserData(p),!!b))){if(A.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}else if(A.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}y=Yi.parseCaptionPackets(A.pts,b),this.captionPackets_=this.captionPackets_.concat(y),this.latestDts_!==A.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=A.dts}},or.prototype.flushCCStreams=function(A){this.ccStreams_.forEach(function(p){return A==="flush"?p.flush():p.partialFlush()},this)},or.prototype.flushStream=function(A){if(!this.captionPackets_.length){this.flushCCStreams(A);return}this.captionPackets_.forEach(function(p,b){p.presortIndex=b}),this.captionPackets_.sort(function(p,b){return p.pts===b.pts?p.presortIndex-b.presortIndex:p.pts-b.pts}),this.captionPackets_.forEach(function(p){p.type<2?this.dispatchCea608Packet(p):this.dispatchCea708Packet(p)},this),this.captionPackets_.length=0,this.flushCCStreams(A)},or.prototype.flush=function(){return this.flushStream("flush")},or.prototype.partialFlush=function(){return this.flushStream("partialFlush")},or.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(A){A.reset()})},or.prototype.dispatchCea608Packet=function(A){this.setsTextOrXDSActive(A)?this.activeCea608Channel_[A.type]=null:this.setsChannel1Active(A)?this.activeCea608Channel_[A.type]=0:this.setsChannel2Active(A)&&(this.activeCea608Channel_[A.type]=1),this.activeCea608Channel_[A.type]!==null&&this.ccStreams_[(A.type<<1)+this.activeCea608Channel_[A.type]].push(A)},or.prototype.setsChannel1Active=function(A){return(A.ccData&30720)===4096},or.prototype.setsChannel2Active=function(A){return(A.ccData&30720)===6144},or.prototype.setsTextOrXDSActive=function(A){return(A.ccData&28928)===256||(A.ccData&30974)===4138||(A.ccData&30974)===6186},or.prototype.dispatchCea708Packet=function(A){this.parse708captions_&&this.cc708Stream_.push(A)};var Vt={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},Ar=function(p){var b=Vt[p]||p;return p&4096&&p===b?"":String.fromCharCode(b)},tr=function(p){return 32<=p&&p<=127||160<=p&&p<=255},Gt=function(p){this.windowNum=p,this.reset()};Gt.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},Gt.prototype.getText=function(){return this.rows.join(`
`)},Gt.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},Gt.prototype.newLine=function(A){for(this.rows.length>=this.virtualRowCount&&typeof this.beforeRowOverflow=="function"&&this.beforeRowOverflow(A),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},Gt.prototype.isEmpty=function(){return this.rows.length===0?!0:this.rows.length===1?this.rows[0]==="":!1},Gt.prototype.addText=function(A){this.rows[this.rowIdx]+=A},Gt.prototype.backspace=function(){if(!this.isEmpty()){var A=this.rows[this.rowIdx];this.rows[this.rowIdx]=A.substr(0,A.length-1)}};var Xt=function(p,b,y){this.serviceNum=p,this.text="",this.currentWindow=new Gt(-1),this.windows=[],this.stream=y,typeof b=="string"&&this.createTextDecoder(b)};Xt.prototype.init=function(A,p){this.startPts=A;for(var b=0;b<8;b++)this.windows[b]=new Gt(b),typeof p=="function"&&(this.windows[b].beforeRowOverflow=p)},Xt.prototype.setCurrentWindow=function(A){this.currentWindow=this.windows[A]},Xt.prototype.createTextDecoder=function(A){if(typeof TextDecoder=="undefined")this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(A)}catch(p){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+A+" encoding. "+p})}};var ft=function A(p){p=p||{},A.prototype.init.call(this);var b=this,y=p.captionServices||{},T={},E;Object.keys(y).forEach(function(w){E=y[w],/^SERVICE/.test(w)&&(T[w]=E.encoding)}),this.serviceEncodings=T,this.current708Packet=null,this.services={},this.push=function(w){w.type===3?(b.new708Packet(),b.add708Bytes(w)):(b.current708Packet===null&&b.new708Packet(),b.add708Bytes(w))}};ft.prototype=new e,ft.prototype.new708Packet=function(){this.current708Packet!==null&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},ft.prototype.add708Bytes=function(A){var p=A.ccData,b=p>>>8,y=p&255;this.current708Packet.ptsVals.push(A.pts),this.current708Packet.data.push(b),this.current708Packet.data.push(y)},ft.prototype.push708Packet=function(){var A=this.current708Packet,p=A.data,b=null,y=null,T=0,E=p[T++];for(A.seq=E>>6,A.sizeCode=E&63;T<p.length;T++)E=p[T++],b=E>>5,y=E&31,b===7&&y>0&&(E=p[T++],b=E),this.pushServiceBlock(b,T,y),y>0&&(T+=y-1)},ft.prototype.pushServiceBlock=function(A,p,b){var y,T=p,E=this.current708Packet.data,w=this.services[A];for(w||(w=this.initService(A,T));T<p+b&&T<E.length;T++)y=E[T],tr(y)?T=this.handleText(T,w):y===24?T=this.multiByteCharacter(T,w):y===16?T=this.extendedCommands(T,w):128<=y&&y<=135?T=this.setCurrentWindow(T,w):152<=y&&y<=159?T=this.defineWindow(T,w):y===136?T=this.clearWindows(T,w):y===140?T=this.deleteWindows(T,w):y===137?T=this.displayWindows(T,w):y===138?T=this.hideWindows(T,w):y===139?T=this.toggleWindows(T,w):y===151?T=this.setWindowAttributes(T,w):y===144?T=this.setPenAttributes(T,w):y===145?T=this.setPenColor(T,w):y===146?T=this.setPenLocation(T,w):y===143?w=this.reset(T,w):y===8?w.currentWindow.backspace():y===12?w.currentWindow.clearText():y===13?w.currentWindow.pendingNewLine=!0:y===14?w.currentWindow.clearText():y===141&&T++},ft.prototype.extendedCommands=function(A,p){var b=this.current708Packet.data,y=b[++A];return tr(y)&&(A=this.handleText(A,p,{isExtended:!0})),A},ft.prototype.getPts=function(A){return this.current708Packet.ptsVals[Math.floor(A/2)]},ft.prototype.initService=function(A,p){var y="SERVICE"+A,b=this,y,T;return y in this.serviceEncodings&&(T=this.serviceEncodings[y]),this.services[A]=new Xt(A,T,b),this.services[A].init(this.getPts(p),function(E){b.flushDisplayed(E,b.services[A])}),this.services[A]},ft.prototype.handleText=function(A,p,b){var y=b&&b.isExtended,T=b&&b.isMultiByte,E=this.current708Packet.data,w=y?4096:0,N=E[A],V=E[A+1],ne=p.currentWindow,te,se;return p.textDecoder_&&!y?(T?(se=[N,V],A++):se=[N],te=p.textDecoder_.decode(new Uint8Array(se))):te=Ar(w|N),ne.pendingNewLine&&!ne.isEmpty()&&ne.newLine(this.getPts(A)),ne.pendingNewLine=!1,ne.addText(te),A},ft.prototype.multiByteCharacter=function(A,p){var b=this.current708Packet.data,y=b[A+1],T=b[A+2];return tr(y)&&tr(T)&&(A=this.handleText(++A,p,{isMultiByte:!0})),A},ft.prototype.setCurrentWindow=function(A,p){var b=this.current708Packet.data,y=b[A],T=y&7;return p.setCurrentWindow(T),A},ft.prototype.defineWindow=function(A,p){var b=this.current708Packet.data,y=b[A],T=y&7;p.setCurrentWindow(T);var E=p.currentWindow;return y=b[++A],E.visible=(y&32)>>5,E.rowLock=(y&16)>>4,E.columnLock=(y&8)>>3,E.priority=y&7,y=b[++A],E.relativePositioning=(y&128)>>7,E.anchorVertical=y&127,y=b[++A],E.anchorHorizontal=y,y=b[++A],E.anchorPoint=(y&240)>>4,E.rowCount=y&15,y=b[++A],E.columnCount=y&63,y=b[++A],E.windowStyle=(y&56)>>3,E.penStyle=y&7,E.virtualRowCount=E.rowCount+1,A},ft.prototype.setWindowAttributes=function(A,p){var b=this.current708Packet.data,y=b[A],T=p.currentWindow.winAttr;return y=b[++A],T.fillOpacity=(y&192)>>6,T.fillRed=(y&48)>>4,T.fillGreen=(y&12)>>2,T.fillBlue=y&3,y=b[++A],T.borderType=(y&192)>>6,T.borderRed=(y&48)>>4,T.borderGreen=(y&12)>>2,T.borderBlue=y&3,y=b[++A],T.borderType+=(y&128)>>5,T.wordWrap=(y&64)>>6,T.printDirection=(y&48)>>4,T.scrollDirection=(y&12)>>2,T.justify=y&3,y=b[++A],T.effectSpeed=(y&240)>>4,T.effectDirection=(y&12)>>2,T.displayEffect=y&3,A},ft.prototype.flushDisplayed=function(A,p){for(var b=[],y=0;y<8;y++)p.windows[y].visible&&!p.windows[y].isEmpty()&&b.push(p.windows[y].getText());p.endPts=A,p.text=b.join(`

`),this.pushCaption(p),p.startPts=A},ft.prototype.pushCaption=function(A){A.text!==""&&(this.trigger("data",{startPts:A.startPts,endPts:A.endPts,text:A.text,stream:"cc708_"+A.serviceNum}),A.text="",A.startPts=A.endPts)},ft.prototype.displayWindows=function(A,p){var b=this.current708Packet.data,y=b[++A],T=this.getPts(A);this.flushDisplayed(T,p);for(var E=0;E<8;E++)y&1<<E&&(p.windows[E].visible=1);return A},ft.prototype.hideWindows=function(A,p){var b=this.current708Packet.data,y=b[++A],T=this.getPts(A);this.flushDisplayed(T,p);for(var E=0;E<8;E++)y&1<<E&&(p.windows[E].visible=0);return A},ft.prototype.toggleWindows=function(A,p){var b=this.current708Packet.data,y=b[++A],T=this.getPts(A);this.flushDisplayed(T,p);for(var E=0;E<8;E++)y&1<<E&&(p.windows[E].visible^=1);return A},ft.prototype.clearWindows=function(A,p){var b=this.current708Packet.data,y=b[++A],T=this.getPts(A);this.flushDisplayed(T,p);for(var E=0;E<8;E++)y&1<<E&&p.windows[E].clearText();return A},ft.prototype.deleteWindows=function(A,p){var b=this.current708Packet.data,y=b[++A],T=this.getPts(A);this.flushDisplayed(T,p);for(var E=0;E<8;E++)y&1<<E&&p.windows[E].reset();return A},ft.prototype.setPenAttributes=function(A,p){var b=this.current708Packet.data,y=b[A],T=p.currentWindow.penAttr;return y=b[++A],T.textTag=(y&240)>>4,T.offset=(y&12)>>2,T.penSize=y&3,y=b[++A],T.italics=(y&128)>>7,T.underline=(y&64)>>6,T.edgeType=(y&56)>>3,T.fontStyle=y&7,A},ft.prototype.setPenColor=function(A,p){var b=this.current708Packet.data,y=b[A],T=p.currentWindow.penColor;return y=b[++A],T.fgOpacity=(y&192)>>6,T.fgRed=(y&48)>>4,T.fgGreen=(y&12)>>2,T.fgBlue=y&3,y=b[++A],T.bgOpacity=(y&192)>>6,T.bgRed=(y&48)>>4,T.bgGreen=(y&12)>>2,T.bgBlue=y&3,y=b[++A],T.edgeRed=(y&48)>>4,T.edgeGreen=(y&12)>>2,T.edgeBlue=y&3,A},ft.prototype.setPenLocation=function(A,p){var b=this.current708Packet.data,y=b[A],T=p.currentWindow.penLoc;return p.currentWindow.pendingNewLine=!0,y=b[++A],T.row=y&15,y=b[++A],T.column=y&63,A},ft.prototype.reset=function(A,p){var b=this.getPts(A);return this.flushDisplayed(b,p),this.initService(p.serviceNum,A)};var wi={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},di=function(p){return p===null?"":(p=wi[p]||p,String.fromCharCode(p))},fn=14,ru=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Pi=function(){for(var p=[],b=fn+1;b--;)p.push("");return p},Ct=function A(p,b){A.prototype.init.call(this),this.field_=p||0,this.dataChannel_=b||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(y){var T,E,w,N,V;if(T=y.ccData&32639,T===this.lastControlCode_){this.lastControlCode_=null;return}if((T&61440)===4096?this.lastControlCode_=T:T!==this.PADDING_&&(this.lastControlCode_=null),w=T>>>8,N=T&255,T!==this.PADDING_)if(T===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(T===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(y.pts),this.flushDisplayed(y.pts),E=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=E,this.startPts_=y.pts;else if(T===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(y.pts);else if(T===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(y.pts);else if(T===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(y.pts);else if(T===this.CARRIAGE_RETURN_)this.clearFormatting(y.pts),this.flushDisplayed(y.pts),this.shiftRowsUp_(),this.startPts_=y.pts;else if(T===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(T===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(y.pts),this.displayed_=Pi();else if(T===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Pi();else if(T===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(y.pts),this.displayed_=Pi()),this.mode_="paintOn",this.startPts_=y.pts;else if(this.isSpecialCharacter(w,N))w=(w&3)<<8,V=di(w|N),this[this.mode_](y.pts,V),this.column_++;else if(this.isExtCharacter(w,N))this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),w=(w&3)<<8,V=di(w|N),this[this.mode_](y.pts,V),this.column_++;else if(this.isMidRowCode(w,N))this.clearFormatting(y.pts),this[this.mode_](y.pts," "),this.column_++,(N&14)===14&&this.addFormatting(y.pts,["i"]),(N&1)===1&&this.addFormatting(y.pts,["u"]);else if(this.isOffsetControlCode(w,N))this.column_+=N&3;else if(this.isPAC(w,N)){var ne=ru.indexOf(T&7968);this.mode_==="rollUp"&&(ne-this.rollUpRows_+1<0&&(ne=this.rollUpRows_-1),this.setRollUp(y.pts,ne)),ne!==this.row_&&(this.clearFormatting(y.pts),this.row_=ne),N&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(y.pts,["u"]),(T&16)===16&&(this.column_=((T&14)>>1)*4),this.isColorPAC(N)&&(N&14)===14&&this.addFormatting(y.pts,["i"])}else this.isNormalChar(w)&&(N===0&&(N=null),V=di(w),V+=di(N),this[this.mode_](y.pts,V),this.column_+=V.length)}};Ct.prototype=new e,Ct.prototype.flushDisplayed=function(A){var p=this.displayed_.map(function(b,y){try{return b.trim()}catch{return this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+y+"."}),""}},this).join(`
`).replace(/^\n+|\n+$/g,"");p.length&&this.trigger("data",{startPts:this.startPts_,endPts:A,text:p,stream:this.name_})},Ct.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Pi(),this.nonDisplayed_=Pi(),this.lastControlCode_=null,this.column_=0,this.row_=fn,this.rollUpRows_=2,this.formatting_=[]},Ct.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=this.CONTROL_|32,this.END_OF_CAPTION_=this.CONTROL_|47,this.ROLL_UP_2_ROWS_=this.CONTROL_|37,this.ROLL_UP_3_ROWS_=this.CONTROL_|38,this.ROLL_UP_4_ROWS_=this.CONTROL_|39,this.CARRIAGE_RETURN_=this.CONTROL_|45,this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41,this.BACKSPACE_=this.CONTROL_|33,this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44,this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46},Ct.prototype.isSpecialCharacter=function(A,p){return A===this.EXT_&&p>=48&&p<=63},Ct.prototype.isExtCharacter=function(A,p){return(A===this.EXT_+1||A===this.EXT_+2)&&p>=32&&p<=63},Ct.prototype.isMidRowCode=function(A,p){return A===this.EXT_&&p>=32&&p<=47},Ct.prototype.isOffsetControlCode=function(A,p){return A===this.OFFSET_&&p>=33&&p<=35},Ct.prototype.isPAC=function(A,p){return A>=this.BASE_&&A<this.BASE_+8&&p>=64&&p<=127},Ct.prototype.isColorPAC=function(A){return A>=64&&A<=79||A>=96&&A<=127},Ct.prototype.isNormalChar=function(A){return A>=32&&A<=127},Ct.prototype.setRollUp=function(A,p){if(this.mode_!=="rollUp"&&(this.row_=fn,this.mode_="rollUp",this.flushDisplayed(A),this.nonDisplayed_=Pi(),this.displayed_=Pi()),p!==void 0&&p!==this.row_)for(var b=0;b<this.rollUpRows_;b++)this.displayed_[p-b]=this.displayed_[this.row_-b],this.displayed_[this.row_-b]="";p===void 0&&(p=this.row_),this.topRow_=p-this.rollUpRows_+1},Ct.prototype.addFormatting=function(A,p){this.formatting_=this.formatting_.concat(p);var b=p.reduce(function(y,T){return y+"<"+T+">"},"");this[this.mode_](A,b)},Ct.prototype.clearFormatting=function(A){if(!!this.formatting_.length){var p=this.formatting_.reverse().reduce(function(b,y){return b+"</"+y+">"},"");this.formatting_=[],this[this.mode_](A,p)}},Ct.prototype.popOn=function(A,p){var b=this.nonDisplayed_[this.row_];b+=p,this.nonDisplayed_[this.row_]=b},Ct.prototype.rollUp=function(A,p){var b=this.displayed_[this.row_];b+=p,this.displayed_[this.row_]=b},Ct.prototype.shiftRowsUp_=function(){var A;for(A=0;A<this.topRow_;A++)this.displayed_[A]="";for(A=this.row_+1;A<fn+1;A++)this.displayed_[A]="";for(A=this.topRow_;A<this.row_;A++)this.displayed_[A]=this.displayed_[A+1];this.displayed_[this.row_]=""},Ct.prototype.paintOn=function(A,p){var b=this.displayed_[this.row_];b+=p,this.displayed_[this.row_]=b};var aa={CaptionStream:or,Cea608Stream:Ct,Cea708Stream:ft},lr={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},vs=8589934592,ym=4294967296,iu="shared",oa=function(p,b){var y=1;for(p>b&&(y=-1);Math.abs(b-p)>ym;)p+=y*vs;return p},la=function A(p){var b,y;A.prototype.init.call(this),this.type_=p||iu,this.push=function(T){this.type_!==iu&&T.type!==this.type_||(y===void 0&&(y=T.dts),T.dts=oa(T.dts,y),T.pts=oa(T.pts,y),b=T.dts,this.trigger("data",T))},this.flush=function(){y=b,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){y=void 0,b=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};la.prototype=new e;var nu={TimestampRolloverStream:la,handleRollover:oa},po=function(p,b,y){var T,E="";for(T=b;T<y;T++)E+="%"+("00"+p[T].toString(16)).slice(-2);return E},ys=function(p,b,y){return decodeURIComponent(po(p,b,y))},Ed=function(p,b,y){return unescape(po(p,b,y))},ua=function(p){return p[0]<<21|p[1]<<14|p[2]<<7|p[3]},ca={TXXX:function(p){var b;if(p.data[0]===3){for(b=1;b<p.data.length;b++)if(p.data[b]===0){p.description=ys(p.data,1,b),p.value=ys(p.data,b+1,p.data.length).replace(/\0*$/,"");break}p.data=p.value}},WXXX:function(p){var b;if(p.data[0]===3){for(b=1;b<p.data.length;b++)if(p.data[b]===0){p.description=ys(p.data,1,b),p.url=ys(p.data,b+1,p.data.length);break}}},PRIV:function(p){var b;for(b=0;b<p.data.length;b++)if(p.data[b]===0){p.owner=Ed(p.data,0,b);break}p.privateData=p.data.subarray(b+1),p.data=p.privateData}},bs;bs=function(p){var b={descriptor:p&&p.descriptor},y=0,T=[],E=0,w;if(bs.prototype.init.call(this),this.dispatchType=lr.METADATA_STREAM_TYPE.toString(16),b.descriptor)for(w=0;w<b.descriptor.length;w++)this.dispatchType+=("00"+b.descriptor[w].toString(16)).slice(-2);this.push=function(N){var V,ne,te,se,we,Be;if(N.type==="timed-metadata"){if(N.dataAlignmentIndicator&&(E=0,T.length=0),T.length===0&&(N.data.length<10||N.data[0]!=="I".charCodeAt(0)||N.data[1]!=="D".charCodeAt(0)||N.data[2]!=="3".charCodeAt(0))){this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});return}if(T.push(N),E+=N.data.byteLength,T.length===1&&(y=ua(N.data.subarray(6,10)),y+=10),!(E<y)){for(V={data:new Uint8Array(y),frames:[],pts:T[0].pts,dts:T[0].dts},we=0;we<y;)V.data.set(T[0].data.subarray(0,y-we),we),we+=T[0].data.byteLength,E-=T[0].data.byteLength,T.shift();ne=10,V.data[5]&64&&(ne+=4,ne+=ua(V.data.subarray(10,14)),y-=ua(V.data.subarray(16,20)));do{if(te=ua(V.data.subarray(ne+4,ne+8)),te<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping metadata parsing."});return}if(Be=String.fromCharCode(V.data[ne],V.data[ne+1],V.data[ne+2],V.data[ne+3]),se={id:Be,data:V.data.subarray(ne+10,ne+te+10)},se.key=se.id,ca[se.id]&&(ca[se.id](se),se.owner==="com.apple.streaming.transportStreamTimestamp")){var We=se.data,Ne=(We[3]&1)<<30|We[4]<<22|We[5]<<14|We[6]<<6|We[7]>>>2;Ne*=4,Ne+=We[7]&3,se.timeStamp=Ne,V.pts===void 0&&V.dts===void 0&&(V.pts=se.timeStamp,V.dts=se.timeStamp),this.trigger("timestamp",se)}V.frames.push(se),ne+=10,ne+=te}while(ne<y);this.trigger("data",V)}}}},bs.prototype=new e;var bm=bs,mo=nu.TimestampRolloverStream,da,_s,go,Ts=188,vo=71;da=function(){var p=new Uint8Array(Ts),b=0;da.prototype.init.call(this),this.push=function(y){var T=0,E=Ts,w;for(b?(w=new Uint8Array(y.byteLength+b),w.set(p.subarray(0,b)),w.set(y,b),b=0):w=y;E<w.byteLength;){if(w[T]===vo&&w[E]===vo){this.trigger("data",w.subarray(T,E)),T+=Ts,E+=Ts;continue}T++,E++}T<w.byteLength&&(p.set(w.subarray(T),0),b=w.byteLength-T)},this.flush=function(){b===Ts&&p[0]===vo&&(this.trigger("data",p),b=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){b=0,this.trigger("reset")}},da.prototype=new e,_s=function(){var p,b,y,T;_s.prototype.init.call(this),T=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,p=function(w,N){var V=0;N.payloadUnitStartIndicator&&(V+=w[V]+1),N.type==="pat"?b(w.subarray(V),N):y(w.subarray(V),N)},b=function(w,N){N.section_number=w[7],N.last_section_number=w[8],T.pmtPid=(w[10]&31)<<8|w[11],N.pmtPid=T.pmtPid},y=function(w,N){var V,ne,te,se;if(!!(w[5]&1)){for(T.programMapTable={video:null,audio:null,"timed-metadata":{}},V=(w[1]&15)<<8|w[2],ne=3+V-4,te=(w[10]&15)<<8|w[11],se=12+te;se<ne;){var we=w[se],Be=(w[se+1]&31)<<8|w[se+2];we===lr.H264_STREAM_TYPE&&T.programMapTable.video===null?T.programMapTable.video=Be:we===lr.ADTS_STREAM_TYPE&&T.programMapTable.audio===null?T.programMapTable.audio=Be:we===lr.METADATA_STREAM_TYPE&&(T.programMapTable["timed-metadata"][Be]=we),se+=((w[se+3]&15)<<8|w[se+4])+5}N.programMapTable=T.programMapTable}},this.push=function(E){var w={},N=4;if(w.payloadUnitStartIndicator=!!(E[1]&64),w.pid=E[1]&31,w.pid<<=8,w.pid|=E[2],(E[3]&48)>>>4>1&&(N+=E[N]+1),w.pid===0)w.type="pat",p(E.subarray(N),w),this.trigger("data",w);else if(w.pid===this.pmtPid)for(w.type="pmt",p(E.subarray(N),w),this.trigger("data",w);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([E,N,w]):this.processPes_(E,N,w)},this.processPes_=function(E,w,N){N.pid===this.programMapTable.video?N.streamType=lr.H264_STREAM_TYPE:N.pid===this.programMapTable.audio?N.streamType=lr.ADTS_STREAM_TYPE:N.streamType=this.programMapTable["timed-metadata"][N.pid],N.type="pes",N.data=E.subarray(w),this.trigger("data",N)}},_s.prototype=new e,_s.STREAM_TYPES={h264:27,adts:15},go=function(){var p=this,b=!1,y={data:[],size:0},T={data:[],size:0},E={data:[],size:0},w,N=function(te,se){var we,Be=te[0]<<16|te[1]<<8|te[2];se.data=new Uint8Array,Be===1&&(se.packetLength=6+(te[4]<<8|te[5]),se.dataAlignmentIndicator=(te[6]&4)!==0,we=te[7],we&192&&(se.pts=(te[9]&14)<<27|(te[10]&255)<<20|(te[11]&254)<<12|(te[12]&255)<<5|(te[13]&254)>>>3,se.pts*=4,se.pts+=(te[13]&6)>>>1,se.dts=se.pts,we&64&&(se.dts=(te[14]&14)<<27|(te[15]&255)<<20|(te[16]&254)<<12|(te[17]&255)<<5|(te[18]&254)>>>3,se.dts*=4,se.dts+=(te[18]&6)>>>1)),se.data=te.subarray(9+te[8]))},V=function(te,se,we){var Be=new Uint8Array(te.size),We={type:se},Ne=0,tt=0,dr=!1,Ur;if(!(!te.data.length||te.size<9)){for(We.trackId=te.data[0].pid,Ne=0;Ne<te.data.length;Ne++)Ur=te.data[Ne],Be.set(Ur.data,tt),tt+=Ur.data.byteLength;N(Be,We),dr=se==="video"||We.packetLength<=te.size,(we||dr)&&(te.size=0,te.data.length=0),dr&&p.trigger("data",We)}};go.prototype.init.call(this),this.push=function(ne){({pat:function(){},pes:function(){var se,we;switch(ne.streamType){case lr.H264_STREAM_TYPE:se=y,we="video";break;case lr.ADTS_STREAM_TYPE:se=T,we="audio";break;case lr.METADATA_STREAM_TYPE:se=E,we="timed-metadata";break;default:return}ne.payloadUnitStartIndicator&&V(se,we,!0),se.data.push(ne),se.size+=ne.data.byteLength},pmt:function(){var se={type:"metadata",tracks:[]};w=ne.programMapTable,w.video!==null&&se.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+w.video,codec:"avc",type:"video"}),w.audio!==null&&se.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+w.audio,codec:"adts",type:"audio"}),b=!0,p.trigger("data",se)}})[ne.type]()},this.reset=function(){y.size=0,y.data.length=0,T.size=0,T.data.length=0,this.trigger("reset")},this.flushStreams_=function(){V(y,"video"),V(T,"audio"),V(E,"timed-metadata")},this.flush=function(){if(!b&&w){var ne={type:"metadata",tracks:[]};w.video!==null&&ne.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+w.video,codec:"avc",type:"video"}),w.audio!==null&&ne.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+w.audio,codec:"adts",type:"audio"}),p.trigger("data",ne)}b=!1,this.flushStreams_(),this.trigger("done")}},go.prototype=new e;var su={PAT_PID:0,MP2T_PACKET_LENGTH:Ts,TransportPacketStream:da,TransportParseStream:_s,ElementaryStream:go,TimestampRolloverStream:mo,CaptionStream:aa.CaptionStream,Cea608Stream:aa.Cea608Stream,Cea708Stream:aa.Cea708Stream,MetadataStream:bm};for(var yo in lr)lr.hasOwnProperty(yo)&&(su[yo]=lr[yo]);var Di=su,Cd=je.ONE_SECOND_IN_TS,bo,wd=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];bo=function(p){var b,y=0;bo.prototype.init.call(this),this.skipWarn_=function(T,E){this.trigger("log",{level:"warn",message:"adts skiping bytes "+T+" to "+E+" in frame "+y+" outside syncword"})},this.push=function(T){var E=0,w,N,V,ne,te;if(p||(y=0),T.type==="audio"){b&&b.length?(V=b,b=new Uint8Array(V.byteLength+T.data.byteLength),b.set(V),b.set(T.data,V.byteLength)):b=T.data;for(var se;E+7<b.length;){if(b[E]!==255||(b[E+1]&246)!==240){typeof se!="number"&&(se=E),E++;continue}if(typeof se=="number"&&(this.skipWarn_(se,E),se=null),N=(~b[E+1]&1)*2,w=(b[E+3]&3)<<11|b[E+4]<<3|(b[E+5]&224)>>5,ne=((b[E+6]&3)+1)*1024,te=ne*Cd/wd[(b[E+2]&60)>>>2],b.byteLength-E<w)break;this.trigger("data",{pts:T.pts+y*te,dts:T.dts+y*te,sampleCount:ne,audioobjecttype:(b[E+2]>>>6&3)+1,channelcount:(b[E+2]&1)<<2|(b[E+3]&192)>>>6,samplerate:wd[(b[E+2]&60)>>>2],samplingfrequencyindex:(b[E+2]&60)>>>2,samplesize:16,data:b.subarray(E+7+N,E+w)}),y++,E+=w}typeof se=="number"&&(this.skipWarn_(se,E),se=null),b=b.subarray(E)}},this.flush=function(){y=0,this.trigger("done")},this.reset=function(){b=void 0,this.trigger("reset")},this.endTimeline=function(){b=void 0,this.trigger("endedtimeline")}},bo.prototype=new e;var Pd=bo,Dd;Dd=function(p){var b=p.byteLength,y=0,T=0;this.length=function(){return 8*b},this.bitsAvailable=function(){return 8*b+T},this.loadWord=function(){var E=p.byteLength-b,w=new Uint8Array(4),N=Math.min(4,b);if(N===0)throw new Error("no bytes available");w.set(p.subarray(E,E+N)),y=new DataView(w.buffer).getUint32(0),T=N*8,b-=N},this.skipBits=function(E){var w;T>E?(y<<=E,T-=E):(E-=T,w=Math.floor(E/8),E-=w*8,b-=w,this.loadWord(),y<<=E,T-=E)},this.readBits=function(E){var w=Math.min(T,E),N=y>>>32-w;return T-=w,T>0?y<<=w:b>0&&this.loadWord(),w=E-w,w>0?N<<w|this.readBits(w):N},this.skipLeadingZeros=function(){var E;for(E=0;E<T;++E)if((y&2147483648>>>E)!==0)return y<<=E,T-=E,E;return this.loadWord(),E+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var E=this.skipLeadingZeros();return this.readBits(E+1)-1},this.readExpGolomb=function(){var E=this.readUnsignedExpGolomb();return 1&E?1+E>>>1:-1*(E>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var _m=Dd,_o,fa,au;fa=function(){var p=0,b,y;fa.prototype.init.call(this),this.push=function(T){var E;y?(E=new Uint8Array(y.byteLength+T.data.byteLength),E.set(y),E.set(T.data,y.byteLength),y=E):y=T.data;for(var w=y.byteLength;p<w-3;p++)if(y[p+2]===1){b=p+5;break}for(;b<w;)switch(y[b]){case 0:if(y[b-1]!==0){b+=2;break}else if(y[b-2]!==0){b++;break}p+3!==b-2&&this.trigger("data",y.subarray(p+3,b-2));do b++;while(y[b]!==1&&b<w);p=b-2,b+=3;break;case 1:if(y[b-1]!==0||y[b-2]!==0){b+=3;break}this.trigger("data",y.subarray(p+3,b-2)),p=b-2,b+=3;break;default:b+=3;break}y=y.subarray(p),b-=p,p=0},this.reset=function(){y=null,p=0,this.trigger("reset")},this.flush=function(){y&&y.byteLength>3&&this.trigger("data",y.subarray(p+3)),y=null,p=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},fa.prototype=new e,au={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},_o=function(){var p=new fa,b,y,T,E,w,N,V;_o.prototype.init.call(this),b=this,this.push=function(ne){ne.type==="video"&&(y=ne.trackId,T=ne.pts,E=ne.dts,p.push(ne))},p.on("data",function(ne){var te={trackId:y,pts:T,dts:E,data:ne,nalUnitTypeCode:ne[0]&31};switch(te.nalUnitTypeCode){case 5:te.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:te.nalUnitType="sei_rbsp",te.escapedRBSP=w(ne.subarray(1));break;case 7:te.nalUnitType="seq_parameter_set_rbsp",te.escapedRBSP=w(ne.subarray(1)),te.config=N(te.escapedRBSP);break;case 8:te.nalUnitType="pic_parameter_set_rbsp";break;case 9:te.nalUnitType="access_unit_delimiter_rbsp";break}b.trigger("data",te)}),p.on("done",function(){b.trigger("done")}),p.on("partialdone",function(){b.trigger("partialdone")}),p.on("reset",function(){b.trigger("reset")}),p.on("endedtimeline",function(){b.trigger("endedtimeline")}),this.flush=function(){p.flush()},this.partialFlush=function(){p.partialFlush()},this.reset=function(){p.reset()},this.endTimeline=function(){p.endTimeline()},V=function(te,se){var we=8,Be=8,We,Ne;for(We=0;We<te;We++)Be!==0&&(Ne=se.readExpGolomb(),Be=(we+Ne+256)%256),we=Be===0?we:Be},w=function(te){for(var se=te.byteLength,we=[],Be=1,We,Ne;Be<se-2;)te[Be]===0&&te[Be+1]===0&&te[Be+2]===3?(we.push(Be+2),Be+=2):Be++;if(we.length===0)return te;We=se-we.length,Ne=new Uint8Array(We);var tt=0;for(Be=0;Be<We;tt++,Be++)tt===we[0]&&(tt++,we.shift()),Ne[Be]=te[tt];return Ne},N=function(te){var se=0,we=0,Be=0,We=0,Ne,tt,dr,Ur,ya,wm,$_,U_,j_,Pm,V_,rr=[1,1],H_,ba;if(Ne=new _m(te),tt=Ne.readUnsignedByte(),Ur=Ne.readUnsignedByte(),dr=Ne.readUnsignedByte(),Ne.skipUnsignedExpGolomb(),au[tt]&&(ya=Ne.readUnsignedExpGolomb(),ya===3&&Ne.skipBits(1),Ne.skipUnsignedExpGolomb(),Ne.skipUnsignedExpGolomb(),Ne.skipBits(1),Ne.readBoolean()))for(V_=ya!==3?8:12,ba=0;ba<V_;ba++)Ne.readBoolean()&&(ba<6?V(16,Ne):V(64,Ne));if(Ne.skipUnsignedExpGolomb(),wm=Ne.readUnsignedExpGolomb(),wm===0)Ne.readUnsignedExpGolomb();else if(wm===1)for(Ne.skipBits(1),Ne.skipExpGolomb(),Ne.skipExpGolomb(),$_=Ne.readUnsignedExpGolomb(),ba=0;ba<$_;ba++)Ne.skipExpGolomb();if(Ne.skipUnsignedExpGolomb(),Ne.skipBits(1),U_=Ne.readUnsignedExpGolomb(),j_=Ne.readUnsignedExpGolomb(),Pm=Ne.readBits(1),Pm===0&&Ne.skipBits(1),Ne.skipBits(1),Ne.readBoolean()&&(se=Ne.readUnsignedExpGolomb(),we=Ne.readUnsignedExpGolomb(),Be=Ne.readUnsignedExpGolomb(),We=Ne.readUnsignedExpGolomb()),Ne.readBoolean()&&Ne.readBoolean()){switch(H_=Ne.readUnsignedByte(),H_){case 1:rr=[1,1];break;case 2:rr=[12,11];break;case 3:rr=[10,11];break;case 4:rr=[16,11];break;case 5:rr=[40,33];break;case 6:rr=[24,11];break;case 7:rr=[20,11];break;case 8:rr=[32,11];break;case 9:rr=[80,33];break;case 10:rr=[18,11];break;case 11:rr=[15,11];break;case 12:rr=[64,33];break;case 13:rr=[160,99];break;case 14:rr=[4,3];break;case 15:rr=[3,2];break;case 16:rr=[2,1];break;case 255:{rr=[Ne.readUnsignedByte()<<8|Ne.readUnsignedByte(),Ne.readUnsignedByte()<<8|Ne.readUnsignedByte()];break}}rr&&rr[0]/rr[1]}return{profileIdc:tt,levelIdc:dr,profileCompatibility:Ur,width:(U_+1)*16-se*2-we*2,height:(2-Pm)*(j_+1)*16-Be*2-We*2,sarRatio:rr}}},_o.prototype=new e;var Ad={H264Stream:_o,NalByteStream:fa},Tm=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],ou=function(p,b){var y=p[b+6]<<21|p[b+7]<<14|p[b+8]<<7|p[b+9],T=p[b+5],E=(T&16)>>4;return y=y>=0?y:0,E?y+20:y+10},Od=function A(p,b){return p.length-b<10||p[b]!=="I".charCodeAt(0)||p[b+1]!=="D".charCodeAt(0)||p[b+2]!=="3".charCodeAt(0)?b:(b+=ou(p,b),A(p,b))},Rd=function(p){var b=Od(p,0);return p.length>=b+2&&(p[b]&255)===255&&(p[b+1]&240)===240&&(p[b+1]&22)===16},lu=function(p){return p[0]<<21|p[1]<<14|p[2]<<7|p[3]},xm=function(p,b,y){var T,E="";for(T=b;T<y;T++)E+="%"+("00"+p[T].toString(16)).slice(-2);return E},gr=function(p,b,y){return unescape(xm(p,b,y))},To=function(p,b){var y=(p[b+5]&224)>>5,T=p[b+4]<<3,E=p[b+3]&3<<11;return E|T|y},$n=function(p,b){return p[b]==="I".charCodeAt(0)&&p[b+1]==="D".charCodeAt(0)&&p[b+2]==="3".charCodeAt(0)?"timed-metadata":p[b]&!0&&(p[b+1]&240)===240?"audio":null},j=function(p){for(var b=0;b+5<p.length;){if(p[b]!==255||(p[b+1]&246)!==240){b++;continue}return Tm[(p[b+2]&60)>>>2]}return null},G=function(p){var b,y,T,E;b=10,p[5]&64&&(b+=4,b+=lu(p.subarray(10,14)));do{if(y=lu(p.subarray(b+4,b+8)),y<1)return null;if(E=String.fromCharCode(p[b],p[b+1],p[b+2],p[b+3]),E==="PRIV"){T=p.subarray(b+10,b+y+10);for(var w=0;w<T.byteLength;w++)if(T[w]===0){var N=gr(T,0,w);if(N==="com.apple.streaming.transportStreamTimestamp"){var V=T.subarray(w+1),ne=(V[3]&1)<<30|V[4]<<22|V[5]<<14|V[6]<<6|V[7]>>>2;return ne*=4,ne+=V[7]&3,ne}break}}b+=10,b+=y}while(b<p.byteLength);return null},Q={isLikelyAacData:Rd,parseId3TagSize:ou,parseAdtsSize:To,parseType:$n,parseSampleRate:j,parseAacTimestamp:G},re;re=function(){var p=new Uint8Array,b=0;re.prototype.init.call(this),this.setTimestamp=function(y){b=y},this.push=function(y){var T=0,E=0,w,N,V,ne;for(p.length?(ne=p.length,p=new Uint8Array(y.byteLength+ne),p.set(p.subarray(0,ne)),p.set(y,ne)):p=y;p.length-E>=3;){if(p[E]==="I".charCodeAt(0)&&p[E+1]==="D".charCodeAt(0)&&p[E+2]==="3".charCodeAt(0)){if(p.length-E<10||(T=Q.parseId3TagSize(p,E),E+T>p.length))break;N={type:"timed-metadata",data:p.subarray(E,E+T)},this.trigger("data",N),E+=T;continue}else if((p[E]&255)===255&&(p[E+1]&240)===240){if(p.length-E<7||(T=Q.parseAdtsSize(p,E),E+T>p.length))break;V={type:"audio",data:p.subarray(E,E+T),pts:b,dts:b},this.trigger("data",V),E+=T;continue}E++}w=p.length-E,w>0?p=p.subarray(E):p=new Uint8Array},this.reset=function(){p=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){p=new Uint8Array,this.trigger("endedtimeline")}},re.prototype=new e;var de=re,Ee=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],ke=Ee,De=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],Me=De,Te=Ad.H264Stream,Ce=Q.isLikelyAacData,Le=je.ONE_SECOND_IN_TS,Ve,Ge,qe,nt,et=function(p,b){b.stream=p,this.trigger("log",b)},it=function(p,b){for(var y=Object.keys(b),T=0;T<y.length;T++){var E=y[T];E==="headOfPipeline"||!b[E].on||b[E].on("log",et.bind(p,E))}},fi=function(p,b){var y;if(p.length!==b.length)return!1;for(y=0;y<p.length;y++)if(p[y]!==b[y])return!1;return!0},ha=function(p,b,y,T,E,w){var N=y-b,V=T-b,ne=E-y;return{start:{dts:p,pts:p+N},end:{dts:p+V,pts:p+ne},prependedContentDuration:w,baseMediaDecodeTime:p}};Ge=function(p,b){var y=[],T,E=0,w=0,N=1/0;b=b||{},T=b.firstSequenceNumber||0,Ge.prototype.init.call(this),this.push=function(V){Qt.collectDtsInfo(p,V),p&&ke.forEach(function(ne){p[ne]=V[ne]}),y.push(V)},this.setEarliestDts=function(V){E=V},this.setVideoBaseMediaDecodeTime=function(V){N=V},this.setAudioAppendStart=function(V){w=V},this.flush=function(){var V,ne,te,se,we,Be,We;if(y.length===0){this.trigger("done","AudioSegmentStream");return}V=At.trimAdtsFramesByEarliestDts(y,p,E),p.baseMediaDecodeTime=Qt.calculateTrackBaseMediaDecodeTime(p,b.keepOriginalTimestamps),We=At.prefixWithSilence(p,V,w,N),p.samples=At.generateSampleTable(V),te=W.mdat(At.concatenateFrameData(V)),y=[],ne=W.moof(T,[p]),se=new Uint8Array(ne.byteLength+te.byteLength),T++,se.set(ne),se.set(te,ne.byteLength),Qt.clearDtsInfo(p),we=Math.ceil(Le*1024/p.samplerate),V.length&&(Be=V.length*we,this.trigger("segmentTimingInfo",ha(je.audioTsToVideoTs(p.baseMediaDecodeTime,p.samplerate),V[0].dts,V[0].pts,V[0].dts+Be,V[0].pts+Be,We||0)),this.trigger("timingInfo",{start:V[0].pts,end:V[0].pts+Be})),this.trigger("data",{track:p,boxes:se}),this.trigger("done","AudioSegmentStream")},this.reset=function(){Qt.clearDtsInfo(p),y=[],this.trigger("reset")}},Ge.prototype=new e,Ve=function(p,b){var y,T=[],E=[],w,N;b=b||{},y=b.firstSequenceNumber||0,Ve.prototype.init.call(this),delete p.minPTS,this.gopCache_=[],this.push=function(V){Qt.collectDtsInfo(p,V),V.nalUnitType==="seq_parameter_set_rbsp"&&!w&&(w=V.config,p.sps=[V.data],Me.forEach(function(ne){p[ne]=w[ne]},this)),V.nalUnitType==="pic_parameter_set_rbsp"&&!N&&(N=V.data,p.pps=[V.data]),T.push(V)},this.flush=function(){for(var V,ne,te,se,we,Be,We=0,Ne,tt;T.length&&T[0].nalUnitType!=="access_unit_delimiter_rbsp";)T.shift();if(T.length===0){this.resetStream_(),this.trigger("done","VideoSegmentStream");return}if(V=ye.groupNalsIntoFrames(T),te=ye.groupFramesIntoGops(V),te[0][0].keyFrame||(ne=this.getGopForFusion_(T[0],p),ne?(We=ne.duration,te.unshift(ne),te.byteLength+=ne.byteLength,te.nalCount+=ne.nalCount,te.pts=ne.pts,te.dts=ne.dts,te.duration+=ne.duration):te=ye.extendFirstKeyFrame(te)),E.length){var dr;if(b.alignGopsAtEnd?dr=this.alignGopsAtEnd_(te):dr=this.alignGopsAtStart_(te),!dr){this.gopCache_.unshift({gop:te.pop(),pps:p.pps,sps:p.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),T=[],this.resetStream_(),this.trigger("done","VideoSegmentStream");return}Qt.clearDtsInfo(p),te=dr}Qt.collectDtsInfo(p,te),p.samples=ye.generateSampleTable(te),we=W.mdat(ye.concatenateNalData(te)),p.baseMediaDecodeTime=Qt.calculateTrackBaseMediaDecodeTime(p,b.keepOriginalTimestamps),this.trigger("processedGopsInfo",te.map(function(Ur){return{pts:Ur.pts,dts:Ur.dts,byteLength:Ur.byteLength}})),Ne=te[0],tt=te[te.length-1],this.trigger("segmentTimingInfo",ha(p.baseMediaDecodeTime,Ne.dts,Ne.pts,tt.dts+tt.duration,tt.pts+tt.duration,We)),this.trigger("timingInfo",{start:te[0].pts,end:te[te.length-1].pts+te[te.length-1].duration}),this.gopCache_.unshift({gop:te.pop(),pps:p.pps,sps:p.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),T=[],this.trigger("baseMediaDecodeTime",p.baseMediaDecodeTime),this.trigger("timelineStartInfo",p.timelineStartInfo),se=W.moof(y,[p]),Be=new Uint8Array(se.byteLength+we.byteLength),y++,Be.set(se),Be.set(we,se.byteLength),this.trigger("data",{track:p,boxes:Be}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),T=[],this.gopCache_.length=0,E.length=0,this.trigger("reset")},this.resetStream_=function(){Qt.clearDtsInfo(p),w=void 0,N=void 0},this.getGopForFusion_=function(V){var ne=45e3,te=1e4,se=1/0,we,Be,We,Ne,tt;for(tt=0;tt<this.gopCache_.length;tt++)Ne=this.gopCache_[tt],We=Ne.gop,!(!(p.pps&&fi(p.pps[0],Ne.pps[0]))||!(p.sps&&fi(p.sps[0],Ne.sps[0])))&&(We.dts<p.timelineStartInfo.dts||(we=V.dts-We.dts-We.duration,we>=-te&&we<=ne&&(!Be||se>we)&&(Be=Ne,se=we)));return Be?Be.gop:null},this.alignGopsAtStart_=function(V){var ne,te,se,we,Be,We,Ne,tt;for(Be=V.byteLength,We=V.nalCount,Ne=V.duration,ne=te=0;ne<E.length&&te<V.length&&(se=E[ne],we=V[te],se.pts!==we.pts);){if(we.pts>se.pts){ne++;continue}te++,Be-=we.byteLength,We-=we.nalCount,Ne-=we.duration}return te===0?V:te===V.length?null:(tt=V.slice(te),tt.byteLength=Be,tt.duration=Ne,tt.nalCount=We,tt.pts=tt[0].pts,tt.dts=tt[0].dts,tt)},this.alignGopsAtEnd_=function(V){var ne,te,se,we,Be,We;for(ne=E.length-1,te=V.length-1,Be=null,We=!1;ne>=0&&te>=0;){if(se=E[ne],we=V[te],se.pts===we.pts){We=!0;break}if(se.pts>we.pts){ne--;continue}ne===E.length-1&&(Be=te),te--}if(!We&&Be===null)return null;var Ne;if(We?Ne=te:Ne=Be,Ne===0)return V;var tt=V.slice(Ne),dr=tt.reduce(function(Ur,ya){return Ur.byteLength+=ya.byteLength,Ur.duration+=ya.duration,Ur.nalCount+=ya.nalCount,Ur},{byteLength:0,duration:0,nalCount:0});return tt.byteLength=dr.byteLength,tt.duration=dr.duration,tt.nalCount=dr.nalCount,tt.pts=tt[0].pts,tt.dts=tt[0].dts,tt},this.alignGopsWith=function(V){E=V}},Ve.prototype=new e,nt=function(p,b){this.numberOfTracks=0,this.metadataStream=b,p=p||{},typeof p.remux!="undefined"?this.remuxTracks=!!p.remux:this.remuxTracks=!0,typeof p.keepOriginalTimestamps=="boolean"?this.keepOriginalTimestamps=p.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,nt.prototype.init.call(this),this.push=function(y){if(y.text)return this.pendingCaptions.push(y);if(y.frames)return this.pendingMetadata.push(y);this.pendingTracks.push(y.track),this.pendingBytes+=y.boxes.byteLength,y.track.type==="video"&&(this.videoTrack=y.track,this.pendingBoxes.push(y.boxes)),y.track.type==="audio"&&(this.audioTrack=y.track,this.pendingBoxes.unshift(y.boxes))}},nt.prototype=new e,nt.prototype.flush=function(A){var p=0,b={captions:[],captionStreams:{},metadata:[],info:{}},y,T,E,w=0,N;if(this.pendingTracks.length<this.numberOfTracks){if(A!=="VideoSegmentStream"&&A!=="AudioSegmentStream")return;if(this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++,this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}if(this.videoTrack?(w=this.videoTrack.timelineStartInfo.pts,Me.forEach(function(V){b.info[V]=this.videoTrack[V]},this)):this.audioTrack&&(w=this.audioTrack.timelineStartInfo.pts,ke.forEach(function(V){b.info[V]=this.audioTrack[V]},this)),this.videoTrack||this.audioTrack){for(this.pendingTracks.length===1?b.type=this.pendingTracks[0].type:b.type="combined",this.emittedTracks+=this.pendingTracks.length,E=W.initSegment(this.pendingTracks),b.initSegment=new Uint8Array(E.byteLength),b.initSegment.set(E),b.data=new Uint8Array(this.pendingBytes),N=0;N<this.pendingBoxes.length;N++)b.data.set(this.pendingBoxes[N],p),p+=this.pendingBoxes[N].byteLength;for(N=0;N<this.pendingCaptions.length;N++)y=this.pendingCaptions[N],y.startTime=je.metadataTsToSeconds(y.startPts,w,this.keepOriginalTimestamps),y.endTime=je.metadataTsToSeconds(y.endPts,w,this.keepOriginalTimestamps),b.captionStreams[y.stream]=!0,b.captions.push(y);for(N=0;N<this.pendingMetadata.length;N++)T=this.pendingMetadata[N],T.cueTime=je.metadataTsToSeconds(T.pts,w,this.keepOriginalTimestamps),b.metadata.push(T);for(b.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",b),N=0;N<b.captions.length;N++)y=b.captions[N],this.trigger("caption",y);for(N=0;N<b.metadata.length;N++)T=b.metadata[N],this.trigger("id3Frame",T)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},nt.prototype.setRemux=function(A){this.remuxTracks=A},qe=function(p){var b=this,y=!0,T,E;qe.prototype.init.call(this),p=p||{},this.baseMediaDecodeTime=p.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var w={};this.transmuxPipeline_=w,w.type="aac",w.metadataStream=new Di.MetadataStream,w.aacStream=new de,w.audioTimestampRolloverStream=new Di.TimestampRolloverStream("audio"),w.timedMetadataTimestampRolloverStream=new Di.TimestampRolloverStream("timed-metadata"),w.adtsStream=new Pd,w.coalesceStream=new nt(p,w.metadataStream),w.headOfPipeline=w.aacStream,w.aacStream.pipe(w.audioTimestampRolloverStream).pipe(w.adtsStream),w.aacStream.pipe(w.timedMetadataTimestampRolloverStream).pipe(w.metadataStream).pipe(w.coalesceStream),w.metadataStream.on("timestamp",function(N){w.aacStream.setTimestamp(N.timeStamp)}),w.aacStream.on("data",function(N){N.type!=="timed-metadata"&&N.type!=="audio"||w.audioSegmentStream||(E=E||{timelineStartInfo:{baseMediaDecodeTime:b.baseMediaDecodeTime},codec:"adts",type:"audio"},w.coalesceStream.numberOfTracks++,w.audioSegmentStream=new Ge(E,p),w.audioSegmentStream.on("log",b.getLogTrigger_("audioSegmentStream")),w.audioSegmentStream.on("timingInfo",b.trigger.bind(b,"audioTimingInfo")),w.adtsStream.pipe(w.audioSegmentStream).pipe(w.coalesceStream),b.trigger("trackinfo",{hasAudio:!!E,hasVideo:!!T}))}),w.coalesceStream.on("data",this.trigger.bind(this,"data")),w.coalesceStream.on("done",this.trigger.bind(this,"done")),it(this,w)},this.setupTsPipeline=function(){var w={};this.transmuxPipeline_=w,w.type="ts",w.metadataStream=new Di.MetadataStream,w.packetStream=new Di.TransportPacketStream,w.parseStream=new Di.TransportParseStream,w.elementaryStream=new Di.ElementaryStream,w.timestampRolloverStream=new Di.TimestampRolloverStream,w.adtsStream=new Pd,w.h264Stream=new Te,w.captionStream=new Di.CaptionStream(p),w.coalesceStream=new nt(p,w.metadataStream),w.headOfPipeline=w.packetStream,w.packetStream.pipe(w.parseStream).pipe(w.elementaryStream).pipe(w.timestampRolloverStream),w.timestampRolloverStream.pipe(w.h264Stream),w.timestampRolloverStream.pipe(w.adtsStream),w.timestampRolloverStream.pipe(w.metadataStream).pipe(w.coalesceStream),w.h264Stream.pipe(w.captionStream).pipe(w.coalesceStream),w.elementaryStream.on("data",function(N){var V;if(N.type==="metadata"){for(V=N.tracks.length;V--;)!T&&N.tracks[V].type==="video"?(T=N.tracks[V],T.timelineStartInfo.baseMediaDecodeTime=b.baseMediaDecodeTime):!E&&N.tracks[V].type==="audio"&&(E=N.tracks[V],E.timelineStartInfo.baseMediaDecodeTime=b.baseMediaDecodeTime);T&&!w.videoSegmentStream&&(w.coalesceStream.numberOfTracks++,w.videoSegmentStream=new Ve(T,p),w.videoSegmentStream.on("log",b.getLogTrigger_("videoSegmentStream")),w.videoSegmentStream.on("timelineStartInfo",function(ne){E&&!p.keepOriginalTimestamps&&(E.timelineStartInfo=ne,w.audioSegmentStream.setEarliestDts(ne.dts-b.baseMediaDecodeTime))}),w.videoSegmentStream.on("processedGopsInfo",b.trigger.bind(b,"gopInfo")),w.videoSegmentStream.on("segmentTimingInfo",b.trigger.bind(b,"videoSegmentTimingInfo")),w.videoSegmentStream.on("baseMediaDecodeTime",function(ne){E&&w.audioSegmentStream.setVideoBaseMediaDecodeTime(ne)}),w.videoSegmentStream.on("timingInfo",b.trigger.bind(b,"videoTimingInfo")),w.h264Stream.pipe(w.videoSegmentStream).pipe(w.coalesceStream)),E&&!w.audioSegmentStream&&(w.coalesceStream.numberOfTracks++,w.audioSegmentStream=new Ge(E,p),w.audioSegmentStream.on("log",b.getLogTrigger_("audioSegmentStream")),w.audioSegmentStream.on("timingInfo",b.trigger.bind(b,"audioTimingInfo")),w.audioSegmentStream.on("segmentTimingInfo",b.trigger.bind(b,"audioSegmentTimingInfo")),w.adtsStream.pipe(w.audioSegmentStream).pipe(w.coalesceStream)),b.trigger("trackinfo",{hasAudio:!!E,hasVideo:!!T})}}),w.coalesceStream.on("data",this.trigger.bind(this,"data")),w.coalesceStream.on("id3Frame",function(N){N.dispatchType=w.metadataStream.dispatchType,b.trigger("id3Frame",N)}),w.coalesceStream.on("caption",this.trigger.bind(this,"caption")),w.coalesceStream.on("done",this.trigger.bind(this,"done")),it(this,w)},this.setBaseMediaDecodeTime=function(w){var N=this.transmuxPipeline_;p.keepOriginalTimestamps||(this.baseMediaDecodeTime=w),E&&(E.timelineStartInfo.dts=void 0,E.timelineStartInfo.pts=void 0,Qt.clearDtsInfo(E),N.audioTimestampRolloverStream&&N.audioTimestampRolloverStream.discontinuity()),T&&(N.videoSegmentStream&&(N.videoSegmentStream.gopCache_=[]),T.timelineStartInfo.dts=void 0,T.timelineStartInfo.pts=void 0,Qt.clearDtsInfo(T),N.captionStream.reset()),N.timestampRolloverStream&&N.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(w){E&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(w)},this.setRemux=function(w){var N=this.transmuxPipeline_;p.remux=w,N&&N.coalesceStream&&N.coalesceStream.setRemux(w)},this.alignGopsWith=function(w){T&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(w)},this.getLogTrigger_=function(w){var N=this;return function(V){V.stream=w,N.trigger("log",V)}},this.push=function(w){if(y){var N=Ce(w);N&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():!N&&this.transmuxPipeline_.type!=="ts"&&this.setupTsPipeline(),y=!1}this.transmuxPipeline_.headOfPipeline.push(w)},this.flush=function(){y=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},qe.prototype=new e;var pa={Transmuxer:qe,VideoSegmentStream:Ve,AudioSegmentStream:Ge,AUDIO_PROPERTIES:ke,VIDEO_PROPERTIES:Me,generateSegmentTimingInfo:ha},ma=function(p){return p>>>0},kd=function(p){return("00"+p.toString(16)).slice(-2)},xo={toUnsigned:ma,toHexString:kd},Sm=function(p){var b="";return b+=String.fromCharCode(p[0]),b+=String.fromCharCode(p[1]),b+=String.fromCharCode(p[2]),b+=String.fromCharCode(p[3]),b},ga=Sm,SM=xo.toUnsigned,EM=function A(p,b){var y=[],T,E,w,N,V;if(!b.length)return null;for(T=0;T<p.byteLength;)E=SM(p[T]<<24|p[T+1]<<16|p[T+2]<<8|p[T+3]),w=ga(p.subarray(T+4,T+8)),N=E>1?T+E:p.byteLength,w===b[0]&&(b.length===1?y.push(p.subarray(T+8,N)):(V=A(p.subarray(T+8,N),b.slice(1)),V.length&&(y=y.concat(V)))),T=N;return y},Ht=EM,CM=xo.toUnsigned,wM=i.getUint64,PM=function(p){var b={version:p[0],flags:new Uint8Array(p.subarray(1,4))};return b.version===1?b.baseMediaDecodeTime=wM(p.subarray(4)):b.baseMediaDecodeTime=CM(p[4]<<24|p[5]<<16|p[6]<<8|p[7]),b},C_=PM,DM=function(p){return{isLeading:(p[0]&12)>>>2,dependsOn:p[0]&3,isDependedOn:(p[1]&192)>>>6,hasRedundancy:(p[1]&48)>>>4,paddingValue:(p[1]&14)>>>1,isNonSyncSample:p[1]&1,degradationPriority:p[2]<<8|p[3]}},w_=DM,AM=function(p){var b={version:p[0],flags:new Uint8Array(p.subarray(1,4)),samples:[]},y=new DataView(p.buffer,p.byteOffset,p.byteLength),T=b.flags[2]&1,E=b.flags[2]&4,w=b.flags[1]&1,N=b.flags[1]&2,V=b.flags[1]&4,ne=b.flags[1]&8,te=y.getUint32(4),se=8,we;for(T&&(b.dataOffset=y.getInt32(se),se+=4),E&&te&&(we={flags:w_(p.subarray(se,se+4))},se+=4,w&&(we.duration=y.getUint32(se),se+=4),N&&(we.size=y.getUint32(se),se+=4),ne&&(b.version===1?we.compositionTimeOffset=y.getInt32(se):we.compositionTimeOffset=y.getUint32(se),se+=4),b.samples.push(we),te--);te--;)we={},w&&(we.duration=y.getUint32(se),se+=4),N&&(we.size=y.getUint32(se),se+=4),V&&(we.flags=w_(p.subarray(se,se+4)),se+=4),ne&&(b.version===1?we.compositionTimeOffset=y.getInt32(se):we.compositionTimeOffset=y.getUint32(se),se+=4),b.samples.push(we);return b},P_=AM,OM=function(p){var b=new DataView(p.buffer,p.byteOffset,p.byteLength),y={version:p[0],flags:new Uint8Array(p.subarray(1,4)),trackId:b.getUint32(4)},T=y.flags[2]&1,E=y.flags[2]&2,w=y.flags[2]&8,N=y.flags[2]&16,V=y.flags[2]&32,ne=y.flags[0]&65536,te=y.flags[0]&131072,se;return se=8,T&&(se+=4,y.baseDataOffset=b.getUint32(12),se+=4),E&&(y.sampleDescriptionIndex=b.getUint32(se),se+=4),w&&(y.defaultSampleDuration=b.getUint32(se),se+=4),N&&(y.defaultSampleSize=b.getUint32(se),se+=4),V&&(y.defaultSampleFlags=b.getUint32(se)),ne&&(y.durationIsEmpty=!0),!T&&te&&(y.baseDataOffsetIsMoof=!0),y},D_=OM,A_=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},uu;typeof window!="undefined"?uu=window:typeof A_!="undefined"?uu=A_:typeof self!="undefined"?uu=self:uu={};var cu=uu,RM=Yi.discardEmulationPreventionBytes,kM=aa.CaptionStream,IM=function(p,b){for(var y=p,T=0;T<b.length;T++){var E=b[T];if(y<E.size)return E;y-=E.size}return null},MM=function(p,b,y){var T=new DataView(p.buffer,p.byteOffset,p.byteLength),E={logs:[],seiNals:[]},w,N,V,ne;for(N=0;N+4<p.length;N+=V)if(V=T.getUint32(N),N+=4,!(V<=0))switch(p[N]&31){case 6:var te=p.subarray(N+1,N+1+V),se=IM(N,b);if(w={nalUnitType:"sei_rbsp",size:V,data:te,escapedRBSP:RM(te),trackId:y},se)w.pts=se.pts,w.dts=se.dts,ne=se;else if(ne)w.pts=ne.pts,w.dts=ne.dts;else{E.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+N+" for trackId "+y+". See mux.js#223."});break}E.seiNals.push(w);break}return E},LM=function(p,b,y){var T=b,E=y.defaultSampleDuration||0,w=y.defaultSampleSize||0,N=y.trackId,V=[];return p.forEach(function(ne){var te=P_(ne),se=te.samples;se.forEach(function(we){we.duration===void 0&&(we.duration=E),we.size===void 0&&(we.size=w),we.trackId=N,we.dts=T,we.compositionTimeOffset===void 0&&(we.compositionTimeOffset=0),typeof T=="bigint"?(we.pts=T+cu.BigInt(we.compositionTimeOffset),T+=cu.BigInt(we.duration)):(we.pts=T+we.compositionTimeOffset,T+=we.duration)}),V=V.concat(se)}),V},NM=function(p,b){var y=Ht(p,["moof","traf"]),T=Ht(p,["mdat"]),E={},w=[];return T.forEach(function(N,V){var ne=y[V];w.push({mdat:N,traf:ne})}),w.forEach(function(N){var V=N.mdat,ne=N.traf,te=Ht(ne,["tfhd"]),se=D_(te[0]),we=se.trackId,Be=Ht(ne,["tfdt"]),We=Be.length>0?C_(Be[0]).baseMediaDecodeTime:0,Ne=Ht(ne,["trun"]),tt,dr;b===we&&Ne.length>0&&(tt=LM(Ne,We,se),dr=MM(V,tt,we),E[we]||(E[we]={seiNals:[],logs:[]}),E[we].seiNals=E[we].seiNals.concat(dr.seiNals),E[we].logs=E[we].logs.concat(dr.logs))}),E},FM=function(p,b,y){var T;if(b===null)return null;T=NM(p,b);var E=T[b]||{};return{seiNals:E.seiNals,logs:E.logs,timescale:y}},BM=function(){var p=!1,b,y,T,E,w,N;this.isInitialized=function(){return p},this.init=function(V){b=new kM,p=!0,N=V?V.isPartial:!1,b.on("data",function(ne){ne.startTime=ne.startPts/E,ne.endTime=ne.endPts/E,w.captions.push(ne),w.captionStreams[ne.stream]=!0}),b.on("log",function(ne){w.logs.push(ne)})},this.isNewInit=function(V,ne){return V&&V.length===0||ne&&typeof ne=="object"&&Object.keys(ne).length===0?!1:T!==V[0]||E!==ne[T]},this.parse=function(V,ne,te){var se;if(this.isInitialized()){if(!ne||!te)return null;if(this.isNewInit(ne,te))T=ne[0],E=te[T];else if(T===null||!E)return y.push(V),null}else return null;for(;y.length>0;){var we=y.shift();this.parse(we,ne,te)}return se=FM(V,T,E),se&&se.logs&&(w.logs=w.logs.concat(se.logs)),se===null||!se.seiNals?w.logs.length?{logs:w.logs,captions:[],captionStreams:[]}:null:(this.pushNals(se.seiNals),this.flushStream(),w)},this.pushNals=function(V){if(!this.isInitialized()||!V||V.length===0)return null;V.forEach(function(ne){b.push(ne)})},this.flushStream=function(){if(!this.isInitialized())return null;N?b.partialFlush():b.flush()},this.clearParsedCaptions=function(){w.captions=[],w.captionStreams={},w.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;b.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){y=[],T=null,E=null,w?this.clearParsedCaptions():w={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},$M=BM,Id=xo.toUnsigned,du=xo.toHexString,UM=i.getUint64,O_,R_,k_,I_,M_,Em;O_=function(p){var b={},y=Ht(p,["moov","trak"]);return y.reduce(function(T,E){var w,N,V,ne,te;return w=Ht(E,["tkhd"])[0],!w||(N=w[0],V=N===0?12:20,ne=Id(w[V]<<24|w[V+1]<<16|w[V+2]<<8|w[V+3]),te=Ht(E,["mdia","mdhd"])[0],!te)?null:(N=te[0],V=N===0?12:20,T[ne]=Id(te[V]<<24|te[V+1]<<16|te[V+2]<<8|te[V+3]),T)},b)},R_=function(p,b){var y;y=Ht(b,["moof","traf"]);var T=y.reduce(function(E,w){var N=Ht(w,["tfhd"])[0],V=Id(N[4]<<24|N[5]<<16|N[6]<<8|N[7]),ne=p[V]||9e4,te=Ht(w,["tfdt"])[0],se=new DataView(te.buffer,te.byteOffset,te.byteLength),we;te[0]===1?we=UM(te.subarray(4,12)):we=se.getUint32(4);var Be;return typeof we=="bigint"?Be=we/cu.BigInt(ne):typeof we=="number"&&!isNaN(we)&&(Be=we/ne),Be<Number.MAX_SAFE_INTEGER&&(Be=Number(Be)),Be<E&&(E=Be),E},1/0);return typeof T=="bigint"||isFinite(T)?T:0},k_=function(p,b){var y=Ht(b,["moof","traf"]),T=0,E=0,w;if(y&&y.length){var N=Ht(y[0],["tfhd"])[0],V=Ht(y[0],["trun"])[0],ne=Ht(y[0],["tfdt"])[0];if(N){var te=D_(N);w=te.trackId}if(ne){var se=C_(ne);T=se.baseMediaDecodeTime}if(V){var we=P_(V);we.samples&&we.samples.length&&(E=we.samples[0].compositionTimeOffset||0)}}var Be=p[w]||9e4;typeof T=="bigint"&&(E=cu.BigInt(E),Be=cu.BigInt(Be));var We=(T+E)/Be;return typeof We=="bigint"&&We<Number.MAX_SAFE_INTEGER&&(We=Number(We)),We},I_=function(p){var b=Ht(p,["moov","trak"]),y=[];return b.forEach(function(T){var E=Ht(T,["mdia","hdlr"]),w=Ht(T,["tkhd"]);E.forEach(function(N,V){var ne=ga(N.subarray(8,12)),te=w[V],se,we,Be;ne==="vide"&&(se=new DataView(te.buffer,te.byteOffset,te.byteLength),we=se.getUint8(0),Be=we===0?se.getUint32(12):se.getUint32(20),y.push(Be))})}),y},Em=function(p){var b=p[0],y=b===0?12:20;return Id(p[y]<<24|p[y+1]<<16|p[y+2]<<8|p[y+3])},M_=function(p){var b=Ht(p,["moov","trak"]),y=[];return b.forEach(function(T){var E={},w=Ht(T,["tkhd"])[0],N,V;w&&(N=new DataView(w.buffer,w.byteOffset,w.byteLength),V=N.getUint8(0),E.id=V===0?N.getUint32(12):N.getUint32(20));var ne=Ht(T,["mdia","hdlr"])[0];if(ne){var te=ga(ne.subarray(8,12));te==="vide"?E.type="video":te==="soun"?E.type="audio":E.type=te}var se=Ht(T,["mdia","minf","stbl","stsd"])[0];if(se){var we=se.subarray(8);E.codec=ga(we.subarray(4,8));var Be=Ht(we,[E.codec])[0],We,Ne;Be&&(/^[asm]vc[1-9]$/i.test(E.codec)?(We=Be.subarray(78),Ne=ga(We.subarray(4,8)),Ne==="avcC"&&We.length>11?(E.codec+=".",E.codec+=du(We[9]),E.codec+=du(We[10]),E.codec+=du(We[11])):E.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(E.codec)?(We=Be.subarray(28),Ne=ga(We.subarray(4,8)),Ne==="esds"&&We.length>20&&We[19]!==0?(E.codec+="."+du(We[19]),E.codec+="."+du(We[20]>>>2&63).replace(/^0/,"")):E.codec="mp4a.40.2"):E.codec=E.codec.toLowerCase())}var tt=Ht(T,["mdia","mdhd"])[0];tt&&(E.timescale=Em(tt)),y.push(E)}),y};var L_={findBox:Ht,parseType:ga,timescale:O_,startTime:R_,compositionStartTime:k_,videoTrackIds:I_,tracks:M_,getTimescaleFromMediaHeader:Em},N_=function(p){var b=p[1]&31;return b<<=8,b|=p[2],b},Md=function(p){return!!(p[1]&64)},Ld=function(p){var b=0;return(p[3]&48)>>>4>1&&(b+=p[4]+1),b},jM=function(p,b){var y=N_(p);return y===0?"pat":y===b?"pmt":b?"pes":null},VM=function(p){var b=Md(p),y=4+Ld(p);return b&&(y+=p[y]+1),(p[y+10]&31)<<8|p[y+11]},HM=function(p){var b={},y=Md(p),T=4+Ld(p);if(y&&(T+=p[T]+1),!!(p[T+5]&1)){var E,w,N;E=(p[T+1]&15)<<8|p[T+2],w=3+E-4,N=(p[T+10]&15)<<8|p[T+11];for(var V=12+N;V<w;){var ne=T+V;b[(p[ne+1]&31)<<8|p[ne+2]]=p[ne],V+=((p[ne+3]&15)<<8|p[ne+4])+5}return b}},zM=function(p,b){var y=N_(p),T=b[y];switch(T){case lr.H264_STREAM_TYPE:return"video";case lr.ADTS_STREAM_TYPE:return"audio";case lr.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},WM=function(p){var b=Md(p);if(!b)return null;var y=4+Ld(p);if(y>=p.byteLength)return null;var T=null,E;return E=p[y+7],E&192&&(T={},T.pts=(p[y+9]&14)<<27|(p[y+10]&255)<<20|(p[y+11]&254)<<12|(p[y+12]&255)<<5|(p[y+13]&254)>>>3,T.pts*=4,T.pts+=(p[y+13]&6)>>>1,T.dts=T.pts,E&64&&(T.dts=(p[y+14]&14)<<27|(p[y+15]&255)<<20|(p[y+16]&254)<<12|(p[y+17]&255)<<5|(p[y+18]&254)>>>3,T.dts*=4,T.dts+=(p[y+18]&6)>>>1)),T},Cm=function(p){switch(p){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},YM=function(p){for(var b=4+Ld(p),y=p.subarray(b),T=0,E=0,w=!1,N;E<y.byteLength-3;E++)if(y[E+2]===1){T=E+5;break}for(;T<y.byteLength;)switch(y[T]){case 0:if(y[T-1]!==0){T+=2;break}else if(y[T-2]!==0){T++;break}E+3!==T-2&&(N=Cm(y[E+3]&31),N==="slice_layer_without_partitioning_rbsp_idr"&&(w=!0));do T++;while(y[T]!==1&&T<y.length);E=T-2,T+=3;break;case 1:if(y[T-1]!==0||y[T-2]!==0){T+=3;break}N=Cm(y[E+3]&31),N==="slice_layer_without_partitioning_rbsp_idr"&&(w=!0),E=T-2,T+=3;break;default:T+=3;break}return y=y.subarray(E),T-=E,E=0,y&&y.byteLength>3&&(N=Cm(y[E+3]&31),N==="slice_layer_without_partitioning_rbsp_idr"&&(w=!0)),w},GM={parseType:jM,parsePat:VM,parsePmt:HM,parsePayloadUnitStartIndicator:Md,parsePesType:zM,parsePesTime:WM,videoPacketContainsKeyFrame:YM},So=nu.handleRollover,wt={};wt.ts=GM,wt.aac=Q;var va=je.ONE_SECOND_IN_TS,$r=188,hn=71,qM=function(p,b){for(var y=0,T=$r,E,w;T<p.byteLength;){if(p[y]===hn&&p[T]===hn){switch(E=p.subarray(y,T),w=wt.ts.parseType(E,b.pid),w){case"pat":b.pid=wt.ts.parsePat(E);break;case"pmt":var N=wt.ts.parsePmt(E);b.table=b.table||{},Object.keys(N).forEach(function(V){b.table[V]=N[V]});break}y+=$r,T+=$r;continue}y++,T++}},F_=function(p,b,y){for(var T=0,E=$r,w,N,V,ne,te,se=!1;E<=p.byteLength;){if(p[T]===hn&&(p[E]===hn||E===p.byteLength)){switch(w=p.subarray(T,E),N=wt.ts.parseType(w,b.pid),N){case"pes":V=wt.ts.parsePesType(w,b.table),ne=wt.ts.parsePayloadUnitStartIndicator(w),V==="audio"&&ne&&(te=wt.ts.parsePesTime(w),te&&(te.type="audio",y.audio.push(te),se=!0));break}if(se)break;T+=$r,E+=$r;continue}T++,E++}for(E=p.byteLength,T=E-$r,se=!1;T>=0;){if(p[T]===hn&&(p[E]===hn||E===p.byteLength)){switch(w=p.subarray(T,E),N=wt.ts.parseType(w,b.pid),N){case"pes":V=wt.ts.parsePesType(w,b.table),ne=wt.ts.parsePayloadUnitStartIndicator(w),V==="audio"&&ne&&(te=wt.ts.parsePesTime(w),te&&(te.type="audio",y.audio.push(te),se=!0));break}if(se)break;T-=$r,E-=$r;continue}T--,E--}},KM=function(p,b,y){for(var T=0,E=$r,w,N,V,ne,te,se,we,Be,We=!1,Ne={data:[],size:0};E<p.byteLength;){if(p[T]===hn&&p[E]===hn){switch(w=p.subarray(T,E),N=wt.ts.parseType(w,b.pid),N){case"pes":if(V=wt.ts.parsePesType(w,b.table),ne=wt.ts.parsePayloadUnitStartIndicator(w),V==="video"&&(ne&&!We&&(te=wt.ts.parsePesTime(w),te&&(te.type="video",y.video.push(te),We=!0)),!y.firstKeyFrame)){if(ne&&Ne.size!==0){for(se=new Uint8Array(Ne.size),we=0;Ne.data.length;)Be=Ne.data.shift(),se.set(Be,we),we+=Be.byteLength;if(wt.ts.videoPacketContainsKeyFrame(se)){var tt=wt.ts.parsePesTime(se);tt?(y.firstKeyFrame=tt,y.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}Ne.size=0}Ne.data.push(w),Ne.size+=w.byteLength}break}if(We&&y.firstKeyFrame)break;T+=$r,E+=$r;continue}T++,E++}for(E=p.byteLength,T=E-$r,We=!1;T>=0;){if(p[T]===hn&&p[E]===hn){switch(w=p.subarray(T,E),N=wt.ts.parseType(w,b.pid),N){case"pes":V=wt.ts.parsePesType(w,b.table),ne=wt.ts.parsePayloadUnitStartIndicator(w),V==="video"&&ne&&(te=wt.ts.parsePesTime(w),te&&(te.type="video",y.video.push(te),We=!0));break}if(We)break;T-=$r,E-=$r;continue}T--,E--}},XM=function(p,b){if(p.audio&&p.audio.length){var y=b;(typeof y=="undefined"||isNaN(y))&&(y=p.audio[0].dts),p.audio.forEach(function(w){w.dts=So(w.dts,y),w.pts=So(w.pts,y),w.dtsTime=w.dts/va,w.ptsTime=w.pts/va})}if(p.video&&p.video.length){var T=b;if((typeof T=="undefined"||isNaN(T))&&(T=p.video[0].dts),p.video.forEach(function(w){w.dts=So(w.dts,T),w.pts=So(w.pts,T),w.dtsTime=w.dts/va,w.ptsTime=w.pts/va}),p.firstKeyFrame){var E=p.firstKeyFrame;E.dts=So(E.dts,T),E.pts=So(E.pts,T),E.dtsTime=E.dts/va,E.ptsTime=E.pts/va}}},QM=function(p){for(var b=!1,y=0,T=null,E=null,w=0,N=0,V;p.length-N>=3;){var ne=wt.aac.parseType(p,N);switch(ne){case"timed-metadata":if(p.length-N<10){b=!0;break}if(w=wt.aac.parseId3TagSize(p,N),w>p.length){b=!0;break}E===null&&(V=p.subarray(N,N+w),E=wt.aac.parseAacTimestamp(V)),N+=w;break;case"audio":if(p.length-N<7){b=!0;break}if(w=wt.aac.parseAdtsSize(p,N),w>p.length){b=!0;break}T===null&&(V=p.subarray(N,N+w),T=wt.aac.parseSampleRate(V)),y++,N+=w;break;default:N++;break}if(b)return null}if(T===null||E===null)return null;var te=va/T,se={audio:[{type:"audio",dts:E,pts:E},{type:"audio",dts:E+y*1024*te,pts:E+y*1024*te}]};return se},JM=function(p){var b={pid:null,table:null},y={};qM(p,b);for(var T in b.table)if(b.table.hasOwnProperty(T)){var E=b.table[T];switch(E){case lr.H264_STREAM_TYPE:y.video=[],KM(p,b,y),y.video.length===0&&delete y.video;break;case lr.ADTS_STREAM_TYPE:y.audio=[],F_(p,b,y),y.audio.length===0&&delete y.audio;break}}return y},ZM=function(p,b){var y=wt.aac.isLikelyAacData(p),T;return y?T=QM(p):T=JM(p),!T||!T.audio&&!T.video?null:(XM(T,b),T)},eL={inspect:ZM,parseAudioPes_:F_},tL=function(p,b){b.on("data",function(y){var T=y.initSegment;y.initSegment={data:T.buffer,byteOffset:T.byteOffset,byteLength:T.byteLength};var E=y.data;y.data=E.buffer,p.postMessage({action:"data",segment:y,byteOffset:E.byteOffset,byteLength:E.byteLength},[y.data])}),b.on("done",function(y){p.postMessage({action:"done"})}),b.on("gopInfo",function(y){p.postMessage({action:"gopInfo",gopInfo:y})}),b.on("videoSegmentTimingInfo",function(y){var T={start:{decode:je.videoTsToSeconds(y.start.dts),presentation:je.videoTsToSeconds(y.start.pts)},end:{decode:je.videoTsToSeconds(y.end.dts),presentation:je.videoTsToSeconds(y.end.pts)},baseMediaDecodeTime:je.videoTsToSeconds(y.baseMediaDecodeTime)};y.prependedContentDuration&&(T.prependedContentDuration=je.videoTsToSeconds(y.prependedContentDuration)),p.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:T})}),b.on("audioSegmentTimingInfo",function(y){var T={start:{decode:je.videoTsToSeconds(y.start.dts),presentation:je.videoTsToSeconds(y.start.pts)},end:{decode:je.videoTsToSeconds(y.end.dts),presentation:je.videoTsToSeconds(y.end.pts)},baseMediaDecodeTime:je.videoTsToSeconds(y.baseMediaDecodeTime)};y.prependedContentDuration&&(T.prependedContentDuration=je.videoTsToSeconds(y.prependedContentDuration)),p.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:T})}),b.on("id3Frame",function(y){p.postMessage({action:"id3Frame",id3Frame:y})}),b.on("caption",function(y){p.postMessage({action:"caption",caption:y})}),b.on("trackinfo",function(y){p.postMessage({action:"trackinfo",trackInfo:y})}),b.on("audioTimingInfo",function(y){p.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:je.videoTsToSeconds(y.start),end:je.videoTsToSeconds(y.end)}})}),b.on("videoTimingInfo",function(y){p.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:je.videoTsToSeconds(y.start),end:je.videoTsToSeconds(y.end)}})}),b.on("log",function(y){p.postMessage({action:"log",log:y})})},B_=function(){function A(b,y){this.options=y||{},this.self=b,this.init()}var p=A.prototype;return p.init=function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new pa.Transmuxer(this.options),tL(this.self,this.transmuxer)},p.pushMp4Captions=function(y){this.captionParser||(this.captionParser=new $M,this.captionParser.init());var T=new Uint8Array(y.data,y.byteOffset,y.byteLength),E=this.captionParser.parse(T,y.trackIds,y.timescales);this.self.postMessage({action:"mp4Captions",captions:E&&E.captions||[],logs:E&&E.logs||[],data:T.buffer},[T.buffer])},p.probeMp4StartTime=function(y){var T=y.timescales,E=y.data,w=L_.startTime(T,E);this.self.postMessage({action:"probeMp4StartTime",startTime:w,data:E},[E.buffer])},p.probeMp4Tracks=function(y){var T=y.data,E=L_.tracks(T);this.self.postMessage({action:"probeMp4Tracks",tracks:E,data:T},[T.buffer])},p.probeTs=function(y){var T=y.data,E=y.baseStartTime,w=typeof E=="number"&&!isNaN(E)?E*je.ONE_SECOND_IN_TS:void 0,N=eL.inspect(T,w),V=null;N&&(V={hasVideo:N.video&&N.video.length===2||!1,hasAudio:N.audio&&N.audio.length===2||!1},V.hasVideo&&(V.videoStart=N.video[0].ptsTime),V.hasAudio&&(V.audioStart=N.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:V,data:T},[T.buffer])},p.clearAllMp4Captions=function(){this.captionParser&&this.captionParser.clearAllCaptions()},p.clearParsedMp4Captions=function(){this.captionParser&&this.captionParser.clearParsedCaptions()},p.push=function(y){var T=new Uint8Array(y.data,y.byteOffset,y.byteLength);this.transmuxer.push(T)},p.reset=function(){this.transmuxer.reset()},p.setTimestampOffset=function(y){var T=y.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(je.secondsToVideoTs(T)))},p.setAudioAppendStart=function(y){this.transmuxer.setAudioAppendStart(Math.ceil(je.secondsToVideoTs(y.appendStart)))},p.setRemux=function(y){this.transmuxer.setRemux(y.remux)},p.flush=function(y){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})},p.endTimeline=function(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})},p.alignGopsWith=function(y){this.transmuxer.alignGopsWith(y.gopsToAlignWith.slice())},A}();self.onmessage=function(A){if(A.data.action==="init"&&A.data.options){this.messageHandlers=new B_(self,A.data.options);return}this.messageHandlers||(this.messageHandlers=new B_(self)),A.data&&A.data.action&&A.data.action!=="init"&&this.messageHandlers[A.data.action]&&this.messageHandlers[A.data.action](A.data)}})),Sre=NR(xre),Ere=function(e,r,n){var i=e.data.segment,s=i.type,a=i.initSegment,o=i.captions,l=i.captionStreams,u=i.metadata,c=i.videoFrameDtsTime,d=i.videoFramePtsTime;r.buffer.push({captions:o,captionStreams:l,metadata:u});var f=e.data.segment.boxes||{data:e.data.segment.data},h={type:s,data:new Uint8Array(f.data,f.data.byteOffset,f.data.byteLength),initSegment:new Uint8Array(a.data,a.byteOffset,a.byteLength)};typeof c!="undefined"&&(h.videoFrameDtsTime=c),typeof d!="undefined"&&(h.videoFramePtsTime=d),n(h)},Cre=function(e){var r=e.transmuxedData,n=e.callback;r.buffer=[],n(r)},wre=function(e,r){r.gopInfo=e.data.gopInfo},$R=function(e){var r=e.transmuxer,n=e.bytes,i=e.audioAppendStart,s=e.gopsToAlignWith,a=e.remux,o=e.onData,l=e.onTrackInfo,u=e.onAudioTimingInfo,c=e.onVideoTimingInfo,d=e.onVideoSegmentTimingInfo,f=e.onAudioSegmentTimingInfo,h=e.onId3,m=e.onCaptions,g=e.onDone,v=e.onEndedTimeline,x=e.onTransmuxerLog,S=e.isEndOfTimeline,D={buffer:[]},P=S,O=function(Y){r.currentTransmux===e&&(Y.data.action==="data"&&Ere(Y,D,o),Y.data.action==="trackinfo"&&l(Y.data.trackInfo),Y.data.action==="gopInfo"&&wre(Y,D),Y.data.action==="audioTimingInfo"&&u(Y.data.audioTimingInfo),Y.data.action==="videoTimingInfo"&&c(Y.data.videoTimingInfo),Y.data.action==="videoSegmentTimingInfo"&&d(Y.data.videoSegmentTimingInfo),Y.data.action==="audioSegmentTimingInfo"&&f(Y.data.audioSegmentTimingInfo),Y.data.action==="id3Frame"&&h([Y.data.id3Frame],Y.data.id3Frame.dispatchType),Y.data.action==="caption"&&m(Y.data.caption),Y.data.action==="endedtimeline"&&(P=!1,v()),Y.data.action==="log"&&x(Y.data.log),Y.data.type==="transmuxed"&&(P||(r.onmessage=null,Cre({transmuxedData:D,callback:g}),UR(r))))};if(r.onmessage=O,i&&r.postMessage({action:"setAudioAppendStart",appendStart:i}),Array.isArray(s)&&r.postMessage({action:"alignGopsWith",gopsToAlignWith:s}),typeof a!="undefined"&&r.postMessage({action:"setRemux",remux:a}),n.byteLength){var B=n instanceof ArrayBuffer?n:n.buffer,z=n instanceof ArrayBuffer?0:n.byteOffset;r.postMessage({action:"push",data:B,byteOffset:z,byteLength:n.byteLength},[B])}S&&r.postMessage({action:"endTimeline"}),r.postMessage({action:"flush"})},UR=function(e){e.currentTransmux=null,e.transmuxQueue.length&&(e.currentTransmux=e.transmuxQueue.shift(),typeof e.currentTransmux=="function"?e.currentTransmux():$R(e.currentTransmux))},$E=function(e,r){e.postMessage({action:r}),UR(e)},jR=function(e,r){if(!r.currentTransmux){r.currentTransmux=e,$E(r,e);return}r.transmuxQueue.push($E.bind(null,r,e))},Pre=function(e){jR("reset",e)},Dre=function(e){jR("endTimeline",e)},VR=function(e){if(!e.transmuxer.currentTransmux){e.transmuxer.currentTransmux=e,$R(e);return}e.transmuxer.transmuxQueue.push(e)},Are=function(e){var r=new Sre;r.currentTransmux=null,r.transmuxQueue=[];var n=r.terminate;return r.terminate=function(){return r.currentTransmux=null,r.transmuxQueue.length=0,n.call(r)},r.postMessage({action:"init",options:e}),r},_g={reset:Pre,endTimeline:Dre,transmux:VR,createTransmuxer:Are},Nh=function(e){var r=e.transmuxer,n=e.endAction||e.action,i=e.callback,s=Vi({},e,{endAction:null,transmuxer:null,callback:null}),a=function u(c){c.data.action===n&&(r.removeEventListener("message",u),c.data.data&&(c.data.data=new Uint8Array(c.data.data,e.byteOffset||0,e.byteLength||c.data.data.byteLength),e.data&&(e.data=c.data.data)),i(c.data))};if(r.addEventListener("message",a),e.data){var o=e.data instanceof ArrayBuffer;s.byteOffset=o?0:e.data.byteOffset,s.byteLength=e.data.byteLength;var l=[o?e.data:e.data.buffer];r.postMessage(s,l)}else r.postMessage(s)},Sn={FAILURE:2,TIMEOUT:-101,ABORTED:-102},Gv=function(e){e.forEach(function(r){r.abort()})},Ore=function(e){return{bandwidth:e.bandwidth,bytesReceived:e.bytesReceived||0,roundTripTime:e.roundTripTime||0}},Rre=function(e){var r=e.target,n=Date.now()-r.requestTime,i={bandwidth:1/0,bytesReceived:0,roundTripTime:n||0};return i.bytesReceived=e.loaded,i.bandwidth=Math.floor(i.bytesReceived/i.roundTripTime*8*1e3),i},Nb=function(e,r){return r.timedout?{status:r.status,message:"HLS request timed-out at URL: "+r.uri,code:Sn.TIMEOUT,xhr:r}:r.aborted?{status:r.status,message:"HLS request aborted at URL: "+r.uri,code:Sn.ABORTED,xhr:r}:e?{status:r.status,message:"HLS request errored at URL: "+r.uri,code:Sn.FAILURE,xhr:r}:r.responseType==="arraybuffer"&&r.response.byteLength===0?{status:r.status,message:"Empty HLS response at URL: "+r.uri,code:Sn.FAILURE,xhr:r}:null},UE=function(e,r,n){return function(i,s){var a=s.response,o=Nb(i,s);if(o)return n(o,e);if(a.byteLength!==16)return n({status:s.status,message:"Invalid HLS key at URL: "+s.uri,code:Sn.FAILURE,xhr:s},e);for(var l=new DataView(a),u=new Uint32Array([l.getUint32(0),l.getUint32(4),l.getUint32(8),l.getUint32(12)]),c=0;c<r.length;c++)r[c].bytes=u;return n(null,e)}},HR=function(e,r){var n=Q0(e.map.bytes);if(n!=="mp4"){var i=e.map.resolvedUri||e.map.uri;return r({internal:!0,message:"Found unsupported "+(n||"unknown")+" container for initialization segment at URL: "+i,code:Sn.FAILURE})}Nh({action:"probeMp4Tracks",data:e.map.bytes,transmuxer:e.transmuxer,callback:function(a){var o=a.tracks,l=a.data;return e.map.bytes=l,o.forEach(function(u){e.map.tracks=e.map.tracks||{},!e.map.tracks[u.type]&&(e.map.tracks[u.type]=u,typeof u.id=="number"&&u.timescale&&(e.map.timescales=e.map.timescales||{},e.map.timescales[u.id]=u.timescale))}),r(null)}})},kre=function(e){var r=e.segment,n=e.finishProcessingFn;return function(i,s){var a=Nb(i,s);if(a)return n(a,r);var o=new Uint8Array(s.response);if(r.map.key)return r.map.encryptedBytes=o,n(null,r);r.map.bytes=o,HR(r,function(l){if(l)return l.xhr=s,l.status=s.status,n(l,r);n(null,r)})}},Ire=function(e){var r=e.segment,n=e.finishProcessingFn,i=e.responseType;return function(s,a){var o=Nb(s,a);if(o)return n(o,r);var l=i==="arraybuffer"||!a.responseText?a.response:_re(a.responseText.substring(r.lastReachedChar||0));return r.stats=Ore(a),r.key?r.encryptedBytes=new Uint8Array(l):r.bytes=new Uint8Array(l),n(null,r)}},Mre=function(e){var r=e.segment,n=e.bytes,i=e.trackInfoFn,s=e.timingInfoFn,a=e.videoSegmentTimingInfoFn,o=e.audioSegmentTimingInfoFn,l=e.id3Fn,u=e.captionsFn,c=e.isEndOfTimeline,d=e.endedTimelineFn,f=e.dataFn,h=e.doneFn,m=e.onTransmuxerLog,g=r.map&&r.map.tracks||{},v=Boolean(g.audio&&g.video),x=s.bind(null,r,"audio","start"),S=s.bind(null,r,"audio","end"),D=s.bind(null,r,"video","start"),P=s.bind(null,r,"video","end"),O=function(){return VR({bytes:n,transmuxer:r.transmuxer,audioAppendStart:r.audioAppendStart,gopsToAlignWith:r.gopsToAlignWith,remux:v,onData:function(U){U.type=U.type==="combined"?"video":U.type,f(r,U)},onTrackInfo:function(U){i&&(v&&(U.isMuxed=!0),i(r,U))},onAudioTimingInfo:function(U){x&&typeof U.start!="undefined"&&(x(U.start),x=null),S&&typeof U.end!="undefined"&&S(U.end)},onVideoTimingInfo:function(U){D&&typeof U.start!="undefined"&&(D(U.start),D=null),P&&typeof U.end!="undefined"&&P(U.end)},onVideoSegmentTimingInfo:function(U){a(U)},onAudioSegmentTimingInfo:function(U){o(U)},onId3:function(U,Y){l(r,U,Y)},onCaptions:function(U){u(r,[U])},isEndOfTimeline:c,onEndedTimeline:function(){d()},onTransmuxerLog:m,onDone:function(U){!h||(U.type=U.type==="combined"?"video":U.type,h(null,r,U))}})};Nh({action:"probeTs",transmuxer:r.transmuxer,data:n,baseStartTime:r.baseStartTime,callback:function(z){r.bytes=n=z.data;var U=z.result;U&&(i(r,{hasAudio:U.hasAudio,hasVideo:U.hasVideo,isMuxed:v}),i=null,U.hasAudio&&!v&&x(U.audioStart),U.hasVideo&&D(U.videoStart),x=null,D=null),O()}})},zR=function(e){var r=e.segment,n=e.bytes,i=e.trackInfoFn,s=e.timingInfoFn,a=e.videoSegmentTimingInfoFn,o=e.audioSegmentTimingInfoFn,l=e.id3Fn,u=e.captionsFn,c=e.isEndOfTimeline,d=e.endedTimelineFn,f=e.dataFn,h=e.doneFn,m=e.onTransmuxerLog,g=new Uint8Array(n);if(iee(g)){r.isFmp4=!0;var v=r.map.tracks,x={isFmp4:!0,hasVideo:!!v.video,hasAudio:!!v.audio};v.audio&&v.audio.codec&&v.audio.codec!=="enca"&&(x.audioCodec=v.audio.codec),v.video&&v.video.codec&&v.video.codec!=="encv"&&(x.videoCodec=v.video.codec),v.video&&v.audio&&(x.isMuxed=!0),i(r,x);var S=function(P){f(r,{data:g,type:x.hasAudio&&!x.isMuxed?"audio":"video"}),P&&P.length&&u(r,P),h(null,r,{})};Nh({action:"probeMp4StartTime",timescales:r.map.timescales,data:g,transmuxer:r.transmuxer,callback:function(P){var O=P.data,B=P.startTime;if(n=O.buffer,r.bytes=g=O,x.hasAudio&&!x.isMuxed&&s(r,"audio","start",B),x.hasVideo&&s(r,"video","start",B),!v.video||!O.byteLength||!r.transmuxer){S();return}Nh({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:r.transmuxer,data:g,timescales:r.map.timescales,trackIds:[v.video.id],callback:function(U){n=U.data.buffer,r.bytes=g=U.data,U.logs.forEach(function(Y){m(le.mergeOptions(Y,{stream:"mp4CaptionParser"}))}),S(U.captions)}})}});return}if(!r.transmuxer){h(null,r,{});return}if(typeof r.container=="undefined"&&(r.container=Q0(g)),r.container!=="ts"&&r.container!=="aac"){i(r,{hasAudio:!1,hasVideo:!1}),h(null,r,{});return}Mre({segment:r,bytes:n,trackInfoFn:i,timingInfoFn:s,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:o,id3Fn:l,captionsFn:u,isEndOfTimeline:c,endedTimelineFn:d,dataFn:f,doneFn:h,onTransmuxerLog:m})},WR=function(e,r){var n=e.id,i=e.key,s=e.encryptedBytes,a=e.decryptionWorker,o=function u(c){if(c.data.source===n){a.removeEventListener("message",u);var d=c.data.decrypted;r(new Uint8Array(d.bytes,d.byteOffset,d.byteLength))}};a.addEventListener("message",o);var l;i.bytes.slice?l=i.bytes.slice():l=new Uint32Array(Array.prototype.slice.call(i.bytes)),a.postMessage(OR({source:n,encrypted:s,key:l,iv:i.iv}),[s.buffer,l.buffer])},Lre=function(e){var r=e.decryptionWorker,n=e.segment,i=e.trackInfoFn,s=e.timingInfoFn,a=e.videoSegmentTimingInfoFn,o=e.audioSegmentTimingInfoFn,l=e.id3Fn,u=e.captionsFn,c=e.isEndOfTimeline,d=e.endedTimelineFn,f=e.dataFn,h=e.doneFn,m=e.onTransmuxerLog;WR({id:n.requestId,key:n.key,encryptedBytes:n.encryptedBytes,decryptionWorker:r},function(g){n.bytes=g,zR({segment:n,bytes:n.bytes,trackInfoFn:i,timingInfoFn:s,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:o,id3Fn:l,captionsFn:u,isEndOfTimeline:c,endedTimelineFn:d,dataFn:f,doneFn:h,onTransmuxerLog:m})})},Nre=function(e){var r=e.activeXhrs,n=e.decryptionWorker,i=e.trackInfoFn,s=e.timingInfoFn,a=e.videoSegmentTimingInfoFn,o=e.audioSegmentTimingInfoFn,l=e.id3Fn,u=e.captionsFn,c=e.isEndOfTimeline,d=e.endedTimelineFn,f=e.dataFn,h=e.doneFn,m=e.onTransmuxerLog,g=0,v=!1;return function(x,S){if(!v){if(x)return v=!0,Gv(r),h(x,S);if(g+=1,g===r.length){var D=function(){if(S.encryptedBytes)return Lre({decryptionWorker:n,segment:S,trackInfoFn:i,timingInfoFn:s,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:o,id3Fn:l,captionsFn:u,isEndOfTimeline:c,endedTimelineFn:d,dataFn:f,doneFn:h,onTransmuxerLog:m});zR({segment:S,bytes:S.bytes,trackInfoFn:i,timingInfoFn:s,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:o,id3Fn:l,captionsFn:u,isEndOfTimeline:c,endedTimelineFn:d,dataFn:f,doneFn:h,onTransmuxerLog:m})};if(S.endOfAllRequests=Date.now(),S.map&&S.map.encryptedBytes&&!S.map.bytes)return WR({decryptionWorker:n,id:S.requestId+"-init",encryptedBytes:S.map.encryptedBytes,key:S.map.key},function(P){S.map.bytes=P,HR(S,function(O){if(O)return Gv(r),h(O,S);D()})});D()}}}},Fre=function(e){var r=e.loadendState,n=e.abortFn;return function(i){var s=i.target;s.aborted&&n&&!r.calledAbortFn&&(n(),r.calledAbortFn=!0)}},Bre=function(e){var r=e.segment,n=e.progressFn;return e.trackInfoFn,e.timingInfoFn,e.videoSegmentTimingInfoFn,e.audioSegmentTimingInfoFn,e.id3Fn,e.captionsFn,e.isEndOfTimeline,e.endedTimelineFn,e.dataFn,function(i){var s=i.target;if(!s.aborted)return r.stats=le.mergeOptions(r.stats,Rre(i)),!r.stats.firstBytesReceivedAt&&r.stats.bytesReceived&&(r.stats.firstBytesReceivedAt=Date.now()),n(i,r)}},$re=function(e){var r=e.xhr,n=e.xhrOptions,i=e.decryptionWorker,s=e.segment,a=e.abortFn,o=e.progressFn,l=e.trackInfoFn,u=e.timingInfoFn,c=e.videoSegmentTimingInfoFn,d=e.audioSegmentTimingInfoFn,f=e.id3Fn,h=e.captionsFn,m=e.isEndOfTimeline,g=e.endedTimelineFn,v=e.dataFn,x=e.doneFn,S=e.onTransmuxerLog,D=[],P=Nre({activeXhrs:D,decryptionWorker:i,trackInfoFn:l,timingInfoFn:u,videoSegmentTimingInfoFn:c,audioSegmentTimingInfoFn:d,id3Fn:f,captionsFn:h,isEndOfTimeline:m,endedTimelineFn:g,dataFn:v,doneFn:x,onTransmuxerLog:S});if(s.key&&!s.key.bytes){var O=[s.key];s.map&&!s.map.bytes&&s.map.key&&s.map.key.resolvedUri===s.key.resolvedUri&&O.push(s.map.key);var B=le.mergeOptions(n,{uri:s.key.resolvedUri,responseType:"arraybuffer"}),z=UE(s,O,P),U=r(B,z);D.push(U)}if(s.map&&!s.map.bytes){var Y=s.map.key&&(!s.key||s.key.resolvedUri!==s.map.key.resolvedUri);if(Y){var F=le.mergeOptions(n,{uri:s.map.key.resolvedUri,responseType:"arraybuffer"}),ue=UE(s,[s.map.key],P),X=r(F,ue);D.push(X)}var me=le.mergeOptions(n,{uri:s.map.resolvedUri,responseType:"arraybuffer",headers:Wv(s.map)}),xe=kre({segment:s,finishProcessingFn:P}),ge=r(me,xe);D.push(ge)}var Se=le.mergeOptions(n,{uri:s.part&&s.part.resolvedUri||s.resolvedUri,responseType:"arraybuffer",headers:Wv(s)}),Ae=Ire({segment:s,finishProcessingFn:P,responseType:Se.responseType}),he=r(Se,Ae);he.addEventListener("progress",Bre({segment:s,progressFn:o,trackInfoFn:l,timingInfoFn:u,videoSegmentTimingInfoFn:c,audioSegmentTimingInfoFn:d,id3Fn:f,captionsFn:h,isEndOfTimeline:m,endedTimelineFn:g,dataFn:v})),D.push(he);var Ye={};return D.forEach(function(Z){Z.addEventListener("loadend",Fre({loadendState:Ye,abortFn:a}))}),function(){return Gv(D)}},Ure=an("CodecUtils"),jre=function(e){var r=e.attributes||{};if(r.CODECS)return gn(r.CODECS)},YR=function(e,r){var n=r.attributes||{};return e&&e.mediaGroups&&e.mediaGroups.AUDIO&&n.AUDIO&&e.mediaGroups.AUDIO[n.AUDIO]},Vre=function(e,r){if(!YR(e,r))return!0;var n=r.attributes||{},i=e.mediaGroups.AUDIO[n.AUDIO];for(var s in i)if(!i[s].uri&&!i[s].playlists)return!0;return!1},Fh=function(e){var r={};return e.forEach(function(n){var i=n.mediaType,s=n.type,a=n.details;r[i]=r[i]||[],r[i].push(gA(""+s+a))}),Object.keys(r).forEach(function(n){if(r[n].length>1){Ure("multiple "+n+" codecs found as attributes: "+r[n].join(", ")+". Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs."),r[n]=null;return}r[n]=r[n][0]}),r},jE=function(e){var r=0;return e.audio&&r++,e.video&&r++,r},cc=function(e,r){var n=r.attributes||{},i=Fh(jre(r)||[]);if(YR(e,r)&&!i.audio&&!Vre(e,r)){var s=Fh(fJ(e,n.AUDIO)||[]);s.audio&&(i.audio=s.audio)}return i},uf=an("PlaylistSelector"),VE=function(e){if(!(!e||!e.playlist)){var r=e.playlist;return JSON.stringify({id:r.id,bandwidth:e.bandwidth,width:e.width,height:e.height,codecs:r.attributes&&r.attributes.CODECS||""})}},Bh=function(e,r){if(!e)return"";var n=J.getComputedStyle(e);return n?n[r]:""},Qo=function(e,r){var n=e.slice();e.sort(function(i,s){var a=r(i,s);return a===0?n.indexOf(i)-n.indexOf(s):a})},Fb=function(e,r){var n,i;return e.attributes.BANDWIDTH&&(n=e.attributes.BANDWIDTH),n=n||J.Number.MAX_VALUE,r.attributes.BANDWIDTH&&(i=r.attributes.BANDWIDTH),i=i||J.Number.MAX_VALUE,n-i},Hre=function(e,r){var n,i;return e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(n=e.attributes.RESOLUTION.width),n=n||J.Number.MAX_VALUE,r.attributes.RESOLUTION&&r.attributes.RESOLUTION.width&&(i=r.attributes.RESOLUTION.width),i=i||J.Number.MAX_VALUE,n===i&&e.attributes.BANDWIDTH&&r.attributes.BANDWIDTH?e.attributes.BANDWIDTH-r.attributes.BANDWIDTH:n-i},GR=function(e,r,n,i,s,a){if(!!e){var o={bandwidth:r,width:n,height:i,limitRenditionByPlayerDimensions:s},l=e.playlists;ni.isAudioOnly(e)&&(l=a.getAudioTrackPlaylists_(),o.audioOnly=!0);var u=l.map(function(F){var ue,X=F.attributes&&F.attributes.RESOLUTION&&F.attributes.RESOLUTION.width,me=F.attributes&&F.attributes.RESOLUTION&&F.attributes.RESOLUTION.height;return ue=F.attributes&&F.attributes.BANDWIDTH,ue=ue||J.Number.MAX_VALUE,{bandwidth:ue,width:X,height:me,playlist:F}});Qo(u,function(F,ue){return F.bandwidth-ue.bandwidth}),u=u.filter(function(F){return!ni.isIncompatible(F.playlist)});var c=u.filter(function(F){return ni.isEnabled(F.playlist)});c.length||(c=u.filter(function(F){return!ni.isDisabled(F.playlist)}));var d=c.filter(function(F){return F.bandwidth*vr.BANDWIDTH_VARIANCE<r}),f=d[d.length-1],h=d.filter(function(F){return F.bandwidth===f.bandwidth})[0];if(s===!1){var m=h||c[0]||u[0];if(m&&m.playlist){var g="sortedPlaylistReps";return h&&(g="bandwidthBestRep"),c[0]&&(g="enabledPlaylistReps"),uf("choosing "+VE(m)+" using "+g+" with options",o),m.playlist}return uf("could not choose a playlist with options",o),null}var v=d.filter(function(F){return F.width&&F.height});Qo(v,function(F,ue){return F.width-ue.width});var x=v.filter(function(F){return F.width===n&&F.height===i});f=x[x.length-1];var S=x.filter(function(F){return F.bandwidth===f.bandwidth})[0],D,P,O;S||(D=v.filter(function(F){return F.width>n||F.height>i}),P=D.filter(function(F){return F.width===D[0].width&&F.height===D[0].height}),f=P[P.length-1],O=P.filter(function(F){return F.bandwidth===f.bandwidth})[0]);var B;if(a.experimentalLeastPixelDiffSelector){var z=v.map(function(F){return F.pixelDiff=Math.abs(F.width-n)+Math.abs(F.height-i),F});Qo(z,function(F,ue){return F.pixelDiff===ue.pixelDiff?ue.bandwidth-F.bandwidth:F.pixelDiff-ue.pixelDiff}),B=z[0]}var U=B||O||S||h||c[0]||u[0];if(U&&U.playlist){var Y="sortedPlaylistReps";return B?Y="leastPixelDiffRep":O?Y="resolutionPlusOneRep":S?Y="resolutionBestRep":h?Y="bandwidthBestRep":c[0]&&(Y="enabledPlaylistReps"),uf("choosing "+VE(U)+" using "+Y+" with options",o),U.playlist}return uf("could not choose a playlist with options",o),null}},HE=function(){var e=this.useDevicePixelRatio&&J.devicePixelRatio||1;return GR(this.playlists.master,this.systemBandwidth,parseInt(Bh(this.tech_.el(),"width"),10)*e,parseInt(Bh(this.tech_.el(),"height"),10)*e,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)},zre=function(e){var r=-1,n=-1;if(e<0||e>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){var i=this.useDevicePixelRatio&&J.devicePixelRatio||1;return r<0&&(r=this.systemBandwidth,n=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==n&&(r=e*this.systemBandwidth+(1-e)*r,n=this.systemBandwidth),GR(this.playlists.master,r,parseInt(Bh(this.tech_.el(),"width"),10)*i,parseInt(Bh(this.tech_.el(),"height"),10)*i,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)}},Wre=function(e){var r=e.master,n=e.currentTime,i=e.bandwidth,s=e.duration,a=e.segmentDuration,o=e.timeUntilRebuffer,l=e.currentTimeline,u=e.syncController,c=r.playlists.filter(function(g){return!ni.isIncompatible(g)}),d=c.filter(ni.isEnabled);d.length||(d=c.filter(function(g){return!ni.isDisabled(g)}));var f=d.filter(ni.hasAttribute.bind(null,"BANDWIDTH")),h=f.map(function(g){var v=u.getSyncPoint(g,s,l,n),x=v?1:2,S=ni.estimateSegmentRequestTime(a,i,g),D=S*x-o;return{playlist:g,rebufferingImpact:D}}),m=h.filter(function(g){return g.rebufferingImpact<=0});return Qo(m,function(g,v){return Fb(v.playlist,g.playlist)}),m.length?m[0]:(Qo(h,function(g,v){return g.rebufferingImpact-v.rebufferingImpact}),h[0]||null)},Yre=function(){var e=this,r=this.playlists.master.playlists.filter(ni.isEnabled);Qo(r,function(i,s){return Fb(i,s)});var n=r.filter(function(i){return!!cc(e.playlists.master,i).video});return n[0]||null},Gre=function(e){var r=0,n;return e.bytes&&(n=new Uint8Array(e.bytes),e.segments.forEach(function(i){n.set(i,r),r+=i.byteLength})),n},qre=function(e,r,n){if(!e[n]){r.trigger({type:"usage",name:"vhs-608"}),r.trigger({type:"usage",name:"hls-608"});var i=n;/^cc708_/.test(n)&&(i="SERVICE"+n.split("_")[1]);var s=r.textTracks().getTrackById(i);if(s)e[n]=s;else{var a=r.options_.vhs&&r.options_.vhs.captionServices||{},o=n,l=n,u=!1,c=a[i];c&&(o=c.label,l=c.language,u=c.default),e[n]=r.addRemoteTextTrack({kind:"captions",id:i,default:u,label:o,language:l},!1).track}}},Kre=function(e){var r=e.inbandTextTracks,n=e.captionArray,i=e.timestampOffset;if(!!n){var s=J.WebKitDataCue||J.VTTCue;n.forEach(function(a){var o=a.stream;r[o].addCue(new s(a.startTime+i,a.endTime+i,a.text))})}},Xre=function(e){Object.defineProperties(e.frame,{id:{get:function(){return le.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),e.value.key}},value:{get:function(){return le.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),e.value.data}},privateData:{get:function(){return le.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),e.value.data}}})},Qre=function(e){var r=e.inbandTextTracks,n=e.metadataArray,i=e.timestampOffset,s=e.videoDuration;if(!!n){var a=J.WebKitDataCue||J.VTTCue,o=r.metadataTrack_;if(!!o&&(n.forEach(function(h){var m=h.cueTime+i;typeof m!="number"||J.isNaN(m)||m<0||!(m<1/0)||h.frames.forEach(function(g){var v=new a(m,m,g.value||g.url||g.data||"");v.frame=g,v.value=g,Xre(v),o.addCue(v)})}),!(!o.cues||!o.cues.length))){for(var l=o.cues,u=[],c=0;c<l.length;c++)l[c]&&u.push(l[c]);var d=u.reduce(function(h,m){var g=h[m.startTime]||[];return g.push(m),h[m.startTime]=g,h},{}),f=Object.keys(d).sort(function(h,m){return Number(h)-Number(m)});f.forEach(function(h,m){var g=d[h],v=Number(f[m+1])||s;g.forEach(function(x){x.endTime=v})})}}},Jre=function(e,r,n){e.metadataTrack_||(e.metadataTrack_=n.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,e.metadataTrack_.inBandMetadataTrackDispatchType=r)},zu=function(e,r,n){var i,s;if(!!n&&!!n.cues)for(i=n.cues.length;i--;)s=n.cues[i],s.startTime>=e&&s.endTime<=r&&n.removeCue(s)},Zre=function(e){var r=e.cues;if(!!r)for(var n=0;n<r.length;n++){for(var i=[],s=0,a=0;a<r.length;a++)r[n].startTime===r[a].startTime&&r[n].endTime===r[a].endTime&&r[n].text===r[a].text&&(s++,s>1&&i.push(r[a]));i.length&&i.forEach(function(o){return e.removeCue(o)})}},eie=function(e,r,n){if(typeof r=="undefined"||r===null||!e.length)return[];var i=Math.ceil((r-n+3)*Sh.ONE_SECOND_IN_TS),s;for(s=0;s<e.length&&!(e[s].pts>i);s++);return e.slice(s)},tie=function(e,r,n){if(!r.length)return e;if(n)return r.slice();var i=r[0].pts,s=0;for(s;s<e.length&&!(e[s].pts>=i);s++);return e.slice(0,s).concat(r)},rie=function(e,r,n,i){for(var s=Math.ceil((r-i)*Sh.ONE_SECOND_IN_TS),a=Math.ceil((n-i)*Sh.ONE_SECOND_IN_TS),o=e.slice(),l=e.length;l--&&!(e[l].pts<=a););if(l===-1)return o;for(var u=l+1;u--&&!(e[u].pts<=s););return u=Math.max(u,0),o.splice(u,l-u+1),o},iie=function(e,r){if(!e&&!r||!e&&r||e&&!r)return!1;if(e===r)return!0;var n=Object.keys(e).sort(),i=Object.keys(r).sort();if(n.length!==i.length)return!1;for(var s=0;s<n.length;s++){var a=n[s];if(a!==i[s]||e[a]!==r[a])return!1}return!0},qR=22,nie=function(e,r,n){r=r||[];for(var i=[],s=0,a=0;a<r.length;a++){var o=r[a];if(e===o.timeline&&(i.push(a),s+=o.duration,s>n))return a}return i.length===0?0:i[i.length-1]},Su=1,sie=500,zE=function(e){return typeof e=="number"&&isFinite(e)},cf=1/60,aie=function(e,r,n){return e!=="main"||!r||!n?null:!n.hasAudio&&!n.hasVideo?"Neither audio nor video found in segment.":r.hasVideo&&!n.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!r.hasVideo&&n.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null},oie=function(e,r,n){var i=r-vr.BACK_BUFFER_LENGTH;e.length&&(i=Math.max(i,e.start(0)));var s=r-n;return Math.min(s,i)},No=function(e){var r=e.startOfSegment,n=e.duration,i=e.segment,s=e.part,a=e.playlist,o=a.mediaSequence,l=a.id,u=a.segments,c=u===void 0?[]:u,d=e.mediaIndex,f=e.partIndex,h=e.timeline,m=c.length-1,g="mediaIndex/partIndex increment";e.getMediaInfoForTime?g="getMediaInfoForTime ("+e.getMediaInfoForTime+")":e.isSyncRequest&&(g="getSyncSegmentCandidate (isSyncRequest)"),e.independent&&(g+=" with independent "+e.independent);var v=typeof f=="number",x=e.segment.uri?"segment":"pre-segment",S=v?gR({preloadSegment:i})-1:0;return x+" ["+(o+d)+"/"+(o+m)+"]"+(v?" part ["+f+"/"+S+"]":"")+(" segment start/end ["+i.start+" => "+i.end+"]")+(v?" part start/end ["+s.start+" => "+s.end+"]":"")+(" startOfSegment ["+r+"]")+(" duration ["+n+"]")+(" timeline ["+h+"]")+(" selected by ["+g+"]")+(" playlist ["+l+"]")},WE=function(e){return e+"TimingInfo"},lie=function(e){var r=e.segmentTimeline,n=e.currentTimeline,i=e.startOfSegment,s=e.buffered,a=e.overrideCheck;return!a&&r===n?null:r<n?i:s.length?s.end(s.length-1):i},YE=function(e){var r=e.timelineChangeController,n=e.currentTimeline,i=e.segmentTimeline,s=e.loaderType,a=e.audioDisabled;if(n===i)return!1;if(s==="audio"){var o=r.lastTimelineChange({type:"main"});return!o||o.to!==i}if(s==="main"&&a){var l=r.pendingTimelineChange({type:"audio"});return!(l&&l.to===i)}return!1},uie=function(e){var r=0;return["video","audio"].forEach(function(n){var i=e[n+"TimingInfo"];if(!!i){var s=i.start,a=i.end,o;typeof s=="bigint"||typeof a=="bigint"?o=J.BigInt(a)-J.BigInt(s):typeof s=="number"&&typeof a=="number"&&(o=a-s),typeof o!="undefined"&&o>r&&(r=o)}}),typeof r=="bigint"&&r<Number.MAX_SAFE_INTEGER&&(r=Number(r)),r},GE=function(e){var r=e.segmentDuration,n=e.maxDuration;return r?Math.round(r)>n+qs:!1},cie=function(e,r){if(r!=="hls")return null;var n=uie({audioTimingInfo:e.audioTimingInfo,videoTimingInfo:e.videoTimingInfo});if(!n)return null;var i=e.playlist.targetDuration,s=GE({segmentDuration:n,maxDuration:i*2}),a=GE({segmentDuration:n,maxDuration:i}),o="Segment with index "+e.mediaIndex+" "+("from playlist "+e.playlist.id+" ")+("has a duration of "+n+" ")+("when the reported duration is "+e.duration+" ")+("and the target duration is "+i+". ")+"For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1";return s||a?{severity:s?"warn":"info",message:o}:null},qv=function(t){$e(e,t);function e(n,i){var s;if(s=t.call(this)||this,!n)throw new TypeError("Initialization settings are required");if(typeof n.currentTime!="function")throw new TypeError("No currentTime getter specified");if(!n.mediaSource)throw new TypeError("No MediaSource specified");return s.bandwidth=n.bandwidth,s.throughput={rate:0,count:0},s.roundTrip=NaN,s.resetStats_(),s.mediaIndex=null,s.partIndex=null,s.hasPlayed_=n.hasPlayed,s.currentTime_=n.currentTime,s.seekable_=n.seekable,s.seeking_=n.seeking,s.duration_=n.duration,s.mediaSource_=n.mediaSource,s.vhs_=n.vhs,s.loaderType_=n.loaderType,s.currentMediaInfo_=void 0,s.startingMediaInfo_=void 0,s.segmentMetadataTrack_=n.segmentMetadataTrack,s.goalBufferLength_=n.goalBufferLength,s.sourceType_=n.sourceType,s.sourceUpdater_=n.sourceUpdater,s.inbandTextTracks_=n.inbandTextTracks,s.state_="INIT",s.timelineChangeController_=n.timelineChangeController,s.shouldSaveSegmentTimingInfo_=!0,s.parse708captions_=n.parse708captions,s.captionServices_=n.captionServices,s.experimentalExactManifestTimings=n.experimentalExactManifestTimings,s.checkBufferTimeout_=null,s.error_=void 0,s.currentTimeline_=-1,s.pendingSegment_=null,s.xhrOptions_=null,s.pendingSegments_=[],s.audioDisabled_=!1,s.isPendingTimestampOffset_=!1,s.gopBuffer_=[],s.timeMapping_=0,s.safeAppend_=le.browser.IE_VERSION>=11,s.appendInitSegment_={audio:!0,video:!0},s.playlistOfLastInitSegment_={audio:null,video:null},s.callQueue_=[],s.loadQueue_=[],s.metadataQueue_={id3:[],caption:[]},s.waitingOnRemove_=!1,s.quotaExceededErrorRetryTimeout_=null,s.activeInitSegmentId_=null,s.initSegments_={},s.cacheEncryptionKeys_=n.cacheEncryptionKeys,s.keyCache_={},s.decrypter_=n.decrypter,s.syncController_=n.syncController,s.syncPoint_={segmentIndex:0,time:0},s.transmuxer_=s.createTransmuxer_(),s.triggerSyncInfoUpdate_=function(){return s.trigger("syncinfoupdate")},s.syncController_.on("syncinfoupdate",s.triggerSyncInfoUpdate_),s.mediaSource_.addEventListener("sourceopen",function(){s.isEndOfStream_()||(s.ended_=!1)}),s.fetchAtBuffer_=!1,s.logger_=an("SegmentLoader["+s.loaderType_+"]"),Object.defineProperty(st(s),"state",{get:function(){return this.state_},set:function(o){o!==this.state_&&(this.logger_(this.state_+" -> "+o),this.state_=o,this.trigger("statechange"))}}),s.sourceUpdater_.on("ready",function(){s.hasEnoughInfoToAppend_()&&s.processCallQueue_()}),s.loaderType_==="main"&&s.timelineChangeController_.on("pendingtimelinechange",function(){s.hasEnoughInfoToAppend_()&&s.processCallQueue_()}),s.loaderType_==="audio"&&s.timelineChangeController_.on("timelinechange",function(){s.hasEnoughInfoToLoad_()&&s.processLoadQueue_(),s.hasEnoughInfoToAppend_()&&s.processCallQueue_()}),s}var r=e.prototype;return r.createTransmuxer_=function(){return _g.createTransmuxer({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})},r.resetStats_=function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0},r.dispose=function(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&J.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()},r.setAudio=function(i){this.audioDisabled_=!i,i?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())},r.abort=function(){if(this.state!=="WAITING"){this.pendingSegment_&&(this.pendingSegment_=null);return}this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()},r.abort_=function(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,J.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null},r.checkForAbort_=function(i){return this.state==="APPENDING"&&!this.pendingSegment_?(this.state="READY",!0):!this.pendingSegment_||this.pendingSegment_.requestId!==i},r.error=function(i){return typeof i!="undefined"&&(this.logger_("error occurred:",i),this.error_=i),this.pendingSegment_=null,this.error_},r.endOfStream=function(){this.ended_=!0,this.transmuxer_&&_g.reset(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")},r.buffered_=function(){var i=this.getMediaInfo_();if(!this.sourceUpdater_||!i)return le.createTimeRanges();if(this.loaderType_==="main"){var s=i.hasAudio,a=i.hasVideo,o=i.isMuxed;if(a&&s&&!this.audioDisabled_&&!o)return this.sourceUpdater_.buffered();if(a)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()},r.initSegmentForMap=function(i,s){if(s===void 0&&(s=!1),!i)return null;var a=Lh(i),o=this.initSegments_[a];return s&&!o&&i.bytes&&(this.initSegments_[a]=o={resolvedUri:i.resolvedUri,byterange:i.byterange,bytes:i.bytes,tracks:i.tracks,timescales:i.timescales}),o||i},r.segmentKey=function(i,s){if(s===void 0&&(s=!1),!i)return null;var a=RR(i),o=this.keyCache_[a];this.cacheEncryptionKeys_&&s&&!o&&i.bytes&&(this.keyCache_[a]=o={resolvedUri:i.resolvedUri,bytes:i.bytes});var l={resolvedUri:(o||i).resolvedUri};return o&&(l.bytes=o.bytes),l},r.couldBeginLoading_=function(){return this.playlist_&&!this.paused()},r.load=function(){if(this.monitorBuffer_(),!!this.playlist_){if(this.state==="INIT"&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||this.state!=="READY"&&this.state!=="INIT"||(this.state="READY")}},r.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},r.playlist=function(i,s){if(s===void 0&&(s={}),!!i){var a=this.playlist_,o=this.pendingSegment_;this.playlist_=i,this.xhrOptions_=s,this.state==="INIT"&&(i.syncInfo={mediaSequence:i.mediaSequence,time:0},this.loaderType_==="main"&&this.syncController_.setDateTimeMappingForStart(i));var l=null;if(a&&(a.id?l=a.id:a.uri&&(l=a.uri)),this.logger_("playlist update ["+l+" => "+(i.id||i.uri)+"]"),this.trigger("syncinfoupdate"),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();if(!a||a.uri!==i.uri){this.mediaIndex!==null&&(i.endList?this.resyncLoader():this.resetLoader()),this.currentMediaInfo_=void 0,this.trigger("playlistupdate");return}var u=i.mediaSequence-a.mediaSequence;if(this.logger_("live window shift ["+u+"]"),this.mediaIndex!==null)if(this.mediaIndex-=u,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{var c=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!c.parts||!c.parts.length||!c.parts[this.partIndex])){var d=this.mediaIndex;this.logger_("currently processing part (index "+this.partIndex+") no longer exists."),this.resetLoader(),this.mediaIndex=d}}o&&(o.mediaIndex-=u,o.mediaIndex<0?(o.mediaIndex=null,o.partIndex=null):(o.mediaIndex>=0&&(o.segment=i.segments[o.mediaIndex]),o.partIndex>=0&&o.segment.parts&&(o.part=o.segment.parts[o.partIndex]))),this.syncController_.saveExpiredSegmentInfo(a,i)}},r.pause=function(){this.checkBufferTimeout_&&(J.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)},r.paused=function(){return this.checkBufferTimeout_===null},r.resetEverything=function(i){this.ended_=!1,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,i),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))},r.resetLoader=function(){this.fetchAtBuffer_=!1,this.resyncLoader()},r.resyncLoader=function(){this.transmuxer_&&_g.reset(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})},r.remove=function(i,s,a,o){if(a===void 0&&(a=function(){}),o===void 0&&(o=!1),s===1/0&&(s=this.duration_()),s<=i){this.logger_("skipping remove because end ${end} is <= start ${start}");return}if(!this.sourceUpdater_||!this.getMediaInfo_()){this.logger_("skipping remove because no source updater or starting media info");return}var l=1,u=function(){l--,l===0&&a()};(o||!this.audioDisabled_)&&(l++,this.sourceUpdater_.removeAudio(i,s,u)),(o||this.loaderType_==="main")&&(this.gopBuffer_=rie(this.gopBuffer_,i,s,this.timeMapping_),l++,this.sourceUpdater_.removeVideo(i,s,u));for(var c in this.inbandTextTracks_)zu(i,s,this.inbandTextTracks_[c]);zu(i,s,this.segmentMetadataTrack_),u()},r.monitorBuffer_=function(){this.checkBufferTimeout_&&J.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=J.setTimeout(this.monitorBufferTick_.bind(this),1)},r.monitorBufferTick_=function(){this.state==="READY"&&this.fillBuffer_(),this.checkBufferTimeout_&&J.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=J.setTimeout(this.monitorBufferTick_.bind(this),sie)},r.fillBuffer_=function(){if(!this.sourceUpdater_.updating()){var i=this.chooseNextRequest_();!i||(typeof i.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:i.timeline})),this.loadSegment_(i))}},r.isEndOfStream_=function(i,s,a){if(i===void 0&&(i=this.mediaIndex),s===void 0&&(s=this.playlist_),a===void 0&&(a=this.partIndex),!s||!this.mediaSource_)return!1;var o=typeof i=="number"&&s.segments[i],l=i+1===s.segments.length,u=!o||!o.parts||a+1===o.parts.length;return s.endList&&this.mediaSource_.readyState==="open"&&l&&u},r.chooseNextRequest_=function(){var i=this.buffered_(),s=ME(i)||0,a=Rb(i,this.currentTime_()),o=!this.hasPlayed_()&&a>=1,l=a>=this.goalBufferLength_(),u=this.playlist_.segments;if(!u.length||o||l)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_());var c={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:Boolean(!this.syncPoint_)};if(c.isSyncRequest)c.mediaIndex=nie(this.currentTimeline_,u,s);else if(this.mediaIndex!==null){var d=u[this.mediaIndex],f=typeof this.partIndex=="number"?this.partIndex:-1;c.startOfSegment=d.end?d.end:s,d.parts&&d.parts[f+1]?(c.mediaIndex=this.mediaIndex,c.partIndex=f+1):c.mediaIndex=this.mediaIndex+1}else{var h=ni.getMediaInfoForTime({experimentalExactManifestTimings:this.experimentalExactManifestTimings,playlist:this.playlist_,currentTime:this.fetchAtBuffer_?s:this.currentTime_(),startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time}),m=h.segmentIndex,g=h.startTime,v=h.partIndex;c.getMediaInfoForTime=this.fetchAtBuffer_?"bufferedEnd "+s:"currentTime "+this.currentTime_(),c.mediaIndex=m,c.startOfSegment=g,c.partIndex=v}var x=u[c.mediaIndex],S=x&&typeof c.partIndex=="number"&&x.parts&&x.parts[c.partIndex];if(!x||typeof c.partIndex=="number"&&!S)return null;if(typeof c.partIndex!="number"&&x.parts&&(c.partIndex=0,S=x.parts[0]),!a&&S&&!S.independent)if(c.partIndex===0){var D=u[c.mediaIndex-1],P=D.parts&&D.parts.length&&D.parts[D.parts.length-1];P&&P.independent&&(c.mediaIndex-=1,c.partIndex=D.parts.length-1,c.independent="previous segment")}else x.parts[c.partIndex-1].independent&&(c.partIndex-=1,c.independent="previous part");var O=this.mediaSource_&&this.mediaSource_.readyState==="ended";return c.mediaIndex>=u.length-1&&O&&!this.seeking_()?null:this.generateSegmentInfo_(c)},r.generateSegmentInfo_=function(i){var s=i.independent,a=i.playlist,o=i.mediaIndex,l=i.startOfSegment,u=i.isSyncRequest,c=i.partIndex,d=i.forceTimestampOffset,f=i.getMediaInfoForTime,h=a.segments[o],m=typeof c=="number"&&h.parts[c],g={requestId:"segment-loader-"+Math.random(),uri:m&&m.resolvedUri||h.resolvedUri,mediaIndex:o,partIndex:m?c:null,isSyncRequest:u,startOfSegment:l,playlist:a,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:h.timeline,duration:m&&m.duration||h.duration,segment:h,part:m,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:f,independent:s},v=typeof d!="undefined"?d:this.isPendingTimestampOffset_;g.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:h.timeline,currentTimeline:this.currentTimeline_,startOfSegment:l,buffered:this.buffered_(),overrideCheck:v});var x=ME(this.sourceUpdater_.audioBuffered());return typeof x=="number"&&(g.audioAppendStart=x-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(g.gopsToAlignWith=eie(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),g},r.timestampOffsetForSegment_=function(i){return lie(i)},r.earlyAbortWhenNeeded_=function(i){if(!(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)&&!(Date.now()-(i.firstBytesReceivedAt||Date.now())<1e3)){var s=this.currentTime_(),a=i.bandwidth,o=this.pendingSegment_.duration,l=ni.estimateSegmentRequestTime(o,a,this.playlist_,i.bytesReceived),u=Mte(this.buffered_(),s,this.vhs_.tech_.playbackRate())-1;if(!(l<=u)){var c=Wre({master:this.vhs_.playlists.master,currentTime:s,bandwidth:a,duration:this.duration_(),segmentDuration:o,timeUntilRebuffer:u,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(!!c){var d=l-u,f=d-c.rebufferingImpact,h=.5;u<=qs&&(h=1),!(!c.playlist||c.playlist.uri===this.playlist_.uri||f<h)&&(this.bandwidth=c.playlist.attributes.BANDWIDTH*vr.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}}}},r.handleAbort_=function(i){this.logger_("Aborting "+No(i)),this.mediaRequestsAborted+=1},r.handleProgress_=function(i,s){this.earlyAbortWhenNeeded_(s.stats),!this.checkForAbort_(s.requestId)&&this.trigger("progress")},r.handleTrackInfo_=function(i,s){this.earlyAbortWhenNeeded_(i.stats),!this.checkForAbort_(i.requestId)&&(this.checkForIllegalMediaSwitch(s)||(s=s||{},iie(this.currentMediaInfo_,s)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=s,this.currentMediaInfo_=s,this.logger_("trackinfo update",s),this.trigger("trackinfo")),!this.checkForAbort_(i.requestId)&&(this.pendingSegment_.trackInfo=s,this.hasEnoughInfoToAppend_()&&this.processCallQueue_())))},r.handleTimingInfo_=function(i,s,a,o){if(this.earlyAbortWhenNeeded_(i.stats),!this.checkForAbort_(i.requestId)){var l=this.pendingSegment_,u=WE(s);l[u]=l[u]||{},l[u][a]=o,this.logger_("timinginfo: "+s+" - "+a+" - "+o),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}},r.handleCaptions_=function(i,s){var a=this;if(this.earlyAbortWhenNeeded_(i.stats),!this.checkForAbort_(i.requestId)){if(s.length===0){this.logger_("SegmentLoader received no captions from a caption event");return}var o=this.pendingSegment_;if(!o.hasAppendedData_){this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,i,s));return}var l=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),u={};s.forEach(function(c){u[c.stream]=u[c.stream]||{startTime:1/0,captions:[],endTime:0};var d=u[c.stream];d.startTime=Math.min(d.startTime,c.startTime+l),d.endTime=Math.max(d.endTime,c.endTime+l),d.captions.push(c)}),Object.keys(u).forEach(function(c){var d=u[c],f=d.startTime,h=d.endTime,m=d.captions,g=a.inbandTextTracks_;a.logger_("adding cues from "+f+" -> "+h+" for "+c),qre(g,a.vhs_.tech_,c),zu(f,h,g[c]),Kre({captionArray:m,inbandTextTracks:g,timestampOffset:l})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}},r.handleId3_=function(i,s,a){if(this.earlyAbortWhenNeeded_(i.stats),!this.checkForAbort_(i.requestId)){var o=this.pendingSegment_;if(!o.hasAppendedData_){this.metadataQueue_.id3.push(this.handleId3_.bind(this,i,s,a));return}var l=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();Jre(this.inbandTextTracks_,a,this.vhs_.tech_),Qre({inbandTextTracks:this.inbandTextTracks_,metadataArray:s,timestampOffset:l,videoDuration:this.duration_()})}},r.processMetadataQueue_=function(){this.metadataQueue_.id3.forEach(function(i){return i()}),this.metadataQueue_.caption.forEach(function(i){return i()}),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]},r.processCallQueue_=function(){var i=this.callQueue_;this.callQueue_=[],i.forEach(function(s){return s()})},r.processLoadQueue_=function(){var i=this.loadQueue_;this.loadQueue_=[],i.forEach(function(s){return s()})},r.hasEnoughInfoToLoad_=function(){if(this.loaderType_!=="audio")return!0;var i=this.pendingSegment_;return i?this.getCurrentMediaInfo_()?!YE({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:i.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}):!0:!1},r.getCurrentMediaInfo_=function(i){return i===void 0&&(i=this.pendingSegment_),i&&i.trackInfo||this.currentMediaInfo_},r.getMediaInfo_=function(i){return i===void 0&&(i=this.pendingSegment_),this.getCurrentMediaInfo_(i)||this.startingMediaInfo_},r.hasEnoughInfoToAppend_=function(){if(!this.sourceUpdater_.ready()||this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;var i=this.pendingSegment_,s=this.getCurrentMediaInfo_();if(!i||!s)return!1;var a=s.hasAudio,o=s.hasVideo,l=s.isMuxed;return!(o&&!i.videoTimingInfo||a&&!this.audioDisabled_&&!l&&!i.audioTimingInfo||YE({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:i.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},r.handleData_=function(i,s){if(this.earlyAbortWhenNeeded_(i.stats),!this.checkForAbort_(i.requestId)){if(this.callQueue_.length||!this.hasEnoughInfoToAppend_()){this.callQueue_.push(this.handleData_.bind(this,i,s));return}var a=this.pendingSegment_;if(this.setTimeMapping_(a.timeline),this.updateMediaSecondsLoaded_(a.part||a.segment),this.mediaSource_.readyState!=="closed"){if(i.map&&(i.map=this.initSegmentForMap(i.map,!0),a.segment.map=i.map),i.key&&this.segmentKey(i.key,!0),a.isFmp4=i.isFmp4,a.timingInfo=a.timingInfo||{},a.isFmp4)this.trigger("fmp4"),a.timingInfo.start=a[WE(s.type)].start;else{var o=this.getCurrentMediaInfo_(),l=this.loaderType_==="main"&&o&&o.hasVideo,u;l&&(u=a.videoTimingInfo.start),a.timingInfo.start=this.trueSegmentStart_({currentStart:a.timingInfo.start,playlist:a.playlist,mediaIndex:a.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:l,firstVideoFrameTimeForData:u,videoTimingInfo:a.videoTimingInfo,audioTimingInfo:a.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(a,s.type),this.updateSourceBufferTimestampOffset_(a),a.isSyncRequest){this.updateTimingInfoEnd_(a),this.syncController_.saveSegmentTimingInfo({segmentInfo:a,shouldSaveTimelineMapping:this.loaderType_==="main"});var c=this.chooseNextRequest_();if(c.mediaIndex!==a.mediaIndex||c.partIndex!==a.partIndex){this.logger_("sync segment was incorrect, not appending");return}this.logger_("sync segment was correct, appending")}a.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(a,s)}}},r.updateAppendInitSegmentStatus=function(i,s){this.loaderType_==="main"&&typeof i.timestampOffset=="number"&&!i.changedTimestampOffset&&(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[s]!==i.playlist&&(this.appendInitSegment_[s]=!0)},r.getInitSegmentAndUpdateState_=function(i){var s=i.type,a=i.initSegment,o=i.map,l=i.playlist;if(o){var u=Lh(o);if(this.activeInitSegmentId_===u)return null;a=this.initSegmentForMap(o,!0).bytes,this.activeInitSegmentId_=u}return a&&this.appendInitSegment_[s]?(this.playlistOfLastInitSegment_[s]=l,this.appendInitSegment_[s]=!1,this.activeInitSegmentId_=null,a):null},r.handleQuotaExceededError_=function(i,s){var a=this,o=i.segmentInfo,l=i.type,u=i.bytes,c=this.sourceUpdater_.audioBuffered(),d=this.sourceUpdater_.videoBuffered();c.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+Na(c).join(", ")),d.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+Na(d).join(", "));var f=c.length?c.start(0):0,h=c.length?c.end(c.length-1):0,m=d.length?d.start(0):0,g=d.length?d.end(d.length-1):0;if(h-f<=Su&&g-m<=Su){this.logger_("On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. "+("Appended byte length: "+u.byteLength+", ")+("audio buffer: "+Na(c).join(", ")+", ")+("video buffer: "+Na(d).join(", ")+", ")),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),this.trigger("error");return}this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:o,type:l,bytes:u}));var v=this.currentTime_(),x=v-Su;this.logger_("On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to "+x),this.remove(0,x,function(){a.logger_("On QUOTA_EXCEEDED_ERR, retrying append in "+Su+"s"),a.waitingOnRemove_=!1,a.quotaExceededErrorRetryTimeout_=J.setTimeout(function(){a.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),a.quotaExceededErrorRetryTimeout_=null,a.processCallQueue_()},Su*1e3)},!0)},r.handleAppendError_=function(i,s){var a=i.segmentInfo,o=i.type,l=i.bytes;if(!!s){if(s.code===qR){this.handleQuotaExceededError_({segmentInfo:a,type:o,bytes:l});return}this.logger_("Received non QUOTA_EXCEEDED_ERR on append",s),this.error(o+" append of "+l.length+"b failed for segment "+("#"+a.mediaIndex+" in playlist "+a.playlist.id)),this.trigger("appenderror")}},r.appendToSourceBuffer_=function(i){var s=i.segmentInfo,a=i.type,o=i.initSegment,l=i.data,u=i.bytes;if(!u){var c=[l],d=l.byteLength;o&&(c.unshift(o),d+=o.byteLength),u=Gre({bytes:d,segments:c})}this.sourceUpdater_.appendBuffer({segmentInfo:s,type:a,bytes:u},this.handleAppendError_.bind(this,{segmentInfo:s,type:a,bytes:u}))},r.handleSegmentTimingInfo_=function(i,s,a){if(!(!this.pendingSegment_||s!==this.pendingSegment_.requestId)){var o=this.pendingSegment_.segment,l=i+"TimingInfo";o[l]||(o[l]={}),o[l].transmuxerPrependedSeconds=a.prependedContentDuration||0,o[l].transmuxedPresentationStart=a.start.presentation,o[l].transmuxedDecodeStart=a.start.decode,o[l].transmuxedPresentationEnd=a.end.presentation,o[l].transmuxedDecodeEnd=a.end.decode,o[l].baseMediaDecodeTime=a.baseMediaDecodeTime}},r.appendData_=function(i,s){var a=s.type,o=s.data;if(!(!o||!o.byteLength)&&!(a==="audio"&&this.audioDisabled_)){var l=this.getInitSegmentAndUpdateState_({type:a,initSegment:s.initSegment,playlist:i.playlist,map:i.isFmp4?i.segment.map:null});this.appendToSourceBuffer_({segmentInfo:i,type:a,initSegment:l,data:o})}},r.loadSegment_=function(i){var s=this;if(this.state="WAITING",this.pendingSegment_=i,this.trimBackBuffer_(i),typeof i.timestampOffset=="number"&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),!this.hasEnoughInfoToLoad_()){this.loadQueue_.push(function(){var a=Vi({},i,{forceTimestampOffset:!0});Vi(i,s.generateSegmentInfo_(a)),s.isPendingTimestampOffset_=!1,s.updateTransmuxerAndRequestSegment_(i)});return}this.updateTransmuxerAndRequestSegment_(i)},r.updateTransmuxerAndRequestSegment_=function(i){var s=this;this.shouldUpdateTransmuxerTimestampOffset_(i.timestampOffset)&&(this.gopBuffer_.length=0,i.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:i.timestampOffset}));var a=this.createSimplifiedSegmentObj_(i),o=this.isEndOfStream_(i.mediaIndex,i.playlist,i.partIndex),l=this.mediaIndex!==null,u=i.timeline!==this.currentTimeline_&&i.timeline>0,c=o||l&&u;this.logger_("Requesting "+No(i)),a.map&&!a.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),i.abortRequests=$re({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:a,abortFn:this.handleAbort_.bind(this,i),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",i.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",i.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:c,endedTimelineFn:function(){s.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:function(f){var h=f.message,m=f.level,g=f.stream;s.logger_(No(i)+" logged from transmuxer stream "+g+" as a "+m+": "+h)}})},r.trimBackBuffer_=function(i){var s=oie(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);s>0&&this.remove(0,s)},r.createSimplifiedSegmentObj_=function(i){var s=i.segment,a=i.part,o={resolvedUri:a?a.resolvedUri:s.resolvedUri,byterange:a?a.byterange:s.byterange,requestId:i.requestId,transmuxer:i.transmuxer,audioAppendStart:i.audioAppendStart,gopsToAlignWith:i.gopsToAlignWith,part:i.part},l=i.playlist.segments[i.mediaIndex-1];if(l&&l.timeline===s.timeline&&(l.videoTimingInfo?o.baseStartTime=l.videoTimingInfo.transmuxedDecodeEnd:l.audioTimingInfo&&(o.baseStartTime=l.audioTimingInfo.transmuxedDecodeEnd)),s.key){var u=s.key.iv||new Uint32Array([0,0,0,i.mediaIndex+i.playlist.mediaSequence]);o.key=this.segmentKey(s.key),o.key.iv=u}return s.map&&(o.map=this.initSegmentForMap(s.map)),o},r.saveTransferStats_=function(i){this.mediaRequests+=1,i&&(this.mediaBytesTransferred+=i.bytesReceived,this.mediaTransferDuration+=i.roundTripTime)},r.saveBandwidthRelatedStats_=function(i,s){if(this.pendingSegment_.byteLength=s.bytesReceived,i<cf){this.logger_("Ignoring segment's bandwidth because its duration of "+i+(" is less than the min to record "+cf));return}this.bandwidth=s.bandwidth,this.roundTrip=s.roundTripTime},r.handleTimeout_=function(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate")},r.segmentRequestFinished_=function(i,s,a){if(this.callQueue_.length){this.callQueue_.push(this.segmentRequestFinished_.bind(this,i,s,a));return}if(this.saveTransferStats_(s.stats),!!this.pendingSegment_&&s.requestId===this.pendingSegment_.requestId){if(i){if(this.pendingSegment_=null,this.state="READY",i.code===Sn.ABORTED)return;if(this.pause(),i.code===Sn.TIMEOUT){this.handleTimeout_();return}this.mediaRequestsErrored+=1,this.error(i),this.trigger("error");return}var o=this.pendingSegment_;this.saveBandwidthRelatedStats_(o.duration,s.stats),o.endOfAllRequests=s.endOfAllRequests,a.gopInfo&&(this.gopBuffer_=tie(this.gopBuffer_,a.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(o)}},r.setTimeMapping_=function(i){var s=this.syncController_.mappingForTimeline(i);s!==null&&(this.timeMapping_=s)},r.updateMediaSecondsLoaded_=function(i){typeof i.start=="number"&&typeof i.end=="number"?this.mediaSecondsLoaded+=i.end-i.start:this.mediaSecondsLoaded+=i.duration},r.shouldUpdateTransmuxerTimestampOffset_=function(i){return i===null?!1:this.loaderType_==="main"&&i!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&i!==this.sourceUpdater_.audioTimestampOffset()},r.trueSegmentStart_=function(i){var s=i.currentStart,a=i.playlist,o=i.mediaIndex,l=i.firstVideoFrameTimeForData,u=i.currentVideoTimestampOffset,c=i.useVideoTimingInfo,d=i.videoTimingInfo,f=i.audioTimingInfo;if(typeof s!="undefined")return s;if(!c)return f.start;var h=a.segments[o-1];return o===0||!h||typeof h.start=="undefined"||h.end!==l+u?l:d.start},r.waitForAppendsToComplete_=function(i){var s=this.getCurrentMediaInfo_(i);if(!s){this.error({message:"No starting media returned, likely due to an unsupported media format.",blacklistDuration:1/0}),this.trigger("error");return}var a=s.hasAudio,o=s.hasVideo,l=s.isMuxed,u=this.loaderType_==="main"&&o,c=!this.audioDisabled_&&a&&!l;if(i.waitingOnAppends=0,!i.hasAppendedData_){!i.timingInfo&&typeof i.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!0),i.timingInfo={start:0},i.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(i),this.processMetadataQueue_()),this.checkAppendsDone_(i);return}u&&i.waitingOnAppends++,c&&i.waitingOnAppends++,u&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,i)),c&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,i))},r.checkAppendsDone_=function(i){this.checkForAbort_(i.requestId)||(i.waitingOnAppends--,i.waitingOnAppends===0&&this.handleAppendsDone_())},r.checkForIllegalMediaSwitch=function(i){var s=aie(this.loaderType_,this.getCurrentMediaInfo_(),i);return s?(this.error({message:s,blacklistDuration:1/0}),this.trigger("error"),!0):!1},r.updateSourceBufferTimestampOffset_=function(i){if(!(i.timestampOffset===null||typeof i.timingInfo.start!="number"||i.changedTimestampOffset||this.loaderType_!=="main")){var s=!1;i.timestampOffset-=i.timingInfo.start,i.changedTimestampOffset=!0,i.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(i.timestampOffset),s=!0),i.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(i.timestampOffset),s=!0),s&&this.trigger("timestampoffset")}},r.updateTimingInfoEnd_=function(i){i.timingInfo=i.timingInfo||{};var s=this.getMediaInfo_(),a=this.loaderType_==="main"&&s&&s.hasVideo,o=a&&i.videoTimingInfo?i.videoTimingInfo:i.audioTimingInfo;!o||(i.timingInfo.end=typeof o.end=="number"?o.end:o.start+i.duration)},r.handleAppendsDone_=function(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_){this.state="READY",this.paused()||this.monitorBuffer_();return}var i=this.pendingSegment_;this.updateTimingInfoEnd_(i),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:i,shouldSaveTimelineMapping:this.loaderType_==="main"});var s=cie(i,this.sourceType_);if(s&&(s.severity==="warn"?le.log.warn(s.message):this.logger_(s.message)),this.recordThroughput_(i),this.pendingSegment_=null,this.state="READY",i.isSyncRequest&&(this.trigger("syncinfoupdate"),!i.hasAppendedData_)){this.logger_("Throwing away un-appended sync request "+No(i));return}this.logger_("Appended "+No(i)),this.addSegmentMetadataCue_(i),this.fetchAtBuffer_=!0,this.currentTimeline_!==i.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:i.timeline}),this.loaderType_==="main"&&!this.audioDisabled_&&this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:i.timeline})),this.currentTimeline_=i.timeline,this.trigger("syncinfoupdate");var a=i.segment,o=i.part,l=a.end&&this.currentTime_()-a.end>i.playlist.targetDuration*3,u=o&&o.end&&this.currentTime_()-o.end>i.playlist.partTargetDuration*3;if(l||u){this.logger_("bad "+(l?"segment":"part")+" "+No(i)),this.resetEverything();return}var c=this.mediaIndex!==null;c&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=i.mediaIndex,this.partIndex=i.partIndex,this.isEndOfStream_(i.mediaIndex,i.playlist,i.partIndex)&&this.endOfStream(),this.trigger("appended"),i.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()},r.recordThroughput_=function(i){if(i.duration<cf){this.logger_("Ignoring segment's throughput because its duration of "+i.duration+(" is less than the min to record "+cf));return}var s=this.throughput.rate,a=Date.now()-i.endOfAllRequests+1,o=Math.floor(i.byteLength/a*8*1e3);this.throughput.rate+=(o-s)/++this.throughput.count},r.addSegmentMetadataCue_=function(i){if(!!this.segmentMetadataTrack_){var s=i.segment,a=s.start,o=s.end;if(!(!zE(a)||!zE(o))){zu(a,o,this.segmentMetadataTrack_);var l=J.WebKitDataCue||J.VTTCue,u={custom:s.custom,dateTimeObject:s.dateTimeObject,dateTimeString:s.dateTimeString,bandwidth:i.playlist.attributes.BANDWIDTH,resolution:i.playlist.attributes.RESOLUTION,codecs:i.playlist.attributes.CODECS,byteLength:i.byteLength,uri:i.uri,timeline:i.timeline,playlist:i.playlist.id,start:a,end:o},c=JSON.stringify(u),d=new l(a,o,c);d.value=u,this.segmentMetadataTrack_.addCue(d)}}},e}(le.EventTarget);function Kn(){}var KR=function(e){return typeof e!="string"?e:e.replace(/./,function(r){return r.toUpperCase()})},die=["video","audio"],Kv=function(e,r){var n=r[e+"Buffer"];return n&&n.updating||r.queuePending[e]},fie=function(e,r){for(var n=0;n<r.length;n++){var i=r[n];if(i.type==="mediaSource")return null;if(i.type===e)return n}return null},Bb=function t(e,r){if(r.queue.length!==0){var n=0,i=r.queue[n];if(i.type==="mediaSource"){!r.updating()&&r.mediaSource.readyState!=="closed"&&(r.queue.shift(),i.action(r),i.doneFn&&i.doneFn(),t("audio",r),t("video",r));return}if(e!=="mediaSource"&&!(!r.ready()||r.mediaSource.readyState==="closed"||Kv(e,r))){if(i.type!==e){if(n=fie(e,r.queue),n===null)return;i=r.queue[n]}if(r.queue.splice(n,1),r.queuePending[e]=i,i.action(e,r),!i.doneFn){r.queuePending[e]=null,t(e,r);return}}}},XR=function(e,r){var n=r[e+"Buffer"],i=KR(e);!n||(n.removeEventListener("updateend",r["on"+i+"UpdateEnd_"]),n.removeEventListener("error",r["on"+i+"Error_"]),r.codecs[e]=null,r[e+"Buffer"]=null)},bn=function(e,r){return e&&r&&Array.prototype.indexOf.call(e.sourceBuffers,r)!==-1},mi={appendBuffer:function(e,r,n){return function(i,s){var a=s[i+"Buffer"];if(!!bn(s.mediaSource,a)){s.logger_("Appending segment "+r.mediaIndex+"'s "+e.length+" bytes to "+i+"Buffer");try{a.appendBuffer(e)}catch(o){s.logger_("Error with code "+o.code+" "+(o.code===qR?"(QUOTA_EXCEEDED_ERR) ":"")+("when appending segment "+r.mediaIndex+" to "+i+"Buffer")),s.queuePending[i]=null,n(o)}}}},remove:function(e,r){return function(n,i){var s=i[n+"Buffer"];if(!!bn(i.mediaSource,s)){i.logger_("Removing "+e+" to "+r+" from "+n+"Buffer");try{s.remove(e,r)}catch{i.logger_("Remove "+e+" to "+r+" from "+n+"Buffer failed")}}}},timestampOffset:function(e){return function(r,n){var i=n[r+"Buffer"];!bn(n.mediaSource,i)||(n.logger_("Setting "+r+"timestampOffset to "+e),i.timestampOffset=e)}},callback:function(e){return function(r,n){e()}},endOfStream:function(e){return function(r){if(r.mediaSource.readyState==="open"){r.logger_("Calling mediaSource endOfStream("+(e||"")+")");try{r.mediaSource.endOfStream(e)}catch(n){le.log.warn("Failed to call media source endOfStream",n)}}}},duration:function(e){return function(r){r.logger_("Setting mediaSource duration to "+e);try{r.mediaSource.duration=e}catch(n){le.log.warn("Failed to set media source duration",n)}}},abort:function(){return function(e,r){if(r.mediaSource.readyState==="open"){var n=r[e+"Buffer"];if(!!bn(r.mediaSource,n)){r.logger_("calling abort on "+e+"Buffer");try{n.abort()}catch(i){le.log.warn("Failed to abort on "+e+"Buffer",i)}}}}},addSourceBuffer:function(e,r){return function(n){var i=KR(e),s=Ic(r);n.logger_("Adding "+e+"Buffer with codec "+r+" to mediaSource");var a=n.mediaSource.addSourceBuffer(s);a.addEventListener("updateend",n["on"+i+"UpdateEnd_"]),a.addEventListener("error",n["on"+i+"Error_"]),n.codecs[e]=r,n[e+"Buffer"]=a}},removeSourceBuffer:function(e){return function(r){var n=r[e+"Buffer"];if(XR(e,r),!!bn(r.mediaSource,n)){r.logger_("Removing "+e+"Buffer with codec "+r.codecs[e]+" from mediaSource");try{r.mediaSource.removeSourceBuffer(n)}catch(i){le.log.warn("Failed to removeSourceBuffer "+e+"Buffer",i)}}}},changeType:function(e){return function(r,n){var i=n[r+"Buffer"],s=Ic(e);!bn(n.mediaSource,i)||n.codecs[r]!==e&&(n.logger_("changing "+r+"Buffer codec from "+n.codecs[r]+" to "+e),i.changeType(s),n.codecs[r]=e)}}},gi=function(e){var r=e.type,n=e.sourceUpdater,i=e.action,s=e.doneFn,a=e.name;n.queue.push({type:r,action:i,doneFn:s,name:a}),Bb(r,n)},qE=function(e,r){return function(n){if(r.queuePending[e]){var i=r.queuePending[e].doneFn;r.queuePending[e]=null,i&&i(r[e+"Error_"])}Bb(e,r)}},QR=function(t){$e(e,t);function e(n){var i;return i=t.call(this)||this,i.mediaSource=n,i.sourceopenListener_=function(){return Bb("mediaSource",st(i))},i.mediaSource.addEventListener("sourceopen",i.sourceopenListener_),i.logger_=an("SourceUpdater"),i.audioTimestampOffset_=0,i.videoTimestampOffset_=0,i.queue=[],i.queuePending={audio:null,video:null},i.delayedAudioAppendQueue_=[],i.videoAppendQueued_=!1,i.codecs={},i.onVideoUpdateEnd_=qE("video",st(i)),i.onAudioUpdateEnd_=qE("audio",st(i)),i.onVideoError_=function(s){i.videoError_=s},i.onAudioError_=function(s){i.audioError_=s},i.createdSourceBuffers_=!1,i.initializedEme_=!1,i.triggeredReady_=!1,i}var r=e.prototype;return r.initializedEme=function(){this.initializedEme_=!0,this.triggerReady()},r.hasCreatedSourceBuffers=function(){return this.createdSourceBuffers_},r.hasInitializedAnyEme=function(){return this.initializedEme_},r.ready=function(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()},r.createSourceBuffers=function(i){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(i),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())},r.triggerReady=function(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))},r.addSourceBuffer=function(i,s){gi({type:"mediaSource",sourceUpdater:this,action:mi.addSourceBuffer(i,s),name:"addSourceBuffer"})},r.abort=function(i){gi({type:i,sourceUpdater:this,action:mi.abort(i),name:"abort"})},r.removeSourceBuffer=function(i){if(!this.canRemoveSourceBuffer()){le.log.error("removeSourceBuffer is not supported!");return}gi({type:"mediaSource",sourceUpdater:this,action:mi.removeSourceBuffer(i),name:"removeSourceBuffer"})},r.canRemoveSourceBuffer=function(){return!le.browser.IE_VERSION&&!le.browser.IS_FIREFOX&&J.MediaSource&&J.MediaSource.prototype&&typeof J.MediaSource.prototype.removeSourceBuffer=="function"},e.canChangeType=function(){return J.SourceBuffer&&J.SourceBuffer.prototype&&typeof J.SourceBuffer.prototype.changeType=="function"},r.canChangeType=function(){return this.constructor.canChangeType()},r.changeType=function(i,s){if(!this.canChangeType()){le.log.error("changeType is not supported!");return}gi({type:i,sourceUpdater:this,action:mi.changeType(s),name:"changeType"})},r.addOrChangeSourceBuffers=function(i){var s=this;if(!i||typeof i!="object"||Object.keys(i).length===0)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(i).forEach(function(a){var o=i[a];if(!s.hasCreatedSourceBuffers())return s.addSourceBuffer(a,o);s.canChangeType()&&s.changeType(a,o)})},r.appendBuffer=function(i,s){var a=this,o=i.segmentInfo,l=i.type,u=i.bytes;if(this.processedAppend_=!0,l==="audio"&&this.videoBuffer&&!this.videoAppendQueued_){this.delayedAudioAppendQueue_.push([i,s]),this.logger_("delayed audio append of "+u.length+" until video append");return}var c=s;if(gi({type:l,sourceUpdater:this,action:mi.appendBuffer(u,o||{mediaIndex:-1},c),doneFn:s,name:"appendBuffer"}),l==="video"){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;var d=this.delayedAudioAppendQueue_.slice();this.logger_("queuing delayed audio "+d.length+" appendBuffers"),this.delayedAudioAppendQueue_.length=0,d.forEach(function(f){a.appendBuffer.apply(a,f)})}},r.audioBuffered=function(){return bn(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:le.createTimeRange()},r.videoBuffered=function(){return bn(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:le.createTimeRange()},r.buffered=function(){var i=bn(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,s=bn(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return s&&!i?this.audioBuffered():i&&!s?this.videoBuffered():Ite(this.audioBuffered(),this.videoBuffered())},r.setDuration=function(i,s){s===void 0&&(s=Kn),gi({type:"mediaSource",sourceUpdater:this,action:mi.duration(i),name:"duration",doneFn:s})},r.endOfStream=function(i,s){i===void 0&&(i=null),s===void 0&&(s=Kn),typeof i!="string"&&(i=void 0),gi({type:"mediaSource",sourceUpdater:this,action:mi.endOfStream(i),name:"endOfStream",doneFn:s})},r.removeAudio=function(i,s,a){if(a===void 0&&(a=Kn),!this.audioBuffered().length||this.audioBuffered().end(0)===0){a();return}gi({type:"audio",sourceUpdater:this,action:mi.remove(i,s),doneFn:a,name:"remove"})},r.removeVideo=function(i,s,a){if(a===void 0&&(a=Kn),!this.videoBuffered().length||this.videoBuffered().end(0)===0){a();return}gi({type:"video",sourceUpdater:this,action:mi.remove(i,s),doneFn:a,name:"remove"})},r.updating=function(){return!!(Kv("audio",this)||Kv("video",this))},r.audioTimestampOffset=function(i){return typeof i!="undefined"&&this.audioBuffer&&this.audioTimestampOffset_!==i&&(gi({type:"audio",sourceUpdater:this,action:mi.timestampOffset(i),name:"timestampOffset"}),this.audioTimestampOffset_=i),this.audioTimestampOffset_},r.videoTimestampOffset=function(i){return typeof i!="undefined"&&this.videoBuffer&&this.videoTimestampOffset!==i&&(gi({type:"video",sourceUpdater:this,action:mi.timestampOffset(i),name:"timestampOffset"}),this.videoTimestampOffset_=i),this.videoTimestampOffset_},r.audioQueueCallback=function(i){!this.audioBuffer||gi({type:"audio",sourceUpdater:this,action:mi.callback(i),name:"callback"})},r.videoQueueCallback=function(i){!this.videoBuffer||gi({type:"video",sourceUpdater:this,action:mi.callback(i),name:"callback"})},r.dispose=function(){var i=this;this.trigger("dispose"),die.forEach(function(s){i.abort(s),i.canRemoveSourceBuffer()?i.removeSourceBuffer(s):i[s+"QueueCallback"](function(){return XR(s,i)})}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()},e}(le.EventTarget),KE=function(e){return decodeURIComponent(escape(String.fromCharCode.apply(null,e)))},XE=new Uint8Array(`

`.split("").map(function(t){return t.charCodeAt(0)})),hie=function(t){$e(e,t);function e(n,i){var s;return i===void 0&&(i={}),s=t.call(this,n,i)||this,s.mediaSource_=null,s.subtitlesTrack_=null,s.loaderType_="subtitle",s.featuresNativeTextTracks_=n.featuresNativeTextTracks,s.shouldSaveSegmentTimingInfo_=!1,s}var r=e.prototype;return r.createTransmuxer_=function(){return null},r.buffered_=function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return le.createTimeRanges();var i=this.subtitlesTrack_.cues,s=i[0].startTime,a=i[i.length-1].startTime;return le.createTimeRanges([[s,a]])},r.initSegmentForMap=function(i,s){if(s===void 0&&(s=!1),!i)return null;var a=Lh(i),o=this.initSegments_[a];if(s&&!o&&i.bytes){var l=XE.byteLength+i.bytes.byteLength,u=new Uint8Array(l);u.set(i.bytes),u.set(XE,i.bytes.byteLength),this.initSegments_[a]=o={resolvedUri:i.resolvedUri,byterange:i.byterange,bytes:u}}return o||i},r.couldBeginLoading_=function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()},r.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},r.track=function(i){return typeof i=="undefined"?this.subtitlesTrack_:(this.subtitlesTrack_=i,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)},r.remove=function(i,s){zu(i,s,this.subtitlesTrack_)},r.fillBuffer_=function(){var i=this,s=this.chooseNextRequest_();if(!!s){if(this.syncController_.timestampOffsetForTimeline(s.timeline)===null){var a=function(){i.state="READY",i.paused()||i.monitorBuffer_()};this.syncController_.one("timestampoffset",a),this.state="WAITING_ON_TIMELINE";return}this.loadSegment_(s)}},r.timestampOffsetForSegment_=function(){return null},r.chooseNextRequest_=function(){return this.skipEmptySegments_(t.prototype.chooseNextRequest_.call(this))},r.skipEmptySegments_=function(i){for(;i&&i.segment.empty;){if(i.mediaIndex+1>=i.playlist.segments.length){i=null;break}i=this.generateSegmentInfo_({playlist:i.playlist,mediaIndex:i.mediaIndex+1,startOfSegment:i.startOfSegment+i.duration,isSyncRequest:i.isSyncRequest})}return i},r.stopForError=function(i){this.error(i),this.state="READY",this.pause(),this.trigger("error")},r.segmentRequestFinished_=function(i,s,a){var o=this;if(!this.subtitlesTrack_){this.state="READY";return}if(this.saveTransferStats_(s.stats),!this.pendingSegment_){this.state="READY",this.mediaRequestsAborted+=1;return}if(i){i.code===Sn.TIMEOUT&&this.handleTimeout_(),i.code===Sn.ABORTED?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,this.stopForError(i);return}var l=this.pendingSegment_;this.saveBandwidthRelatedStats_(l.duration,s.stats),this.state="APPENDING",this.trigger("appending");var u=l.segment;if(u.map&&(u.map.bytes=s.map.bytes),l.bytes=s.bytes,typeof J.WebVTT!="function"&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var c,d=function(){o.subtitlesTrack_.tech_.off("vttjsloaded",c),o.stopForError({message:"Error loading vtt.js"})};c=function(){o.subtitlesTrack_.tech_.off("vttjserror",d),o.segmentRequestFinished_(i,s,a)},this.state="WAITING_ON_VTTJS",this.subtitlesTrack_.tech_.one("vttjsloaded",c),this.subtitlesTrack_.tech_.one("vttjserror",d);return}u.requested=!0;try{this.parseVTTCues_(l)}catch(f){this.stopForError({message:f.message});return}if(this.updateTimeMapping_(l,this.syncController_.timelines[l.timeline],this.playlist_),l.cues.length?l.timingInfo={start:l.cues[0].startTime,end:l.cues[l.cues.length-1].endTime}:l.timingInfo={start:l.startOfSegment,end:l.startOfSegment+l.duration},l.isSyncRequest){this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY";return}l.byteLength=l.bytes.byteLength,this.mediaSecondsLoaded+=u.duration,l.cues.forEach(function(f){o.subtitlesTrack_.addCue(o.featuresNativeTextTracks_?new J.VTTCue(f.startTime,f.endTime,f.text):f)}),Zre(this.subtitlesTrack_),this.handleAppendsDone_()},r.handleData_=function(){},r.updateTimingInfoEnd_=function(){},r.parseVTTCues_=function(i){var s,a=!1;typeof J.TextDecoder=="function"?s=new J.TextDecoder("utf8"):(s=J.WebVTT.StringDecoder(),a=!0);var o=new J.WebVTT.Parser(J,J.vttjs,s);if(i.cues=[],i.timestampmap={MPEGTS:0,LOCAL:0},o.oncue=i.cues.push.bind(i.cues),o.ontimestampmap=function(c){i.timestampmap=c},o.onparsingerror=function(c){le.log.warn("Error encountered when parsing cues: "+c.message)},i.segment.map){var l=i.segment.map.bytes;a&&(l=KE(l)),o.parse(l)}var u=i.bytes;a&&(u=KE(u)),o.parse(u),o.flush()},r.updateTimeMapping_=function(i,s,a){var o=i.segment;if(!!s){if(!i.cues.length){o.empty=!0;return}var l=i.timestampmap,u=l.MPEGTS/Sh.ONE_SECOND_IN_TS-l.LOCAL+s.mapping;if(i.cues.forEach(function(f){f.startTime+=u,f.endTime+=u}),!a.syncInfo){var c=i.cues[0].startTime,d=i.cues[i.cues.length-1].startTime;a.syncInfo={mediaSequence:a.mediaSequence+i.mediaIndex,time:Math.min(c,d-o.duration)}}}},e}(qv),pie=function(e,r){for(var n=e.cues,i=0;i<n.length;i++){var s=n[i];if(r>=s.adStartTime&&r<=s.adEndTime)return s}return null},mie=function(e,r,n){if(n===void 0&&(n=0),!!e.segments)for(var i=n,s,a=0;a<e.segments.length;a++){var o=e.segments[a];if(s||(s=pie(r,i+o.duration/2)),s){if("cueIn"in o){s.endTime=i,s.adEndTime=i,i+=o.duration,s=null;continue}if(i<s.endTime){i+=o.duration;continue}s.endTime+=o.duration}else if("cueOut"in o&&(s=new J.VTTCue(i,i+o.duration,o.cueOut),s.adStartTime=i,s.adEndTime=i+parseFloat(o.cueOut),r.addCue(s)),"cueOutCont"in o){var l=o.cueOutCont.split("/").map(parseFloat),u=l[0],c=l[1];s=new J.VTTCue(i,i+o.duration,""),s.adStartTime=i-u,s.adEndTime=s.adStartTime+c,r.addCue(s)}i+=o.duration}},gie=86400,QE=[{name:"VOD",run:function(e,r,n,i,s){if(n!==1/0){var a={time:0,segmentIndex:0,partIndex:null};return a}return null}},{name:"ProgramDateTime",run:function(e,r,n,i,s){if(!Object.keys(e.timelineToDatetimeMappings).length)return null;var a=null,o=null,l=Uv(r);s=s||0;for(var u=0;u<l.length;u++){var c=r.endList||s===0?u:l.length-(u+1),d=l[c],f=d.segment,h=e.timelineToDatetimeMappings[f.timeline];if(!(!h||!f.dateTimeObject)){var m=f.dateTimeObject.getTime()/1e3,g=m+h;if(f.parts&&typeof d.partIndex=="number")for(var v=0;v<d.partIndex;v++)g+=f.parts[v].duration;var x=Math.abs(s-g);if(o!==null&&(x===0||o<x))break;o=x,a={time:g,segmentIndex:d.segmentIndex,partIndex:d.partIndex}}}return a}},{name:"Segment",run:function(e,r,n,i,s){var a=null,o=null;s=s||0;for(var l=Uv(r),u=0;u<l.length;u++){var c=r.endList||s===0?u:l.length-(u+1),d=l[c],f=d.segment,h=d.part&&d.part.start||f&&f.start;if(f.timeline===i&&typeof h!="undefined"){var m=Math.abs(s-h);if(o!==null&&o<m)break;(!a||o===null||o>=m)&&(o=m,a={time:h,segmentIndex:d.segmentIndex,partIndex:d.partIndex})}}return a}},{name:"Discontinuity",run:function(e,r,n,i,s){var a=null;if(s=s||0,r.discontinuityStarts&&r.discontinuityStarts.length)for(var o=null,l=0;l<r.discontinuityStarts.length;l++){var u=r.discontinuityStarts[l],c=r.discontinuitySequence+l+1,d=e.discontinuities[c];if(d){var f=Math.abs(s-d.time);if(o!==null&&o<f)break;(!a||o===null||o>=f)&&(o=f,a={time:d.time,segmentIndex:u,partIndex:null})}}return a}},{name:"Playlist",run:function(e,r,n,i,s){if(r.syncInfo){var a={time:r.syncInfo.time,segmentIndex:r.syncInfo.mediaSequence-r.mediaSequence,partIndex:null};return a}return null}}],vie=function(t){$e(e,t);function e(n){var i;return i=t.call(this)||this,i.timelines=[],i.discontinuities=[],i.timelineToDatetimeMappings={},i.logger_=an("SyncController"),i}var r=e.prototype;return r.getSyncPoint=function(i,s,a,o){var l=this.runStrategies_(i,s,a,o);return l.length?this.selectSyncPoint_(l,{key:"time",value:o}):null},r.getExpiredTime=function(i,s){if(!i||!i.segments)return null;var a=this.runStrategies_(i,s,i.discontinuitySequence,0);if(!a.length)return null;var o=this.selectSyncPoint_(a,{key:"segmentIndex",value:0});return o.segmentIndex>0&&(o.time*=-1),Math.abs(o.time+uc({defaultDuration:i.targetDuration,durationList:i.segments,startIndex:o.segmentIndex,endIndex:0}))},r.runStrategies_=function(i,s,a,o){for(var l=[],u=0;u<QE.length;u++){var c=QE[u],d=c.run(this,i,s,a,o);d&&(d.strategy=c.name,l.push({strategy:c.name,syncPoint:d}))}return l},r.selectSyncPoint_=function(i,s){for(var a=i[0].syncPoint,o=Math.abs(i[0].syncPoint[s.key]-s.value),l=i[0].strategy,u=1;u<i.length;u++){var c=Math.abs(i[u].syncPoint[s.key]-s.value);c<o&&(o=c,a=i[u].syncPoint,l=i[u].strategy)}return this.logger_("syncPoint for ["+s.key+": "+s.value+"] chosen with strategy"+(" ["+l+"]: [time:"+a.time+",")+(" segmentIndex:"+a.segmentIndex)+(typeof a.partIndex=="number"?",partIndex:"+a.partIndex:"")+"]"),a},r.saveExpiredSegmentInfo=function(i,s){var a=s.mediaSequence-i.mediaSequence;if(a>gie){le.log.warn("Not saving expired segment info. Media sequence gap "+a+" is too large.");return}for(var o=a-1;o>=0;o--){var l=i.segments[o];if(l&&typeof l.start!="undefined"){s.syncInfo={mediaSequence:i.mediaSequence+o,time:l.start},this.logger_("playlist refresh sync: [time:"+s.syncInfo.time+","+(" mediaSequence: "+s.syncInfo.mediaSequence+"]")),this.trigger("syncinfoupdate");break}}},r.setDateTimeMappingForStart=function(i){if(this.timelineToDatetimeMappings={},i.segments&&i.segments.length&&i.segments[0].dateTimeObject){var s=i.segments[0],a=s.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[s.timeline]=-a}},r.saveSegmentTimingInfo=function(i){var s=i.segmentInfo,a=i.shouldSaveTimelineMapping,o=this.calculateSegmentTimeMapping_(s,s.timingInfo,a),l=s.segment;o&&(this.saveDiscontinuitySyncInfo_(s),s.playlist.syncInfo||(s.playlist.syncInfo={mediaSequence:s.playlist.mediaSequence+s.mediaIndex,time:l.start}));var u=l.dateTimeObject;l.discontinuity&&a&&u&&(this.timelineToDatetimeMappings[l.timeline]=-(u.getTime()/1e3))},r.timestampOffsetForTimeline=function(i){return typeof this.timelines[i]=="undefined"?null:this.timelines[i].time},r.mappingForTimeline=function(i){return typeof this.timelines[i]=="undefined"?null:this.timelines[i].mapping},r.calculateSegmentTimeMapping_=function(i,s,a){var o=i.segment,l=i.part,u=this.timelines[i.timeline],c,d;if(typeof i.timestampOffset=="number")u={time:i.startOfSegment,mapping:i.startOfSegment-s.start},a&&(this.timelines[i.timeline]=u,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+i.timeline+": "+("[time: "+u.time+"] [mapping: "+u.mapping+"]"))),c=i.startOfSegment,d=s.end+u.mapping;else if(u)c=s.start+u.mapping,d=s.end+u.mapping;else return!1;return l&&(l.start=c,l.end=d),(!o.start||c<o.start)&&(o.start=c),o.end=d,!0},r.saveDiscontinuitySyncInfo_=function(i){var s=i.playlist,a=i.segment;if(a.discontinuity)this.discontinuities[a.timeline]={time:a.start,accuracy:0};else if(s.discontinuityStarts&&s.discontinuityStarts.length)for(var o=0;o<s.discontinuityStarts.length;o++){var l=s.discontinuityStarts[o],u=s.discontinuitySequence+o+1,c=l-i.mediaIndex,d=Math.abs(c);if(!this.discontinuities[u]||this.discontinuities[u].accuracy>d){var f=void 0;c<0?f=a.start-uc({defaultDuration:s.targetDuration,durationList:s.segments,startIndex:i.mediaIndex,endIndex:l}):f=a.end+uc({defaultDuration:s.targetDuration,durationList:s.segments,startIndex:i.mediaIndex+1,endIndex:l}),this.discontinuities[u]={time:f,accuracy:d}}}},r.dispose=function(){this.trigger("dispose"),this.off()},e}(le.EventTarget),yie=function(t){$e(e,t);function e(){var n;return n=t.call(this)||this,n.pendingTimelineChanges_={},n.lastTimelineChanges_={},n}var r=e.prototype;return r.clearPendingTimelineChange=function(i){this.pendingTimelineChanges_[i]=null,this.trigger("pendingtimelinechange")},r.pendingTimelineChange=function(i){var s=i.type,a=i.from,o=i.to;return typeof a=="number"&&typeof o=="number"&&(this.pendingTimelineChanges_[s]={type:s,from:a,to:o},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[s]},r.lastTimelineChange=function(i){var s=i.type,a=i.from,o=i.to;return typeof a=="number"&&typeof o=="number"&&(this.lastTimelineChanges_[s]={type:s,from:a,to:o},delete this.pendingTimelineChanges_[s],this.trigger("timelinechange")),this.lastTimelineChanges_[s]},r.dispose=function(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()},e}(le.EventTarget),bie=FR(BR(function(){function t(g,v,x){return x={path:v,exports:{},require:function(D,P){return e(D,P==null?x.path:P)}},g(x,x.exports),x.exports}function e(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var r=t(function(g){function v(S,D){for(var P=0;P<D.length;P++){var O=D[P];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(S,O.key,O)}}function x(S,D,P){return D&&v(S.prototype,D),P&&v(S,P),S}g.exports=x,g.exports.default=g.exports,g.exports.__esModule=!0}),n=t(function(g){function v(x,S){return g.exports=v=Object.setPrototypeOf||function(P,O){return P.__proto__=O,P},g.exports.default=g.exports,g.exports.__esModule=!0,v(x,S)}g.exports=v,g.exports.default=g.exports,g.exports.__esModule=!0}),i=t(function(g){function v(x,S){x.prototype=Object.create(S.prototype),x.prototype.constructor=x,n(x,S)}g.exports=v,g.exports.default=g.exports,g.exports.__esModule=!0}),s=function(){function g(){this.listeners={}}var v=g.prototype;return v.on=function(S,D){this.listeners[S]||(this.listeners[S]=[]),this.listeners[S].push(D)},v.off=function(S,D){if(!this.listeners[S])return!1;var P=this.listeners[S].indexOf(D);return this.listeners[S]=this.listeners[S].slice(0),this.listeners[S].splice(P,1),P>-1},v.trigger=function(S){var D=this.listeners[S];if(!!D)if(arguments.length===2)for(var P=D.length,O=0;O<P;++O)D[O].call(this,arguments[1]);else for(var B=Array.prototype.slice.call(arguments,1),z=D.length,U=0;U<z;++U)D[U].apply(this,B)},v.dispose=function(){this.listeners={}},v.pipe=function(S){this.on("data",function(D){S.push(D)})},g}();/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */function a(g){return g.subarray(0,g.byteLength-g[g.byteLength-1])}/*! @name aes-decrypter @version 3.1.2 @license Apache-2.0 */var o=function(){var v=[[[],[],[],[],[]],[[],[],[],[],[]]],x=v[0],S=v[1],D=x[4],P=S[4],O,B,z,U=[],Y=[],F,ue,X,me,xe,ge;for(O=0;O<256;O++)Y[(U[O]=O<<1^(O>>7)*283)^O]=O;for(B=z=0;!D[B];B^=F||1,z=Y[z]||1)for(me=z^z<<1^z<<2^z<<3^z<<4,me=me>>8^me&255^99,D[B]=me,P[me]=B,X=U[ue=U[F=U[B]]],ge=X*16843009^ue*65537^F*257^B*16843008,xe=U[me]*257^me*16843008,O=0;O<4;O++)x[O][B]=xe=xe<<24^xe>>>8,S[O][me]=ge=ge<<24^ge>>>8;for(O=0;O<5;O++)x[O]=x[O].slice(0),S[O]=S[O].slice(0);return v},l=null,u=function(){function g(x){l||(l=o()),this._tables=[[l[0][0].slice(),l[0][1].slice(),l[0][2].slice(),l[0][3].slice(),l[0][4].slice()],[l[1][0].slice(),l[1][1].slice(),l[1][2].slice(),l[1][3].slice(),l[1][4].slice()]];var S,D,P,O=this._tables[0][4],B=this._tables[1],z=x.length,U=1;if(z!==4&&z!==6&&z!==8)throw new Error("Invalid aes key size");var Y=x.slice(0),F=[];for(this._key=[Y,F],S=z;S<4*z+28;S++)P=Y[S-1],(S%z===0||z===8&&S%z===4)&&(P=O[P>>>24]<<24^O[P>>16&255]<<16^O[P>>8&255]<<8^O[P&255],S%z===0&&(P=P<<8^P>>>24^U<<24,U=U<<1^(U>>7)*283)),Y[S]=Y[S-z]^P;for(D=0;S;D++,S--)P=Y[D&3?S:S-4],S<=4||D<4?F[D]=P:F[D]=B[0][O[P>>>24]]^B[1][O[P>>16&255]]^B[2][O[P>>8&255]]^B[3][O[P&255]]}var v=g.prototype;return v.decrypt=function(S,D,P,O,B,z){var U=this._key[1],Y=S^U[0],F=O^U[1],ue=P^U[2],X=D^U[3],me,xe,ge,Se=U.length/4-2,Ae,he=4,Ye=this._tables[1],Z=Ye[0],C=Ye[1],q=Ye[2],ae=Ye[3],_e=Ye[4];for(Ae=0;Ae<Se;Ae++)me=Z[Y>>>24]^C[F>>16&255]^q[ue>>8&255]^ae[X&255]^U[he],xe=Z[F>>>24]^C[ue>>16&255]^q[X>>8&255]^ae[Y&255]^U[he+1],ge=Z[ue>>>24]^C[X>>16&255]^q[Y>>8&255]^ae[F&255]^U[he+2],X=Z[X>>>24]^C[Y>>16&255]^q[F>>8&255]^ae[ue&255]^U[he+3],he+=4,Y=me,F=xe,ue=ge;for(Ae=0;Ae<4;Ae++)B[(3&-Ae)+z]=_e[Y>>>24]<<24^_e[F>>16&255]<<16^_e[ue>>8&255]<<8^_e[X&255]^U[he++],me=Y,Y=F,F=ue,ue=X,X=me},g}(),c=function(g){i(v,g);function v(){var S;return S=g.call(this,s)||this,S.jobs=[],S.delay=1,S.timeout_=null,S}var x=v.prototype;return x.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},x.push=function(D){this.jobs.push(D),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},v}(s),d=function(v){return v<<24|(v&65280)<<8|(v&16711680)>>8|v>>>24},f=function(v,x,S){var D=new Int32Array(v.buffer,v.byteOffset,v.byteLength>>2),P=new u(Array.prototype.slice.call(x)),O=new Uint8Array(v.byteLength),B=new Int32Array(O.buffer),z,U,Y,F,ue,X,me,xe,ge;for(z=S[0],U=S[1],Y=S[2],F=S[3],ge=0;ge<D.length;ge+=4)ue=d(D[ge]),X=d(D[ge+1]),me=d(D[ge+2]),xe=d(D[ge+3]),P.decrypt(ue,X,me,xe,B,ge),B[ge]=d(B[ge]^z),B[ge+1]=d(B[ge+1]^U),B[ge+2]=d(B[ge+2]^Y),B[ge+3]=d(B[ge+3]^F),z=ue,U=X,Y=me,F=xe;return O},h=function(){function g(x,S,D,P){var O=g.STEP,B=new Int32Array(x.buffer),z=new Uint8Array(x.byteLength),U=0;for(this.asyncStream_=new c,this.asyncStream_.push(this.decryptChunk_(B.subarray(U,U+O),S,D,z)),U=O;U<B.length;U+=O)D=new Uint32Array([d(B[U-4]),d(B[U-3]),d(B[U-2]),d(B[U-1])]),this.asyncStream_.push(this.decryptChunk_(B.subarray(U,U+O),S,D,z));this.asyncStream_.push(function(){P(null,a(z))})}var v=g.prototype;return v.decryptChunk_=function(S,D,P,O){return function(){var B=f(S,D,P);O.set(B,S.byteOffset)}},r(g,null,[{key:"STEP",get:function(){return 32e3}}]),g}(),m=function(v){var x={};return Object.keys(v).forEach(function(S){var D=v[S];ArrayBuffer.isView(D)?x[S]={bytes:D.buffer,byteOffset:D.byteOffset,byteLength:D.byteLength}:x[S]=D}),x};self.onmessage=function(g){var v=g.data,x=new Uint8Array(v.encrypted.bytes,v.encrypted.byteOffset,v.encrypted.byteLength),S=new Uint32Array(v.key.bytes,v.key.byteOffset,v.key.byteLength/4),D=new Uint32Array(v.iv.bytes,v.iv.byteOffset,v.iv.byteLength/4);new h(x,S,D,function(P,O){self.postMessage(m({source:v.source,decrypted:O}),[O.buffer])})}})),_ie=NR(bie),Tie=function(e){var r=e.default?"main":"alternative";return e.characteristics&&e.characteristics.indexOf("public.accessibility.describes-video")>=0&&(r="main-desc"),r},$h=function(e,r){e.abort(),e.pause(),r&&r.activePlaylistLoader&&(r.activePlaylistLoader.pause(),r.activePlaylistLoader=null)},Xv=function(e,r){r.activePlaylistLoader=e,e.load()},xie=function(e,r){return function(){var n=r.segmentLoaders,i=n[e],s=n.main,a=r.mediaTypes[e],o=a.activeTrack(),l=a.getActiveGroup(),u=a.activePlaylistLoader,c=a.lastGroup_;if(!(l&&c&&l.id===c.id)&&(a.lastGroup_=l,a.lastTrack_=o,$h(i,a),!(!l||l.isMasterPlaylist))){if(!l.playlistLoader){u&&s.resetEverything();return}i.resyncLoader(),Xv(l.playlistLoader,a)}}},Sie=function(e,r){return function(){var n=r.segmentLoaders[e],i=r.mediaTypes[e];i.lastGroup_=null,n.abort(),n.pause()}},Eie=function(e,r){return function(){var n=r.masterPlaylistLoader,i=r.segmentLoaders,s=i[e],a=i.main,o=r.mediaTypes[e],l=o.activeTrack(),u=o.getActiveGroup(),c=o.activePlaylistLoader,d=o.lastTrack_;if(!(d&&l&&d.id===l.id)&&(o.lastGroup_=u,o.lastTrack_=l,$h(s,o),!!u)){if(u.isMasterPlaylist){if(!l||!d||l.id===d.id)return;var f=r.vhs.masterPlaylistController_,h=f.selectPlaylist();if(f.media()===h)return;o.logger_("track change. Switching master audio from "+d.id+" to "+l.id),n.pause(),a.resetEverything(),f.fastQualityChange_(h);return}if(e==="AUDIO"){if(!u.playlistLoader){a.setAudio(!0),a.resetEverything();return}s.setAudio(!0),a.setAudio(!1)}if(c===u.playlistLoader){Xv(u.playlistLoader,o);return}s.track&&s.track(l),s.resetEverything(),Xv(u.playlistLoader,o)}}},Uh={AUDIO:function(e,r){return function(){var n=r.segmentLoaders[e],i=r.mediaTypes[e],s=r.blacklistCurrentPlaylist;$h(n,i);var a=i.activeTrack(),o=i.activeGroup(),l=(o.filter(function(d){return d.default})[0]||o[0]).id,u=i.tracks[l];if(a===u){s({message:"Problem encountered loading the default audio track."});return}le.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(var c in i.tracks)i.tracks[c].enabled=i.tracks[c]===u;i.onTrackChanged()}},SUBTITLES:function(e,r){return function(){var n=r.segmentLoaders[e],i=r.mediaTypes[e];le.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),$h(n,i);var s=i.activeTrack();s&&(s.mode="disabled"),i.onTrackChanged()}}},JE={AUDIO:function(e,r,n){if(!!r){var i=n.tech,s=n.requestOptions,a=n.segmentLoaders[e];r.on("loadedmetadata",function(){var o=r.media();a.playlist(o,s),(!i.paused()||o.endList&&i.preload()!=="none")&&a.load()}),r.on("loadedplaylist",function(){a.playlist(r.media(),s),i.paused()||a.load()}),r.on("error",Uh[e](e,n))}},SUBTITLES:function(e,r,n){var i=n.tech,s=n.requestOptions,a=n.segmentLoaders[e],o=n.mediaTypes[e];r.on("loadedmetadata",function(){var l=r.media();a.playlist(l,s),a.track(o.activeTrack()),(!i.paused()||l.endList&&i.preload()!=="none")&&a.load()}),r.on("loadedplaylist",function(){a.playlist(r.media(),s),i.paused()||a.load()}),r.on("error",Uh[e](e,n))}},Cie={AUDIO:function(e,r){var n=r.vhs,i=r.sourceType,s=r.segmentLoaders[e],a=r.requestOptions,o=r.master.mediaGroups,l=r.mediaTypes[e],u=l.groups,c=l.tracks,d=l.logger_,f=r.masterPlaylistLoader,h=pd(f.master);(!o[e]||Object.keys(o[e]).length===0)&&(o[e]={main:{default:{default:!0}}},h&&(o[e].main.default.playlists=f.master.playlists));for(var m in o[e]){u[m]||(u[m]=[]);for(var g in o[e][m]){var v=o[e][m][g],x=void 0;if(h?(d("AUDIO group '"+m+"' label '"+g+"' is a master playlist"),v.isMasterPlaylist=!0,x=null):i==="vhs-json"&&v.playlists?x=new Wo(v.playlists[0],n,a):v.resolvedUri?x=new Wo(v.resolvedUri,n,a):v.playlists&&i==="dash"?x=new Yv(v.playlists[0],n,a,f):x=null,v=le.mergeOptions({id:g,playlistLoader:x},v),JE[e](e,v.playlistLoader,r),u[m].push(v),typeof c[g]=="undefined"){var S=new le.AudioTrack({id:g,kind:Tie(v),enabled:!1,language:v.language,default:v.default,label:g});c[g]=S}}}s.on("error",Uh[e](e,r))},SUBTITLES:function(e,r){var n=r.tech,i=r.vhs,s=r.sourceType,a=r.segmentLoaders[e],o=r.requestOptions,l=r.master.mediaGroups,u=r.mediaTypes[e],c=u.groups,d=u.tracks,f=r.masterPlaylistLoader;for(var h in l[e]){c[h]||(c[h]=[]);for(var m in l[e][h])if(!l[e][h][m].forced){var g=l[e][h][m],v=void 0;if(s==="hls")v=new Wo(g.resolvedUri,i,o);else if(s==="dash"){var x=g.playlists.filter(function(D){return D.excludeUntil!==1/0});if(!x.length)return;v=new Yv(g.playlists[0],i,o,f)}else s==="vhs-json"&&(v=new Wo(g.playlists?g.playlists[0]:g.resolvedUri,i,o));if(g=le.mergeOptions({id:m,playlistLoader:v},g),JE[e](e,g.playlistLoader,r),c[h].push(g),typeof d[m]=="undefined"){var S=n.addRemoteTextTrack({id:m,kind:"subtitles",default:g.default&&g.autoselect,language:g.language,label:m},!1).track;d[m]=S}}}a.on("error",Uh[e](e,r))},"CLOSED-CAPTIONS":function(e,r){var n=r.tech,i=r.master.mediaGroups,s=r.mediaTypes[e],a=s.groups,o=s.tracks;for(var l in i[e]){a[l]||(a[l]=[]);for(var u in i[e][l]){var c=i[e][l][u];if(!!/^(?:CC|SERVICE)/.test(c.instreamId)){var d=n.options_.vhs&&n.options_.vhs.captionServices||{},f={label:u,language:c.language,instreamId:c.instreamId,default:c.default&&c.autoselect};if(d[f.instreamId]&&(f=le.mergeOptions(f,d[f.instreamId])),f.default===void 0&&delete f.default,a[l].push(le.mergeOptions({id:u},c)),typeof o[u]=="undefined"){var h=n.addRemoteTextTrack({id:f.instreamId,kind:"captions",default:f.default,language:f.language,label:f.label},!1).track;o[u]=h}}}}}},wie=function t(e,r){for(var n=0;n<e.length;n++)if(Mb(r,e[n])||e[n].playlists&&t(e[n].playlists,r))return!0;return!1},Pie=function(e,r){return function(n){var i=r.masterPlaylistLoader,s=r.mediaTypes[e].groups,a=i.media();if(!a)return null;var o=null;a.attributes[e]&&(o=s[a.attributes[e]]);var l=Object.keys(s);if(!o)if(e==="AUDIO"&&l.length>1&&pd(r.master))for(var u=0;u<l.length;u++){var c=s[l[u]];if(wie(c,a)){o=c;break}}else s.main?o=s.main:l.length===1&&(o=s[l[0]]);return typeof n=="undefined"?o:n===null||!o?null:o.filter(function(d){return d.id===n.id})[0]||null}},Die={AUDIO:function(e,r){return function(){var n=r.mediaTypes[e].tracks;for(var i in n)if(n[i].enabled)return n[i];return null}},SUBTITLES:function(e,r){return function(){var n=r.mediaTypes[e].tracks;for(var i in n)if(n[i].mode==="showing"||n[i].mode==="hidden")return n[i];return null}}},Aie=function(e,r){var n=r.mediaTypes;return function(){var i=n[e].activeTrack();return i?n[e].activeGroup(i):null}},Oie=function(e){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(m){Cie[m](m,e)});var r=e.mediaTypes,n=e.masterPlaylistLoader,i=e.tech,s=e.vhs,a=e.segmentLoaders,o=a.AUDIO,l=a.main;["AUDIO","SUBTITLES"].forEach(function(m){r[m].activeGroup=Pie(m,e),r[m].activeTrack=Die[m](m,e),r[m].onGroupChanged=xie(m,e),r[m].onGroupChanging=Sie(m,e),r[m].onTrackChanged=Eie(m,e),r[m].getActiveGroup=Aie(m,e)});var u=r.AUDIO.activeGroup();if(u){var c=(u.filter(function(m){return m.default})[0]||u[0]).id;r.AUDIO.tracks[c].enabled=!0,r.AUDIO.onGroupChanged(),r.AUDIO.onTrackChanged();var d=r.AUDIO.getActiveGroup();d.playlistLoader?(l.setAudio(!1),o.setAudio(!0)):l.setAudio(!0)}n.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(m){return r[m].onGroupChanged()})}),n.on("mediachanging",function(){["AUDIO","SUBTITLES"].forEach(function(m){return r[m].onGroupChanging()})});var f=function(){r.AUDIO.onTrackChanged(),i.trigger({type:"usage",name:"vhs-audio-change"}),i.trigger({type:"usage",name:"hls-audio-change"})};i.audioTracks().addEventListener("change",f),i.remoteTextTracks().addEventListener("change",r.SUBTITLES.onTrackChanged),s.on("dispose",function(){i.audioTracks().removeEventListener("change",f),i.remoteTextTracks().removeEventListener("change",r.SUBTITLES.onTrackChanged)}),i.clearTracks("audio");for(var h in r.AUDIO.tracks)i.audioTracks().addTrack(r.AUDIO.tracks[h])},Rie=function(){var e={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(r){e[r]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:Kn,activeTrack:Kn,getActiveGroup:Kn,onGroupChanged:Kn,onTrackChanged:Kn,lastTrack_:null,logger_:an("MediaGroups["+r+"]")}}),e},kie=60*2,Un,Iie=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],Mie=function(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]},Lie=function(e){var r=e.currentPlaylist,n=e.buffered,i=e.currentTime,s=e.nextPlaylist,a=e.bufferLowWaterLine,o=e.bufferHighWaterLine,l=e.duration,u=e.experimentalBufferBasedABR,c=e.log;if(!s)return le.log.warn("We received no playlist to switch to. Please check your stream."),!1;var d="allowing switch "+(r&&r.id||"null")+" -> "+s.id;if(!r)return c(d+" as current playlist is not set"),!0;if(s.id===r.id)return!1;var f=Boolean(zo(n,i).length);if(!r.endList)return!f&&typeof r.partTargetDuration=="number"?(c("not "+d+" as current playlist is live llhls, but currentTime isn't in buffered."),!1):(c(d+" as current playlist is live"),!0);var h=Rb(n,i),m=u?vr.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:vr.MAX_BUFFER_LOW_WATER_LINE;if(l<m)return c(d+" as duration < max low water line ("+l+" < "+m+")"),!0;var g=s.attributes.BANDWIDTH,v=r.attributes.BANDWIDTH;if(g<v&&(!u||h<o)){var x=d+" as next bandwidth < current bandwidth ("+g+" < "+v+")";return u&&(x+=" and forwardBuffer < bufferHighWaterLine ("+h+" < "+o+")"),c(x),!0}if((!u||g>v)&&h>=a){var S=d+" as forwardBuffer >= bufferLowWaterLine ("+h+" >= "+a+")";return u&&(S+=" and next bandwidth > current bandwidth ("+g+" > "+v+")"),c(S),!0}return c("not "+d+" as no switching criteria met"),!1},Nie=function(t){$e(e,t);function e(n){var i;i=t.call(this)||this;var s=n.src,a=n.handleManifestRedirects,o=n.withCredentials,l=n.tech,u=n.bandwidth,c=n.externVhs,d=n.useCueTags,f=n.blacklistDuration,h=n.enableLowInitialPlaylist,m=n.sourceType,g=n.cacheEncryptionKeys,v=n.experimentalBufferBasedABR,x=n.experimentalLeastPixelDiffSelector,S=n.captionServices;if(!s)throw new Error("A non-empty playlist URL or JSON manifest string is required");var D=n.maxPlaylistRetries;(D===null||typeof D=="undefined")&&(D=1/0),Un=c,i.experimentalBufferBasedABR=Boolean(v),i.experimentalLeastPixelDiffSelector=Boolean(x),i.withCredentials=o,i.tech_=l,i.vhs_=l.vhs,i.sourceType_=m,i.useCueTags_=d,i.blacklistDuration=f,i.maxPlaylistRetries=D,i.enableLowInitialPlaylist=h,i.useCueTags_&&(i.cueTagsTrack_=i.tech_.addTextTrack("metadata","ad-cues"),i.cueTagsTrack_.inBandMetadataTrackDispatchType=""),i.requestOptions_={withCredentials:o,handleManifestRedirects:a,maxPlaylistRetries:D,timeout:null},i.on("error",i.pauseLoading),i.mediaTypes_=Rie(),i.mediaSource=new J.MediaSource,i.handleDurationChange_=i.handleDurationChange_.bind(st(i)),i.handleSourceOpen_=i.handleSourceOpen_.bind(st(i)),i.handleSourceEnded_=i.handleSourceEnded_.bind(st(i)),i.mediaSource.addEventListener("durationchange",i.handleDurationChange_),i.mediaSource.addEventListener("sourceopen",i.handleSourceOpen_),i.mediaSource.addEventListener("sourceended",i.handleSourceEnded_),i.seekable_=le.createTimeRanges(),i.hasPlayed_=!1,i.syncController_=new vie(n),i.segmentMetadataTrack_=l.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,i.decrypter_=new _ie,i.sourceUpdater_=new QR(i.mediaSource),i.inbandTextTracks_={},i.timelineChangeController_=new yie;var P={vhs:i.vhs_,parse708captions:n.parse708captions,captionServices:S,mediaSource:i.mediaSource,currentTime:i.tech_.currentTime.bind(i.tech_),seekable:function(){return i.seekable()},seeking:function(){return i.tech_.seeking()},duration:function(){return i.duration()},hasPlayed:function(){return i.hasPlayed_},goalBufferLength:function(){return i.goalBufferLength()},bandwidth:u,syncController:i.syncController_,decrypter:i.decrypter_,sourceType:i.sourceType_,inbandTextTracks:i.inbandTextTracks_,cacheEncryptionKeys:g,sourceUpdater:i.sourceUpdater_,timelineChangeController:i.timelineChangeController_,experimentalExactManifestTimings:n.experimentalExactManifestTimings};i.masterPlaylistLoader_=i.sourceType_==="dash"?new Yv(s,i.vhs_,i.requestOptions_):new Wo(s,i.vhs_,i.requestOptions_),i.setupMasterPlaylistLoaderListeners_(),i.mainSegmentLoader_=new qv(le.mergeOptions(P,{segmentMetadataTrack:i.segmentMetadataTrack_,loaderType:"main"}),n),i.audioSegmentLoader_=new qv(le.mergeOptions(P,{loaderType:"audio"}),n),i.subtitleSegmentLoader_=new hie(le.mergeOptions(P,{loaderType:"vtt",featuresNativeTextTracks:i.tech_.featuresNativeTextTracks}),n),i.setupSegmentLoaderListeners_(),i.experimentalBufferBasedABR&&(i.masterPlaylistLoader_.one("loadedplaylist",function(){return i.startABRTimer_()}),i.tech_.on("pause",function(){return i.stopABRTimer_()}),i.tech_.on("play",function(){return i.startABRTimer_()})),Iie.forEach(function(B){i[B+"_"]=Mie.bind(st(i),B)}),i.logger_=an("MPC"),i.triggeredFmp4Usage=!1,i.tech_.preload()==="none"?(i.loadOnPlay_=function(){i.loadOnPlay_=null,i.masterPlaylistLoader_.load()},i.tech_.one("play",i.loadOnPlay_)):i.masterPlaylistLoader_.load(),i.timeToLoadedData__=-1,i.mainAppendsToLoadedData__=-1,i.audioAppendsToLoadedData__=-1;var O=i.tech_.preload()==="none"?"play":"loadstart";return i.tech_.one(O,function(){var B=Date.now();i.tech_.one("loadeddata",function(){i.timeToLoadedData__=Date.now()-B,i.mainAppendsToLoadedData__=i.mainSegmentLoader_.mediaAppends,i.audioAppendsToLoadedData__=i.audioSegmentLoader_.mediaAppends})}),i}var r=e.prototype;return r.mainAppendsToLoadedData_=function(){return this.mainAppendsToLoadedData__},r.audioAppendsToLoadedData_=function(){return this.audioAppendsToLoadedData__},r.appendsToLoadedData_=function(){var i=this.mainAppendsToLoadedData_(),s=this.audioAppendsToLoadedData_();return i===-1||s===-1?-1:i+s},r.timeToLoadedData_=function(){return this.timeToLoadedData__},r.checkABR_=function(){var i=this.selectPlaylist();i&&this.shouldSwitchToMedia_(i)&&this.switchMedia_(i,"abr")},r.switchMedia_=function(i,s,a){var o=this.media(),l=o&&(o.id||o.uri),u=i.id||i.uri;l&&l!==u&&(this.logger_("switch media "+l+" -> "+u+" from "+s),this.tech_.trigger({type:"usage",name:"vhs-rendition-change-"+s})),this.masterPlaylistLoader_.media(i,a)},r.startABRTimer_=function(){var i=this;this.stopABRTimer_(),this.abrTimer_=J.setInterval(function(){return i.checkABR_()},250)},r.stopABRTimer_=function(){this.tech_.scrubbing&&this.tech_.scrubbing()||(J.clearInterval(this.abrTimer_),this.abrTimer_=null)},r.getAudioTrackPlaylists_=function(){var i=this.master(),s=i&&i.playlists||[];if(!i||!i.mediaGroups||!i.mediaGroups.AUDIO)return s;var a=i.mediaGroups.AUDIO,o=Object.keys(a),l;if(Object.keys(this.mediaTypes_.AUDIO.groups).length)l=this.mediaTypes_.AUDIO.activeTrack();else{var u=a.main||o.length&&a[o[0]];for(var c in u)if(u[c].default){l={label:c};break}}if(!l)return s;var d=[];for(var f in a)if(a[f][l.label]){var h=a[f][l.label];if(h.playlists&&h.playlists.length)d.push.apply(d,h.playlists);else if(h.uri)d.push(h);else if(i.playlists.length)for(var m=0;m<i.playlists.length;m++){var g=i.playlists[m];g.attributes&&g.attributes.AUDIO&&g.attributes.AUDIO===f&&d.push(g)}}return d.length?d:s},r.setupMasterPlaylistLoaderListeners_=function(){var i=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var s=i.masterPlaylistLoader_.media(),a=s.targetDuration*1.5*1e3;jv(i.masterPlaylistLoader_.master,i.masterPlaylistLoader_.media())?i.requestOptions_.timeout=0:i.requestOptions_.timeout=a,s.endList&&i.tech_.preload()!=="none"&&(i.mainSegmentLoader_.playlist(s,i.requestOptions_),i.mainSegmentLoader_.load()),Oie({sourceType:i.sourceType_,segmentLoaders:{AUDIO:i.audioSegmentLoader_,SUBTITLES:i.subtitleSegmentLoader_,main:i.mainSegmentLoader_},tech:i.tech_,requestOptions:i.requestOptions_,masterPlaylistLoader:i.masterPlaylistLoader_,vhs:i.vhs_,master:i.master(),mediaTypes:i.mediaTypes_,blacklistCurrentPlaylist:i.blacklistCurrentPlaylist.bind(i)}),i.triggerPresenceUsage_(i.master(),s),i.setupFirstPlay(),!i.mediaTypes_.AUDIO.activePlaylistLoader||i.mediaTypes_.AUDIO.activePlaylistLoader.media()?i.trigger("selectedinitialmedia"):i.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",function(){i.trigger("selectedinitialmedia")})}),this.masterPlaylistLoader_.on("loadedplaylist",function(){i.loadOnPlay_&&i.tech_.off("play",i.loadOnPlay_);var s=i.masterPlaylistLoader_.media();if(!s){i.excludeUnsupportedVariants_();var a;if(i.enableLowInitialPlaylist&&(a=i.selectInitialPlaylist()),a||(a=i.selectPlaylist()),!a||!i.shouldSwitchToMedia_(a))return;i.initialMedia_=a,i.switchMedia_(i.initialMedia_,"initial");var o=i.sourceType_==="vhs-json"&&i.initialMedia_.segments;if(!o)return;s=i.initialMedia_}i.handleUpdatedMediaPlaylist(s)}),this.masterPlaylistLoader_.on("error",function(){i.blacklistCurrentPlaylist(i.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){i.mainSegmentLoader_.abort(),i.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var s=i.masterPlaylistLoader_.media(),a=s.targetDuration*1.5*1e3;jv(i.masterPlaylistLoader_.master,i.masterPlaylistLoader_.media())?i.requestOptions_.timeout=0:i.requestOptions_.timeout=a,i.mainSegmentLoader_.playlist(s,i.requestOptions_),i.mainSegmentLoader_.load(),i.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var s=i.masterPlaylistLoader_.media();if(s.lastExcludeReason_!=="playlist-unchanged"){var a=i.stuckAtPlaylistEnd_(s);a&&(i.blacklistCurrentPlaylist({message:"Playlist no longer updating.",reason:"playlist-unchanged"}),i.tech_.trigger("playliststuck"))}}),this.masterPlaylistLoader_.on("renditiondisabled",function(){i.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"}),i.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){i.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"}),i.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})},r.handleUpdatedMediaPlaylist=function(i){this.useCueTags_&&this.updateAdCues_(i),this.mainSegmentLoader_.playlist(i,this.requestOptions_),this.updateDuration(!i.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())},r.triggerPresenceUsage_=function(i,s){var a=i.mediaGroups||{},o=!0,l=Object.keys(a.AUDIO);for(var u in a.AUDIO)for(var c in a.AUDIO[u]){var d=a.AUDIO[u][c];d.uri||(o=!1)}o&&(this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),this.tech_.trigger({type:"usage",name:"hls-demuxed"})),Object.keys(a.SUBTITLES).length&&(this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),this.tech_.trigger({type:"usage",name:"hls-webvtt"})),Un.Playlist.isAes(s)&&(this.tech_.trigger({type:"usage",name:"vhs-aes"}),this.tech_.trigger({type:"usage",name:"hls-aes"})),l.length&&Object.keys(a.AUDIO[l[0]]).length>1&&(this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.tech_.trigger({type:"usage",name:"hls-alternate-audio"})),this.useCueTags_&&(this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"}),this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"}))},r.shouldSwitchToMedia_=function(i){var s=this.masterPlaylistLoader_.media()||this.masterPlaylistLoader_.pendingMedia_,a=this.tech_.currentTime(),o=this.bufferLowWaterLine(),l=this.bufferHighWaterLine(),u=this.tech_.buffered();return Lie({buffered:u,currentTime:a,currentPlaylist:s,nextPlaylist:i,bufferLowWaterLine:o,bufferHighWaterLine:l,duration:this.duration(),experimentalBufferBasedABR:this.experimentalBufferBasedABR,log:this.logger_})},r.setupSegmentLoaderListeners_=function(){var i=this;this.experimentalBufferBasedABR||(this.mainSegmentLoader_.on("bandwidthupdate",function(){var a=i.selectPlaylist();i.shouldSwitchToMedia_(a)&&i.switchMedia_(a,"bandwidthupdate"),i.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("progress",function(){i.trigger("progress")})),this.mainSegmentLoader_.on("error",function(){i.blacklistCurrentPlaylist(i.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("appenderror",function(){i.error=i.mainSegmentLoader_.error_,i.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",function(){i.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){i.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"}),i.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){i.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",function(){i.error=i.audioSegmentLoader_.error_,i.trigger("error")}),this.mainSegmentLoader_.on("ended",function(){i.logger_("main segment loader ended"),i.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(a){i.experimentalBufferBasedABR||(i.delegateLoaders_("all",["abort"]),i.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},kie))});var s=function(){if(!i.sourceUpdater_.hasCreatedSourceBuffers())return i.tryToCreateSourceBuffers_();var o=i.getCodecsOrExclude_();!o||i.sourceUpdater_.addOrChangeSourceBuffers(o)};this.mainSegmentLoader_.on("trackinfo",s),this.audioSegmentLoader_.on("trackinfo",s),this.mainSegmentLoader_.on("fmp4",function(){i.triggeredFmp4Usage||(i.tech_.trigger({type:"usage",name:"vhs-fmp4"}),i.tech_.trigger({type:"usage",name:"hls-fmp4"}),i.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",function(){i.triggeredFmp4Usage||(i.tech_.trigger({type:"usage",name:"vhs-fmp4"}),i.tech_.trigger({type:"usage",name:"hls-fmp4"}),i.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",function(){i.logger_("audioSegmentLoader ended"),i.onEndOfStream()})},r.mediaSecondsLoaded_=function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)},r.load=function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()},r.smoothQualityChange_=function(i){i===void 0&&(i=this.selectPlaylist()),this.fastQualityChange_(i)},r.fastQualityChange_=function(i){var s=this;if(i===void 0&&(i=this.selectPlaylist()),i===this.masterPlaylistLoader_.media()){this.logger_("skipping fastQualityChange because new media is same as old");return}this.switchMedia_(i,"fast-quality"),this.mainSegmentLoader_.resetEverything(function(){le.browser.IE_VERSION||le.browser.IS_EDGE?s.tech_.setCurrentTime(s.tech_.currentTime()+.04):s.tech_.setCurrentTime(s.tech_.currentTime())})},r.play=function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();var i=this.tech_.seekable();if(this.tech_.duration()===1/0&&this.tech_.currentTime()<i.start(0))return this.tech_.setCurrentTime(i.end(i.length-1))}},r.setupFirstPlay=function(){var i=this,s=this.masterPlaylistLoader_.media();if(!s||this.tech_.paused()||this.hasPlayed_)return!1;if(!s.endList){var a=this.seekable();if(!a.length)return!1;if(le.browser.IE_VERSION&&this.tech_.readyState()===0)return this.tech_.one("loadedmetadata",function(){i.trigger("firstplay"),i.tech_.setCurrentTime(a.end(0)),i.hasPlayed_=!0}),!1;this.trigger("firstplay"),this.tech_.setCurrentTime(a.end(0))}return this.hasPlayed_=!0,this.load(),!0},r.handleSourceOpen_=function(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){var i=this.tech_.play();typeof i!="undefined"&&typeof i.then=="function"&&i.then(null,function(s){})}this.trigger("sourceopen")},r.handleSourceEnded_=function(){if(!!this.inbandTextTracks_.metadataTrack_){var i=this.inbandTextTracks_.metadataTrack_.cues;if(!(!i||!i.length)){var s=this.duration();i[i.length-1].endTime=isNaN(s)||Math.abs(s)===1/0?Number.MAX_VALUE:s}}},r.handleDurationChange_=function(){this.tech_.trigger("durationchange")},r.onEndOfStream=function(){var i=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){var s=this.mainSegmentLoader_.getCurrentMediaInfo_();!s||s.hasVideo?i=i&&this.audioSegmentLoader_.ended_:i=this.audioSegmentLoader_.ended_}!i||(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())},r.stuckAtPlaylistEnd_=function(i){var s=this.seekable();if(!s.length)return!1;var a=this.syncController_.getExpiredTime(i,this.duration());if(a===null)return!1;var o=Un.Playlist.playlistEnd(i,a),l=this.tech_.currentTime(),u=this.tech_.buffered();if(!u.length)return o-l<=xn;var c=u.end(u.length-1);return c-l<=xn&&o-c<=xn},r.blacklistCurrentPlaylist=function(i,s){i===void 0&&(i={});var a=i.playlist||this.masterPlaylistLoader_.media();if(s=s||i.blacklistDuration||this.blacklistDuration,!a){this.error=i,this.mediaSource.readyState!=="open"?this.trigger("error"):this.sourceUpdater_.endOfStream("network");return}a.playlistErrors_++;var o=this.masterPlaylistLoader_.master.playlists,l=o.filter(Xp),u=l.length===1&&l[0]===a;if(o.length===1&&s!==1/0)return le.log.warn("Problem encountered with playlist "+a.id+". Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(u);if(u){var c=!1;o.forEach(function(x){if(x!==a){var S=x.excludeUntil;typeof S!="undefined"&&S!==1/0&&(c=!0,delete x.excludeUntil)}}),c&&(le.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}var d;a.playlistErrors_>this.maxPlaylistRetries?d=1/0:d=Date.now()+s*1e3,a.excludeUntil=d,i.reason&&(a.lastExcludeReason_=i.reason),this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-blacklisted"}),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"});var f=this.selectPlaylist();if(!f){this.error="Playback cannot continue. No available working or supported playlists.",this.trigger("error");return}var h=i.internal?this.logger_:le.log.warn,m=i.message?" "+i.message:"";h((i.internal?"Internal problem":"Problem")+" encountered with playlist "+a.id+"."+(m+" Switching to playlist "+f.id+".")),f.attributes.AUDIO!==a.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),f.attributes.SUBTITLES!==a.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);var g=f.targetDuration/2*1e3||5*1e3,v=typeof f.lastRequest=="number"&&Date.now()-f.lastRequest<=g;return this.switchMedia_(f,"exclude",u||v)},r.pauseLoading=function(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()},r.delegateLoaders_=function(i,s){var a=this,o=[],l=i==="all";(l||i==="main")&&o.push(this.masterPlaylistLoader_);var u=[];(l||i==="audio")&&u.push("AUDIO"),(l||i==="subtitle")&&(u.push("CLOSED-CAPTIONS"),u.push("SUBTITLES")),u.forEach(function(c){var d=a.mediaTypes_[c]&&a.mediaTypes_[c].activePlaylistLoader;d&&o.push(d)}),["main","audio","subtitle"].forEach(function(c){var d=a[c+"SegmentLoader_"];d&&(i===c||i==="all")&&o.push(d)}),o.forEach(function(c){return s.forEach(function(d){typeof c[d]=="function"&&c[d]()})})},r.setCurrentTime=function(i){var s=zo(this.tech_.buffered(),i);if(!(this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media())||!this.masterPlaylistLoader_.media().segments)return 0;if(s&&s.length)return i;this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),this.load()},r.duration=function(){if(!this.masterPlaylistLoader_)return 0;var i=this.masterPlaylistLoader_.media();return i?i.endList?this.mediaSource?this.mediaSource.duration:Un.Playlist.duration(i):1/0:0},r.seekable=function(){return this.seekable_},r.onSyncInfoUpdate_=function(){var i;if(!!this.masterPlaylistLoader_){var s=this.masterPlaylistLoader_.media();if(!!s){var a=this.syncController_.getExpiredTime(s,this.duration());if(a!==null){var o=this.masterPlaylistLoader_.master,l=Un.Playlist.seekable(s,a,Un.Playlist.liveEdgeDelay(o,s));if(l.length!==0&&!(this.mediaTypes_.AUDIO.activePlaylistLoader&&(s=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),a=this.syncController_.getExpiredTime(s,this.duration()),a===null||(i=Un.Playlist.seekable(s,a,Un.Playlist.liveEdgeDelay(o,s)),i.length===0)))){var u,c;this.seekable_&&this.seekable_.length&&(u=this.seekable_.end(0),c=this.seekable_.start(0)),i?i.start(0)>l.end(0)||l.start(0)>i.end(0)?this.seekable_=l:this.seekable_=le.createTimeRanges([[i.start(0)>l.start(0)?i.start(0):l.start(0),i.end(0)<l.end(0)?i.end(0):l.end(0)]]):this.seekable_=l,!(this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===u&&this.seekable_.start(0)===c)&&(this.logger_("seekable updated ["+pR(this.seekable_)+"]"),this.tech_.trigger("seekablechanged"))}}}}},r.updateDuration=function(i){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),this.mediaSource.readyState!=="open"){this.updateDuration_=this.updateDuration.bind(this,i),this.mediaSource.addEventListener("sourceopen",this.updateDuration_);return}if(i){var s=this.seekable();if(!s.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<s.end(s.length-1))&&this.sourceUpdater_.setDuration(s.end(s.length-1));return}var a=this.tech_.buffered(),o=Un.Playlist.duration(this.masterPlaylistLoader_.media());a.length>0&&(o=Math.max(o,a.end(a.length-1))),this.mediaSource.duration!==o&&this.sourceUpdater_.setDuration(o)},r.dispose=function(){var i=this;this.trigger("dispose"),this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(function(s){var a=i.mediaTypes_[s].groups;for(var o in a)a[o].forEach(function(l){l.playlistLoader&&l.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()},r.master=function(){return this.masterPlaylistLoader_.master},r.media=function(){return this.masterPlaylistLoader_.media()||this.initialMedia_},r.areMediaTypesKnown_=function(){var i=!!this.mediaTypes_.AUDIO.activePlaylistLoader,s=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),a=i?!!this.audioSegmentLoader_.getCurrentMediaInfo_():!0;return!(!s||!a)},r.getCodecsOrExclude_=function(){var i=this,s={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}};s.video=s.main;var a=cc(this.master(),this.media()),o={},l=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(s.main.hasVideo&&(o.video=a.video||s.main.videoCodec||pJ),s.main.isMuxed&&(o.video+=","+(a.audio||s.main.audioCodec||BS)),(s.main.hasAudio&&!s.main.isMuxed||s.audio.hasAudio||l)&&(o.audio=a.audio||s.main.audioCodec||s.audio.audioCodec||BS,s.audio.isFmp4=s.main.hasAudio&&!s.main.isMuxed?s.main.isFmp4:s.audio.isFmp4),!o.audio&&!o.video){this.blacklistCurrentPlaylist({playlist:this.media(),message:"Could not determine codecs for playlist.",blacklistDuration:1/0});return}var u=function(v,x){return v?$f(x):rg(x)},c={},d;if(["video","audio"].forEach(function(g){if(o.hasOwnProperty(g)&&!u(s[g].isFmp4,o[g])){var v=s[g].isFmp4?"browser":"muxer";c[v]=c[v]||[],c[v].push(o[g]),g==="audio"&&(d=v)}}),l&&d&&this.media().attributes.AUDIO){var f=this.media().attributes.AUDIO;this.master().playlists.forEach(function(g){var v=g.attributes&&g.attributes.AUDIO;v===f&&g!==i.media()&&(g.excludeUntil=1/0)}),this.logger_("excluding audio group "+f+" as "+d+' does not support codec(s): "'+o.audio+'"')}if(Object.keys(c).length){var h=Object.keys(c).reduce(function(g,v){return g&&(g+=", "),g+=v+' does not support codec(s): "'+c[v].join(",")+'"',g},"")+".";this.blacklistCurrentPlaylist({playlist:this.media(),internal:!0,message:h,blacklistDuration:1/0});return}if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){var m=[];if(["video","audio"].forEach(function(g){var v=(gn(i.sourceUpdater_.codecs[g]||"")[0]||{}).type,x=(gn(o[g]||"")[0]||{}).type;v&&x&&v.toLowerCase()!==x.toLowerCase()&&m.push('"'+i.sourceUpdater_.codecs[g]+'" -> "'+o[g]+'"')}),m.length){this.blacklistCurrentPlaylist({playlist:this.media(),message:"Codec switching not supported: "+m.join(", ")+".",blacklistDuration:1/0,internal:!0});return}}return o},r.tryToCreateSourceBuffers_=function(){if(!(this.mediaSource.readyState!=="open"||this.sourceUpdater_.hasCreatedSourceBuffers())&&!!this.areMediaTypesKnown_()){var i=this.getCodecsOrExclude_();if(!!i){this.sourceUpdater_.createSourceBuffers(i);var s=[i.video,i.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(s)}}},r.excludeUnsupportedVariants_=function(){var i=this,s=this.master().playlists,a=[];Object.keys(s).forEach(function(o){var l=s[o];if(a.indexOf(l.id)===-1){a.push(l.id);var u=cc(i.master,l),c=[];u.audio&&!rg(u.audio)&&!$f(u.audio)&&c.push("audio codec "+u.audio),u.video&&!rg(u.video)&&!$f(u.video)&&c.push("video codec "+u.video),u.text&&u.text==="stpp.ttml.im1t"&&c.push("text codec "+u.text),c.length&&(l.excludeUntil=1/0,i.logger_("excluding "+l.id+" for unsupported: "+c.join(", ")))}})},r.excludeIncompatibleVariants_=function(i){var s=this,a=[],o=this.master().playlists,l=Fh(gn(i)),u=jE(l),c=l.video&&gn(l.video)[0]||null,d=l.audio&&gn(l.audio)[0]||null;Object.keys(o).forEach(function(f){var h=o[f];if(!(a.indexOf(h.id)!==-1||h.excludeUntil===1/0)){a.push(h.id);var m=[],g=cc(s.masterPlaylistLoader_.master,h),v=jE(g);if(!(!g.audio&&!g.video)){if(v!==u&&m.push('codec count "'+v+'" !== "'+u+'"'),!s.sourceUpdater_.canChangeType()){var x=g.video&&gn(g.video)[0]||null,S=g.audio&&gn(g.audio)[0]||null;x&&c&&x.type.toLowerCase()!==c.type.toLowerCase()&&m.push('video codec "'+x.type+'" !== "'+c.type+'"'),S&&d&&S.type.toLowerCase()!==d.type.toLowerCase()&&m.push('audio codec "'+S.type+'" !== "'+d.type+'"')}m.length&&(h.excludeUntil=1/0,s.logger_("blacklisting "+h.id+": "+m.join(" && ")))}}})},r.updateAdCues_=function(i){var s=0,a=this.seekable();a.length&&(s=a.start(0)),mie(i,this.cueTagsTrack_,s)},r.goalBufferLength=function(){var i=this.tech_.currentTime(),s=vr.GOAL_BUFFER_LENGTH,a=vr.GOAL_BUFFER_LENGTH_RATE,o=Math.max(s,vr.MAX_GOAL_BUFFER_LENGTH);return Math.min(s+i*a,o)},r.bufferLowWaterLine=function(){var i=this.tech_.currentTime(),s=vr.BUFFER_LOW_WATER_LINE,a=vr.BUFFER_LOW_WATER_LINE_RATE,o=Math.max(s,vr.MAX_BUFFER_LOW_WATER_LINE),l=Math.max(s,vr.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(s+i*a,this.experimentalBufferBasedABR?l:o)},r.bufferHighWaterLine=function(){return vr.BUFFER_HIGH_WATER_LINE},e}(le.EventTarget),Fie=function(e,r,n){return function(i){var s=e.master.playlists[r],a=Ib(s),o=Xp(s);return typeof i=="undefined"?o:(i?delete s.disabled:s.disabled=!0,i!==o&&!a&&(n(),i?e.trigger("renditionenabled"):e.trigger("renditiondisabled")),i)}},Bie=function(e,r,n){var i=e.masterPlaylistController_,s=e.options_.smoothQualityChange,a=s?"smooth":"fast",o=i[a+"QualityChange_"].bind(i);if(r.attributes){var l=r.attributes.RESOLUTION;this.width=l&&l.width,this.height=l&&l.height,this.bandwidth=r.attributes.BANDWIDTH}this.codecs=cc(i.master(),r),this.playlist=r,this.id=n,this.enabled=Fie(e.playlists,r.id,o)},$ie=function(e){e.representations=function(){var r=e.masterPlaylistController_.master(),n=pd(r)?e.masterPlaylistController_.getAudioTrackPlaylists_():r.playlists;return n?n.filter(function(i){return!Ib(i)}).map(function(i,s){return new Bie(e,i,i.id)}):[]}},ZE=["seeking","seeked","pause","playing","error"],Uie=function(){function t(r){var n=this;this.masterPlaylistController_=r.masterPlaylistController,this.tech_=r.tech,this.seekable=r.seekable,this.allowSeeksWithinUnsafeLiveWindow=r.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=r.liveRangeSafeTimeDelta,this.media=r.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=an("PlaybackWatcher"),this.logger_("initialize");var i=function(){return n.monitorCurrentTime_()},s=function(){return n.monitorCurrentTime_()},a=function(){return n.techWaiting_()},o=function(){return n.cancelTimer_()},l=this.masterPlaylistController_,u=["main","subtitle","audio"],c={};u.forEach(function(f){c[f]={reset:function(){return n.resetSegmentDownloads_(f)},updateend:function(){return n.checkSegmentDownloads_(f)}},l[f+"SegmentLoader_"].on("appendsdone",c[f].updateend),l[f+"SegmentLoader_"].on("playlistupdate",c[f].reset),n.tech_.on(["seeked","seeking"],c[f].reset)});var d=function(h){["main","audio"].forEach(function(m){l[m+"SegmentLoader_"][h]("appended",n.seekingAppendCheck_)})};this.seekingAppendCheck_=function(){n.fixesBadSeeks_()&&(n.consecutiveUpdates=0,n.lastRecordedTime=n.tech_.currentTime(),d("off"))},this.clearSeekingAppendCheck_=function(){return d("off")},this.watchForBadSeeking_=function(){n.clearSeekingAppendCheck_(),d("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",a),this.tech_.on(ZE,o),this.tech_.on("canplay",s),this.tech_.one("play",i),this.dispose=function(){n.clearSeekingAppendCheck_(),n.logger_("dispose"),n.tech_.off("waiting",a),n.tech_.off(ZE,o),n.tech_.off("canplay",s),n.tech_.off("play",i),n.tech_.off("seeking",n.watchForBadSeeking_),n.tech_.off("seeked",n.clearSeekingAppendCheck_),u.forEach(function(f){l[f+"SegmentLoader_"].off("appendsdone",c[f].updateend),l[f+"SegmentLoader_"].off("playlistupdate",c[f].reset),n.tech_.off(["seeked","seeking"],c[f].reset)}),n.checkCurrentTimeTimeout_&&J.clearTimeout(n.checkCurrentTimeTimeout_),n.cancelTimer_()}}var e=t.prototype;return e.monitorCurrentTime_=function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&J.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=J.setTimeout(this.monitorCurrentTime_.bind(this),250)},e.resetSegmentDownloads_=function(n){var i=this.masterPlaylistController_[n+"SegmentLoader_"];this[n+"StalledDownloads_"]>0&&this.logger_("resetting possible stalled download count for "+n+" loader"),this[n+"StalledDownloads_"]=0,this[n+"Buffered_"]=i.buffered_()},e.checkSegmentDownloads_=function(n){var i=this.masterPlaylistController_,s=i[n+"SegmentLoader_"],a=s.buffered_(),o=Lte(this[n+"Buffered_"],a);if(this[n+"Buffered_"]=a,o){this.resetSegmentDownloads_(n);return}this[n+"StalledDownloads_"]++,this.logger_("found #"+this[n+"StalledDownloads_"]+" "+n+" appends that did not increase buffer (possible stalled download)",{playlistId:s.playlist_&&s.playlist_.id,buffered:Na(a)}),!(this[n+"StalledDownloads_"]<10)&&(this.logger_(n+" loader stalled download exclusion"),this.resetSegmentDownloads_(n),this.tech_.trigger({type:"usage",name:"vhs-"+n+"-download-exclusion"}),n!=="subtitle"&&i.blacklistCurrentPlaylist({message:"Excessive "+n+" segment downloading detected."},1/0))},e.checkCurrentTime_=function(){if(!(this.tech_.paused()||this.tech_.seeking())){var n=this.tech_.currentTime(),i=this.tech_.buffered();if(this.lastRecordedTime===n&&(!i.length||n+xn>=i.end(i.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&n===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):n===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=n)}},e.cancelTimer_=function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null},e.fixesBadSeeks_=function(){var n=this.tech_.seeking();if(!n)return!1;var i=this.seekable(),s=this.tech_.currentTime(),a=this.afterSeekableWindow_(i,s,this.media(),this.allowSeeksWithinUnsafeLiveWindow),o;if(a){var l=i.end(i.length-1);o=l}if(this.beforeSeekableWindow_(i,s)){var u=i.start(0);o=u+(u===i.end(0)?0:xn)}if(typeof o!="undefined")return this.logger_("Trying to seek outside of seekable at time "+s+" with "+("seekable range "+pR(i)+". Seeking to ")+(o+".")),this.tech_.setCurrentTime(o),!0;for(var c=this.masterPlaylistController_.sourceUpdater_,d=this.tech_.buffered(),f=c.audioBuffer?c.audioBuffered():null,h=c.videoBuffer?c.videoBuffered():null,m=this.media(),g=m.partTargetDuration?m.partTargetDuration:(m.targetDuration-qs)*2,v=[f,h],x=0;x<v.length;x++)if(!!v[x]){var S=Rb(v[x],s);if(S<g)return!1}var D=lf(d,s);return D.length===0?!1:(o=D.start(0)+xn,this.logger_("Buffered region starts ("+D.start(0)+") "+(" just beyond seek point ("+s+"). Seeking to "+o+".")),this.tech_.setCurrentTime(o),!0)},e.waiting_=function(){if(!this.techWaiting_()){var n=this.tech_.currentTime(),i=this.tech_.buffered(),s=zo(i,n);if(s.length&&n+3<=s.end(0)){this.cancelTimer_(),this.tech_.setCurrentTime(n),this.logger_("Stopped at "+n+" while inside a buffered region "+("["+s.start(0)+" -> "+s.end(0)+"]. Attempting to resume ")+"playback by seeking to the current time."),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"}),this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"});return}}},e.techWaiting_=function(){var n=this.seekable(),i=this.tech_.currentTime();if(this.tech_.seeking()||this.timer_!==null)return!0;if(this.beforeSeekableWindow_(n,i)){var s=n.end(n.length-1);return this.logger_("Fell out of live window at time "+i+". Seeking to "+("live point (seekable end) "+s)),this.cancelTimer_(),this.tech_.setCurrentTime(s),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var a=this.tech_.vhs.masterPlaylistController_.sourceUpdater_,o=this.tech_.buffered(),l=this.videoUnderflow_({audioBuffered:a.audioBuffered(),videoBuffered:a.videoBuffered(),currentTime:i});if(l)return this.cancelTimer_(),this.tech_.setCurrentTime(i),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;var u=lf(o,i);if(u.length>0){var c=u.start(0)-i;return this.logger_("Stopped at "+i+", setting timer for "+c+", seeking "+("to "+u.start(0))),this.cancelTimer_(),this.timer_=setTimeout(this.skipTheGap_.bind(this),c*1e3,i),!0}return!1},e.afterSeekableWindow_=function(n,i,s,a){if(a===void 0&&(a=!1),!n.length)return!1;var o=n.end(n.length-1)+xn,l=!s.endList;return l&&a&&(o=n.end(n.length-1)+s.targetDuration*3),i>o},e.beforeSeekableWindow_=function(n,i){return!!(n.length&&n.start(0)>0&&i<n.start(0)-this.liveRangeSafeTimeDelta)},e.videoUnderflow_=function(n){var i=n.videoBuffered,s=n.audioBuffered,a=n.currentTime;if(!!i){var o;if(i.length&&s.length){var l=zo(i,a-3),u=zo(i,a),c=zo(s,a);c.length&&!u.length&&l.length&&(o={start:l.end(0),end:c.end(0)})}else{var d=lf(i,a);d.length||(o=this.gapFromVideoUnderflow_(i,a))}return o?(this.logger_("Encountered a gap in video from "+o.start+" to "+o.end+". "+("Seeking to current time "+a)),!0):!1}},e.skipTheGap_=function(n){var i=this.tech_.buffered(),s=this.tech_.currentTime(),a=lf(i,s);this.cancelTimer_(),!(a.length===0||s!==n)&&(this.logger_("skipTheGap_:","currentTime:",s,"scheduled currentTime:",n,"nextRange start:",a.start(0)),this.tech_.setCurrentTime(a.start(0)+qs),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"}),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))},e.gapFromVideoUnderflow_=function(n,i){for(var s=kte(n),a=0;a<s.length;a++){var o=s.start(a),l=s.end(a);if(i-o<4&&i-o>2)return{start:o,end:l}}return null},t}(),jie={errorInterval:30,getSource:function(e){var r=this.tech({IWillNotUseThisInPlugins:!0}),n=r.currentSource_||this.currentSource();return e(n)}},Vie=function t(e,r){var n=0,i=0,s=le.mergeOptions(jie,r);e.ready(function(){e.trigger({type:"usage",name:"vhs-error-reload-initialized"}),e.trigger({type:"usage",name:"hls-error-reload-initialized"})});var a=function(){i&&e.currentTime(i)},o=function(f){f!=null&&(i=e.duration()!==1/0&&e.currentTime()||0,e.one("loadedmetadata",a),e.src(f),e.trigger({type:"usage",name:"vhs-error-reload"}),e.trigger({type:"usage",name:"hls-error-reload"}),e.play())},l=function(){if(Date.now()-n<s.errorInterval*1e3){e.trigger({type:"usage",name:"vhs-error-reload-canceled"}),e.trigger({type:"usage",name:"hls-error-reload-canceled"});return}if(!s.getSource||typeof s.getSource!="function"){le.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!");return}return n=Date.now(),s.getSource.call(e,o)},u=function d(){e.off("loadedmetadata",a),e.off("error",l),e.off("dispose",d)},c=function(f){u(),t(e,f)};e.on("error",l),e.on("dispose",u),e.reloadSourceOnError=c},Hie=function(e){Vie(this,e)},JR="2.13.1",zie="6.0.1",Wie="0.21.0",Yie="4.7.0",Gie="3.1.2",Pr={PlaylistLoader:Wo,Playlist:ni,utils:sre,STANDARD_PLAYLIST_SELECTOR:HE,INITIAL_PLAYLIST_SELECTOR:Yre,lastBandwidthSelector:HE,movingAverageBandwidthSelector:zre,comparePlaylistBandwidth:Fb,comparePlaylistResolution:Hre,xhr:AR()};Object.keys(vr).forEach(function(t){Object.defineProperty(Pr,t,{get:function(){return le.log.warn("using Vhs."+t+" is UNSAFE be sure you know what you are doing"),vr[t]},set:function(r){if(le.log.warn("using Vhs."+t+" is UNSAFE be sure you know what you are doing"),typeof r!="number"||r<0){le.log.warn("value of Vhs."+t+" must be greater than or equal to 0");return}vr[t]=r}})});var ZR="videojs-vhs",ek=function(e,r){for(var n=r.media(),i=-1,s=0;s<e.length;s++)if(e[s].id===n.id){i=s;break}e.selectedIndex_=i,e.trigger({selectedIndex:i,type:"change"})},qie=function(e,r){r.representations().forEach(function(n){e.addQualityLevel(n)}),ek(e,r.playlists)};Pr.canPlaySource=function(){return le.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var Kie=function(e,r,n){if(!e)return e;var i={};r&&r.attributes&&r.attributes.CODECS&&(i=Fh(gn(r.attributes.CODECS))),n&&n.attributes&&n.attributes.CODECS&&(i.audio=n.attributes.CODECS);var s=Ic(i.video),a=Ic(i.audio),o={};for(var l in e)o[l]={},a&&(o[l].audioContentType=a),s&&(o[l].videoContentType=s),r.contentProtection&&r.contentProtection[l]&&r.contentProtection[l].pssh&&(o[l].pssh=r.contentProtection[l].pssh),typeof e[l]=="string"&&(o[l].url=e[l]);return le.mergeOptions(e,o)},Xie=function(e,r){return e.reduce(function(n,i){if(!i.contentProtection)return n;var s=r.reduce(function(a,o){var l=i.contentProtection[o];return l&&l.pssh&&(a[o]={pssh:l.pssh}),a},{});return Object.keys(s).length&&n.push(s),n},[])},Qie=function(e){var r=e.player,n=e.sourceKeySystems,i=e.audioMedia,s=e.mainPlaylists;if(!r.eme.initializeMediaKeys)return Promise.resolve();var a=i?s.concat([i]):s,o=Xie(a,Object.keys(n)),l=[],u=[];return o.forEach(function(c){u.push(new Promise(function(d,f){r.tech_.one("keysessioncreated",d)})),l.push(new Promise(function(d,f){r.eme.initializeMediaKeys({keySystems:c},function(h){if(h){f(h);return}d()})}))}),Promise.race([Promise.all(l),Promise.race(u)])},Jie=function(e){var r=e.player,n=e.sourceKeySystems,i=e.media,s=e.audioMedia,a=Kie(n,i,s);return a?(r.currentSource().keySystems=a,a&&!r.eme?(le.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1):!0):!1},tk=function(){if(!J.localStorage)return null;var e=J.localStorage.getItem(ZR);if(!e)return null;try{return JSON.parse(e)}catch{return null}},Zie=function(e){if(!J.localStorage)return!1;var r=tk();r=r?le.mergeOptions(r,e):e;try{J.localStorage.setItem(ZR,JSON.stringify(r))}catch{return!1}return r},ene=function(e){return e.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")===0?JSON.parse(e.substring(e.indexOf(",")+1)):e};Pr.supportsNativeHls=function(){if(!Fe||!Fe.createElement)return!1;var t=Fe.createElement("video");if(!le.getTech("Html5").isSupported())return!1;var e=["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"];return e.some(function(r){return/maybe|probably/i.test(t.canPlayType(r))})}();Pr.supportsNativeDash=function(){return!Fe||!Fe.createElement||!le.getTech("Html5").isSupported()?!1:/maybe|probably/i.test(Fe.createElement("video").canPlayType("application/dash+xml"))}();Pr.supportsTypeNatively=function(t){return t==="hls"?Pr.supportsNativeHls:t==="dash"?Pr.supportsNativeDash:!1};Pr.isSupported=function(){return le.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var tne=le.getComponent("Component"),$b=function(t){$e(e,t);function e(n,i,s){var a;if(a=t.call(this,i,le.mergeOptions(s.hls,s.vhs))||this,s.hls&&Object.keys(s.hls).length&&le.log.warn("Using hls options is deprecated. Use vhs instead."),typeof s.initialBandwidth=="number"&&(a.options_.bandwidth=s.initialBandwidth),a.logger_=an("VhsHandler"),i.options_&&i.options_.playerId){var o=le(i.options_.playerId);o.hasOwnProperty("hls")||Object.defineProperty(o,"hls",{get:function(){return le.log.warn("player.hls is deprecated. Use player.tech().vhs instead."),i.trigger({type:"usage",name:"hls-player-access"}),st(a)},configurable:!0}),o.hasOwnProperty("vhs")||Object.defineProperty(o,"vhs",{get:function(){return le.log.warn("player.vhs is deprecated. Use player.tech().vhs instead."),i.trigger({type:"usage",name:"vhs-player-access"}),st(a)},configurable:!0}),o.hasOwnProperty("dash")||Object.defineProperty(o,"dash",{get:function(){return le.log.warn("player.dash is deprecated. Use player.tech().vhs instead."),st(a)},configurable:!0}),a.player_=o}if(a.tech_=i,a.source_=n,a.stats={},a.ignoreNextSeekingEvent_=!1,a.setOptions_(),a.options_.overrideNative&&i.overrideNativeAudioTracks&&i.overrideNativeVideoTracks)i.overrideNativeAudioTracks(!0),i.overrideNativeVideoTracks(!0);else if(a.options_.overrideNative&&(i.featuresNativeVideoTracks||i.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return a.on(Fe,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(l){var u=Fe.fullscreenElement||Fe.webkitFullscreenElement||Fe.mozFullScreenElement||Fe.msFullscreenElement;u&&u.contains(a.tech_.el())?a.masterPlaylistController_.fastQualityChange_():a.masterPlaylistController_.checkABR_()}),a.on(a.tech_,"seeking",function(){if(this.ignoreNextSeekingEvent_){this.ignoreNextSeekingEvent_=!1;return}this.setCurrentTime(this.tech_.currentTime())}),a.on(a.tech_,"error",function(){this.tech_.error()&&this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),a.on(a.tech_,"play",a.play),a}var r=e.prototype;return r.setOptions_=function(){var i=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=this.options_.handleManifestRedirects!==!1,this.options_.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions!==!1,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage=typeof this.source_.useBandwidthFromLocalStorage!="undefined"?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,typeof this.options_.blacklistDuration!="number"&&(this.options_.blacklistDuration=5*60),typeof this.options_.bandwidth!="number"&&this.options_.useBandwidthFromLocalStorage){var s=tk();s&&s.bandwidth&&(this.options_.bandwidth=s.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),s&&s.throughput&&(this.options_.throughput=s.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))}typeof this.options_.bandwidth!="number"&&(this.options_.bandwidth=vr.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===vr.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","experimentalBufferBasedABR","liveRangeSafeTimeDelta","experimentalLLHLS","useNetworkInformationApi","experimentalExactManifestTimings","experimentalLeastPixelDiffSelector"].forEach(function(a){typeof i.source_[a]!="undefined"&&(i.options_[a]=i.source_[a])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio},r.src=function(i,s){var a=this;if(!!i){this.setOptions_(),this.options_.src=ene(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=Pr,this.options_.sourceType=yA(s),this.options_.seekTo=function(u){a.tech_.setCurrentTime(u)},this.options_.smoothQualityChange&&le.log.warn("smoothQualityChange is deprecated and will be removed in the next major version"),this.masterPlaylistController_=new Nie(this.options_);var o=le.mergeOptions({liveRangeSafeTimeDelta:xn},this.options_,{seekable:function(){return a.seekable()},media:function(){return a.masterPlaylistController_.media()},masterPlaylistController:this.masterPlaylistController_});this.playbackWatcher_=new Uie(o),this.masterPlaylistController_.on("error",function(){var u=le.players[a.tech_.options_.playerId],c=a.masterPlaylistController_.error;typeof c=="object"&&!c.code?c.code=3:typeof c=="string"&&(c={message:c,code:3}),u.error(c)});var l=this.options_.experimentalBufferBasedABR?Pr.movingAverageBandwidthSelector(.55):Pr.STANDARD_PLAYLIST_SELECTOR;this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):l.bind(this),this.masterPlaylistController_.selectInitialPlaylist=Pr.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(c){this.masterPlaylistController_.selectPlaylist=c.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(c){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=c,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){var c=this.masterPlaylistController_.mainSegmentLoader_.bandwidth,d=J.navigator.connection||J.navigator.mozConnection||J.navigator.webkitConnection,f=1e7;if(this.options_.useNetworkInformationApi&&d){var h=d.downlink*1e3*1e3;h>=f&&c>=f?c=Math.max(c,h):c=h}return c},set:function(c){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=c,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var c=1/(this.bandwidth||1),d;this.throughput>0?d=1/this.throughput:d=0;var f=Math.floor(1/(c+d));return f},set:function(){le.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return a.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return a.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return a.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return a.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return a.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return a.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return a.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return a.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},mediaAppends:{get:function(){return a.masterPlaylistController_.mediaAppends_()||0},enumerable:!0},mainAppendsToLoadedData:{get:function(){return a.masterPlaylistController_.mainAppendsToLoadedData_()||0},enumerable:!0},audioAppendsToLoadedData:{get:function(){return a.masterPlaylistController_.audioAppendsToLoadedData_()||0},enumerable:!0},appendsToLoadedData:{get:function(){return a.masterPlaylistController_.appendsToLoadedData_()||0},enumerable:!0},timeToLoadedData:{get:function(){return a.masterPlaylistController_.timeToLoadedData_()||0},enumerable:!0},buffered:{get:function(){return Na(a.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return a.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return a.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return a.tech_.name_},enumerable:!0},duration:{get:function(){return a.tech_.duration()},enumerable:!0},master:{get:function(){return a.playlists.master},enumerable:!0},playerDimensions:{get:function(){return a.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return Na(a.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return a.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",function(){a.options_.useBandwidthFromLocalStorage&&Zie({bandwidth:a.bandwidth,throughput:Math.round(a.throughput)})}),this.masterPlaylistController_.on("selectedinitialmedia",function(){$ie(a)}),this.masterPlaylistController_.sourceUpdater_.on("createdsourcebuffers",function(){a.setupEme_()}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.masterPlaylistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=J.URL.createObjectURL(this.masterPlaylistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}},r.createKeySessions_=function(){var i=this,s=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),Qie({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:s&&s.media(),mainPlaylists:this.playlists.master.playlists}).then(function(){i.logger_("created EME key session"),i.masterPlaylistController_.sourceUpdater_.initializedEme()}).catch(function(a){i.logger_("error while creating EME key session",a),i.player_.error({message:"Failed to initialize media keys for EME",code:3})})},r.handleWaitingForKey_=function(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()},r.setupEme_=function(){var i=this,s=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader,a=Jie({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:s&&s.media()});if(this.player_.tech_.on("keystatuschange",function(o){o.status==="output-restricted"&&i.masterPlaylistController_.blacklistCurrentPlaylist({playlist:i.masterPlaylistController_.media(),message:"DRM keystatus changed to "+o.status+". Playlist will fail to play. Check for HDCP content.",blacklistDuration:1/0})}),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),le.browser.IE_VERSION===11||!a){this.masterPlaylistController_.sourceUpdater_.initializedEme();return}this.createKeySessions_()},r.setupQualityLevels_=function(){var i=this,s=le.players[this.tech_.options_.playerId];!s||!s.qualityLevels||this.qualityLevels_||(this.qualityLevels_=s.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){qie(i.qualityLevels_,i)}),this.playlists.on("mediachange",function(){ek(i.qualityLevels_,i.playlists)}))},e.version=function(){return{"@videojs/http-streaming":JR,"mux.js":zie,"mpd-parser":Wie,"m3u8-parser":Yie,"aes-decrypter":Gie}},r.version=function(){return this.constructor.version()},r.canChangeType=function(){return QR.canChangeType()},r.play=function(){this.masterPlaylistController_.play()},r.setCurrentTime=function(i){this.masterPlaylistController_.setCurrentTime(i)},r.duration=function(){return this.masterPlaylistController_.duration()},r.seekable=function(){return this.masterPlaylistController_.seekable()},r.dispose=function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.tech_&&delete this.tech_.hls,this.mediaSourceUrl_&&J.URL.revokeObjectURL&&(J.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),t.prototype.dispose.call(this)},r.convertToProgramTime=function(i,s){return fre({playlist:this.masterPlaylistController_.media(),time:i,callback:s})},r.seekToProgramTime=function(i,s,a,o){return a===void 0&&(a=!0),o===void 0&&(o=2),hre({programTime:i,playlist:this.masterPlaylistController_.media(),retryCount:o,pauseAfterSeek:a,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:s})},e}(tne),Qp={name:"videojs-http-streaming",VERSION:JR,canHandleSource:function(e,r){r===void 0&&(r={});var n=le.mergeOptions(le.options,r);return Qp.canPlayType(e.type,n)},handleSource:function(e,r,n){n===void 0&&(n={});var i=le.mergeOptions(le.options,n);return r.vhs=new $b(e,r,i),le.hasOwnProperty("hls")||Object.defineProperty(r,"hls",{get:function(){return le.log.warn("player.tech().hls is deprecated. Use player.tech().vhs instead."),r.vhs},configurable:!0}),r.vhs.xhr=AR(),r.vhs.src(e.src,e.type),r.vhs},canPlayType:function(e,r){r===void 0&&(r={});var n=le.mergeOptions(le.options,r),i=n.vhs;i=i===void 0?{}:i;var s=i.overrideNative,a=s===void 0?!le.browser.IS_ANY_SAFARI:s,o=n.hls;o=o===void 0?{}:o;var l=o.overrideNative,u=l===void 0?!1:l,c=yA(e),d=c&&(!Pr.supportsTypeNatively(c)||u||a);return d?"maybe":""}},rne=function(){return $f("avc1.4d400d,mp4a.40.2")};rne()&&le.getTech("Html5").registerSourceHandler(Qp,0);le.VhsHandler=$b;Object.defineProperty(le,"HlsHandler",{get:function(){return le.log.warn("videojs.HlsHandler is deprecated. Use videojs.VhsHandler instead."),$b},configurable:!0});le.VhsSourceHandler=Qp;Object.defineProperty(le,"HlsSourceHandler",{get:function(){return le.log.warn("videojs.HlsSourceHandler is deprecated. Use videojs.VhsSourceHandler instead."),Qp},configurable:!0});le.Vhs=Pr;Object.defineProperty(le,"Hls",{get:function(){return le.log.warn("videojs.Hls is deprecated. Use videojs.Vhs instead."),Pr},configurable:!0});le.use||(le.registerComponent("Hls",Pr),le.registerComponent("Vhs",Pr));le.options.vhs=le.options.vhs||{};le.options.hls=le.options.hls||{};if(!le.getPlugin||!le.getPlugin("reloadSourceOnError")){var ine=le.registerPlugin||le.plugin;ine("reloadSourceOnError",Hie)}var nne=Object.freeze(Object.defineProperty({__proto__:null,default:le},Symbol.toStringTag,{value:"Module"}));let rk=!0,ik=!0;function zf(t,e,r){const n=t.match(e);return n&&n.length>=r&&parseInt(n[r],10)}function Ql(t,e,r){if(!t.RTCPeerConnection)return;const n=t.RTCPeerConnection.prototype,i=n.addEventListener;n.addEventListener=function(a,o){if(a!==e)return i.apply(this,arguments);const l=u=>{const c=r(u);c&&(o.handleEvent?o.handleEvent(c):o(c))};return this._eventMap=this._eventMap||{},this._eventMap[e]||(this._eventMap[e]=new Map),this._eventMap[e].set(o,l),i.apply(this,[a,l])};const s=n.removeEventListener;n.removeEventListener=function(a,o){if(a!==e||!this._eventMap||!this._eventMap[e])return s.apply(this,arguments);if(!this._eventMap[e].has(o))return s.apply(this,arguments);const l=this._eventMap[e].get(o);return this._eventMap[e].delete(o),this._eventMap[e].size===0&&delete this._eventMap[e],Object.keys(this._eventMap).length===0&&delete this._eventMap,s.apply(this,[a,l])},Object.defineProperty(n,"on"+e,{get(){return this["_on"+e]},set(a){this["_on"+e]&&(this.removeEventListener(e,this["_on"+e]),delete this["_on"+e]),a&&this.addEventListener(e,this["_on"+e]=a)},enumerable:!0,configurable:!0})}function sne(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(rk=t,t?"adapter.js logging disabled":"adapter.js logging enabled")}function ane(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(ik=!t,"adapter.js deprecation warnings "+(t?"disabled":"enabled"))}function nk(){if(typeof window=="object"){if(rk)return;typeof console!="undefined"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function Ub(t,e){!ik||console.warn(t+" is deprecated, please use "+e+" instead.")}function one(t){const e={browser:null,version:null};if(typeof t=="undefined"||!t.navigator)return e.browser="Not a browser.",e;const{navigator:r}=t;if(r.mozGetUserMedia)e.browser="firefox",e.version=zf(r.userAgent,/Firefox\/(\d+)\./,1);else if(r.webkitGetUserMedia||t.isSecureContext===!1&&t.webkitRTCPeerConnection&&!t.RTCIceGatherer)e.browser="chrome",e.version=zf(r.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(t.RTCPeerConnection&&r.userAgent.match(/AppleWebKit\/(\d+)\./))e.browser="safari",e.version=zf(r.userAgent,/AppleWebKit\/(\d+)\./,1),e.supportsUnifiedPlan=t.RTCRtpTransceiver&&"currentDirection"in t.RTCRtpTransceiver.prototype;else return e.browser="Not a supported browser.",e;return e}function eC(t){return Object.prototype.toString.call(t)==="[object Object]"}function sk(t){return eC(t)?Object.keys(t).reduce(function(e,r){const n=eC(t[r]),i=n?sk(t[r]):t[r],s=n&&!Object.keys(i).length;return i===void 0||s?e:Object.assign(e,{[r]:i})},{}):t}function Qv(t,e,r){!e||r.has(e.id)||(r.set(e.id,e),Object.keys(e).forEach(n=>{n.endsWith("Id")?Qv(t,t.get(e[n]),r):n.endsWith("Ids")&&e[n].forEach(i=>{Qv(t,t.get(i),r)})}))}function tC(t,e,r){const n=r?"outbound-rtp":"inbound-rtp",i=new Map;if(e===null)return i;const s=[];return t.forEach(a=>{a.type==="track"&&a.trackIdentifier===e.id&&s.push(a)}),s.forEach(a=>{t.forEach(o=>{o.type===n&&o.trackId===a.id&&Qv(t,o,i)})}),i}const rC=nk;function ak(t,e){const r=t&&t.navigator;if(!r.mediaDevices)return;const n=function(o){if(typeof o!="object"||o.mandatory||o.optional)return o;const l={};return Object.keys(o).forEach(u=>{if(u==="require"||u==="advanced"||u==="mediaSource")return;const c=typeof o[u]=="object"?o[u]:{ideal:o[u]};c.exact!==void 0&&typeof c.exact=="number"&&(c.min=c.max=c.exact);const d=function(f,h){return f?f+h.charAt(0).toUpperCase()+h.slice(1):h==="deviceId"?"sourceId":h};if(c.ideal!==void 0){l.optional=l.optional||[];let f={};typeof c.ideal=="number"?(f[d("min",u)]=c.ideal,l.optional.push(f),f={},f[d("max",u)]=c.ideal,l.optional.push(f)):(f[d("",u)]=c.ideal,l.optional.push(f))}c.exact!==void 0&&typeof c.exact!="number"?(l.mandatory=l.mandatory||{},l.mandatory[d("",u)]=c.exact):["min","max"].forEach(f=>{c[f]!==void 0&&(l.mandatory=l.mandatory||{},l.mandatory[d(f,u)]=c[f])})}),o.advanced&&(l.optional=(l.optional||[]).concat(o.advanced)),l},i=function(o,l){if(e.version>=61)return l(o);if(o=JSON.parse(JSON.stringify(o)),o&&typeof o.audio=="object"){const u=function(c,d,f){d in c&&!(f in c)&&(c[f]=c[d],delete c[d])};o=JSON.parse(JSON.stringify(o)),u(o.audio,"autoGainControl","googAutoGainControl"),u(o.audio,"noiseSuppression","googNoiseSuppression"),o.audio=n(o.audio)}if(o&&typeof o.video=="object"){let u=o.video.facingMode;u=u&&(typeof u=="object"?u:{ideal:u});const c=e.version<66;if(u&&(u.exact==="user"||u.exact==="environment"||u.ideal==="user"||u.ideal==="environment")&&!(r.mediaDevices.getSupportedConstraints&&r.mediaDevices.getSupportedConstraints().facingMode&&!c)){delete o.video.facingMode;let d;if(u.exact==="environment"||u.ideal==="environment"?d=["back","rear"]:(u.exact==="user"||u.ideal==="user")&&(d=["front"]),d)return r.mediaDevices.enumerateDevices().then(f=>{f=f.filter(m=>m.kind==="videoinput");let h=f.find(m=>d.some(g=>m.label.toLowerCase().includes(g)));return!h&&f.length&&d.includes("back")&&(h=f[f.length-1]),h&&(o.video.deviceId=u.exact?{exact:h.deviceId}:{ideal:h.deviceId}),o.video=n(o.video),rC("chrome: "+JSON.stringify(o)),l(o)})}o.video=n(o.video)}return rC("chrome: "+JSON.stringify(o)),l(o)},s=function(o){return e.version>=64?o:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[o.name]||o.name,message:o.message,constraint:o.constraint||o.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},a=function(o,l,u){i(o,c=>{r.webkitGetUserMedia(c,l,d=>{u&&u(s(d))})})};if(r.getUserMedia=a.bind(r),r.mediaDevices.getUserMedia){const o=r.mediaDevices.getUserMedia.bind(r.mediaDevices);r.mediaDevices.getUserMedia=function(l){return i(l,u=>o(u).then(c=>{if(u.audio&&!c.getAudioTracks().length||u.video&&!c.getVideoTracks().length)throw c.getTracks().forEach(d=>{d.stop()}),new DOMException("","NotFoundError");return c},c=>Promise.reject(s(c))))}}}function lne(t,e){if(!(t.navigator.mediaDevices&&"getDisplayMedia"in t.navigator.mediaDevices)&&!!t.navigator.mediaDevices){if(typeof e!="function"){console.error("shimGetDisplayMedia: getSourceId argument is not a function");return}t.navigator.mediaDevices.getDisplayMedia=function(n){return e(n).then(i=>{const s=n.video&&n.video.width,a=n.video&&n.video.height,o=n.video&&n.video.frameRate;return n.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:i,maxFrameRate:o||3}},s&&(n.video.mandatory.maxWidth=s),a&&(n.video.mandatory.maxHeight=a),t.navigator.mediaDevices.getUserMedia(n)})}}}function ok(t){t.MediaStream=t.MediaStream||t.webkitMediaStream}function lk(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("ontrack"in t.RTCPeerConnection.prototype)){Object.defineProperty(t.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(r){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=r)},enumerable:!0,configurable:!0});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=n=>{n.stream.addEventListener("addtrack",i=>{let s;t.RTCPeerConnection.prototype.getReceivers?s=this.getReceivers().find(o=>o.track&&o.track.id===i.track.id):s={track:i.track};const a=new Event("track");a.track=i.track,a.receiver=s,a.transceiver={receiver:s},a.streams=[n.stream],this.dispatchEvent(a)}),n.stream.getTracks().forEach(i=>{let s;t.RTCPeerConnection.prototype.getReceivers?s=this.getReceivers().find(o=>o.track&&o.track.id===i.id):s={track:i};const a=new Event("track");a.track=i,a.receiver=s,a.transceiver={receiver:s},a.streams=[n.stream],this.dispatchEvent(a)})},this.addEventListener("addstream",this._ontrackpoly)),e.apply(this,arguments)}}else Ql(t,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e))}function uk(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("getSenders"in t.RTCPeerConnection.prototype)&&"createDTMFSender"in t.RTCPeerConnection.prototype){const e=function(i,s){return{track:s,get dtmf(){return this._dtmf===void 0&&(s.kind==="audio"?this._dtmf=i.createDTMFSender(s):this._dtmf=null),this._dtmf},_pc:i}};if(!t.RTCPeerConnection.prototype.getSenders){t.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const i=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(o,l){let u=i.apply(this,arguments);return u||(u=e(this,o),this._senders.push(u)),u};const s=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(o){s.apply(this,arguments);const l=this._senders.indexOf(o);l!==-1&&this._senders.splice(l,1)}}const r=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(s){this._senders=this._senders||[],r.apply(this,[s]),s.getTracks().forEach(a=>{this._senders.push(e(this,a))})};const n=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(s){this._senders=this._senders||[],n.apply(this,[s]),s.getTracks().forEach(a=>{const o=this._senders.find(l=>l.track===a);o&&this._senders.splice(this._senders.indexOf(o),1)})}}else if(typeof t=="object"&&t.RTCPeerConnection&&"getSenders"in t.RTCPeerConnection.prototype&&"createDTMFSender"in t.RTCPeerConnection.prototype&&t.RTCRtpSender&&!("dtmf"in t.RTCRtpSender.prototype)){const e=t.RTCPeerConnection.prototype.getSenders;t.RTCPeerConnection.prototype.getSenders=function(){const n=e.apply(this,[]);return n.forEach(i=>i._pc=this),n},Object.defineProperty(t.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function ck(t){if(!t.RTCPeerConnection)return;const e=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){const[n,i,s]=arguments;if(arguments.length>0&&typeof n=="function")return e.apply(this,arguments);if(e.length===0&&(arguments.length===0||typeof n!="function"))return e.apply(this,[]);const a=function(l){const u={};return l.result().forEach(d=>{const f={id:d.id,timestamp:d.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[d.type]||d.type};d.names().forEach(h=>{f[h]=d.stat(h)}),u[f.id]=f}),u},o=function(l){return new Map(Object.keys(l).map(u=>[u,l[u]]))};if(arguments.length>=2){const l=function(u){i(o(a(u)))};return e.apply(this,[l,n])}return new Promise((l,u)=>{e.apply(this,[function(c){l(o(a(c)))},u])}).then(i,s)}}function dk(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender&&t.RTCRtpReceiver))return;if(!("getStats"in t.RTCRtpSender.prototype)){const r=t.RTCPeerConnection.prototype.getSenders;r&&(t.RTCPeerConnection.prototype.getSenders=function(){const s=r.apply(this,[]);return s.forEach(a=>a._pc=this),s});const n=t.RTCPeerConnection.prototype.addTrack;n&&(t.RTCPeerConnection.prototype.addTrack=function(){const s=n.apply(this,arguments);return s._pc=this,s}),t.RTCRtpSender.prototype.getStats=function(){const s=this;return this._pc.getStats().then(a=>tC(a,s.track,!0))}}if(!("getStats"in t.RTCRtpReceiver.prototype)){const r=t.RTCPeerConnection.prototype.getReceivers;r&&(t.RTCPeerConnection.prototype.getReceivers=function(){const i=r.apply(this,[]);return i.forEach(s=>s._pc=this),i}),Ql(t,"track",n=>(n.receiver._pc=n.srcElement,n)),t.RTCRtpReceiver.prototype.getStats=function(){const i=this;return this._pc.getStats().then(s=>tC(s,i.track,!1))}}if(!("getStats"in t.RTCRtpSender.prototype&&"getStats"in t.RTCRtpReceiver.prototype))return;const e=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof t.MediaStreamTrack){const n=arguments[0];let i,s,a;return this.getSenders().forEach(o=>{o.track===n&&(i?a=!0:i=o)}),this.getReceivers().forEach(o=>(o.track===n&&(s?a=!0:s=o),o.track===n)),a||i&&s?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):i?i.getStats():s?s.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return e.apply(this,arguments)}}function fk(t){t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(a=>this._shimmedLocalStreams[a][0])};const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(a,o){if(!o)return e.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const l=e.apply(this,arguments);return this._shimmedLocalStreams[o.id]?this._shimmedLocalStreams[o.id].indexOf(l)===-1&&this._shimmedLocalStreams[o.id].push(l):this._shimmedLocalStreams[o.id]=[o,l],l};const r=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(a){this._shimmedLocalStreams=this._shimmedLocalStreams||{},a.getTracks().forEach(u=>{if(this.getSenders().find(d=>d.track===u))throw new DOMException("Track already exists.","InvalidAccessError")});const o=this.getSenders();r.apply(this,arguments);const l=this.getSenders().filter(u=>o.indexOf(u)===-1);this._shimmedLocalStreams[a.id]=[a].concat(l)};const n=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(a){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[a.id],n.apply(this,arguments)};const i=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(a){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},a&&Object.keys(this._shimmedLocalStreams).forEach(o=>{const l=this._shimmedLocalStreams[o].indexOf(a);l!==-1&&this._shimmedLocalStreams[o].splice(l,1),this._shimmedLocalStreams[o].length===1&&delete this._shimmedLocalStreams[o]}),i.apply(this,arguments)}}function hk(t,e){if(!t.RTCPeerConnection)return;if(t.RTCPeerConnection.prototype.addTrack&&e.version>=65)return fk(t);const r=t.RTCPeerConnection.prototype.getLocalStreams;t.RTCPeerConnection.prototype.getLocalStreams=function(){const c=r.apply(this);return this._reverseStreams=this._reverseStreams||{},c.map(d=>this._reverseStreams[d.id])};const n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(c){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},c.getTracks().forEach(d=>{if(this.getSenders().find(h=>h.track===d))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[c.id]){const d=new t.MediaStream(c.getTracks());this._streams[c.id]=d,this._reverseStreams[d.id]=c,c=d}n.apply(this,[c])};const i=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(c){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[c.id]||c]),delete this._reverseStreams[this._streams[c.id]?this._streams[c.id].id:c.id],delete this._streams[c.id]},t.RTCPeerConnection.prototype.addTrack=function(c,d){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const f=[].slice.call(arguments,1);if(f.length!==1||!f[0].getTracks().find(g=>g===c))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(g=>g.track===c))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const m=this._streams[d.id];if(m)m.addTrack(c),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const g=new t.MediaStream([c]);this._streams[d.id]=g,this._reverseStreams[g.id]=d,this.addStream(g)}return this.getSenders().find(g=>g.track===c)};function s(u,c){let d=c.sdp;return Object.keys(u._reverseStreams||[]).forEach(f=>{const h=u._reverseStreams[f],m=u._streams[h.id];d=d.replace(new RegExp(m.id,"g"),h.id)}),new RTCSessionDescription({type:c.type,sdp:d})}function a(u,c){let d=c.sdp;return Object.keys(u._reverseStreams||[]).forEach(f=>{const h=u._reverseStreams[f],m=u._streams[h.id];d=d.replace(new RegExp(h.id,"g"),m.id)}),new RTCSessionDescription({type:c.type,sdp:d})}["createOffer","createAnswer"].forEach(function(u){const c=t.RTCPeerConnection.prototype[u],d={[u](){const f=arguments;return arguments.length&&typeof arguments[0]=="function"?c.apply(this,[m=>{const g=s(this,m);f[0].apply(null,[g])},m=>{f[1]&&f[1].apply(null,m)},arguments[2]]):c.apply(this,arguments).then(m=>s(this,m))}};t.RTCPeerConnection.prototype[u]=d[u]});const o=t.RTCPeerConnection.prototype.setLocalDescription;t.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?o.apply(this,arguments):(arguments[0]=a(this,arguments[0]),o.apply(this,arguments))};const l=Object.getOwnPropertyDescriptor(t.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(t.RTCPeerConnection.prototype,"localDescription",{get(){const u=l.get.apply(this);return u.type===""?u:s(this,u)}}),t.RTCPeerConnection.prototype.removeTrack=function(c){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!c._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(c._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let f;Object.keys(this._streams).forEach(h=>{this._streams[h].getTracks().find(g=>c.track===g)&&(f=this._streams[h])}),f&&(f.getTracks().length===1?this.removeStream(this._reverseStreams[f.id]):f.removeTrack(c.track),this.dispatchEvent(new Event("negotiationneeded")))}}function Jv(t,e){!t.RTCPeerConnection&&t.webkitRTCPeerConnection&&(t.RTCPeerConnection=t.webkitRTCPeerConnection),!!t.RTCPeerConnection&&e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(r){const n=t.RTCPeerConnection.prototype[r],i={[r](){return arguments[0]=new(r==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}};t.RTCPeerConnection.prototype[r]=i[r]})}function pk(t,e){Ql(t,"negotiationneeded",r=>{const n=r.target;if(!((e.version<72||n.getConfiguration&&n.getConfiguration().sdpSemantics==="plan-b")&&n.signalingState!=="stable"))return r})}var iC=Object.freeze(Object.defineProperty({__proto__:null,shimMediaStream:ok,shimOnTrack:lk,shimGetSendersWithDtmf:uk,shimGetStats:ck,shimSenderReceiverGetStats:dk,shimAddTrackRemoveTrackWithNative:fk,shimAddTrackRemoveTrack:hk,shimPeerConnection:Jv,fixNegotiationNeeded:pk,shimGetUserMedia:ak,shimGetDisplayMedia:lne},Symbol.toStringTag,{value:"Module"}));function mk(t,e){const r=t&&t.navigator,n=t&&t.MediaStreamTrack;if(r.getUserMedia=function(i,s,a){Ub("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),r.mediaDevices.getUserMedia(i).then(s,a)},!(e.version>55&&"autoGainControl"in r.mediaDevices.getSupportedConstraints())){const i=function(a,o,l){o in a&&!(l in a)&&(a[l]=a[o],delete a[o])},s=r.mediaDevices.getUserMedia.bind(r.mediaDevices);if(r.mediaDevices.getUserMedia=function(a){return typeof a=="object"&&typeof a.audio=="object"&&(a=JSON.parse(JSON.stringify(a)),i(a.audio,"autoGainControl","mozAutoGainControl"),i(a.audio,"noiseSuppression","mozNoiseSuppression")),s(a)},n&&n.prototype.getSettings){const a=n.prototype.getSettings;n.prototype.getSettings=function(){const o=a.apply(this,arguments);return i(o,"mozAutoGainControl","autoGainControl"),i(o,"mozNoiseSuppression","noiseSuppression"),o}}if(n&&n.prototype.applyConstraints){const a=n.prototype.applyConstraints;n.prototype.applyConstraints=function(o){return this.kind==="audio"&&typeof o=="object"&&(o=JSON.parse(JSON.stringify(o)),i(o,"autoGainControl","mozAutoGainControl"),i(o,"noiseSuppression","mozNoiseSuppression")),a.apply(this,[o])}}}}function une(t,e){t.navigator.mediaDevices&&"getDisplayMedia"in t.navigator.mediaDevices||!t.navigator.mediaDevices||(t.navigator.mediaDevices.getDisplayMedia=function(n){if(!(n&&n.video)){const i=new DOMException("getDisplayMedia without video constraints is undefined");return i.name="NotFoundError",i.code=8,Promise.reject(i)}return n.video===!0?n.video={mediaSource:e}:n.video.mediaSource=e,t.navigator.mediaDevices.getUserMedia(n)})}function gk(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Zv(t,e){if(typeof t!="object"||!(t.RTCPeerConnection||t.mozRTCPeerConnection))return;!t.RTCPeerConnection&&t.mozRTCPeerConnection&&(t.RTCPeerConnection=t.mozRTCPeerConnection),e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(i){const s=t.RTCPeerConnection.prototype[i],a={[i](){return arguments[0]=new(i==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),s.apply(this,arguments)}};t.RTCPeerConnection.prototype[i]=a[i]});const r={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},n=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){const[s,a,o]=arguments;return n.apply(this,[s||null]).then(l=>{if(e.version<53&&!a)try{l.forEach(u=>{u.type=r[u.type]||u.type})}catch(u){if(u.name!=="TypeError")throw u;l.forEach((c,d)=>{l.set(d,Object.assign({},c,{type:r[c.type]||c.type}))})}return l}).then(a,o)}}function vk(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpSender.prototype)return;const e=t.RTCPeerConnection.prototype.getSenders;e&&(t.RTCPeerConnection.prototype.getSenders=function(){const i=e.apply(this,[]);return i.forEach(s=>s._pc=this),i});const r=t.RTCPeerConnection.prototype.addTrack;r&&(t.RTCPeerConnection.prototype.addTrack=function(){const i=r.apply(this,arguments);return i._pc=this,i}),t.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function yk(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpReceiver.prototype)return;const e=t.RTCPeerConnection.prototype.getReceivers;e&&(t.RTCPeerConnection.prototype.getReceivers=function(){const n=e.apply(this,[]);return n.forEach(i=>i._pc=this),n}),Ql(t,"track",r=>(r.receiver._pc=r.srcElement,r)),t.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function bk(t){!t.RTCPeerConnection||"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(r){Ub("removeStream","removeTrack"),this.getSenders().forEach(n=>{n.track&&r.getTracks().includes(n.track)&&this.removeTrack(n)})})}function _k(t){t.DataChannel&&!t.RTCDataChannel&&(t.RTCDataChannel=t.DataChannel)}function Tk(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.addTransceiver;e&&(t.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];const n=arguments[1],i=n&&"sendEncodings"in n;i&&n.sendEncodings.forEach(a=>{if("rid"in a&&!/^[a-z0-9]{0,16}$/i.test(a.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in a&&!(parseFloat(a.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in a&&!(parseFloat(a.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const s=e.apply(this,arguments);if(i){const{sender:a}=s,o=a.getParameters();(!("encodings"in o)||o.encodings.length===1&&Object.keys(o.encodings[0]).length===0)&&(o.encodings=n.sendEncodings,a.sendEncodings=n.sendEncodings,this.setParametersPromises.push(a.setParameters(o).then(()=>{delete a.sendEncodings}).catch(()=>{delete a.sendEncodings})))}return s})}function xk(t){if(!(typeof t=="object"&&t.RTCRtpSender))return;const e=t.RTCRtpSender.prototype.getParameters;e&&(t.RTCRtpSender.prototype.getParameters=function(){const n=e.apply(this,arguments);return"encodings"in n||(n.encodings=[].concat(this.sendEncodings||[{}])),n})}function Sk(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}function Ek(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.createAnswer;t.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}var nC=Object.freeze(Object.defineProperty({__proto__:null,shimOnTrack:gk,shimPeerConnection:Zv,shimSenderGetStats:vk,shimReceiverGetStats:yk,shimRemoveStream:bk,shimRTCDataChannel:_k,shimAddTransceiver:Tk,shimGetParameters:xk,shimCreateOffer:Sk,shimCreateAnswer:Ek,shimGetUserMedia:mk,shimGetDisplayMedia:une},Symbol.toStringTag,{value:"Module"}));function Ck(t){if(!(typeof t!="object"||!t.RTCPeerConnection)){if("getLocalStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in t.RTCPeerConnection.prototype)){const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addStream=function(n){this._localStreams||(this._localStreams=[]),this._localStreams.includes(n)||this._localStreams.push(n),n.getAudioTracks().forEach(i=>e.call(this,i,n)),n.getVideoTracks().forEach(i=>e.call(this,i,n))},t.RTCPeerConnection.prototype.addTrack=function(n,...i){return i&&i.forEach(s=>{this._localStreams?this._localStreams.includes(s)||this._localStreams.push(s):this._localStreams=[s]}),e.apply(this,arguments)}}"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(r){this._localStreams||(this._localStreams=[]);const n=this._localStreams.indexOf(r);if(n===-1)return;this._localStreams.splice(n,1);const i=r.getTracks();this.getSenders().forEach(s=>{i.includes(s.track)&&this.removeTrack(s)})})}}function wk(t){if(!(typeof t!="object"||!t.RTCPeerConnection)&&("getRemoteStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in t.RTCPeerConnection.prototype))){Object.defineProperty(t.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(r){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=r),this.addEventListener("track",this._onaddstreampoly=n=>{n.streams.forEach(i=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(i))return;this._remoteStreams.push(i);const s=new Event("addstream");s.stream=i,this.dispatchEvent(s)})})}});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){const n=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(i){i.streams.forEach(s=>{if(n._remoteStreams||(n._remoteStreams=[]),n._remoteStreams.indexOf(s)>=0)return;n._remoteStreams.push(s);const a=new Event("addstream");a.stream=s,n.dispatchEvent(a)})}),e.apply(n,arguments)}}}function Pk(t){if(typeof t!="object"||!t.RTCPeerConnection)return;const e=t.RTCPeerConnection.prototype,r=e.createOffer,n=e.createAnswer,i=e.setLocalDescription,s=e.setRemoteDescription,a=e.addIceCandidate;e.createOffer=function(u,c){const d=arguments.length>=2?arguments[2]:arguments[0],f=r.apply(this,[d]);return c?(f.then(u,c),Promise.resolve()):f},e.createAnswer=function(u,c){const d=arguments.length>=2?arguments[2]:arguments[0],f=n.apply(this,[d]);return c?(f.then(u,c),Promise.resolve()):f};let o=function(l,u,c){const d=i.apply(this,[l]);return c?(d.then(u,c),Promise.resolve()):d};e.setLocalDescription=o,o=function(l,u,c){const d=s.apply(this,[l]);return c?(d.then(u,c),Promise.resolve()):d},e.setRemoteDescription=o,o=function(l,u,c){const d=a.apply(this,[l]);return c?(d.then(u,c),Promise.resolve()):d},e.addIceCandidate=o}function Dk(t){const e=t&&t.navigator;if(e.mediaDevices&&e.mediaDevices.getUserMedia){const r=e.mediaDevices,n=r.getUserMedia.bind(r);e.mediaDevices.getUserMedia=i=>n(Ak(i))}!e.getUserMedia&&e.mediaDevices&&e.mediaDevices.getUserMedia&&(e.getUserMedia=function(n,i,s){e.mediaDevices.getUserMedia(n).then(i,s)}.bind(e))}function Ak(t){return t&&t.video!==void 0?Object.assign({},t,{video:sk(t.video)}):t}function Ok(t){if(!t.RTCPeerConnection)return;const e=t.RTCPeerConnection;t.RTCPeerConnection=function(n,i){if(n&&n.iceServers){const s=[];for(let a=0;a<n.iceServers.length;a++){let o=n.iceServers[a];!o.hasOwnProperty("urls")&&o.hasOwnProperty("url")?(Ub("RTCIceServer.url","RTCIceServer.urls"),o=JSON.parse(JSON.stringify(o)),o.urls=o.url,delete o.url,s.push(o)):s.push(n.iceServers[a])}n.iceServers=s}return new e(n,i)},t.RTCPeerConnection.prototype=e.prototype,"generateCertificate"in e&&Object.defineProperty(t.RTCPeerConnection,"generateCertificate",{get(){return e.generateCertificate}})}function Rk(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function kk(t){const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(n){if(n){typeof n.offerToReceiveAudio!="undefined"&&(n.offerToReceiveAudio=!!n.offerToReceiveAudio);const i=this.getTransceivers().find(a=>a.receiver.track.kind==="audio");n.offerToReceiveAudio===!1&&i?i.direction==="sendrecv"?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":i.direction==="recvonly"&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):n.offerToReceiveAudio===!0&&!i&&this.addTransceiver("audio",{direction:"recvonly"}),typeof n.offerToReceiveVideo!="undefined"&&(n.offerToReceiveVideo=!!n.offerToReceiveVideo);const s=this.getTransceivers().find(a=>a.receiver.track.kind==="video");n.offerToReceiveVideo===!1&&s?s.direction==="sendrecv"?s.setDirection?s.setDirection("sendonly"):s.direction="sendonly":s.direction==="recvonly"&&(s.setDirection?s.setDirection("inactive"):s.direction="inactive"):n.offerToReceiveVideo===!0&&!s&&this.addTransceiver("video",{direction:"recvonly"})}return e.apply(this,arguments)}}function Ik(t){typeof t!="object"||t.AudioContext||(t.AudioContext=t.webkitAudioContext)}var sC=Object.freeze(Object.defineProperty({__proto__:null,shimLocalStreamsAPI:Ck,shimRemoteStreamsAPI:wk,shimCallbacksAPI:Pk,shimGetUserMedia:Dk,shimConstraints:Ak,shimRTCIceServerUrls:Ok,shimTrackEventTransceiver:Rk,shimCreateOfferLegacy:kk,shimAudioContext:Ik},Symbol.toStringTag,{value:"Module"})),jb={exports:{}};(function(t){const e={};e.generateIdentifier=function(){return Math.random().toString(36).substr(2,10)},e.localCName=e.generateIdentifier(),e.splitLines=function(r){return r.trim().split(`
`).map(n=>n.trim())},e.splitSections=function(r){return r.split(`
m=`).map((i,s)=>(s>0?"m="+i:i).trim()+`\r
`)},e.getDescription=function(r){const n=e.splitSections(r);return n&&n[0]},e.getMediaSections=function(r){const n=e.splitSections(r);return n.shift(),n},e.matchPrefix=function(r,n){return e.splitLines(r).filter(i=>i.indexOf(n)===0)},e.parseCandidate=function(r){let n;r.indexOf("a=candidate:")===0?n=r.substring(12).split(" "):n=r.substring(10).split(" ");const i={foundation:n[0],component:{1:"rtp",2:"rtcp"}[n[1]]||n[1],protocol:n[2].toLowerCase(),priority:parseInt(n[3],10),ip:n[4],address:n[4],port:parseInt(n[5],10),type:n[7]};for(let s=8;s<n.length;s+=2)switch(n[s]){case"raddr":i.relatedAddress=n[s+1];break;case"rport":i.relatedPort=parseInt(n[s+1],10);break;case"tcptype":i.tcpType=n[s+1];break;case"ufrag":i.ufrag=n[s+1],i.usernameFragment=n[s+1];break;default:i[n[s]]===void 0&&(i[n[s]]=n[s+1]);break}return i},e.writeCandidate=function(r){const n=[];n.push(r.foundation);const i=r.component;i==="rtp"?n.push(1):i==="rtcp"?n.push(2):n.push(i),n.push(r.protocol.toUpperCase()),n.push(r.priority),n.push(r.address||r.ip),n.push(r.port);const s=r.type;return n.push("typ"),n.push(s),s!=="host"&&r.relatedAddress&&r.relatedPort&&(n.push("raddr"),n.push(r.relatedAddress),n.push("rport"),n.push(r.relatedPort)),r.tcpType&&r.protocol.toLowerCase()==="tcp"&&(n.push("tcptype"),n.push(r.tcpType)),(r.usernameFragment||r.ufrag)&&(n.push("ufrag"),n.push(r.usernameFragment||r.ufrag)),"candidate:"+n.join(" ")},e.parseIceOptions=function(r){return r.substr(14).split(" ")},e.parseRtpMap=function(r){let n=r.substr(9).split(" ");const i={payloadType:parseInt(n.shift(),10)};return n=n[0].split("/"),i.name=n[0],i.clockRate=parseInt(n[1],10),i.channels=n.length===3?parseInt(n[2],10):1,i.numChannels=i.channels,i},e.writeRtpMap=function(r){let n=r.payloadType;r.preferredPayloadType!==void 0&&(n=r.preferredPayloadType);const i=r.channels||r.numChannels||1;return"a=rtpmap:"+n+" "+r.name+"/"+r.clockRate+(i!==1?"/"+i:"")+`\r
`},e.parseExtmap=function(r){const n=r.substr(9).split(" ");return{id:parseInt(n[0],10),direction:n[0].indexOf("/")>0?n[0].split("/")[1]:"sendrecv",uri:n[1]}},e.writeExtmap=function(r){return"a=extmap:"+(r.id||r.preferredId)+(r.direction&&r.direction!=="sendrecv"?"/"+r.direction:"")+" "+r.uri+`\r
`},e.parseFmtp=function(r){const n={};let i;const s=r.substr(r.indexOf(" ")+1).split(";");for(let a=0;a<s.length;a++)i=s[a].trim().split("="),n[i[0].trim()]=i[1];return n},e.writeFmtp=function(r){let n="",i=r.payloadType;if(r.preferredPayloadType!==void 0&&(i=r.preferredPayloadType),r.parameters&&Object.keys(r.parameters).length){const s=[];Object.keys(r.parameters).forEach(a=>{r.parameters[a]!==void 0?s.push(a+"="+r.parameters[a]):s.push(a)}),n+="a=fmtp:"+i+" "+s.join(";")+`\r
`}return n},e.parseRtcpFb=function(r){const n=r.substr(r.indexOf(" ")+1).split(" ");return{type:n.shift(),parameter:n.join(" ")}},e.writeRtcpFb=function(r){let n="",i=r.payloadType;return r.preferredPayloadType!==void 0&&(i=r.preferredPayloadType),r.rtcpFeedback&&r.rtcpFeedback.length&&r.rtcpFeedback.forEach(s=>{n+="a=rtcp-fb:"+i+" "+s.type+(s.parameter&&s.parameter.length?" "+s.parameter:"")+`\r
`}),n},e.parseSsrcMedia=function(r){const n=r.indexOf(" "),i={ssrc:parseInt(r.substr(7,n-7),10)},s=r.indexOf(":",n);return s>-1?(i.attribute=r.substr(n+1,s-n-1),i.value=r.substr(s+1)):i.attribute=r.substr(n+1),i},e.parseSsrcGroup=function(r){const n=r.substr(13).split(" ");return{semantics:n.shift(),ssrcs:n.map(i=>parseInt(i,10))}},e.getMid=function(r){const n=e.matchPrefix(r,"a=mid:")[0];if(n)return n.substr(6)},e.parseFingerprint=function(r){const n=r.substr(14).split(" ");return{algorithm:n[0].toLowerCase(),value:n[1].toUpperCase()}},e.getDtlsParameters=function(r,n){const i=e.matchPrefix(r+n,"a=fingerprint:");return{role:"auto",fingerprints:i.map(e.parseFingerprint)}},e.writeDtlsParameters=function(r,n){let i="a=setup:"+n+`\r
`;return r.fingerprints.forEach(s=>{i+="a=fingerprint:"+s.algorithm+" "+s.value+`\r
`}),i},e.parseCryptoLine=function(r){const n=r.substr(9).split(" ");return{tag:parseInt(n[0],10),cryptoSuite:n[1],keyParams:n[2],sessionParams:n.slice(3)}},e.writeCryptoLine=function(r){return"a=crypto:"+r.tag+" "+r.cryptoSuite+" "+(typeof r.keyParams=="object"?e.writeCryptoKeyParams(r.keyParams):r.keyParams)+(r.sessionParams?" "+r.sessionParams.join(" "):"")+`\r
`},e.parseCryptoKeyParams=function(r){if(r.indexOf("inline:")!==0)return null;const n=r.substr(7).split("|");return{keyMethod:"inline",keySalt:n[0],lifeTime:n[1],mkiValue:n[2]?n[2].split(":")[0]:void 0,mkiLength:n[2]?n[2].split(":")[1]:void 0}},e.writeCryptoKeyParams=function(r){return r.keyMethod+":"+r.keySalt+(r.lifeTime?"|"+r.lifeTime:"")+(r.mkiValue&&r.mkiLength?"|"+r.mkiValue+":"+r.mkiLength:"")},e.getCryptoParameters=function(r,n){return e.matchPrefix(r+n,"a=crypto:").map(e.parseCryptoLine)},e.getIceParameters=function(r,n){const i=e.matchPrefix(r+n,"a=ice-ufrag:")[0],s=e.matchPrefix(r+n,"a=ice-pwd:")[0];return i&&s?{usernameFragment:i.substr(12),password:s.substr(10)}:null},e.writeIceParameters=function(r){let n="a=ice-ufrag:"+r.usernameFragment+`\r
a=ice-pwd:`+r.password+`\r
`;return r.iceLite&&(n+=`a=ice-lite\r
`),n},e.parseRtpParameters=function(r){const n={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},s=e.splitLines(r)[0].split(" ");for(let a=3;a<s.length;a++){const o=s[a],l=e.matchPrefix(r,"a=rtpmap:"+o+" ")[0];if(l){const u=e.parseRtpMap(l),c=e.matchPrefix(r,"a=fmtp:"+o+" ");switch(u.parameters=c.length?e.parseFmtp(c[0]):{},u.rtcpFeedback=e.matchPrefix(r,"a=rtcp-fb:"+o+" ").map(e.parseRtcpFb),n.codecs.push(u),u.name.toUpperCase()){case"RED":case"ULPFEC":n.fecMechanisms.push(u.name.toUpperCase());break}}}return e.matchPrefix(r,"a=extmap:").forEach(a=>{n.headerExtensions.push(e.parseExtmap(a))}),n},e.writeRtpDescription=function(r,n){let i="";i+="m="+r+" ",i+=n.codecs.length>0?"9":"0",i+=" UDP/TLS/RTP/SAVPF ",i+=n.codecs.map(a=>a.preferredPayloadType!==void 0?a.preferredPayloadType:a.payloadType).join(" ")+`\r
`,i+=`c=IN IP4 0.0.0.0\r
`,i+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,n.codecs.forEach(a=>{i+=e.writeRtpMap(a),i+=e.writeFmtp(a),i+=e.writeRtcpFb(a)});let s=0;return n.codecs.forEach(a=>{a.maxptime>s&&(s=a.maxptime)}),s>0&&(i+="a=maxptime:"+s+`\r
`),n.headerExtensions&&n.headerExtensions.forEach(a=>{i+=e.writeExtmap(a)}),i},e.parseRtpEncodingParameters=function(r){const n=[],i=e.parseRtpParameters(r),s=i.fecMechanisms.indexOf("RED")!==-1,a=i.fecMechanisms.indexOf("ULPFEC")!==-1,o=e.matchPrefix(r,"a=ssrc:").map(f=>e.parseSsrcMedia(f)).filter(f=>f.attribute==="cname"),l=o.length>0&&o[0].ssrc;let u;const c=e.matchPrefix(r,"a=ssrc-group:FID").map(f=>f.substr(17).split(" ").map(m=>parseInt(m,10)));c.length>0&&c[0].length>1&&c[0][0]===l&&(u=c[0][1]),i.codecs.forEach(f=>{if(f.name.toUpperCase()==="RTX"&&f.parameters.apt){let h={ssrc:l,codecPayloadType:parseInt(f.parameters.apt,10)};l&&u&&(h.rtx={ssrc:u}),n.push(h),s&&(h=JSON.parse(JSON.stringify(h)),h.fec={ssrc:l,mechanism:a?"red+ulpfec":"red"},n.push(h))}}),n.length===0&&l&&n.push({ssrc:l});let d=e.matchPrefix(r,"b=");return d.length&&(d[0].indexOf("b=TIAS:")===0?d=parseInt(d[0].substr(7),10):d[0].indexOf("b=AS:")===0?d=parseInt(d[0].substr(5),10)*1e3*.95-50*40*8:d=void 0,n.forEach(f=>{f.maxBitrate=d})),n},e.parseRtcpParameters=function(r){const n={},i=e.matchPrefix(r,"a=ssrc:").map(o=>e.parseSsrcMedia(o)).filter(o=>o.attribute==="cname")[0];i&&(n.cname=i.value,n.ssrc=i.ssrc);const s=e.matchPrefix(r,"a=rtcp-rsize");n.reducedSize=s.length>0,n.compound=s.length===0;const a=e.matchPrefix(r,"a=rtcp-mux");return n.mux=a.length>0,n},e.writeRtcpParameters=function(r){let n="";return r.reducedSize&&(n+=`a=rtcp-rsize\r
`),r.mux&&(n+=`a=rtcp-mux\r
`),r.ssrc!==void 0&&r.cname&&(n+="a=ssrc:"+r.ssrc+" cname:"+r.cname+`\r
`),n},e.parseMsid=function(r){let n;const i=e.matchPrefix(r,"a=msid:");if(i.length===1)return n=i[0].substr(7).split(" "),{stream:n[0],track:n[1]};const s=e.matchPrefix(r,"a=ssrc:").map(a=>e.parseSsrcMedia(a)).filter(a=>a.attribute==="msid");if(s.length>0)return n=s[0].value.split(" "),{stream:n[0],track:n[1]}},e.parseSctpDescription=function(r){const n=e.parseMLine(r),i=e.matchPrefix(r,"a=max-message-size:");let s;i.length>0&&(s=parseInt(i[0].substr(19),10)),isNaN(s)&&(s=65536);const a=e.matchPrefix(r,"a=sctp-port:");if(a.length>0)return{port:parseInt(a[0].substr(12),10),protocol:n.fmt,maxMessageSize:s};const o=e.matchPrefix(r,"a=sctpmap:");if(o.length>0){const l=o[0].substr(10).split(" ");return{port:parseInt(l[0],10),protocol:l[1],maxMessageSize:s}}},e.writeSctpDescription=function(r,n){let i=[];return r.protocol!=="DTLS/SCTP"?i=["m="+r.kind+" 9 "+r.protocol+" "+n.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+n.port+`\r
`]:i=["m="+r.kind+" 9 "+r.protocol+" "+n.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+n.port+" "+n.protocol+` 65535\r
`],n.maxMessageSize!==void 0&&i.push("a=max-message-size:"+n.maxMessageSize+`\r
`),i.join("")},e.generateSessionId=function(){return Math.random().toString().substr(2,21)},e.writeSessionBoilerplate=function(r,n,i){let s;const a=n!==void 0?n:2;return r?s=r:s=e.generateSessionId(),`v=0\r
o=`+(i||"thisisadapterortc")+" "+s+" "+a+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},e.getDirection=function(r,n){const i=e.splitLines(r);for(let s=0;s<i.length;s++)switch(i[s]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return i[s].substr(2)}return n?e.getDirection(n):"sendrecv"},e.getKind=function(r){return e.splitLines(r)[0].split(" ")[0].substr(2)},e.isRejected=function(r){return r.split(" ",2)[1]==="0"},e.parseMLine=function(r){const i=e.splitLines(r)[0].substr(2).split(" ");return{kind:i[0],port:parseInt(i[1],10),protocol:i[2],fmt:i.slice(3).join(" ")}},e.parseOLine=function(r){const i=e.matchPrefix(r,"o=")[0].substr(2).split(" ");return{username:i[0],sessionId:i[1],sessionVersion:parseInt(i[2],10),netType:i[3],addressType:i[4],address:i[5]}},e.isValidSDP=function(r){if(typeof r!="string"||r.length===0)return!1;const n=e.splitLines(r);for(let i=0;i<n.length;i++)if(n[i].length<2||n[i].charAt(1)!=="=")return!1;return!0},t.exports=e})(jb);var dc=jb.exports,cne=oL({__proto__:null,default:dc},[jb.exports]);function Wf(t){if(!t.RTCIceCandidate||t.RTCIceCandidate&&"foundation"in t.RTCIceCandidate.prototype)return;const e=t.RTCIceCandidate;t.RTCIceCandidate=function(n){if(typeof n=="object"&&n.candidate&&n.candidate.indexOf("a=")===0&&(n=JSON.parse(JSON.stringify(n)),n.candidate=n.candidate.substr(2)),n.candidate&&n.candidate.length){const i=new e(n),s=dc.parseCandidate(n.candidate),a=Object.assign(i,s);return a.toJSON=function(){return{candidate:a.candidate,sdpMid:a.sdpMid,sdpMLineIndex:a.sdpMLineIndex,usernameFragment:a.usernameFragment}},a}return new e(n)},t.RTCIceCandidate.prototype=e.prototype,Ql(t,"icecandidate",r=>(r.candidate&&Object.defineProperty(r,"candidate",{value:new t.RTCIceCandidate(r.candidate),writable:"false"}),r))}function Yf(t,e){if(!t.RTCPeerConnection)return;"sctp"in t.RTCPeerConnection.prototype||Object.defineProperty(t.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp=="undefined"?null:this._sctp}});const r=function(o){if(!o||!o.sdp)return!1;const l=dc.splitSections(o.sdp);return l.shift(),l.some(u=>{const c=dc.parseMLine(u);return c&&c.kind==="application"&&c.protocol.indexOf("SCTP")!==-1})},n=function(o){const l=o.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(l===null||l.length<2)return-1;const u=parseInt(l[1],10);return u!==u?-1:u},i=function(o){let l=65536;return e.browser==="firefox"&&(e.version<57?o===-1?l=16384:l=2147483637:e.version<60?l=e.version===57?65535:65536:l=2147483637),l},s=function(o,l){let u=65536;e.browser==="firefox"&&e.version===57&&(u=65535);const c=dc.matchPrefix(o.sdp,"a=max-message-size:");return c.length>0?u=parseInt(c[0].substr(19),10):e.browser==="firefox"&&l!==-1&&(u=2147483637),u},a=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,e.browser==="chrome"&&e.version>=76){const{sdpSemantics:l}=this.getConfiguration();l==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp=="undefined"?null:this._sctp},enumerable:!0,configurable:!0})}if(r(arguments[0])){const l=n(arguments[0]),u=i(l),c=s(arguments[0],l);let d;u===0&&c===0?d=Number.POSITIVE_INFINITY:u===0||c===0?d=Math.max(u,c):d=Math.min(u,c);const f={};Object.defineProperty(f,"maxMessageSize",{get(){return d}}),this._sctp=f}return a.apply(this,arguments)}}function Gf(t){if(!(t.RTCPeerConnection&&"createDataChannel"in t.RTCPeerConnection.prototype))return;function e(n,i){const s=n.send;n.send=function(){const o=arguments[0],l=o.length||o.size||o.byteLength;if(n.readyState==="open"&&i.sctp&&l>i.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+i.sctp.maxMessageSize+" bytes)");return s.apply(n,arguments)}}const r=t.RTCPeerConnection.prototype.createDataChannel;t.RTCPeerConnection.prototype.createDataChannel=function(){const i=r.apply(this,arguments);return e(i,this),i},Ql(t,"datachannel",n=>(e(n.channel,n.target),n))}function ey(t){if(!t.RTCPeerConnection||"connectionState"in t.RTCPeerConnection.prototype)return;const e=t.RTCPeerConnection.prototype;Object.defineProperty(e,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(e,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(r){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),r&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=r)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(r=>{const n=e[r];e[r]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=i=>{const s=i.target;if(s._lastConnectionState!==s.connectionState){s._lastConnectionState=s.connectionState;const a=new Event("connectionstatechange",i);s.dispatchEvent(a)}return i},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),n.apply(this,arguments)}})}function ty(t,e){if(!t.RTCPeerConnection||e.browser==="chrome"&&e.version>=71||e.browser==="safari"&&e.version>=605)return;const r=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(i){if(i&&i.sdp&&i.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const s=i.sdp.split(`
`).filter(a=>a.trim()!=="a=extmap-allow-mixed").join(`
`);t.RTCSessionDescription&&i instanceof t.RTCSessionDescription?arguments[0]=new t.RTCSessionDescription({type:i.type,sdp:s}):i.sdp=s}return r.apply(this,arguments)}}function qf(t,e){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;const r=t.RTCPeerConnection.prototype.addIceCandidate;!r||r.length===0||(t.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(e.browser==="chrome"&&e.version<78||e.browser==="firefox"&&e.version<68||e.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():r.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function Kf(t,e){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;const r=t.RTCPeerConnection.prototype.setLocalDescription;!r||r.length===0||(t.RTCPeerConnection.prototype.setLocalDescription=function(){let i=arguments[0]||{};if(typeof i!="object"||i.type&&i.sdp)return r.apply(this,arguments);if(i={type:i.type,sdp:i.sdp},!i.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":i.type="offer";break;default:i.type="answer";break}return i.sdp||i.type!=="offer"&&i.type!=="answer"?r.apply(this,[i]):(i.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(a=>r.apply(this,[a]))})}var dne=Object.freeze(Object.defineProperty({__proto__:null,shimRTCIceCandidate:Wf,shimMaxMessageSize:Yf,shimSendThrowTypeError:Gf,shimConnectionState:ey,removeExtmapAllowMixed:ty,shimAddIceCandidateNullOrEmpty:qf,shimParameterlessSetLocalDescription:Kf},Symbol.toStringTag,{value:"Module"}));function fne({window:t}={},e={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const r=nk,n=one(t),i={browserDetails:n,commonShim:dne,extractVersion:zf,disableLog:sne,disableWarnings:ane,sdp:cne};switch(n.browser){case"chrome":if(!iC||!Jv||!e.shimChrome)return r("Chrome shim is not included in this adapter release."),i;if(n.version===null)return r("Chrome shim can not determine version, not shimming."),i;r("adapter.js shimming chrome."),i.browserShim=iC,qf(t,n),Kf(t),ak(t,n),ok(t),Jv(t,n),lk(t),hk(t,n),uk(t),ck(t),dk(t),pk(t,n),Wf(t),ey(t),Yf(t,n),Gf(t),ty(t,n);break;case"firefox":if(!nC||!Zv||!e.shimFirefox)return r("Firefox shim is not included in this adapter release."),i;r("adapter.js shimming firefox."),i.browserShim=nC,qf(t,n),Kf(t),mk(t,n),Zv(t,n),gk(t),bk(t),vk(t),yk(t),_k(t),Tk(t),xk(t),Sk(t),Ek(t),Wf(t),ey(t),Yf(t,n),Gf(t);break;case"safari":if(!sC||!e.shimSafari)return r("Safari shim is not included in this adapter release."),i;r("adapter.js shimming safari."),i.browserShim=sC,qf(t,n),Kf(t),Ok(t),kk(t),Pk(t),Ck(t),wk(t),Rk(t),Dk(t),Ik(t),Wf(t),Yf(t,n),Gf(t),ty(t,n);break;default:r("Unsupported browser!");break}return i}fne({window:typeof window=="undefined"?void 0:window});var Vb={exports:{}};(function(t){/**
 * {@link https://github.com/muaz-khan/RecordRTC|RecordRTC} is a WebRTC JavaScript library for audio/video as well as screen activity recording. It supports Chrome, Firefox, Opera, Android, and Microsoft Edge. Platforms: Linux, Mac and Windows. 
 * @summary Record audio, video or screen inside the browser.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef RecordRTC
 * @class
 * @example
 * var recorder = RecordRTC(mediaStream or [arrayOfMediaStream], {
 *     type: 'video', // audio or video or gif or canvas
 *     recorderType: MediaStreamRecorder || CanvasRecorder || StereoAudioRecorder || Etc
 * });
 * recorder.startRecording();
 * @see For further information:
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - Single media-stream object, array of media-streams, html-canvas-element, etc.
 * @param {object} config - {type:"video", recorderType: MediaStreamRecorder, disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, desiredSampRate: 16000, video: HTMLVideoElement, etc.}
 */function e(Z,C){if(!Z)throw"First parameter is required.";C=C||{type:"video"},C=new r(Z,C);var q=this;function ae(H){return C.disableLogs||console.log("RecordRTC version: ",q.version),H&&(C=new r(Z,H)),C.disableLogs||console.log("started recording "+C.type+" stream."),M?(M.clearRecordedData(),M.record(),pe("recording"),q.recordingDuration&&K(),q):(_e(function(){q.recordingDuration&&K()}),q)}function _e(H){H&&(C.initCallback=function(){H(),H=C.initCallback=null});var fe=new n(Z,C);M=new fe(Z,C),M.record(),pe("recording"),C.disableLogs||console.log("Initialized recorderType:",M.constructor.name,"for output-type:",C.type)}function k(H){if(H=H||function(){},!M){R();return}if(q.state==="paused"){q.resumeRecording(),setTimeout(function(){k(H)},1);return}q.state!=="recording"&&!C.disableLogs&&console.warn('Recording state should be: "recording", however current state is: ',q.state),C.disableLogs||console.log("Stopped recording "+C.type+" stream."),C.type!=="gif"?M.stop(fe):(M.stop(),fe()),pe("stopped");function fe(ce){if(!M){typeof H.call=="function"?H.call(q,""):H("");return}Object.keys(M).forEach(function(be){typeof M[be]!="function"&&(q[be]=M[be])});var ee=M.blob;if(!ee)if(ce)M.blob=ee=ce;else throw"Recording failed.";if(ee&&!C.disableLogs&&console.log(ee.type,"->",x(ee.size)),H){var oe;try{oe=c.createObjectURL(ee)}catch{}typeof H.call=="function"?H.call(q,oe):H(oe)}!C.autoWriteToDisk||I(function(be){var Pe={};Pe[C.type+"Blob"]=be,xe.Store(Pe)})}}function W(){if(!M){R();return}if(q.state!=="recording"){C.disableLogs||console.warn("Unable to pause the recording. Recording state: ",q.state);return}pe("paused"),M.pause(),C.disableLogs||console.log("Paused recording.")}function L(){if(!M){R();return}if(q.state!=="paused"){C.disableLogs||console.warn("Unable to resume the recording. Recording state: ",q.state);return}pe("recording"),M.resume(),C.disableLogs||console.log("Resumed recording.")}function $(H){postMessage(new FileReaderSync().readAsDataURL(H))}function I(H,fe){if(!H)throw"Pass a callback function over getDataURL.";var ce=fe?fe.blob:(M||{}).blob;if(!ce){C.disableLogs||console.warn("Blob encoder did not finish its job yet."),setTimeout(function(){I(H,fe)},1e3);return}if(typeof Worker!="undefined"&&!navigator.mozGetUserMedia){var ee=be($);ee.onmessage=function(Pe){H(Pe.data)},ee.postMessage(ce)}else{var oe=new FileReader;oe.readAsDataURL(ce),oe.onload=function(Pe){H(Pe.target.result)}}function be(Pe){try{var Re=c.createObjectURL(new Blob([Pe.toString(),"this.onmessage =  function (eee) {"+Pe.name+"(eee.data);}"],{type:"application/javascript"})),Ie=new Worker(Re);return c.revokeObjectURL(Re),Ie}catch{}}}function K(H){if(H=H||0,q.state==="paused"){setTimeout(function(){K(H)},1e3);return}if(q.state!=="stopped"){if(H>=q.recordingDuration){k(q.onRecordingStopped);return}H+=1e3,setTimeout(function(){K(H)},1e3)}}function pe(H){!q||(q.state=H,typeof q.onStateChanged.call=="function"?q.onStateChanged.call(q,H):q.onStateChanged(H))}var ve='It seems that recorder is destroyed or "startRecording" is not invoked for '+C.type+" recorder.";function R(){C.disableLogs!==!0&&console.warn(ve)}var M,ie={startRecording:ae,stopRecording:k,pauseRecording:W,resumeRecording:L,initRecorder:_e,setRecordingDuration:function(H,fe){if(typeof H=="undefined")throw"recordingDuration is required.";if(typeof H!="number")throw"recordingDuration must be a number.";return q.recordingDuration=H,q.onRecordingStopped=fe||function(){},{onRecordingStopped:function(ce){q.onRecordingStopped=ce}}},clearRecordedData:function(){if(!M){R();return}M.clearRecordedData(),C.disableLogs||console.log("Cleared old recorded data.")},getBlob:function(){if(!M){R();return}return M.blob},getDataURL:I,toURL:function(){if(!M){R();return}return c.createObjectURL(M.blob)},getInternalRecorder:function(){return M},save:function(H){if(!M){R();return}S(M.blob,H)},getFromDisk:function(H){if(!M){R();return}e.getFromDisk(C.type,H)},setAdvertisementArray:function(H){C.advertisement=[];for(var fe=H.length,ce=0;ce<fe;ce++)C.advertisement.push({duration:ce,image:H[ce]})},blob:null,bufferSize:0,sampleRate:0,buffer:null,reset:function(){q.state==="recording"&&!C.disableLogs&&console.warn("Stop an active recorder."),M&&typeof M.clearRecordedData=="function"&&M.clearRecordedData(),M=null,pe("inactive"),q.blob=null},onStateChanged:function(H){C.disableLogs||console.log("Recorder state changed:",H)},state:"inactive",getState:function(){return q.state},destroy:function(){var H=C.disableLogs;C={disableLogs:!0},q.reset(),pe("destroyed"),ie=q=null,z.AudioContextConstructor&&(z.AudioContextConstructor.close(),z.AudioContextConstructor=null),C.disableLogs=H,C.disableLogs||console.log("RecordRTC is destroyed.")},version:"5.6.2"};if(!this)return q=ie,ie;for(var ye in ie)this[ye]=ie[ye];return q=this,ie}e.version="5.6.2",t.exports=e,e.getFromDisk=function(Z,C){if(!C)throw"callback is mandatory.";console.log("Getting recorded "+(Z==="all"?"blobs":Z+" blob ")+" from disk!"),xe.Fetch(function(q,ae){Z!=="all"&&ae===Z+"Blob"&&C&&C(q),Z==="all"&&C&&C(q,ae.replace("Blob",""))})},e.writeToDisk=function(Z){console.log("Writing recorded blob(s) to disk!"),Z=Z||{},Z.audio&&Z.video&&Z.gif?Z.audio.getDataURL(function(C){Z.video.getDataURL(function(q){Z.gif.getDataURL(function(ae){xe.Store({audioBlob:C,videoBlob:q,gifBlob:ae})})})}):Z.audio&&Z.video?Z.audio.getDataURL(function(C){Z.video.getDataURL(function(q){xe.Store({audioBlob:C,videoBlob:q})})}):Z.audio&&Z.gif?Z.audio.getDataURL(function(C){Z.gif.getDataURL(function(q){xe.Store({audioBlob:C,gifBlob:q})})}):Z.video&&Z.gif?Z.video.getDataURL(function(C){Z.gif.getDataURL(function(q){xe.Store({videoBlob:C,gifBlob:q})})}):Z.audio?Z.audio.getDataURL(function(C){xe.Store({audioBlob:C})}):Z.video?Z.video.getDataURL(function(C){xe.Store({videoBlob:C})}):Z.gif&&Z.gif.getDataURL(function(C){xe.Store({gifBlob:C})})};/**
 * {@link RecordRTCConfiguration} is an inner/private helper for {@link RecordRTC}.
 * @summary It configures the 2nd parameter passed over {@link RecordRTC} and returns a valid "config" object.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef RecordRTCConfiguration
 * @class
 * @example
 * var options = RecordRTCConfiguration(mediaStream, options);
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {type:"video", disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, getNativeBlob:true, etc.}
 */function r(Z,C){return!C.recorderType&&!C.type&&(!!C.audio&&!!C.video?C.type="video":!!C.audio&&!C.video&&(C.type="audio")),C.recorderType&&!C.type&&(C.recorderType===X||C.recorderType===ue||typeof Ye!="undefined"&&C.recorderType===Ye?C.type="video":C.recorderType===ge?C.type="gif":C.recorderType===F?C.type="audio":C.recorderType===Y&&(P(Z,"audio").length&&P(Z,"video").length||!P(Z,"audio").length&&P(Z,"video").length?C.type="video":P(Z,"audio").length&&!P(Z,"video").length&&(C.type="audio"))),typeof Y!="undefined"&&typeof MediaRecorder!="undefined"&&"requestData"in MediaRecorder.prototype&&(C.mimeType||(C.mimeType="video/webm"),C.type||(C.type=C.mimeType.split("/")[0]),C.bitsPerSecond),C.type||(C.mimeType&&(C.type=C.mimeType.split("/")[0]),C.type||(C.type="audio")),C}/**
 * {@link GetRecorderType} is an inner/private helper for {@link RecordRTC}.
 * @summary It returns best recorder-type available for your browser.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef GetRecorderType
 * @class
 * @example
 * var RecorderType = GetRecorderType(options);
 * var recorder = new RecorderType(options);
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {type:"video", disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, etc.}
 */function n(Z,C){var q;return(m||d||f)&&(q=F),typeof MediaRecorder!="undefined"&&"requestData"in MediaRecorder.prototype&&!m&&(q=Y),C.type==="video"&&(m||f)&&(q=X,typeof Ye!="undefined"&&typeof ReadableStream!="undefined"&&(q=Ye)),C.type==="gif"&&(q=ge),C.type==="canvas"&&(q=ue),U()&&q!==ue&&q!==ge&&typeof MediaRecorder!="undefined"&&"requestData"in MediaRecorder.prototype&&(P(Z,"video").length||P(Z,"audio").length)&&(C.type==="audio"?typeof MediaRecorder.isTypeSupported=="function"&&MediaRecorder.isTypeSupported("audio/webm")&&(q=Y):typeof MediaRecorder.isTypeSupported=="function"&&MediaRecorder.isTypeSupported("video/webm")&&(q=Y)),Z instanceof Array&&Z.length&&(q=Ae),C.recorderType&&(q=C.recorderType),!C.disableLogs&&!!q&&!!q.name&&console.log("Using recorderType:",q.name||q.constructor.name),!q&&g&&(q=Y),q}/**
 * MRecordRTC runs on top of {@link RecordRTC} to bring multiple recordings in a single place, by providing simple API.
 * @summary MRecordRTC stands for "Multiple-RecordRTC".
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef MRecordRTC
 * @class
 * @example
 * var recorder = new MRecordRTC();
 * recorder.addStream(MediaStream);
 * recorder.mediaType = {
 *     audio: true, // or StereoAudioRecorder or MediaStreamRecorder
 *     video: true, // or WhammyRecorder or MediaStreamRecorder or WebAssemblyRecorder or CanvasRecorder
 *     gif: true    // or GifRecorder
 * };
 * // mimeType is optional and should be set only in advance cases.
 * recorder.mimeType = {
 *     audio: 'audio/wav',
 *     video: 'video/webm',
 *     gif:   'image/gif'
 * };
 * recorder.startRecording();
 * @see For further information:
 * @see {@link https://github.com/muaz-khan/RecordRTC/tree/master/MRecordRTC|MRecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @requires {@link RecordRTC}
 */function i(Z){this.addStream=function(C){C&&(Z=C)},this.mediaType={audio:!0,video:!0},this.startRecording=function(){var C=this.mediaType,q,ae=this.mimeType||{audio:null,video:null,gif:null};if(typeof C.audio!="function"&&U()&&!P(Z,"audio").length&&(C.audio=!1),typeof C.video!="function"&&U()&&!P(Z,"video").length&&(C.video=!1),typeof C.gif!="function"&&U()&&!P(Z,"video").length&&(C.gif=!1),!C.audio&&!C.video&&!C.gif)throw"MediaStream must have either audio or video tracks.";if(C.audio&&(q=null,typeof C.audio=="function"&&(q=C.audio),this.audioRecorder=new e(Z,{type:"audio",bufferSize:this.bufferSize,sampleRate:this.sampleRate,numberOfAudioChannels:this.numberOfAudioChannels||2,disableLogs:this.disableLogs,recorderType:q,mimeType:ae.audio,timeSlice:this.timeSlice,onTimeStamp:this.onTimeStamp}),C.video||this.audioRecorder.startRecording()),C.video){q=null,typeof C.video=="function"&&(q=C.video);var _e=Z;if(U()&&!!C.audio&&typeof C.audio=="function"){var k=P(Z,"video")[0];h?(_e=new v,_e.addTrack(k),q&&q===X&&(q=Y)):(_e=new v,_e.addTrack(k))}this.videoRecorder=new e(_e,{type:"video",video:this.video,canvas:this.canvas,frameInterval:this.frameInterval||10,disableLogs:this.disableLogs,recorderType:q,mimeType:ae.video,timeSlice:this.timeSlice,onTimeStamp:this.onTimeStamp,workerPath:this.workerPath,webAssemblyPath:this.webAssemblyPath,frameRate:this.frameRate,bitrate:this.bitrate}),C.audio||this.videoRecorder.startRecording()}if(!!C.audio&&!!C.video){var W=this,L=U()===!0;(C.audio instanceof F&&!!C.video||C.audio!==!0&&C.video!==!0&&C.audio!==C.video)&&(L=!1),L===!0?(W.audioRecorder=null,W.videoRecorder.startRecording()):W.videoRecorder.initRecorder(function(){W.audioRecorder.initRecorder(function(){W.videoRecorder.startRecording(),W.audioRecorder.startRecording()})})}C.gif&&(q=null,typeof C.gif=="function"&&(q=C.gif),this.gifRecorder=new e(Z,{type:"gif",frameRate:this.frameRate||200,quality:this.quality||10,disableLogs:this.disableLogs,recorderType:q,mimeType:ae.gif}),this.gifRecorder.startRecording())},this.stopRecording=function(C){C=C||function(){},this.audioRecorder&&this.audioRecorder.stopRecording(function(q){C(q,"audio")}),this.videoRecorder&&this.videoRecorder.stopRecording(function(q){C(q,"video")}),this.gifRecorder&&this.gifRecorder.stopRecording(function(q){C(q,"gif")})},this.pauseRecording=function(){this.audioRecorder&&this.audioRecorder.pauseRecording(),this.videoRecorder&&this.videoRecorder.pauseRecording(),this.gifRecorder&&this.gifRecorder.pauseRecording()},this.resumeRecording=function(){this.audioRecorder&&this.audioRecorder.resumeRecording(),this.videoRecorder&&this.videoRecorder.resumeRecording(),this.gifRecorder&&this.gifRecorder.resumeRecording()},this.getBlob=function(C){var q={};return this.audioRecorder&&(q.audio=this.audioRecorder.getBlob()),this.videoRecorder&&(q.video=this.videoRecorder.getBlob()),this.gifRecorder&&(q.gif=this.gifRecorder.getBlob()),C&&C(q),q},this.destroy=function(){this.audioRecorder&&(this.audioRecorder.destroy(),this.audioRecorder=null),this.videoRecorder&&(this.videoRecorder.destroy(),this.videoRecorder=null),this.gifRecorder&&(this.gifRecorder.destroy(),this.gifRecorder=null)},this.getDataURL=function(C){this.getBlob(function(_e){_e.audio&&_e.video?q(_e.audio,function(k){q(_e.video,function(W){C({audio:k,video:W})})}):_e.audio?q(_e.audio,function(k){C({audio:k})}):_e.video&&q(_e.video,function(k){C({video:k})})});function q(_e,k){if(typeof Worker!="undefined"){var W=ae(function(I){postMessage(new FileReaderSync().readAsDataURL(I))});W.onmessage=function($){k($.data)},W.postMessage(_e)}else{var L=new FileReader;L.readAsDataURL(_e),L.onload=function($){k($.target.result)}}}function ae(_e){var k=c.createObjectURL(new Blob([_e.toString(),"this.onmessage =  function (eee) {"+_e.name+"(eee.data);}"],{type:"application/javascript"})),W=new Worker(k),L;if(typeof c!="undefined")L=c;else if(typeof webkitURL!="undefined")L=webkitURL;else throw"Neither URL nor webkitURL detected.";return L.revokeObjectURL(k),W}},this.writeToDisk=function(){e.writeToDisk({audio:this.audioRecorder,video:this.videoRecorder,gif:this.gifRecorder})},this.save=function(C){C=C||{audio:!0,video:!0,gif:!0},!!C.audio&&this.audioRecorder&&this.audioRecorder.save(typeof C.audio=="string"?C.audio:""),!!C.video&&this.videoRecorder&&this.videoRecorder.save(typeof C.video=="string"?C.video:""),!!C.gif&&this.gifRecorder&&this.gifRecorder.save(typeof C.gif=="string"?C.gif:"")}}i.getFromDisk=e.getFromDisk,i.writeToDisk=e.writeToDisk,typeof e!="undefined"&&(e.MRecordRTC=i);var s="Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45";(function(Z){!Z||typeof window=="undefined"&&typeof Pt!="undefined"&&(Pt.navigator={userAgent:s,getUserMedia:function(){}},Pt.console||(Pt.console={}),(typeof Pt.console.log=="undefined"||typeof Pt.console.error=="undefined")&&(Pt.console.error=Pt.console.log=Pt.console.log||function(){console.log(arguments)}),typeof document=="undefined"&&(Z.document={documentElement:{appendChild:function(){return""}}},document.createElement=document.captureStream=document.mozCaptureStream=function(){var C={getContext:function(){return C},play:function(){},pause:function(){},drawImage:function(){},toDataURL:function(){return""},style:{}};return C},Z.HTMLVideoElement=function(){}),typeof location=="undefined"&&(Z.location={protocol:"file:",href:"",hash:""}),typeof screen=="undefined"&&(Z.screen={width:0,height:0}),typeof c=="undefined"&&(Z.URL={createObjectURL:function(){return""},revokeObjectURL:function(){return""}}),Z.window=Pt)})(typeof Pt!="undefined"?Pt:null);var a=window.requestAnimationFrame;if(typeof a=="undefined"){if(typeof webkitRequestAnimationFrame!="undefined")a=webkitRequestAnimationFrame;else if(typeof mozRequestAnimationFrame!="undefined")a=mozRequestAnimationFrame;else if(typeof msRequestAnimationFrame!="undefined")a=msRequestAnimationFrame;else if(typeof a=="undefined"){var o=0;a=function(Z,C){var q=new Date().getTime(),ae=Math.max(0,16-(q-o)),_e=setTimeout(function(){Z(q+ae)},ae);return o=q+ae,_e}}}var l=window.cancelAnimationFrame;typeof l=="undefined"&&(typeof webkitCancelAnimationFrame!="undefined"?l=webkitCancelAnimationFrame:typeof mozCancelAnimationFrame!="undefined"?l=mozCancelAnimationFrame:typeof msCancelAnimationFrame!="undefined"?l=msCancelAnimationFrame:typeof l=="undefined"&&(l=function(Z){clearTimeout(Z)}));var u=window.AudioContext;typeof u=="undefined"&&(typeof webkitAudioContext!="undefined"&&(u=webkitAudioContext),typeof mozAudioContext!="undefined"&&(u=mozAudioContext));var c=window.URL;typeof c=="undefined"&&typeof webkitURL!="undefined"&&(c=webkitURL),typeof navigator!="undefined"&&typeof navigator.getUserMedia=="undefined"&&(typeof navigator.webkitGetUserMedia!="undefined"&&(navigator.getUserMedia=navigator.webkitGetUserMedia),typeof navigator.mozGetUserMedia!="undefined"&&(navigator.getUserMedia=navigator.mozGetUserMedia));var d=navigator.userAgent.indexOf("Edge")!==-1&&(!!navigator.msSaveBlob||!!navigator.msSaveOrOpenBlob),f=!!window.opera||navigator.userAgent.indexOf("OPR/")!==-1,h=navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&"netscape"in window&&/ rv:/.test(navigator.userAgent),m=!f&&!d&&!!navigator.webkitGetUserMedia||D()||navigator.userAgent.toLowerCase().indexOf("chrome/")!==-1,g=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);g&&!m&&navigator.userAgent.indexOf("CriOS")!==-1&&(g=!1,m=!0);var v=window.MediaStream;typeof v=="undefined"&&typeof webkitMediaStream!="undefined"&&(v=webkitMediaStream),typeof v!="undefined"&&typeof v.prototype.stop=="undefined"&&(v.prototype.stop=function(){this.getTracks().forEach(function(Z){Z.stop()})});function x(Z){var C=1e3,q=["Bytes","KB","MB","GB","TB"];if(Z===0)return"0 Bytes";var ae=parseInt(Math.floor(Math.log(Z)/Math.log(C)),10);return(Z/Math.pow(C,ae)).toPrecision(3)+" "+q[ae]}function S(Z,C){if(!Z)throw"Blob object is required.";if(!Z.type)try{Z.type="video/webm"}catch{}var q=(Z.type||"video/webm").split("/")[1];if(q.indexOf(";")!==-1&&(q=q.split(";")[0]),C&&C.indexOf(".")!==-1){var ae=C.split(".");C=ae[0],q=ae[1]}var _e=(C||Math.round(Math.random()*9999999999)+888888888)+"."+q;if(typeof navigator.msSaveOrOpenBlob!="undefined")return navigator.msSaveOrOpenBlob(Z,_e);if(typeof navigator.msSaveBlob!="undefined")return navigator.msSaveBlob(Z,_e);var k=document.createElement("a");k.href=c.createObjectURL(Z),k.download=_e,k.style="display:none;opacity:0;color:transparent;",(document.body||document.documentElement).appendChild(k),typeof k.click=="function"?k.click():(k.target="_blank",k.dispatchEvent(new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0}))),c.revokeObjectURL(k.href)}function D(){return typeof window!="undefined"&&typeof window.process=="object"&&window.process.type==="renderer"||typeof process!="undefined"&&typeof process.versions=="object"&&!!process.versions.electron||typeof navigator=="object"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Electron")>=0}function P(Z,C){return!Z||!Z.getTracks?[]:Z.getTracks().filter(function(q){return q.kind===(C||"audio")})}function O(Z,C){"srcObject"in C?C.srcObject=Z:"mozSrcObject"in C?C.mozSrcObject=Z:C.srcObject=Z}function B(Z,C){if(typeof EBML=="undefined")throw new Error("Please link: https://www.webrtc-experiment.com/EBML.js");var q=new EBML.Reader,ae=new EBML.Decoder,_e=EBML.tools,k=new FileReader;k.onload=function(W){var L=ae.decode(this.result);L.forEach(function(pe){q.read(pe)}),q.stop();var $=_e.makeMetadataSeekable(q.metadatas,q.duration,q.cues),I=this.result.slice(q.metadataSize),K=new Blob([$,I],{type:"video/webm"});C(K)},k.readAsArrayBuffer(Z)}typeof e!="undefined"&&(e.invokeSaveAsDialog=S,e.getTracks=P,e.getSeekableBlob=B,e.bytesToSize=x,e.isElectron=D);/**
 * Storage is a standalone object used by {@link RecordRTC} to store reusable objects e.g. "new AudioContext".
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @example
 * Storage.AudioContext === webkitAudioContext
 * @property {webkitAudioContext} AudioContext - Keeps a reference to AudioContext object.
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 */var z={};typeof u!="undefined"?z.AudioContext=u:typeof webkitAudioContext!="undefined"&&(z.AudioContext=webkitAudioContext),typeof e!="undefined"&&(e.Storage=z);function U(){if(h||g||d)return!0;var Z=navigator.userAgent,C=""+parseFloat(navigator.appVersion),q=parseInt(navigator.appVersion,10),ae,_e;return(m||f)&&(ae=Z.indexOf("Chrome"),C=Z.substring(ae+7)),(_e=C.indexOf(";"))!==-1&&(C=C.substring(0,_e)),(_e=C.indexOf(" "))!==-1&&(C=C.substring(0,_e)),q=parseInt(""+C,10),isNaN(q)&&(C=""+parseFloat(navigator.appVersion),q=parseInt(navigator.appVersion,10)),q>=49}/**
 * MediaStreamRecorder is an abstraction layer for {@link https://w3c.github.io/mediacapture-record/MediaRecorder.html|MediaRecorder API}. It is used by {@link RecordRTC} to record MediaStream(s) in both Chrome and Firefox.
 * @summary Runs top over {@link https://w3c.github.io/mediacapture-record/MediaRecorder.html|MediaRecorder API}.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://github.com/muaz-khan|Muaz Khan}
 * @typedef MediaStreamRecorder
 * @class
 * @example
 * var config = {
 *     mimeType: 'video/webm', // vp8, vp9, h264, mkv, opus/vorbis
 *     audioBitsPerSecond : 256 * 8 * 1024,
 *     videoBitsPerSecond : 256 * 8 * 1024,
 *     bitsPerSecond: 256 * 8 * 1024,  // if this is provided, skip above two
 *     checkForInactiveTracks: true,
 *     timeSlice: 1000, // concatenate intervals based blobs
 *     ondataavailable: function() {} // get intervals based blobs
 * }
 * var recorder = new MediaStreamRecorder(mediaStream, config);
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 *
 *     // or
 *     var blob = recorder.blob;
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {disableLogs:true, initCallback: function, mimeType: "video/webm", timeSlice: 1000}
 * @throws Will throw an error if first argument "MediaStream" is missing. Also throws error if "MediaRecorder API" are not supported by the browser.
 */function Y(Z,C){var K=this;if(typeof Z=="undefined")throw'First argument "MediaStream" is required.';if(typeof MediaRecorder=="undefined")throw"Your browser does not support the Media Recorder API. Please try other modules e.g. WhammyRecorder or StereoAudioRecorder.";if(C=C||{mimeType:"video/webm"},C.type==="audio"){if(P(Z,"video").length&&P(Z,"audio").length){var q;navigator.mozGetUserMedia?(q=new v,q.addTrack(P(Z,"audio")[0])):q=new v(P(Z,"audio")),Z=q}(!C.mimeType||C.mimeType.toString().toLowerCase().indexOf("audio")===-1)&&(C.mimeType=m?"audio/webm":"audio/ogg"),C.mimeType&&C.mimeType.toString().toLowerCase()!=="audio/ogg"&&!!navigator.mozGetUserMedia&&(C.mimeType="audio/ogg")}var ae=[];this.getArrayOfBlobs=function(){return ae},this.record=function(){K.blob=null,K.clearRecordedData(),K.timestamps=[],I=[],ae=[];var pe=C;C.disableLogs||console.log("Passing following config over MediaRecorder API.",pe),L&&(L=null),m&&!U()&&(pe="video/vp8"),typeof MediaRecorder.isTypeSupported=="function"&&pe.mimeType&&(MediaRecorder.isTypeSupported(pe.mimeType)||(C.disableLogs||console.warn("MediaRecorder API seems unable to record mimeType:",pe.mimeType),pe.mimeType=C.type==="audio"?"audio/webm":"video/webm"));try{L=new MediaRecorder(Z,pe),C.mimeType=pe.mimeType}catch{L=new MediaRecorder(Z)}pe.mimeType&&!MediaRecorder.isTypeSupported&&"canRecordMimeType"in L&&L.canRecordMimeType(pe.mimeType)===!1&&(C.disableLogs||console.warn("MediaRecorder API seems unable to record mimeType:",pe.mimeType)),L.ondataavailable=function(ve){if(ve.data&&I.push("ondataavailable: "+x(ve.data.size)),typeof C.timeSlice=="number"){if(ve.data&&ve.data.size&&(ae.push(ve.data),_e(),typeof C.ondataavailable=="function")){var R=C.getNativeBlob?ve.data:new Blob([ve.data],{type:k(pe)});C.ondataavailable(R)}return}if(!ve.data||!ve.data.size||ve.data.size<100||K.blob){K.recordingCallback&&(K.recordingCallback(new Blob([],{type:k(pe)})),K.recordingCallback=null);return}K.blob=C.getNativeBlob?ve.data:new Blob([ve.data],{type:k(pe)}),K.recordingCallback&&(K.recordingCallback(K.blob),K.recordingCallback=null)},L.onstart=function(){I.push("started")},L.onpause=function(){I.push("paused")},L.onresume=function(){I.push("resumed")},L.onstop=function(){I.push("stopped")},L.onerror=function(ve){!ve||(ve.name||(ve.name="UnknownError"),I.push("error: "+ve),C.disableLogs||(ve.name.toString().toLowerCase().indexOf("invalidstate")!==-1?console.error("The MediaRecorder is not in a state in which the proposed operation is allowed to be executed.",ve):ve.name.toString().toLowerCase().indexOf("notsupported")!==-1?console.error("MIME type (",pe.mimeType,") is not supported.",ve):ve.name.toString().toLowerCase().indexOf("security")!==-1?console.error("MediaRecorder security error",ve):ve.name==="OutOfMemory"?console.error("The UA has exhaused the available memory. User agents SHOULD provide as much additional information as possible in the message attribute.",ve):ve.name==="IllegalStreamModification"?console.error("A modification to the stream has occurred that makes it impossible to continue recording. An example would be the addition of a Track while recording is occurring. User agents SHOULD provide as much additional information as possible in the message attribute.",ve):ve.name==="OtherRecordingError"?console.error("Used for an fatal error other than those listed above. User agents SHOULD provide as much additional information as possible in the message attribute.",ve):ve.name==="GenericError"?console.error("The UA cannot provide the codec or recording option that has been requested.",ve):console.error("MediaRecorder Error",ve)),function(R){if(!K.manuallyStopped&&L&&L.state==="inactive"){delete C.timeslice,L.start(10*60*1e3);return}setTimeout(R,1e3)}(),L.state!=="inactive"&&L.state!=="stopped"&&L.stop())},typeof C.timeSlice=="number"?(_e(),L.start(C.timeSlice)):L.start(36e5),C.initCallback&&C.initCallback()},this.timestamps=[];function _e(){K.timestamps.push(new Date().getTime()),typeof C.onTimeStamp=="function"&&C.onTimeStamp(K.timestamps[K.timestamps.length-1],K.timestamps)}function k(pe){return L&&L.mimeType?L.mimeType:pe.mimeType||"video/webm"}this.stop=function(pe){pe=pe||function(){},K.manuallyStopped=!0,L&&(this.recordingCallback=pe,L.state==="recording"&&L.stop(),typeof C.timeSlice=="number"&&setTimeout(function(){K.blob=new Blob(ae,{type:k(C)}),K.recordingCallback(K.blob)},100))},this.pause=function(){!L||L.state==="recording"&&L.pause()},this.resume=function(){!L||L.state==="paused"&&L.resume()},this.clearRecordedData=function(){L&&L.state==="recording"&&K.stop(W),W()};function W(){ae=[],L=null,K.timestamps=[]}var L;this.getInternalRecorder=function(){return L};function $(){if("active"in Z){if(!Z.active)return!1}else if("ended"in Z&&Z.ended)return!1;return!0}this.blob=null,this.getState=function(){return L&&L.state||"inactive"};var I=[];this.getAllStates=function(){return I},typeof C.checkForInactiveTracks=="undefined"&&(C.checkForInactiveTracks=!1);var K=this;(function pe(){if(!(!L||C.checkForInactiveTracks===!1)){if($()===!1){C.disableLogs||console.log("MediaStream seems stopped."),K.stop();return}setTimeout(pe,1e3)}})(),this.name="MediaStreamRecorder",this.toString=function(){return this.name}}typeof e!="undefined"&&(e.MediaStreamRecorder=Y);/**
 * StereoAudioRecorder is a standalone class used by {@link RecordRTC} to bring "stereo" audio-recording in chrome.
 * @summary JavaScript standalone object for stereo audio recording.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef StereoAudioRecorder
 * @class
 * @example
 * var recorder = new StereoAudioRecorder(MediaStream, {
 *     sampleRate: 44100,
 *     bufferSize: 4096
 * });
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {sampleRate: 44100, bufferSize: 4096, numberOfAudioChannels: 1, etc.}
 */function F(Z,C){if(!P(Z,"audio").length)throw"Your stream has no audio tracks.";C=C||{};var q=this,ae=[],_e=[],k=!1,W=0,L,$=2,I=C.desiredSampRate;C.leftChannel===!0&&($=1),C.numberOfAudioChannels===1&&($=1),(!$||$<1)&&($=2),C.disableLogs||console.log("StereoAudioRecorder is set to record number of channels: "+$),typeof C.checkForInactiveTracks=="undefined"&&(C.checkForInactiveTracks=!0);function K(){if(C.checkForInactiveTracks===!1)return!0;if("active"in Z){if(!Z.active)return!1}else if("ended"in Z&&Z.ended)return!1;return!0}this.record=function(){if(K()===!1)throw"Please make sure MediaStream is active.";ce(),oe=fe=!1,k=!0,typeof C.timeSlice!="undefined"&&Re()};function pe(Ie,He){function Xe(Qe,ut){var je=Qe.numberOfAudioChannels,_t=Qe.leftBuffers.slice(0),at=Qe.rightBuffers.slice(0),Ue=Qe.sampleRate,Mt=Qe.internalInterleavedLength,dt=Qe.desiredSampRate;je===2&&(_t=un(_t,Mt),at=un(at,Mt),dt&&(_t=At(_t,dt,Ue),at=At(at,dt,Ue))),je===1&&(_t=un(_t,Mt),dt&&(_t=At(_t,dt,Ue))),dt&&(Ue=dt);function At(Vt,Ar,tr){var Gt=Math.round(Vt.length*(Ar/tr)),Xt=[],ft=Number((Vt.length-1)/(Gt-1));Xt[0]=Vt[0];for(var wi=1;wi<Gt-1;wi++){var di=wi*ft,fn=Number(Math.floor(di)).toFixed(),ru=Number(Math.ceil(di)).toFixed(),Pi=di-fn;Xt[wi]=Zr(Vt[fn],Vt[ru],Pi)}return Xt[Gt-1]=Vt[Vt.length-1],Xt}function Zr(Vt,Ar,tr){return Vt+(Ar-Vt)*tr}function un(Vt,Ar){for(var tr=new Float64Array(Ar),Gt=0,Xt=Vt.length,ft=0;ft<Xt;ft++){var wi=Vt[ft];tr.set(wi,Gt),Gt+=wi.length}return tr}function cn(Vt,Ar){for(var tr=Vt.length+Ar.length,Gt=new Float64Array(tr),Xt=0,ft=0;ft<tr;)Gt[ft++]=Vt[Xt],Gt[ft++]=Ar[Xt],Xt++;return Gt}function mr(Vt,Ar,tr){for(var Gt=tr.length,Xt=0;Xt<Gt;Xt++)Vt.setUint8(Ar+Xt,tr.charCodeAt(Xt))}var Qt;je===2&&(Qt=cn(_t,at)),je===1&&(Qt=_t);var ci=Qt.length,fo=44+ci*2,sa=new ArrayBuffer(fo),ar=new DataView(sa);mr(ar,0,"RIFF"),ar.setUint32(4,36+ci*2,!0),mr(ar,8,"WAVE"),mr(ar,12,"fmt "),ar.setUint32(16,16,!0),ar.setUint16(20,1,!0),ar.setUint16(22,je,!0),ar.setUint32(24,Ue,!0),ar.setUint32(28,Ue*je*2,!0),ar.setUint16(32,je*2,!0),ar.setUint16(34,16,!0),mr(ar,36,"data"),ar.setUint32(40,ci*2,!0);for(var ho=ci,dn=44,Yi=1,or=0;or<ho;or++)ar.setInt16(dn,Qt[or]*(32767*Yi),!0),dn+=2;if(ut)return ut({buffer:sa,view:ar});postMessage({buffer:sa,view:ar})}if(Ie.noWorker){Xe(Ie,function(Qe){He(Qe.buffer,Qe.view)});return}var pt=ve(Xe);pt.onmessage=function(Qe){He(Qe.data.buffer,Qe.data.view),c.revokeObjectURL(pt.workerURL),pt.terminate()},pt.postMessage(Ie)}function ve(Ie){var He=c.createObjectURL(new Blob([Ie.toString(),";this.onmessage =  function (eee) {"+Ie.name+"(eee.data);}"],{type:"application/javascript"})),Xe=new Worker(He);return Xe.workerURL=He,Xe}this.stop=function(Ie){Ie=Ie||function(){},k=!1,pe({desiredSampRate:I,sampleRate:H,numberOfAudioChannels:$,internalInterleavedLength:W,leftBuffers:ae,rightBuffers:$===1?[]:_e,noWorker:C.noWorker},function(He,Xe){q.blob=new Blob([Xe],{type:"audio/wav"}),q.buffer=new ArrayBuffer(Xe.buffer.byteLength),q.view=Xe,q.sampleRate=I||H,q.bufferSize=ye,q.length=W,oe=!1,Ie&&Ie(q.blob)})},typeof e.Storage=="undefined"&&(e.Storage={AudioContextConstructor:null,AudioContext:window.AudioContext||window.webkitAudioContext}),(!e.Storage.AudioContextConstructor||e.Storage.AudioContextConstructor.state==="closed")&&(e.Storage.AudioContextConstructor=new e.Storage.AudioContext);var R=e.Storage.AudioContextConstructor,M=R.createMediaStreamSource(Z),ie=[0,256,512,1024,2048,4096,8192,16384],ye=typeof C.bufferSize=="undefined"?4096:C.bufferSize;if(ie.indexOf(ye)===-1&&(C.disableLogs||console.log("Legal values for buffer-size are "+JSON.stringify(ie,null,"	"))),R.createJavaScriptNode)L=R.createJavaScriptNode(ye,$,$);else if(R.createScriptProcessor)L=R.createScriptProcessor(ye,$,$);else throw"WebAudio API has no support on this browser.";M.connect(L),C.bufferSize||(ye=L.bufferSize);var H=typeof C.sampleRate!="undefined"?C.sampleRate:R.sampleRate||44100;(H<22050||H>96e3)&&(C.disableLogs||console.log("sample-rate must be under range 22050 and 96000.")),C.disableLogs||C.desiredSampRate&&console.log("Desired sample-rate: "+C.desiredSampRate);var fe=!1;this.pause=function(){fe=!0},this.resume=function(){if(K()===!1)throw"Please make sure MediaStream is active.";if(!k){C.disableLogs||console.log("Seems recording has been restarted."),this.record();return}fe=!1},this.clearRecordedData=function(){C.checkForInactiveTracks=!1,k&&this.stop(ee),ee()};function ce(){ae=[],_e=[],W=0,oe=!1,k=!1,fe=!1,R=null,q.leftchannel=ae,q.rightchannel=_e,q.numberOfAudioChannels=$,q.desiredSampRate=I,q.sampleRate=H,q.recordingLength=W,Pe={left:[],right:[],recordingLength:0}}function ee(){L&&(L.onaudioprocess=null,L.disconnect(),L=null),M&&(M.disconnect(),M=null),ce()}this.name="StereoAudioRecorder",this.toString=function(){return this.name};var oe=!1;function be(Ie){if(!fe){if(K()===!1&&(C.disableLogs||console.log("MediaStream seems stopped."),L.disconnect(),k=!1),!k){M&&(M.disconnect(),M=null);return}oe||(oe=!0,C.onAudioProcessStarted&&C.onAudioProcessStarted(),C.initCallback&&C.initCallback());var He=Ie.inputBuffer.getChannelData(0),Xe=new Float32Array(He);if(ae.push(Xe),$===2){var pt=Ie.inputBuffer.getChannelData(1),Qe=new Float32Array(pt);_e.push(Qe)}W+=ye,q.recordingLength=W,typeof C.timeSlice!="undefined"&&(Pe.recordingLength+=ye,Pe.left.push(Xe),$===2&&Pe.right.push(Qe))}}L.onaudioprocess=be,R.createMediaStreamDestination?L.connect(R.createMediaStreamDestination()):L.connect(R.destination),this.leftchannel=ae,this.rightchannel=_e,this.numberOfAudioChannels=$,this.desiredSampRate=I,this.sampleRate=H,q.recordingLength=W;var Pe={left:[],right:[],recordingLength:0};function Re(){!k||typeof C.ondataavailable!="function"||typeof C.timeSlice=="undefined"||(Pe.left.length?(pe({desiredSampRate:I,sampleRate:H,numberOfAudioChannels:$,internalInterleavedLength:Pe.recordingLength,leftBuffers:Pe.left,rightBuffers:$===1?[]:Pe.right},function(Ie,He){var Xe=new Blob([He],{type:"audio/wav"});C.ondataavailable(Xe),setTimeout(Re,C.timeSlice)}),Pe={left:[],right:[],recordingLength:0}):setTimeout(Re,C.timeSlice))}}typeof e!="undefined"&&(e.StereoAudioRecorder=F);/**
 * CanvasRecorder is a standalone class used by {@link RecordRTC} to bring HTML5-Canvas recording into video WebM. It uses HTML2Canvas library and runs top over {@link Whammy}.
 * @summary HTML2Canvas recording into video WebM.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef CanvasRecorder
 * @class
 * @example
 * var recorder = new CanvasRecorder(htmlElement, { disableLogs: true, useWhammyRecorder: true });
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {HTMLElement} htmlElement - querySelector/getElementById/getElementsByTagName[0]/etc.
 * @param {object} config - {disableLogs:true, initCallback: function}
 */function ue(Z,C){if(typeof html2canvas=="undefined")throw"Please link: https://www.webrtc-experiment.com/screenshot.js";C=C||{},C.frameInterval||(C.frameInterval=10);var q=!1;["captureStream","mozCaptureStream","webkitCaptureStream"].forEach(function(ie){ie in document.createElement("canvas")&&(q=!0)});var ae=(!!window.webkitRTCPeerConnection||!!window.webkitGetUserMedia)&&!!window.chrome,_e=50,k=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);ae&&k&&k[2]&&(_e=parseInt(k[2],10)),ae&&_e<52&&(q=!1),C.useWhammyRecorder&&(q=!1);var W,L;if(q)if(C.disableLogs||console.log("Your browser supports both MediRecorder API and canvas.captureStream!"),Z instanceof HTMLCanvasElement)W=Z;else if(Z instanceof CanvasRenderingContext2D)W=Z.canvas;else throw"Please pass either HTMLCanvasElement or CanvasRenderingContext2D.";else navigator.mozGetUserMedia&&(C.disableLogs||console.error("Canvas recording is NOT supported in Firefox."));var $;this.record=function(){if($=!0,q&&!C.useWhammyRecorder){var ie;"captureStream"in W?ie=W.captureStream(25):"mozCaptureStream"in W?ie=W.mozCaptureStream(25):"webkitCaptureStream"in W&&(ie=W.webkitCaptureStream(25));try{var ye=new v;ye.addTrack(P(ie,"video")[0]),ie=ye}catch{}if(!ie)throw"captureStream API are NOT available.";L=new Y(ie,{mimeType:C.mimeType||"video/webm"}),L.record()}else M.frames=[],R=new Date().getTime(),ve();C.initCallback&&C.initCallback()},this.getWebPImages=function(ie){if(Z.nodeName.toLowerCase()!=="canvas"){ie();return}var ye=M.frames.length;M.frames.forEach(function(H,fe){var ce=ye-fe;C.disableLogs||console.log(ce+"/"+ye+" frames remaining"),C.onEncodingCallback&&C.onEncodingCallback(ce,ye);var ee=H.image.toDataURL("image/webp",1);M.frames[fe].image=ee}),C.disableLogs||console.log("Generating WebM"),ie()},this.stop=function(ie){$=!1;var ye=this;if(q&&L){L.stop(ie);return}this.getWebPImages(function(){M.compile(function(H){C.disableLogs||console.log("Recording finished!"),ye.blob=H,ye.blob.forEach&&(ye.blob=new Blob([],{type:"video/webm"})),ie&&ie(ye.blob),M.frames=[]})})};var I=!1;this.pause=function(){if(I=!0,L instanceof Y){L.pause();return}},this.resume=function(){if(I=!1,L instanceof Y){L.resume();return}$||this.record()},this.clearRecordedData=function(){$&&this.stop(K),K()};function K(){M.frames=[],$=!1,I=!1}this.name="CanvasRecorder",this.toString=function(){return this.name};function pe(){var ie=document.createElement("canvas"),ye=ie.getContext("2d");return ie.width=Z.width,ie.height=Z.height,ye.drawImage(Z,0,0),ie}function ve(){if(I)return R=new Date().getTime(),setTimeout(ve,500);if(Z.nodeName.toLowerCase()==="canvas"){var ie=new Date().getTime()-R;R=new Date().getTime(),M.frames.push({image:pe(),duration:ie}),$&&setTimeout(ve,C.frameInterval);return}html2canvas(Z,{grabMouse:typeof C.showMousePointer=="undefined"||C.showMousePointer,onrendered:function(ye){var H=new Date().getTime()-R;if(!H)return setTimeout(ve,C.frameInterval);R=new Date().getTime(),M.frames.push({image:ye.toDataURL("image/webp",1),duration:H}),$&&setTimeout(ve,C.frameInterval)}})}var R=new Date().getTime(),M=new me.Video(100)}typeof e!="undefined"&&(e.CanvasRecorder=ue);/**
 * WhammyRecorder is a standalone class used by {@link RecordRTC} to bring video recording in Chrome. It runs top over {@link Whammy}.
 * @summary Video recording feature in Chrome.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef WhammyRecorder
 * @class
 * @example
 * var recorder = new WhammyRecorder(mediaStream);
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {disableLogs: true, initCallback: function, video: HTMLVideoElement, etc.}
 */function X(Z,C){C=C||{},C.frameInterval||(C.frameInterval=10),C.disableLogs||console.log("Using frames-interval:",C.frameInterval),this.record=function(){C.width||(C.width=320),C.height||(C.height=240),C.video||(C.video={width:C.width,height:C.height}),C.canvas||(C.canvas={width:C.width,height:C.height}),$.width=C.canvas.width||320,$.height=C.canvas.height||240,I=$.getContext("2d"),C.video&&C.video instanceof HTMLVideoElement?(K=C.video.cloneNode(),C.initCallback&&C.initCallback()):(K=document.createElement("video"),O(Z,K),K.onloadedmetadata=function(){C.initCallback&&C.initCallback()},K.width=C.video.width,K.height=C.video.height),K.muted=!0,K.play(),pe=new Date().getTime(),ve=new me.Video,C.disableLogs||(console.log("canvas resolutions",$.width,"*",$.height),console.log("video width/height",K.width||$.width,"*",K.height||$.height)),q(C.frameInterval)};function q(R){R=typeof R!="undefined"?R:10;var M=new Date().getTime()-pe;if(!M)return setTimeout(q,R,R);if(W)return pe=new Date().getTime(),setTimeout(q,100);pe=new Date().getTime(),K.paused&&K.play(),I.drawImage(K,0,0,$.width,$.height),ve.frames.push({duration:M,image:$.toDataURL("image/webp")}),k||setTimeout(q,R,R)}function ae(R){var M=-1,ie=R.length;(function ye(){if(M++,M===ie){R.callback();return}setTimeout(function(){R.functionToLoop(ye,M)},1)})()}function _e(R,M,ie,ye,H){var fe=document.createElement("canvas");fe.width=$.width,fe.height=$.height;var ce=fe.getContext("2d"),ee=[],oe=M===-1,be=M&&M>0&&M<=R.length?M:R.length,Pe={r:0,g:0,b:0},Re=Math.sqrt(Math.pow(255,2)+Math.pow(255,2)+Math.pow(255,2)),Ie=ie&&ie>=0&&ie<=1?ie:0,He=ye&&ye>=0&&ye<=1?ye:0,Xe=!1;ae({length:be,functionToLoop:function(pt,Qe){var ut,je,_t,at=function(){!Xe&&_t-ut<=_t*He||(oe&&(Xe=!0),ee.push(R[Qe])),pt()};if(Xe)at();else{var Ue=new Image;Ue.onload=function(){ce.drawImage(Ue,0,0,$.width,$.height);var Mt=ce.getImageData(0,0,$.width,$.height);ut=0,je=Mt.data.length,_t=Mt.data.length/4;for(var dt=0;dt<je;dt+=4){var At={r:Mt.data[dt],g:Mt.data[dt+1],b:Mt.data[dt+2]},Zr=Math.sqrt(Math.pow(At.r-Pe.r,2)+Math.pow(At.g-Pe.g,2)+Math.pow(At.b-Pe.b,2));Zr<=Re*Ie&&ut++}at()},Ue.src=R[Qe].image}},callback:function(){ee=ee.concat(R.slice(be)),ee.length<=0&&ee.push(R[R.length-1]),H(ee)}})}var k=!1;this.stop=function(R){R=R||function(){},k=!0;var M=this;setTimeout(function(){_e(ve.frames,-1,null,null,function(ie){ve.frames=ie,C.advertisement&&C.advertisement.length&&(ve.frames=C.advertisement.concat(ve.frames)),ve.compile(function(ye){M.blob=ye,M.blob.forEach&&(M.blob=new Blob([],{type:"video/webm"})),R&&R(M.blob)})})},10)};var W=!1;this.pause=function(){W=!0},this.resume=function(){W=!1,k&&this.record()},this.clearRecordedData=function(){k||this.stop(L),L()};function L(){ve.frames=[],k=!0,W=!1}this.name="WhammyRecorder",this.toString=function(){return this.name};var $=document.createElement("canvas"),I=$.getContext("2d"),K,pe,ve}typeof e!="undefined"&&(e.WhammyRecorder=X);/**
 * Whammy is a standalone class used by {@link RecordRTC} to bring video recording in Chrome. It is written by {@link https://github.com/antimatter15|antimatter15}
 * @summary A real time javascript webm encoder based on a canvas hack.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef Whammy
 * @class
 * @example
 * var recorder = new Whammy().Video(15);
 * recorder.add(context || canvas || dataURL);
 * var output = recorder.compile();
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 */var me=function(){function Z(ae){this.frames=[],this.duration=ae||1,this.quality=.8}Z.prototype.add=function(ae,_e){if("canvas"in ae&&(ae=ae.canvas),"toDataURL"in ae&&(ae=ae.toDataURL("image/webp",this.quality)),!/^data:image\/webp;base64,/ig.test(ae))throw"Input must be formatted properly as a base64 encoded DataURI of type image/webp";this.frames.push({image:ae,duration:_e||this.duration})};function C(ae){var _e=c.createObjectURL(new Blob([ae.toString(),"this.onmessage =  function (eee) {"+ae.name+"(eee.data);}"],{type:"application/javascript"})),k=new Worker(_e);return c.revokeObjectURL(_e),k}function q(ae){function _e(H){var fe=W(H);if(!fe)return[];for(var ce=3e4,ee=[{id:440786851,data:[{data:1,id:17030},{data:1,id:17143},{data:4,id:17138},{data:8,id:17139},{data:"webm",id:17026},{data:2,id:17031},{data:2,id:17029}]},{id:408125543,data:[{id:357149030,data:[{data:1e6,id:2807729},{data:"whammy",id:19840},{data:"whammy",id:22337},{data:ie(fe.duration),id:17545}]},{id:374648427,data:[{id:174,data:[{data:1,id:215},{data:1,id:29637},{data:0,id:156},{data:"und",id:2274716},{data:"V_VP8",id:134},{data:"VP8",id:2459272},{data:1,id:131},{id:224,data:[{data:fe.width,id:176},{data:fe.height,id:186}]}]}]}]}],oe=0,be=0;oe<H.length;){var Pe=[],Re=0;do Pe.push(H[oe]),Re+=H[oe].duration,oe++;while(oe<H.length&&Re<ce);var Ie=0,He={id:524531317,data:k(be,Ie,Pe)};ee[1].data.push(He),be+=Re}return K(ee)}function k(H,fe,ce){return[{data:H,id:231}].concat(ce.map(function(ee){var oe=pe({discardable:0,frame:ee.data.slice(4),invisible:0,keyframe:1,lacing:0,trackNum:1,timecode:Math.round(fe)});return fe+=ee.duration,{data:oe,id:163}}))}function W(H){if(!H[0]){postMessage({error:"Something went wrong. Maybe WebP format is not supported in the current browser."});return}for(var fe=H[0].width,ce=H[0].height,ee=H[0].duration,oe=1;oe<H.length;oe++)ee+=H[oe].duration;return{duration:ee,width:fe,height:ce}}function L(H){for(var fe=[];H>0;)fe.push(H&255),H=H>>8;return new Uint8Array(fe.reverse())}function $(H){return new Uint8Array(H.split("").map(function(fe){return fe.charCodeAt(0)}))}function I(H){var fe=[],ce=H.length%8?new Array(9-H.length%8).join("0"):"";H=ce+H;for(var ee=0;ee<H.length;ee+=8)fe.push(parseInt(H.substr(ee,8),2));return new Uint8Array(fe)}function K(H){for(var fe=[],ce=0;ce<H.length;ce++){var ee=H[ce].data;typeof ee=="object"&&(ee=K(ee)),typeof ee=="number"&&(ee=I(ee.toString(2))),typeof ee=="string"&&(ee=$(ee));var oe=ee.size||ee.byteLength||ee.length,be=Math.ceil(Math.ceil(Math.log(oe)/Math.log(2))/8),Pe=oe.toString(2),Re=new Array(be*7+7+1-Pe.length).join("0")+Pe,Ie=new Array(be).join("0")+"1"+Re;fe.push(L(H[ce].id)),fe.push(I(Ie)),fe.push(ee)}return new Blob(fe,{type:"video/webm"})}function pe(H){var fe=0;if(H.keyframe&&(fe|=128),H.invisible&&(fe|=8),H.lacing&&(fe|=H.lacing<<1),H.discardable&&(fe|=1),H.trackNum>127)throw"TrackNumber > 127 not supported";var ce=[H.trackNum|128,H.timecode>>8,H.timecode&255,fe].map(function(ee){return String.fromCharCode(ee)}).join("")+H.frame;return ce}function ve(H){for(var fe=H.RIFF[0].WEBP[0],ce=fe.indexOf("\x9D*"),ee=0,oe=[];ee<4;ee++)oe[ee]=fe.charCodeAt(ce+3+ee);var be,Pe,Re;return Re=oe[1]<<8|oe[0],be=Re&16383,Re=oe[3]<<8|oe[2],Pe=Re&16383,{width:be,height:Pe,data:fe,riff:H}}function R(H,fe){return parseInt(H.substr(fe+4,4).split("").map(function(ce){var ee=ce.charCodeAt(0).toString(2);return new Array(8-ee.length+1).join("0")+ee}).join(""),2)}function M(H){for(var fe=0,ce={};fe<H.length;){var ee=H.substr(fe,4),oe=R(H,fe),be=H.substr(fe+4+4,oe);fe+=4+4+oe,ce[ee]=ce[ee]||[],ee==="RIFF"||ee==="LIST"?ce[ee].push(M(be)):ce[ee].push(be)}return ce}function ie(H){return[].slice.call(new Uint8Array(new Float64Array([H]).buffer),0).map(function(fe){return String.fromCharCode(fe)}).reverse().join("")}var ye=new _e(ae.map(function(H){var fe=ve(M(atob(H.image.slice(23))));return fe.duration=H.duration,fe}));postMessage(ye)}return Z.prototype.compile=function(ae){var _e=C(q);_e.onmessage=function(k){if(k.data.error){console.error(k.data.error);return}ae(k.data)},_e.postMessage(this.frames)},{Video:Z}}();typeof e!="undefined"&&(e.Whammy=me);/**
 * DiskStorage is a standalone object used by {@link RecordRTC} to store recorded blobs in IndexedDB storage.
 * @summary Writing blobs into IndexedDB.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @example
 * DiskStorage.Store({
 *     audioBlob: yourAudioBlob,
 *     videoBlob: yourVideoBlob,
 *     gifBlob  : yourGifBlob
 * });
 * DiskStorage.Fetch(function(dataURL, type) {
 *     if(type === 'audioBlob') { }
 *     if(type === 'videoBlob') { }
 *     if(type === 'gifBlob')   { }
 * });
 * // DiskStorage.dataStoreName = 'recordRTC';
 * // DiskStorage.onError = function(error) { };
 * @property {function} init - This method must be called once to initialize IndexedDB ObjectStore. Though, it is auto-used internally.
 * @property {function} Fetch - This method fetches stored blobs from IndexedDB.
 * @property {function} Store - This method stores blobs in IndexedDB.
 * @property {function} onError - This function is invoked for any known/unknown error.
 * @property {string} dataStoreName - Name of the ObjectStore created in IndexedDB storage.
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 */var xe={init:function(){var Z=this;if(typeof indexedDB=="undefined"||typeof indexedDB.open=="undefined"){console.error("IndexedDB API are not available in this browser.");return}var C=1,q=this.dbName||location.href.replace(/\/|:|#|%|\.|\[|\]/g,""),ae,_e=indexedDB.open(q,C);function k(L){L.createObjectStore(Z.dataStoreName)}function W(){var L=ae.transaction([Z.dataStoreName],"readwrite");Z.videoBlob&&L.objectStore(Z.dataStoreName).put(Z.videoBlob,"videoBlob"),Z.gifBlob&&L.objectStore(Z.dataStoreName).put(Z.gifBlob,"gifBlob"),Z.audioBlob&&L.objectStore(Z.dataStoreName).put(Z.audioBlob,"audioBlob");function $(I){L.objectStore(Z.dataStoreName).get(I).onsuccess=function(K){Z.callback&&Z.callback(K.target.result,I)}}$("audioBlob"),$("videoBlob"),$("gifBlob")}_e.onerror=Z.onError,_e.onsuccess=function(){if(ae=_e.result,ae.onerror=Z.onError,ae.setVersion)if(ae.version!==C){var L=ae.setVersion(C);L.onsuccess=function(){k(ae),W()}}else W();else W()},_e.onupgradeneeded=function(L){k(L.target.result)}},Fetch:function(Z){return this.callback=Z,this.init(),this},Store:function(Z){return this.audioBlob=Z.audioBlob,this.videoBlob=Z.videoBlob,this.gifBlob=Z.gifBlob,this.init(),this},onError:function(Z){console.error(JSON.stringify(Z,null,"	"))},dataStoreName:"recordRTC",dbName:null};typeof e!="undefined"&&(e.DiskStorage=xe);/**
 * GifRecorder is standalone calss used by {@link RecordRTC} to record video or canvas into animated gif.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef GifRecorder
 * @class
 * @example
 * var recorder = new GifRecorder(mediaStream || canvas || context, { onGifPreview: function, onGifRecordingStarted: function, width: 1280, height: 720, frameRate: 200, quality: 10 });
 * recorder.record();
 * recorder.stop(function(blob) {
 *     img.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object or HTMLCanvasElement or CanvasRenderingContext2D.
 * @param {object} config - {disableLogs:true, initCallback: function, width: 320, height: 240, frameRate: 200, quality: 10}
 */function ge(Z,C){if(typeof GIFEncoder=="undefined"){var q=document.createElement("script");q.src="https://www.webrtc-experiment.com/gif-recorder.js",(document.body||document.documentElement).appendChild(q)}C=C||{};var ae=Z instanceof CanvasRenderingContext2D||Z instanceof HTMLCanvasElement;this.record=function(){if(typeof GIFEncoder=="undefined"){setTimeout(R.record,1e3);return}if(!$){setTimeout(R.record,1e3);return}ae||(C.width||(C.width=I.offsetWidth||320),C.height||(C.height=I.offsetHeight||240),C.video||(C.video={width:C.width,height:C.height}),C.canvas||(C.canvas={width:C.width,height:C.height}),W.width=C.canvas.width||320,W.height=C.canvas.height||240,I.width=C.video.width||320,I.height=C.video.height||240),ve=new GIFEncoder,ve.setRepeat(0),ve.setDelay(C.frameRate||200),ve.setQuality(C.quality||10),ve.start(),typeof C.onGifRecordingStarted=="function"&&C.onGifRecordingStarted();function M(ie){if(R.clearedRecordedData!==!0){if(_e)return setTimeout(function(){M(ie)},100);K=a(M),typeof pe===void 0&&(pe=ie),!(ie-pe<90)&&(!ae&&I.paused&&I.play(),ae||L.drawImage(I,0,0,W.width,W.height),C.onGifPreview&&C.onGifPreview(W.toDataURL("image/png")),ve.addFrame(L),pe=ie)}}K=a(M),C.initCallback&&C.initCallback()},this.stop=function(M){M=M||function(){},K&&l(K),this.blob=new Blob([new Uint8Array(ve.stream().bin)],{type:"image/gif"}),M(this.blob),ve.stream().bin=[]};var _e=!1;this.pause=function(){_e=!0},this.resume=function(){_e=!1},this.clearRecordedData=function(){R.clearedRecordedData=!0,k()};function k(){ve&&(ve.stream().bin=[])}this.name="GifRecorder",this.toString=function(){return this.name};var W=document.createElement("canvas"),L=W.getContext("2d");ae&&(Z instanceof CanvasRenderingContext2D?(L=Z,W=L.canvas):Z instanceof HTMLCanvasElement&&(L=Z.getContext("2d"),W=Z));var $=!0;if(!ae){var I=document.createElement("video");I.muted=!0,I.autoplay=!0,I.playsInline=!0,$=!1,I.onloadedmetadata=function(){$=!0},O(Z,I),I.play()}var K=null,pe,ve,R=this}typeof e!="undefined"&&(e.GifRecorder=ge);function Se(Z,C){var q="Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45";(function(ee){typeof e=="undefined"&&(!ee||typeof window=="undefined"&&typeof Pt!="undefined"&&(Pt.navigator={userAgent:q,getUserMedia:function(){}},Pt.console||(Pt.console={}),(typeof Pt.console.log=="undefined"||typeof Pt.console.error=="undefined")&&(Pt.console.error=Pt.console.log=Pt.console.log||function(){console.log(arguments)}),typeof document=="undefined"&&(ee.document={documentElement:{appendChild:function(){return""}}},document.createElement=document.captureStream=document.mozCaptureStream=function(){var oe={getContext:function(){return oe},play:function(){},pause:function(){},drawImage:function(){},toDataURL:function(){return""},style:{}};return oe},ee.HTMLVideoElement=function(){}),typeof location=="undefined"&&(ee.location={protocol:"file:",href:"",hash:""}),typeof screen=="undefined"&&(ee.screen={width:0,height:0}),typeof I=="undefined"&&(ee.URL={createObjectURL:function(){return""},revokeObjectURL:function(){return""}}),ee.window=Pt))})(typeof Pt!="undefined"?Pt:null),C=C||"multi-streams-mixer";var ae=[],_e=!1,k=document.createElement("canvas"),W=k.getContext("2d");k.style.opacity=0,k.style.position="absolute",k.style.zIndex=-1,k.style.top="-1000em",k.style.left="-1000em",k.className=C,(document.body||document.documentElement).appendChild(k),this.disableLogs=!1,this.frameInterval=10,this.width=360,this.height=240,this.useGainNode=!0;var L=this,$=window.AudioContext;typeof $=="undefined"&&(typeof webkitAudioContext!="undefined"&&($=webkitAudioContext),typeof mozAudioContext!="undefined"&&($=mozAudioContext));var I=window.URL;typeof I=="undefined"&&typeof webkitURL!="undefined"&&(I=webkitURL),typeof navigator!="undefined"&&typeof navigator.getUserMedia=="undefined"&&(typeof navigator.webkitGetUserMedia!="undefined"&&(navigator.getUserMedia=navigator.webkitGetUserMedia),typeof navigator.mozGetUserMedia!="undefined"&&(navigator.getUserMedia=navigator.mozGetUserMedia));var K=window.MediaStream;typeof K=="undefined"&&typeof webkitMediaStream!="undefined"&&(K=webkitMediaStream),typeof K!="undefined"&&typeof K.prototype.stop=="undefined"&&(K.prototype.stop=function(){this.getTracks().forEach(function(ee){ee.stop()})});var pe={};typeof $!="undefined"?pe.AudioContext=$:typeof webkitAudioContext!="undefined"&&(pe.AudioContext=webkitAudioContext);function ve(ee,oe){"srcObject"in oe?oe.srcObject=ee:"mozSrcObject"in oe?oe.mozSrcObject=ee:oe.srcObject=ee}this.startDrawingFrames=function(){R()};function R(){if(!_e){var ee=ae.length,oe=!1,be=[];if(ae.forEach(function(Re){Re.stream||(Re.stream={}),Re.stream.fullcanvas?oe=Re:be.push(Re)}),oe)k.width=oe.stream.width,k.height=oe.stream.height;else if(be.length){k.width=ee>1?be[0].width*2:be[0].width;var Pe=1;(ee===3||ee===4)&&(Pe=2),(ee===5||ee===6)&&(Pe=3),(ee===7||ee===8)&&(Pe=4),(ee===9||ee===10)&&(Pe=5),k.height=be[0].height*Pe}else k.width=L.width||360,k.height=L.height||240;oe&&oe instanceof HTMLVideoElement&&M(oe),be.forEach(function(Re,Ie){M(Re,Ie)}),setTimeout(R,L.frameInterval)}}function M(ee,oe){if(!_e){var be=0,Pe=0,Re=ee.width,Ie=ee.height;oe===1&&(be=ee.width),oe===2&&(Pe=ee.height),oe===3&&(be=ee.width,Pe=ee.height),oe===4&&(Pe=ee.height*2),oe===5&&(be=ee.width,Pe=ee.height*2),oe===6&&(Pe=ee.height*3),oe===7&&(be=ee.width,Pe=ee.height*3),typeof ee.stream.left!="undefined"&&(be=ee.stream.left),typeof ee.stream.top!="undefined"&&(Pe=ee.stream.top),typeof ee.stream.width!="undefined"&&(Re=ee.stream.width),typeof ee.stream.height!="undefined"&&(Ie=ee.stream.height),W.drawImage(ee,be,Pe,Re,Ie),typeof ee.stream.onRender=="function"&&ee.stream.onRender(W,be,Pe,Re,Ie,oe)}}function ie(){_e=!1;var ee=ye(),oe=H();return oe&&oe.getTracks().filter(function(be){return be.kind==="audio"}).forEach(function(be){ee.addTrack(be)}),Z.forEach(function(be){be.fullcanvas}),ee}function ye(){ce();var ee;"captureStream"in k?ee=k.captureStream():"mozCaptureStream"in k?ee=k.mozCaptureStream():L.disableLogs||console.error("Upgrade to latest Chrome or otherwise enable this flag: chrome://flags/#enable-experimental-web-platform-features");var oe=new K;return ee.getTracks().filter(function(be){return be.kind==="video"}).forEach(function(be){oe.addTrack(be)}),k.stream=oe,oe}function H(){pe.AudioContextConstructor||(pe.AudioContextConstructor=new pe.AudioContext),L.audioContext=pe.AudioContextConstructor,L.audioSources=[],L.useGainNode===!0&&(L.gainNode=L.audioContext.createGain(),L.gainNode.connect(L.audioContext.destination),L.gainNode.gain.value=0);var ee=0;if(Z.forEach(function(oe){if(!!oe.getTracks().filter(function(Pe){return Pe.kind==="audio"}).length){ee++;var be=L.audioContext.createMediaStreamSource(oe);L.useGainNode===!0&&be.connect(L.gainNode),L.audioSources.push(be)}}),!!ee)return L.audioDestination=L.audioContext.createMediaStreamDestination(),L.audioSources.forEach(function(oe){oe.connect(L.audioDestination)}),L.audioDestination.stream}function fe(ee){var oe=document.createElement("video");return ve(ee,oe),oe.className=C,oe.muted=!0,oe.volume=0,oe.width=ee.width||L.width||360,oe.height=ee.height||L.height||240,oe.play(),oe}this.appendStreams=function(ee){if(!ee)throw"First parameter is required.";ee instanceof Array||(ee=[ee]),ee.forEach(function(oe){var be=new K;if(oe.getTracks().filter(function(Ie){return Ie.kind==="video"}).length){var Pe=fe(oe);Pe.stream=oe,ae.push(Pe),be.addTrack(oe.getTracks().filter(function(Ie){return Ie.kind==="video"})[0])}if(oe.getTracks().filter(function(Ie){return Ie.kind==="audio"}).length){var Re=L.audioContext.createMediaStreamSource(oe);L.audioDestination=L.audioContext.createMediaStreamDestination(),Re.connect(L.audioDestination),be.addTrack(L.audioDestination.stream.getTracks().filter(function(Ie){return Ie.kind==="audio"})[0])}Z.push(be)})},this.releaseStreams=function(){ae=[],_e=!0,L.gainNode&&(L.gainNode.disconnect(),L.gainNode=null),L.audioSources.length&&(L.audioSources.forEach(function(ee){ee.disconnect()}),L.audioSources=[]),L.audioDestination&&(L.audioDestination.disconnect(),L.audioDestination=null),L.audioContext&&L.audioContext.close(),L.audioContext=null,W.clearRect(0,0,k.width,k.height),k.stream&&(k.stream.stop(),k.stream=null)},this.resetVideoStreams=function(ee){ee&&!(ee instanceof Array)&&(ee=[ee]),ce(ee)};function ce(ee){ae=[],ee=ee||Z,ee.forEach(function(oe){if(!!oe.getTracks().filter(function(Pe){return Pe.kind==="video"}).length){var be=fe(oe);be.stream=oe,ae.push(be)}})}this.name="MultiStreamsMixer",this.toString=function(){return this.name},this.getMixedStream=ie}typeof e=="undefined"&&(t.exports=Se);/**
 * MultiStreamRecorder can record multiple videos in single container.
 * @summary Multi-videos recorder.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef MultiStreamRecorder
 * @class
 * @example
 * var options = {
 *     mimeType: 'video/webm'
 * }
 * var recorder = new MultiStreamRecorder(ArrayOfMediaStreams, options);
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 *
 *     // or
 *     var blob = recorder.blob;
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStreams} mediaStreams - Array of MediaStreams.
 * @param {object} config - {disableLogs:true, frameInterval: 1, mimeType: "video/webm"}
 */function Ae(Z,C){Z=Z||[];var q=this,ae,_e;C=C||{elementClass:"multi-streams-mixer",mimeType:"video/webm",video:{width:360,height:240}},C.frameInterval||(C.frameInterval=10),C.video||(C.video={}),C.video.width||(C.video.width=360),C.video.height||(C.video.height=240),this.record=function(){ae=new Se(Z,C.elementClass||"multi-streams-mixer"),k().length&&(ae.frameInterval=C.frameInterval||10,ae.width=C.video.width||360,ae.height=C.video.height||240,ae.startDrawingFrames()),C.previewStream&&typeof C.previewStream=="function"&&C.previewStream(ae.getMixedStream()),_e=new Y(ae.getMixedStream(),C),_e.record()};function k(){var W=[];return Z.forEach(function(L){P(L,"video").forEach(function($){W.push($)})}),W}this.stop=function(W){!_e||_e.stop(function(L){q.blob=L,W(L),q.clearRecordedData()})},this.pause=function(){_e&&_e.pause()},this.resume=function(){_e&&_e.resume()},this.clearRecordedData=function(){_e&&(_e.clearRecordedData(),_e=null),ae&&(ae.releaseStreams(),ae=null)},this.addStreams=function(W){if(!W)throw"First parameter is required.";W instanceof Array||(W=[W]),Z.concat(W),!(!_e||!ae)&&(ae.appendStreams(W),C.previewStream&&typeof C.previewStream=="function"&&C.previewStream(ae.getMixedStream()))},this.resetVideoStreams=function(W){!ae||(W&&!(W instanceof Array)&&(W=[W]),ae.resetVideoStreams(W))},this.getMixer=function(){return ae},this.name="MultiStreamRecorder",this.toString=function(){return this.name}}typeof e!="undefined"&&(e.MultiStreamRecorder=Ae);/**
 * RecordRTCPromisesHandler adds promises support in {@link RecordRTC}. Try a {@link https://github.com/muaz-khan/RecordRTC/blob/master/simple-demos/RecordRTCPromisesHandler.html|demo here}
 * @summary Promises for {@link RecordRTC}
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef RecordRTCPromisesHandler
 * @class
 * @example
 * var recorder = new RecordRTCPromisesHandler(mediaStream, options);
 * recorder.startRecording()
 *         .then(successCB)
 *         .catch(errorCB);
 * // Note: You can access all RecordRTC API using "recorder.recordRTC" e.g. 
 * recorder.recordRTC.onStateChanged = function(state) {};
 * recorder.recordRTC.setRecordingDuration(5000);
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - Single media-stream object, array of media-streams, html-canvas-element, etc.
 * @param {object} config - {type:"video", recorderType: MediaStreamRecorder, disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, etc.}
 * @throws Will throw an error if "new" keyword is not used to initiate "RecordRTCPromisesHandler". Also throws error if first argument "MediaStream" is missing.
 * @requires {@link RecordRTC}
 */function he(Z,C){if(!this)throw'Use "new RecordRTCPromisesHandler()"';if(typeof Z=="undefined")throw'First argument "MediaStream" is required.';var q=this;q.recordRTC=new e(Z,C),this.startRecording=function(){return new Promise(function(ae,_e){try{q.recordRTC.startRecording(),ae()}catch(k){_e(k)}})},this.stopRecording=function(){return new Promise(function(ae,_e){try{q.recordRTC.stopRecording(function(k){if(q.blob=q.recordRTC.getBlob(),!q.blob||!q.blob.size){_e("Empty blob.",q.blob);return}ae(k)})}catch(k){_e(k)}})},this.pauseRecording=function(){return new Promise(function(ae,_e){try{q.recordRTC.pauseRecording(),ae()}catch(k){_e(k)}})},this.resumeRecording=function(){return new Promise(function(ae,_e){try{q.recordRTC.resumeRecording(),ae()}catch(k){_e(k)}})},this.getDataURL=function(ae){return new Promise(function(_e,k){try{q.recordRTC.getDataURL(function(W){_e(W)})}catch(W){k(W)}})},this.getBlob=function(){return new Promise(function(ae,_e){try{ae(q.recordRTC.getBlob())}catch(k){_e(k)}})},this.getInternalRecorder=function(){return new Promise(function(ae,_e){try{ae(q.recordRTC.getInternalRecorder())}catch(k){_e(k)}})},this.reset=function(){return new Promise(function(ae,_e){try{ae(q.recordRTC.reset())}catch(k){_e(k)}})},this.destroy=function(){return new Promise(function(ae,_e){try{ae(q.recordRTC.destroy())}catch(k){_e(k)}})},this.getState=function(){return new Promise(function(ae,_e){try{ae(q.recordRTC.getState())}catch(k){_e(k)}})},this.blob=null,this.version="5.6.2"}typeof e!="undefined"&&(e.RecordRTCPromisesHandler=he);/**
 * WebAssemblyRecorder lets you create webm videos in JavaScript via WebAssembly. The library consumes raw RGBA32 buffers (4 bytes per pixel) and turns them into a webm video with the given framerate and quality. This makes it compatible out-of-the-box with ImageData from a CANVAS. With realtime mode you can also use webm-wasm for streaming webm videos.
 * @summary Video recording feature in Chrome, Firefox and maybe Edge.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef WebAssemblyRecorder
 * @class
 * @example
 * var recorder = new WebAssemblyRecorder(mediaStream);
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {webAssemblyPath:'webm-wasm.wasm',workerPath: 'webm-worker.js', frameRate: 30, width: 1920, height: 1080, bitrate: 1024, realtime: true}
 */function Ye(Z,C){(typeof ReadableStream=="undefined"||typeof WritableStream=="undefined")&&console.error("Following polyfill is strongly recommended: https://unpkg.com/@mattiasbuelens/web-streams-polyfill/dist/polyfill.min.js"),C=C||{},C.width=C.width||640,C.height=C.height||480,C.frameRate=C.frameRate||30,C.bitrate=C.bitrate||1200,C.realtime=C.realtime||!0;var q;function ae(){return new ReadableStream({start:function(I){var K=document.createElement("canvas"),pe=document.createElement("video"),ve=!0;pe.srcObject=Z,pe.muted=!0,pe.height=C.height,pe.width=C.width,pe.volume=0,pe.onplaying=function(){K.width=C.width,K.height=C.height;var R=K.getContext("2d"),M=1e3/C.frameRate,ie=setInterval(function(){if(q&&(clearInterval(ie),I.close()),ve&&(ve=!1,C.onVideoProcessStarted&&C.onVideoProcessStarted()),R.drawImage(pe,0,0),I._controlledReadableStream.state!=="closed")try{I.enqueue(R.getImageData(0,0,C.width,C.height))}catch{}},M)},pe.play()}})}var _e;function k(I,K){if(!C.workerPath&&!K){q=!1,fetch("https://unpkg.com/webm-wasm@latest/dist/webm-worker.js").then(function(ve){ve.arrayBuffer().then(function(R){k(I,R)})});return}if(!C.workerPath&&K instanceof ArrayBuffer){var pe=new Blob([K],{type:"text/javascript"});C.workerPath=c.createObjectURL(pe)}C.workerPath||console.error("workerPath parameter is missing."),_e=new Worker(C.workerPath),_e.postMessage(C.webAssemblyPath||"https://unpkg.com/webm-wasm@latest/dist/webm-wasm.wasm"),_e.addEventListener("message",function(ve){ve.data==="READY"?(_e.postMessage({width:C.width,height:C.height,bitrate:C.bitrate||1200,timebaseDen:C.frameRate||30,realtime:C.realtime}),ae().pipeTo(new WritableStream({write:function(R){if(q){console.error("Got image, but recorder is finished!");return}_e.postMessage(R.data.buffer,[R.data.buffer])}}))):ve.data&&(W||$.push(ve.data))})}this.record=function(){$=[],W=!1,this.blob=null,k(Z),typeof C.initCallback=="function"&&C.initCallback()};var W;this.pause=function(){W=!0},this.resume=function(){W=!1};function L(I){if(!_e){I&&I();return}_e.addEventListener("message",function(K){K.data===null&&(_e.terminate(),_e=null,I&&I())}),_e.postMessage(null)}var $=[];this.stop=function(I){q=!0;var K=this;L(function(){K.blob=new Blob($,{type:"video/webm"}),I(K.blob)})},this.name="WebAssemblyRecorder",this.toString=function(){return this.name},this.clearRecordedData=function(){$=[],W=!1,this.blob=null},this.blob=null}typeof e!="undefined"&&(e.WebAssemblyRecorder=Ye)})(Vb);var cme=Vb.exports,hne={exports:{}},pne=e0(nne);/*!
 * videojs-record
 * @version 4.5.0
 * @see https://github.com/collab-project/videojs-record
 * @copyright 2014-2021 Collab
 * @license MIT
 */(function(t,e){(function(n,i){t.exports=i(Vb.exports,pne)})(self,function(r,n){return(()=>{var i={"./node_modules/@babel/runtime/helpers/assertThisInitialized.js":l=>{function u(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}l.exports=u},"./node_modules/@babel/runtime/helpers/asyncToGenerator.js":l=>{function u(d,f,h,m,g,v,x){try{var S=d[v](x),D=S.value}catch(P){h(P);return}S.done?f(D):Promise.resolve(D).then(m,g)}function c(d){return function(){var f=this,h=arguments;return new Promise(function(m,g){var v=d.apply(f,h);function x(D){u(v,m,g,x,S,"next",D)}function S(D){u(v,m,g,x,S,"throw",D)}x(void 0)})}}l.exports=c},"./node_modules/@babel/runtime/helpers/classCallCheck.js":l=>{function u(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}l.exports=u},"./node_modules/@babel/runtime/helpers/createClass.js":l=>{function u(d,f){for(var h=0;h<f.length;h++){var m=f[h];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}function c(d,f,h){return f&&u(d.prototype,f),h&&u(d,h),d}l.exports=c},"./node_modules/@babel/runtime/helpers/get.js":(l,u,c)=>{var d=c("./node_modules/@babel/runtime/helpers/superPropBase.js");function f(h,m,g){return typeof Reflect!="undefined"&&Reflect.get?l.exports=f=Reflect.get:l.exports=f=function(x,S,D){var P=d(x,S);if(!!P){var O=Object.getOwnPropertyDescriptor(P,S);return O.get?O.get.call(D):O.value}},f(h,m,g||h)}l.exports=f},"./node_modules/@babel/runtime/helpers/getPrototypeOf.js":l=>{function u(c){return l.exports=u=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)},u(c)}l.exports=u},"./node_modules/@babel/runtime/helpers/inherits.js":(l,u,c)=>{var d=c("./node_modules/@babel/runtime/helpers/setPrototypeOf.js");function f(h,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(m&&m.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),m&&d(h,m)}l.exports=f},"./node_modules/@babel/runtime/helpers/interopRequireDefault.js":l=>{function u(c){return c&&c.__esModule?c:{default:c}}l.exports=u},"./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js":(l,u,c)=>{var d=c("./node_modules/@babel/runtime/helpers/typeof.js"),f=c("./node_modules/@babel/runtime/helpers/assertThisInitialized.js");function h(m,g){return g&&(d(g)==="object"||typeof g=="function")?g:f(m)}l.exports=h},"./node_modules/@babel/runtime/helpers/setPrototypeOf.js":l=>{function u(c,d){return l.exports=u=Object.setPrototypeOf||function(h,m){return h.__proto__=m,h},u(c,d)}l.exports=u},"./node_modules/@babel/runtime/helpers/superPropBase.js":(l,u,c)=>{var d=c("./node_modules/@babel/runtime/helpers/getPrototypeOf.js");function f(h,m){for(;!Object.prototype.hasOwnProperty.call(h,m)&&(h=d(h),h!==null););return h}l.exports=f},"./node_modules/@babel/runtime/helpers/typeof.js":l=>{function u(c){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?l.exports=u=function(f){return typeof f}:l.exports=u=function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},u(c)}l.exports=u},"./node_modules/@babel/runtime/regenerator/index.js":(l,u,c)=>{l.exports=c("./node_modules/regenerator-runtime/runtime.js")},"./node_modules/add-zero/index.js":function(l,u,c){var d;(function(f){function h(m,g){g=g||2;var v=Number(m)<0,x=m.toString(),S=0;return v&&(x=x.slice(1)),S=g-x.length+1,x=new Array(S).join("0").concat(x),(v?"-":"")+x}d=function(){return h}.call(f,c,f,l),d!==void 0&&(l.exports=d)})(this)},"./src/js/controls/animation-display.js":(l,u,c)=>{var d=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var f=d(c("./node_modules/@babel/runtime/helpers/classCallCheck.js")),h=d(c("./node_modules/@babel/runtime/helpers/createClass.js")),m=d(c("./node_modules/@babel/runtime/helpers/get.js")),g=d(c("./node_modules/@babel/runtime/helpers/inherits.js")),v=d(c("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),x=d(c("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),S=d(c("video.js"));function D(U){var Y=P();return function(){var ue=(0,x.default)(U),X;if(Y){var me=(0,x.default)(this).constructor;X=Reflect.construct(ue,arguments,me)}else X=ue.apply(this,arguments);return(0,v.default)(this,X)}}function P(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var O=S.default.getComponent("Component"),B=function(U){(0,g.default)(F,U);var Y=D(F);function F(){return(0,f.default)(this,F),Y.apply(this,arguments)}return(0,h.default)(F,[{key:"createEl",value:function(){var X=S.default.dom.createEl("img"),me=(0,m.default)((0,x.default)(F.prototype),"createEl",this).call(this,"div",{className:"vjs-animation-display",dir:"ltr"});return me.appendChild(X),me}}]),F}(O);O.registerComponent("AnimationDisplay",B);var z=B;u.default=z,l.exports=u.default},"./src/js/controls/camera-button.js":(l,u,c)=>{var d=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var f=d(c("./node_modules/@babel/runtime/helpers/classCallCheck.js")),h=d(c("./node_modules/@babel/runtime/helpers/createClass.js")),m=d(c("./node_modules/@babel/runtime/helpers/get.js")),g=d(c("./node_modules/@babel/runtime/helpers/inherits.js")),v=d(c("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),x=d(c("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),S=d(c("video.js")),D=d(c("./src/js/event.js"));function P(F){var ue=O();return function(){var me=(0,x.default)(F),xe;if(ue){var ge=(0,x.default)(this).constructor;xe=Reflect.construct(me,arguments,ge)}else xe=me.apply(this,arguments);return(0,v.default)(this,xe)}}function O(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var B=S.default.getComponent("Button"),z=S.default.getComponent("Component"),U=function(F){(0,g.default)(X,F);var ue=P(X);function X(){return(0,f.default)(this,X),ue.apply(this,arguments)}return(0,h.default)(X,[{key:"buildCSSClass",value:function(){return"vjs-camera-button vjs-control vjs-button vjs-icon-photo-camera"}},{key:"enable",value:function(){(0,m.default)((0,x.default)(X.prototype),"enable",this).call(this),this.on(this.player_,D.default.START_RECORD,this.onStart),this.on(this.player_,D.default.STOP_RECORD,this.onStop)}},{key:"disable",value:function(){(0,m.default)((0,x.default)(X.prototype),"disable",this).call(this),this.off(this.player_,D.default.START_RECORD,this.onStart),this.off(this.player_,D.default.STOP_RECORD,this.onStop)}},{key:"show",value:function(){this.layoutExclude&&this.layoutExclude===!0||(0,m.default)((0,x.default)(X.prototype),"show",this).call(this)}},{key:"handleClick",value:function(xe){var ge=this.player_.record();ge.isProcessing()?(ge.retrySnapshot(),this.onStop(),this.player_.trigger(D.default.RETRY)):ge.start()}},{key:"onStart",value:function(xe){this.removeClass("vjs-icon-photo-camera"),this.addClass("vjs-icon-replay"),this.controlText("Retry")}},{key:"onStop",value:function(xe){this.removeClass("vjs-icon-replay"),this.addClass("vjs-icon-photo-camera"),this.controlText("Image")}}]),X}(B);U.prototype.controlText_="Image",z.registerComponent("CameraButton",U);var Y=U;u.default=Y,l.exports=u.default},"./src/js/controls/device-button.js":(l,u,c)=>{var d=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var f=d(c("./node_modules/@babel/runtime/helpers/classCallCheck.js")),h=d(c("./node_modules/@babel/runtime/helpers/createClass.js")),m=d(c("./node_modules/@babel/runtime/helpers/get.js")),g=d(c("./node_modules/@babel/runtime/helpers/inherits.js")),v=d(c("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),x=d(c("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),S=d(c("video.js"));function D(Y){var F=P();return function(){var X=(0,x.default)(Y),me;if(F){var xe=(0,x.default)(this).constructor;me=Reflect.construct(X,arguments,xe)}else me=X.apply(this,arguments);return(0,v.default)(this,me)}}function P(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var O=S.default.getComponent("Button"),B=S.default.getComponent("Component"),z=function(Y){(0,g.default)(ue,Y);var F=D(ue);function ue(){return(0,f.default)(this,ue),F.apply(this,arguments)}return(0,h.default)(ue,[{key:"handleClick",value:function(me){this.player_.record().getDevice()}},{key:"show",value:function(){this.layoutExclude&&this.layoutExclude===!0||(0,m.default)((0,x.default)(ue.prototype),"show",this).call(this)}}]),ue}(O);z.prototype.controlText_="Device",B.registerComponent("DeviceButton",z);var U=z;u.default=U,l.exports=u.default},"./src/js/controls/picture-in-picture-toggle.js":(l,u,c)=>{var d=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var f=d(c("./node_modules/@babel/runtime/regenerator/index.js")),h=d(c("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),m=d(c("./node_modules/@babel/runtime/helpers/classCallCheck.js")),g=d(c("./node_modules/@babel/runtime/helpers/createClass.js")),v=d(c("./node_modules/@babel/runtime/helpers/get.js")),x=d(c("./node_modules/@babel/runtime/helpers/inherits.js")),S=d(c("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),D=d(c("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),P=d(c("video.js")),O=d(c("./src/js/event.js"));function B(X){var me=z();return function(){var ge=(0,D.default)(X),Se;if(me){var Ae=(0,D.default)(this).constructor;Se=Reflect.construct(ge,arguments,Ae)}else Se=ge.apply(this,arguments);return(0,S.default)(this,Se)}}function z(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var U=P.default.getComponent("Button"),Y=P.default.getComponent("Component"),F=function(X){(0,x.default)(xe,X);var me=B(xe);function xe(ge,Se){var Ae;return(0,m.default)(this,xe),Ae=me.call(this,ge,Se),Ae.on(Ae.player_,O.default.ENTER_PIP,Ae.onStart),Ae.on(Ae.player_,O.default.LEAVE_PIP,Ae.onStop),Ae}return(0,g.default)(xe,[{key:"buildCSSClass",value:function(){return"vjs-pip-button vjs-control vjs-button vjs-icon-picture-in-picture-start"}},{key:"show",value:function(){this.layoutExclude&&this.layoutExclude===!0||(0,v.default)((0,D.default)(xe.prototype),"show",this).call(this)}},{key:"handleClick",value:function(){var ge=(0,h.default)(f.default.mark(function Ae(he){var Ye;return f.default.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(Ye=this.player_.record(),this.disable(),C.prev=2,Ye.mediaElement===document.pictureInPictureElement){C.next=8;break}return C.next=6,Ye.mediaElement.requestPictureInPicture();case 6:C.next=10;break;case 8:return C.next=10,document.exitPictureInPicture();case 10:C.next=15;break;case 12:C.prev=12,C.t0=C.catch(2),this.player_.trigger(O.default.ERROR,C.t0);case 15:return C.prev=15,this.enable(),C.finish(15);case 18:case"end":return C.stop()}},Ae,this,[[2,12,15,18]])}));function Se(Ae){return ge.apply(this,arguments)}return Se}()},{key:"onStart",value:function(Se){this.removeClass("vjs-icon-picture-in-picture-start"),this.addClass("vjs-icon-picture-in-picture-stop")}},{key:"onStop",value:function(Se){this.removeClass("vjs-icon-picture-in-picture-stop"),this.addClass("vjs-icon-picture-in-picture-start")}}]),xe}(U);F.prototype.controlText_="Picture in Picture",Y.registerComponent("PictureInPictureToggle",F);var ue=F;u.default=ue,l.exports=u.default},"./src/js/controls/record-canvas.js":(l,u,c)=>{var d=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var f=d(c("./node_modules/@babel/runtime/helpers/classCallCheck.js")),h=d(c("./node_modules/@babel/runtime/helpers/createClass.js")),m=d(c("./node_modules/@babel/runtime/helpers/get.js")),g=d(c("./node_modules/@babel/runtime/helpers/inherits.js")),v=d(c("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),x=d(c("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),S=d(c("video.js"));function D(U){var Y=P();return function(){var ue=(0,x.default)(U),X;if(Y){var me=(0,x.default)(this).constructor;X=Reflect.construct(ue,arguments,me)}else X=ue.apply(this,arguments);return(0,v.default)(this,X)}}function P(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var O=S.default.getComponent("Component"),B=function(U){(0,g.default)(F,U);var Y=D(F);function F(){return(0,f.default)(this,F),Y.apply(this,arguments)}return(0,h.default)(F,[{key:"createEl",value:function(){var X=S.default.dom.createEl("canvas"),me=(0,m.default)((0,x.default)(F.prototype),"createEl",this).call(this,"div",{className:"vjs-record-canvas",dir:"ltr"});return me.appendChild(X),me}}]),F}(O);O.registerComponent("RecordCanvas",B);var z=B;u.default=z,l.exports=u.default},"./src/js/controls/record-indicator.js":(l,u,c)=>{var d=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var f=d(c("./node_modules/@babel/runtime/helpers/classCallCheck.js")),h=d(c("./node_modules/@babel/runtime/helpers/createClass.js")),m=d(c("./node_modules/@babel/runtime/helpers/get.js")),g=d(c("./node_modules/@babel/runtime/helpers/inherits.js")),v=d(c("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),x=d(c("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),S=d(c("video.js")),D=d(c("./src/js/event.js"));function P(Y){var F=O();return function(){var X=(0,x.default)(Y),me;if(F){var xe=(0,x.default)(this).constructor;me=Reflect.construct(X,arguments,xe)}else me=X.apply(this,arguments);return(0,v.default)(this,me)}}function O(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var B=S.default.getComponent("Component"),z=function(Y){(0,g.default)(ue,Y);var F=P(ue);function ue(X,me){var xe;return(0,f.default)(this,ue),xe=F.call(this,X,me),xe.enable(),xe}return(0,h.default)(ue,[{key:"createEl",value:function(){var me={className:"vjs-record-indicator vjs-control",dir:"ltr"},xe={"data-label":this.localize("REC")};return(0,m.default)((0,x.default)(ue.prototype),"createEl",this).call(this,"div",me,xe)}},{key:"enable",value:function(){this.on(this.player_,D.default.START_RECORD,this.show),this.on(this.player_,D.default.STOP_RECORD,this.hide)}},{key:"disable",value:function(){this.off(this.player_,D.default.START_RECORD,this.show),this.off(this.player_,D.default.STOP_RECORD,this.hide)}},{key:"show",value:function(){this.layoutExclude&&this.layoutExclude===!0||(0,m.default)((0,x.default)(ue.prototype),"show",this).call(this)}}]),ue}(B);B.registerComponent("RecordIndicator",z);var U=z;u.default=U,l.exports=u.default},"./src/js/controls/record-toggle.js":(l,u,c)=>{var d=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var f=d(c("./node_modules/@babel/runtime/helpers/classCallCheck.js")),h=d(c("./node_modules/@babel/runtime/helpers/createClass.js")),m=d(c("./node_modules/@babel/runtime/helpers/get.js")),g=d(c("./node_modules/@babel/runtime/helpers/inherits.js")),v=d(c("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),x=d(c("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),S=d(c("video.js")),D=d(c("./src/js/event.js"));function P(F){var ue=O();return function(){var me=(0,x.default)(F),xe;if(ue){var ge=(0,x.default)(this).constructor;xe=Reflect.construct(me,arguments,ge)}else xe=me.apply(this,arguments);return(0,v.default)(this,xe)}}function O(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var B=S.default.getComponent("Button"),z=S.default.getComponent("Component"),U=function(F){(0,g.default)(X,F);var ue=P(X);function X(){return(0,f.default)(this,X),ue.apply(this,arguments)}return(0,h.default)(X,[{key:"buildCSSClass",value:function(){return"vjs-record-button vjs-control vjs-button vjs-icon-record-start"}},{key:"enable",value:function(){(0,m.default)((0,x.default)(X.prototype),"enable",this).call(this),this.on(this.player_,D.default.START_RECORD,this.onStart),this.on(this.player_,D.default.STOP_RECORD,this.onStop)}},{key:"disable",value:function(){(0,m.default)((0,x.default)(X.prototype),"disable",this).call(this),this.off(this.player_,D.default.START_RECORD,this.onStart),this.off(this.player_,D.default.STOP_RECORD,this.onStop)}},{key:"show",value:function(){this.layoutExclude&&this.layoutExclude===!0||(0,m.default)((0,x.default)(X.prototype),"show",this).call(this)}},{key:"handleClick",value:function(xe){var ge=this.player_.record();ge.isRecording()?ge.stop():ge.start()}},{key:"onStart",value:function(xe){this.removeClass("vjs-icon-record-start"),this.addClass("vjs-icon-record-stop"),this.controlText("Stop")}},{key:"onStop",value:function(xe){this.removeClass("vjs-icon-record-stop"),this.addClass("vjs-icon-record-start"),this.controlText("Record")}}]),X}(B);U.prototype.controlText_="Record",z.registerComponent("RecordToggle",U);var Y=U;u.default=Y,l.exports=u.default},"./src/js/defaults.js":(l,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var c={image:!1,audio:!1,video:!1,animation:!1,screen:!1,maxLength:10,maxFileSize:0,displayMilliseconds:!1,formatTime:void 0,frameWidth:320,frameHeight:240,debug:!1,pip:!1,autoMuteDevice:!1,videoBitRate:1200,videoEngine:"recordrtc",videoFrameRate:30,videoMimeType:"video/webm",videoRecorderType:"auto",videoWorkerURL:"",videoWebAssemblyURL:"",audioEngine:"recordrtc",audioRecorderType:"auto",audioMimeType:"auto",audioBufferSize:4096,audioSampleRate:44100,audioBitRate:128,audioChannels:2,audioWorkerURL:"",audioWebAssemblyURL:"",audioBufferUpdate:!1,animationFrameRate:200,animationQuality:10,imageOutputType:"dataURL",imageOutputFormat:"image/png",imageOutputQuality:.92,timeSlice:0,convertEngine:"",convertWorkerURL:"",convertOptions:[],convertAuto:!0,hotKeys:!1,pluginLibraryOptions:{}},d=c;u.default=d,l.exports=u.default},"./src/js/engine/convert-engine.js":(l,u,c)=>{var d=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(u,"__esModule",{value:!0}),u.FFMPEGWASM=u.FFMPEGJS=u.TSEBML=u.CONVERT_PLUGINS=u.ConvertEngine=void 0;var f=d(c("./node_modules/@babel/runtime/helpers/classCallCheck.js")),h=d(c("./node_modules/@babel/runtime/helpers/createClass.js")),m=d(c("./node_modules/@babel/runtime/helpers/inherits.js")),g=d(c("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),v=d(c("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),x=d(c("video.js")),S=c("./src/js/utils/file-util.js");function D(ue){var X=P();return function(){var xe=(0,v.default)(ue),ge;if(X){var Se=(0,v.default)(this).constructor;ge=Reflect.construct(xe,arguments,Se)}else ge=xe.apply(this,arguments);return(0,g.default)(this,ge)}}function P(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var O=x.default.getComponent("Component"),B="ts-ebml";u.TSEBML=B;var z="ffmpeg.js";u.FFMPEGJS=z;var U="ffmpeg.wasm";u.FFMPEGWASM=U;var Y=[B,z,U];u.CONVERT_PLUGINS=Y;var F=function(ue){(0,m.default)(me,ue);var X=D(me);function me(xe,ge){return(0,f.default)(this,me),ge.evented=!0,X.call(this,xe,ge)}return(0,h.default)(me,[{key:"setup",value:function(ge,Se){this.mediaType=ge,this.debug=Se}},{key:"loadBlob",value:function(ge){return(0,S.blobToArrayBuffer)(ge)}},{key:"addFileInfo",value:function(ge,Se){(0,S.addFileInfo)(ge,Se)}},{key:"saveAs",value:function(ge){var Se=ge[Object.keys(ge)[0]];(0,S.downloadBlob)(Se,this.player().convertedData)}}]),me}(O);u.ConvertEngine=F,x.default.ConvertEngine=F,O.registerComponent("ConvertEngine",F)},"./src/js/engine/engine-loader.js":(l,u,c)=>{var d=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(u,"__esModule",{value:!0}),u.getConvertEngine=u.getVideoEngine=u.isAudioPluginActive=u.getAudioEngine=void 0;var f=d(c("video.js")),h=d(c("./src/js/engine/record-rtc.js")),m=c("./src/js/engine/convert-engine.js"),g=c("./src/js/engine/record-engine.js"),v=function(O){var B;switch(O){case g.RECORDRTC:B=h.default;break;case g.LIBVORBISJS:B=f.default.LibVorbisEngine;break;case g.RECORDERJS:B=f.default.RecorderjsEngine;break;case g.LAMEJS:B=f.default.LamejsEngine;break;case g.OPUSRECORDER:B=f.default.OpusRecorderEngine;break;case g.OPUSMEDIARECORDER:B=f.default.OpusMediaRecorderEngine;break;case g.VMSG:B=f.default.VmsgEngine;break;default:throw new Error("Unknown audioEngine: "+O)}return B};u.getAudioEngine=v;var x=function(O){var B;switch(O){case g.RECORDRTC:B=h.default;break;case g.WEBMWASM:B=f.default.WebmWasmEngine;break;default:throw new Error("Unknown videoEngine: "+O)}return B};u.getVideoEngine=x;var S=function(O){return g.AUDIO_PLUGINS.indexOf(O)>-1};u.isAudioPluginActive=S;var D=function(O){var B;switch(O){case"":break;case m.TSEBML:B=f.default.TsEBMLEngine;break;case m.FFMPEGJS:B=f.default.FFmpegjsEngine;break;case m.FFMPEGWASM:B=f.default.FFmpegWasmEngine;break;default:throw new Error("Unknown convertEngine: "+O)}return B};u.getConvertEngine=D},"./src/js/engine/record-engine.js":(l,u,c)=>{var d=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(u,"__esModule",{value:!0}),u.WEBMWASM=u.VMSG=u.OPUSMEDIARECORDER=u.OPUSRECORDER=u.LAMEJS=u.RECORDERJS=u.LIBVORBISJS=u.RECORDRTC=u.VIDEO_PLUGINS=u.AUDIO_PLUGINS=u.RECORD_PLUGINS=u.RecordEngine=void 0;var f=d(c("./node_modules/@babel/runtime/helpers/classCallCheck.js")),h=d(c("./node_modules/@babel/runtime/helpers/createClass.js")),m=d(c("./node_modules/@babel/runtime/helpers/inherits.js")),g=d(c("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),v=d(c("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),x=d(c("video.js")),S=d(c("./src/js/event.js")),D=c("./src/js/utils/file-util.js");function P(Ye){var Z=O();return function(){var q=(0,v.default)(Ye),ae;if(Z){var _e=(0,v.default)(this).constructor;ae=Reflect.construct(q,arguments,_e)}else ae=q.apply(this,arguments);return(0,g.default)(this,ae)}}function O(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var B=x.default.getComponent("Component"),z="recordrtc";u.RECORDRTC=z;var U="libvorbis.js";u.LIBVORBISJS=U;var Y="recorder.js";u.RECORDERJS=Y;var F="lamejs";u.LAMEJS=F;var ue="opus-recorder";u.OPUSRECORDER=ue;var X="opus-media-recorder";u.OPUSMEDIARECORDER=X;var me="vmsg";u.VMSG=me;var xe="webm-wasm";u.WEBMWASM=xe;var ge=[U,Y,F,ue,X,me];u.AUDIO_PLUGINS=ge;var Se=[xe];u.VIDEO_PLUGINS=Se;var Ae=ge.concat(Se);u.RECORD_PLUGINS=Ae;var he=function(Ye){(0,m.default)(C,Ye);var Z=P(C);function C(q,ae){return(0,f.default)(this,C),ae.evented=!0,Z.call(this,q,ae)}return(0,h.default)(C,[{key:"dispose",value:function(){this.recordedData!==void 0&&URL.revokeObjectURL(this.recordedData)}},{key:"destroy",value:function(){}},{key:"addFileInfo",value:function(ae){(0,D.addFileInfo)(ae)}},{key:"onStopRecording",value:function(ae){this.recordedData=ae,this.addFileInfo(this.recordedData),this.dispose(),this.trigger(S.default.RECORD_COMPLETE)}},{key:"saveAs",value:function(ae){var _e=ae[Object.keys(ae)[0]];(0,D.downloadBlob)(_e,this.recordedData)}}]),C}(B);u.RecordEngine=he,x.default.RecordEngine=he,B.registerComponent("RecordEngine",he)},"./src/js/engine/record-mode.js":(l,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.AUDIO_SCREEN=u.SCREEN_ONLY=u.ANIMATION=u.AUDIO_VIDEO=u.VIDEO_ONLY=u.AUDIO_ONLY=u.IMAGE_ONLY=u.getRecorderMode=void 0;var c="image_only";u.IMAGE_ONLY=c;var d="audio_only";u.AUDIO_ONLY=d;var f="video_only";u.VIDEO_ONLY=f;var h="audio_video";u.AUDIO_VIDEO=h;var m="audio_screen";u.AUDIO_SCREEN=m;var g="animation";u.ANIMATION=g;var v="screen_only";u.SCREEN_ONLY=v;var x=function(P,O,B,z,U){if(S(P))return c;if(S(z))return g;if(S(O)&&S(B))return h;if(S(O)&&S(U))return m;if(!S(O)&&S(U))return v;if(S(O)&&!S(B))return d;if(!S(O)&&S(B))return f};u.getRecorderMode=x;var S=function(P){return P===Object(P)||P===!0}},"./src/js/engine/record-rtc.js":(l,u,c)=>{var d=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var f=d(c("./node_modules/@babel/runtime/helpers/classCallCheck.js")),h=d(c("./node_modules/@babel/runtime/helpers/createClass.js")),m=d(c("./node_modules/@babel/runtime/helpers/get.js")),g=d(c("./node_modules/@babel/runtime/helpers/inherits.js")),v=d(c("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),x=d(c("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),S=d(c("video.js")),D=d(c("recordrtc")),P=d(c("./src/js/event.js")),O=c("./src/js/engine/record-engine.js");c("./src/js/utils/detect-browser.js");var B=c("./src/js/engine/record-mode.js");function z(X){var me=U();return function(){var ge=(0,x.default)(X),Se;if(me){var Ae=(0,x.default)(this).constructor;Se=Reflect.construct(ge,arguments,Ae)}else Se=ge.apply(this,arguments);return(0,v.default)(this,Se)}}function U(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Y=S.default.getComponent("Component"),F=function(X){(0,g.default)(xe,X);var me=z(xe);function xe(){return(0,f.default)(this,xe),me.apply(this,arguments)}return(0,h.default)(xe,[{key:"setup",value:function(Se,Ae,he){this.inputStream=Se,this.mediaType=Ae,this.debug=he,"screen"in this.mediaType&&(this.mediaType.video=!0),this.recorderType!==void 0&&(this.mediaType.video=this.recorderType),this.engine=new D.default.MRecordRTC,this.engine.mediaType=this.mediaType,this.engine.disableLogs=!this.debug,this.engine.mimeType=this.mimeType,this.engine.bufferSize=this.bufferSize,this.engine.sampleRate=this.sampleRate,this.engine.numberOfAudioChannels=this.audioChannels,this.engine.video=this.video,this.engine.canvas=this.canvas,this.engine.bitrate=this.bitRate,this.engine.quality=this.quality,this.engine.frameRate=this.frameRate,this.timeSlice!==void 0&&(this.engine.timeSlice=this.timeSlice,this.engine.onTimeStamp=this.onTimeStamp.bind(this)),this.engine.workerPath=this.workerPath,this.engine.webAssemblyPath=this.videoWebAssemblyURL,this.engine.addStream(this.inputStream)}},{key:"dispose",value:function(){(0,m.default)((0,x.default)(xe.prototype),"dispose",this).call(this),this.destroy()}},{key:"destroy",value:function(){this.engine&&typeof this.engine.destroy=="function"&&this.engine.destroy()}},{key:"start",value:function(){this.engine.startRecording()}},{key:"stop",value:function(){this.engine.stopRecording(this.onStopRecording.bind(this))}},{key:"pause",value:function(){this.engine.pauseRecording()}},{key:"resume",value:function(){this.engine.resumeRecording()}},{key:"saveAs",value:function(Se){this.engine&&Se!==void 0&&this.engine.save(Se)}},{key:"onStopRecording",value:function(Se,Ae){var he=this;URL.revokeObjectURL(Se);var Ye=this.player().record().getRecordType();this.engine.getBlob(function(Z){switch(Ye){case B.AUDIO_ONLY:Z.audio!==void 0&&(he.recordedData=Z.audio);break;case B.VIDEO_ONLY:case B.AUDIO_VIDEO:case B.AUDIO_SCREEN:case B.SCREEN_ONLY:Z.video!==void 0&&(he.recordedData=Z.video);break;case B.ANIMATION:Z.gif!==void 0&&(he.recordedData=Z.gif);break}he.addFileInfo(he.recordedData),he.trigger(P.default.RECORD_COMPLETE)})}},{key:"onTimeStamp",value:function(Se,Ae){this.player().currentTimestamp=Se,this.player().allTimestamps=Ae;var he;switch(this.player().record().getRecordType()){case B.AUDIO_ONLY:he=this.engine.audioRecorder;break;case B.ANIMATION:he=this.engine.gifRecorder;break;default:he=this.engine.videoRecorder}var Ye=!1;if(he&&(he=he.getInternalRecorder()),he instanceof D.default.MediaStreamRecorder&&(this.player().recordedData=he.getArrayOfBlobs(),this.addFileInfo(this.player().recordedData[this.player_.recordedData.length-1]),this.maxFileSize>0)){var Z=new Blob(this.player().recordedData).size;Z>=this.maxFileSize&&(Ye=!0)}this.player().trigger(P.default.TIMESTAMP),Ye&&this.player().record().stop()}}]),xe}(O.RecordEngine);S.default.RecordRTCEngine=F,Y.registerComponent("RecordRTCEngine",F);var ue=F;u.default=ue,l.exports=u.default},"./src/js/event.js":(l,u,c)=>{var d=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var f=d(c("./node_modules/@babel/runtime/helpers/classCallCheck.js")),h=function g(){(0,f.default)(this,g)};h.READY="ready",h.ERROR="error",h.PLAYING="playing",h.LOADEDMETADATA="loadedmetadata",h.LOADSTART="loadstart",h.USERINACTIVE="userinactive",h.TIMEUPDATE="timeupdate",h.DURATIONCHANGE="durationchange",h.ENDED="ended",h.PAUSE="pause",h.PLAY="play",h.DEVICE_READY="deviceReady",h.DEVICE_ERROR="deviceError",h.START_RECORD="startRecord",h.STOP_RECORD="stopRecord",h.FINISH_RECORD="finishRecord",h.RECORD_COMPLETE="recordComplete",h.PROGRESS_RECORD="progressRecord",h.TIMESTAMP="timestamp",h.ENUMERATE_READY="enumerateReady",h.ENUMERATE_ERROR="enumerateError",h.AUDIO_BUFFER_UPDATE="audioBufferUpdate",h.AUDIO_OUTPUT_READY="audioOutputReady",h.START_CONVERT="startConvert",h.FINISH_CONVERT="finishConvert",h.ENTER_PIP="enterPIP",h.LEAVE_PIP="leavePIP",h.RETRY="retry",h.ENTERPICTUREINPICTURE="enterpictureinpicture",h.LEAVEPICTUREINPICTURE="leavepictureinpicture",Object.freeze(h);var m=h;u.default=m,l.exports=u.default},"./src/js/hot-keys.js":(l,u,c)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var d=c("./src/js/engine/record-mode.js"),f=88,h=80,m=67,g=function(S){switch(S.which){case f:switch(this.player_.record().getRecordType()){case d.IMAGE_ONLY:this.player_.cameraButton.trigger("click");break;default:this.player_.recordToggle.trigger("click")}break;case h:this.player_.record().pictureInPicture===!0&&this.player_.pipToggle.trigger("click");break;case m:this.player_.controlBar.playToggle&&this.player_.controlBar.playToggle.contentEl()&&player.controlBar.playToggle.trigger("click");break}},v=g;u.default=v,l.exports=u.default},"./src/js/utils/browser-shim.js":(l,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var c=function(h,m){"srcObject"in m?m.srcObject=h:"mozSrcObject"in m?m.mozSrcObject=h:m.srcObject=h},d=c;u.default=d,l.exports=u.default},"./src/js/utils/compare-version.js":(l,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var c=function(h,m){if(typeof h!="string"||typeof m!="string")return!1;h=h.split("."),m=m.split(".");var g=Math.min(h.length,m.length),v=0;for(v;v<g;++v){if(h[v]=parseInt(h[v],10),m[v]=parseInt(m[v],10),h[v]>m[v])return 1;if(h[v]<m[v])return-1}return h.length===m.length?0:h.length<m.length?-1:1},d=c;u.default=d,l.exports=u.default},"./src/js/utils/detect-browser.js":(l,u,c)=>{var d=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(u,"__esModule",{value:!0}),u.isFirefox=u.isSafari=u.isChrome=u.isOpera=u.isEdge=u.detectBrowser=void 0;var f=d(c("./node_modules/global/window.js")),h=function(){var O={};if(O.browser=null,O.version=null,O.minVersion=null,typeof f.default=="undefined"||!f.default.navigator)return O.browser="Not a supported browser.",O;if(navigator.mozGetUserMedia)O.browser="firefox",O.version=m(navigator.userAgent,/Firefox\/(\d+)\./,1),O.minVersion=31;else if(navigator.webkitGetUserMedia)O.browser="chrome",O.version=m(navigator.userAgent,/Chrom(e|ium)\/(\d+)\./,2),O.minVersion=38;else if(navigator.mediaDevices&&navigator.userAgent.match(/Edge\/(\d+).(\d+)$/))O.browser="edge",O.version=m(navigator.userAgent,/Edge\/(\d+).(\d+)$/,2),O.minVersion=10547;else if(f.default.RTCPeerConnection&&navigator.userAgent.match(/AppleWebKit\/(\d+)\./))O.browser="safari",O.version=m(navigator.userAgent,/AppleWebKit\/(\d+)\./,1);else return O.browser="Not a supported browser.",O;return O};u.detectBrowser=h;var m=function(O,B,z){var U=O.match(B);return U&&U.length>=z&&parseInt(U[z],10)},g=function(){return h().browser==="edge"};u.isEdge=g;var v=function(){return h().browser==="safari"};u.isSafari=v;var x=function(){return!!f.default.opera||navigator.userAgent.indexOf("OPR/")!==-1};u.isOpera=x;var S=function(){return h().browser==="chrome"};u.isChrome=S;var D=function(){return h().browser==="firefox"};u.isFirefox=D},"./src/js/utils/file-util.js":(l,u,c)=>{var d=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(u,"__esModule",{value:!0}),u.addFileInfo=u.blobToArrayBuffer=u.downloadBlob=void 0;var f=d(c("./src/js/utils/mime.js")),h=function(x,S){if(typeof navigator.msSaveOrOpenBlob!="undefined")return navigator.msSaveOrOpenBlob(S,x);if(typeof navigator.msSaveBlob!="undefined")return navigator.msSaveBlob(S,x);var D=document.createElement("a");D.href=URL.createObjectURL(S),D.download=x,D.style="display:none;opacity:0;color:transparent;",(document.body||document.documentElement).appendChild(D),typeof D.click=="function"?D.click():(D.target="_blank",D.dispatchEvent(new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0}))),URL.revokeObjectURL(D.href)};u.downloadBlob=h;var m=function(x){return new Promise(function(S,D){var P=new FileReader;P.onloadend=function(){S(P.result)},P.onerror=function(O){D(O.error)},P.readAsArrayBuffer(x)})};u.blobToArrayBuffer=m;var g=function(x,S,D){if(x instanceof Blob||x instanceof File){S===void 0&&(S=new Date);try{x.lastModified=S.getTime(),x.lastModifiedDate=S}catch(P){if(!(P instanceof TypeError))throw P}D===void 0&&(D="."+(0,f.default)(x.type));try{x.name=S.getTime()+D}catch(P){if(!(P instanceof TypeError))throw P}}};u.addFileInfo=g},"./src/js/utils/format-time.js":(l,u,c)=>{var d=c("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var f=d(c("./node_modules/parse-ms/index.js")),h=d(c("./node_modules/add-zero/index.js")),m=function(x,S){var D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;x=x<0?0:x,(isNaN(x)||x===1/0)&&(x=0);var P=(0,f.default)(x*1e3),O=P;S!==void 0&&(O=(0,f.default)(S*1e3));var B=(0,h.default)(P.hours),z=(0,h.default)(P.minutes),U=(0,h.default)(P.seconds),Y=(0,h.default)(P.milliseconds,3);if(P.days>0||O.days>0){var F=(0,h.default)(P.days);return"".concat(F,":").concat(B,":").concat(z,":").concat(U)}return P.hours>0||O.hours>0?"".concat(B,":").concat(z,":").concat(U):D?"".concat(z,":").concat(U,":").concat(Y):"".concat(z,":").concat(U)},g=m;u.default=g,l.exports=u.default},"./src/js/utils/mime.js":(l,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var c=/^\s*([^;\s]*)(?:;|\s|$)/,d={"video/ogg":"ogv","video/mp4":"mp4","video/x-matroska":"mkv","video/webm":"webm","audio/mp4":"m4a","audio/mpeg":"mp3","audio/aac":"aac","audio/flac":"flac","audio/ogg":"oga","audio/wav":"wav","audio/webm":"webm","application/x-mpegURL":"m3u8","image/jpeg":"jpg","image/gif":"gif","image/png":"png","image/svg+xml":"svg","image/webp":"webp"},f=function(g){var v=c.exec(g),x=v&&v[1].toLowerCase();return d[x]},h=f;u.default=h,l.exports=u.default},"./node_modules/global/window.js":(l,u,c)=>{var d;typeof window!="undefined"?d=window:typeof c.g!="undefined"?d=c.g:typeof self!="undefined"?d=self:d={},l.exports=d},"./node_modules/parse-ms/index.js":(l,u,c)=>{c.r(u),c.d(u,{default:()=>d});function d(f){if(typeof f!="number")throw new TypeError("Expected a number");const h=f>0?Math.floor:Math.ceil;return{days:h(f/864e5),hours:h(f/36e5)%24,minutes:h(f/6e4)%60,seconds:h(f/1e3)%60,milliseconds:h(f)%1e3,microseconds:h(f*1e3)%1e3,nanoseconds:h(f*1e6)%1e3}}},"./node_modules/regenerator-runtime/runtime.js":l=>{var u=function(c){var d=Object.prototype,f=d.hasOwnProperty,h,m=typeof Symbol=="function"?Symbol:{},g=m.iterator||"@@iterator",v=m.asyncIterator||"@@asyncIterator",x=m.toStringTag||"@@toStringTag";function S(k,W,L,$){var I=W&&W.prototype instanceof Y?W:Y,K=Object.create(I.prototype),pe=new q($||[]);return K._invoke=he(k,L,pe),K}c.wrap=S;function D(k,W,L){try{return{type:"normal",arg:k.call(W,L)}}catch($){return{type:"throw",arg:$}}}var P="suspendedStart",O="suspendedYield",B="executing",z="completed",U={};function Y(){}function F(){}function ue(){}var X={};X[g]=function(){return this};var me=Object.getPrototypeOf,xe=me&&me(me(ae([])));xe&&xe!==d&&f.call(xe,g)&&(X=xe);var ge=ue.prototype=Y.prototype=Object.create(X);F.prototype=ge.constructor=ue,ue.constructor=F,ue[x]=F.displayName="GeneratorFunction";function Se(k){["next","throw","return"].forEach(function(W){k[W]=function(L){return this._invoke(W,L)}})}c.isGeneratorFunction=function(k){var W=typeof k=="function"&&k.constructor;return W?W===F||(W.displayName||W.name)==="GeneratorFunction":!1},c.mark=function(k){return Object.setPrototypeOf?Object.setPrototypeOf(k,ue):(k.__proto__=ue,x in k||(k[x]="GeneratorFunction")),k.prototype=Object.create(ge),k},c.awrap=function(k){return{__await:k}};function Ae(k,W){function L(K,pe,ve,R){var M=D(k[K],k,pe);if(M.type==="throw")R(M.arg);else{var ie=M.arg,ye=ie.value;return ye&&typeof ye=="object"&&f.call(ye,"__await")?W.resolve(ye.__await).then(function(H){L("next",H,ve,R)},function(H){L("throw",H,ve,R)}):W.resolve(ye).then(function(H){ie.value=H,ve(ie)},function(H){return L("throw",H,ve,R)})}}var $;function I(K,pe){function ve(){return new W(function(R,M){L(K,pe,R,M)})}return $=$?$.then(ve,ve):ve()}this._invoke=I}Se(Ae.prototype),Ae.prototype[v]=function(){return this},c.AsyncIterator=Ae,c.async=function(k,W,L,$,I){I===void 0&&(I=Promise);var K=new Ae(S(k,W,L,$),I);return c.isGeneratorFunction(W)?K:K.next().then(function(pe){return pe.done?pe.value:K.next()})};function he(k,W,L){var $=P;return function(K,pe){if($===B)throw new Error("Generator is already running");if($===z){if(K==="throw")throw pe;return _e()}for(L.method=K,L.arg=pe;;){var ve=L.delegate;if(ve){var R=Ye(ve,L);if(R){if(R===U)continue;return R}}if(L.method==="next")L.sent=L._sent=L.arg;else if(L.method==="throw"){if($===P)throw $=z,L.arg;L.dispatchException(L.arg)}else L.method==="return"&&L.abrupt("return",L.arg);$=B;var M=D(k,W,L);if(M.type==="normal"){if($=L.done?z:O,M.arg===U)continue;return{value:M.arg,done:L.done}}else M.type==="throw"&&($=z,L.method="throw",L.arg=M.arg)}}}function Ye(k,W){var L=k.iterator[W.method];if(L===h){if(W.delegate=null,W.method==="throw"){if(k.iterator.return&&(W.method="return",W.arg=h,Ye(k,W),W.method==="throw"))return U;W.method="throw",W.arg=new TypeError("The iterator does not provide a 'throw' method")}return U}var $=D(L,k.iterator,W.arg);if($.type==="throw")return W.method="throw",W.arg=$.arg,W.delegate=null,U;var I=$.arg;if(!I)return W.method="throw",W.arg=new TypeError("iterator result is not an object"),W.delegate=null,U;if(I.done)W[k.resultName]=I.value,W.next=k.nextLoc,W.method!=="return"&&(W.method="next",W.arg=h);else return I;return W.delegate=null,U}Se(ge),ge[x]="Generator",ge[g]=function(){return this},ge.toString=function(){return"[object Generator]"};function Z(k){var W={tryLoc:k[0]};1 in k&&(W.catchLoc=k[1]),2 in k&&(W.finallyLoc=k[2],W.afterLoc=k[3]),this.tryEntries.push(W)}function C(k){var W=k.completion||{};W.type="normal",delete W.arg,k.completion=W}function q(k){this.tryEntries=[{tryLoc:"root"}],k.forEach(Z,this),this.reset(!0)}c.keys=function(k){var W=[];for(var L in k)W.push(L);return W.reverse(),function $(){for(;W.length;){var I=W.pop();if(I in k)return $.value=I,$.done=!1,$}return $.done=!0,$}};function ae(k){if(k){var W=k[g];if(W)return W.call(k);if(typeof k.next=="function")return k;if(!isNaN(k.length)){var L=-1,$=function I(){for(;++L<k.length;)if(f.call(k,L))return I.value=k[L],I.done=!1,I;return I.value=h,I.done=!0,I};return $.next=$}}return{next:_e}}c.values=ae;function _e(){return{value:h,done:!0}}return q.prototype={constructor:q,reset:function(k){if(this.prev=0,this.next=0,this.sent=this._sent=h,this.done=!1,this.delegate=null,this.method="next",this.arg=h,this.tryEntries.forEach(C),!k)for(var W in this)W.charAt(0)==="t"&&f.call(this,W)&&!isNaN(+W.slice(1))&&(this[W]=h)},stop:function(){this.done=!0;var k=this.tryEntries[0],W=k.completion;if(W.type==="throw")throw W.arg;return this.rval},dispatchException:function(k){if(this.done)throw k;var W=this;function L(R,M){return K.type="throw",K.arg=k,W.next=R,M&&(W.method="next",W.arg=h),!!M}for(var $=this.tryEntries.length-1;$>=0;--$){var I=this.tryEntries[$],K=I.completion;if(I.tryLoc==="root")return L("end");if(I.tryLoc<=this.prev){var pe=f.call(I,"catchLoc"),ve=f.call(I,"finallyLoc");if(pe&&ve){if(this.prev<I.catchLoc)return L(I.catchLoc,!0);if(this.prev<I.finallyLoc)return L(I.finallyLoc)}else if(pe){if(this.prev<I.catchLoc)return L(I.catchLoc,!0)}else if(ve){if(this.prev<I.finallyLoc)return L(I.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(k,W){for(var L=this.tryEntries.length-1;L>=0;--L){var $=this.tryEntries[L];if($.tryLoc<=this.prev&&f.call($,"finallyLoc")&&this.prev<$.finallyLoc){var I=$;break}}I&&(k==="break"||k==="continue")&&I.tryLoc<=W&&W<=I.finallyLoc&&(I=null);var K=I?I.completion:{};return K.type=k,K.arg=W,I?(this.method="next",this.next=I.finallyLoc,U):this.complete(K)},complete:function(k,W){if(k.type==="throw")throw k.arg;return k.type==="break"||k.type==="continue"?this.next=k.arg:k.type==="return"?(this.rval=this.arg=k.arg,this.method="return",this.next="end"):k.type==="normal"&&W&&(this.next=W),U},finish:function(k){for(var W=this.tryEntries.length-1;W>=0;--W){var L=this.tryEntries[W];if(L.finallyLoc===k)return this.complete(L.completion,L.afterLoc),C(L),U}},catch:function(k){for(var W=this.tryEntries.length-1;W>=0;--W){var L=this.tryEntries[W];if(L.tryLoc===k){var $=L.completion;if($.type==="throw"){var I=$.arg;C(L)}return I}}throw new Error("illegal catch attempt")},delegateYield:function(k,W,L){return this.delegate={iterator:ae(k),resultName:W,nextLoc:L},this.method==="next"&&(this.arg=h),U}},c}(l.exports);try{regeneratorRuntime=u}catch{Function("r","regeneratorRuntime = r")(u)}},recordrtc:l=>{l.exports=r},"video.js":l=>{l.exports=n}},s={};function a(l){var u=s[l];if(u!==void 0)return u.exports;var c=s[l]={exports:{}};return i[l].call(c.exports,c,c.exports,a),c.exports}a.d=(l,u)=>{for(var c in u)a.o(u,c)&&!a.o(l,c)&&Object.defineProperty(l,c,{enumerable:!0,get:u[c]})},a.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),a.o=(l,u)=>Object.prototype.hasOwnProperty.call(l,u),a.r=l=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})};var o={};return(()=>{var l=o;/*!**********************************!*\
  !*** ./src/js/videojs.record.js ***!
  \**********************************/var u=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(l,"__esModule",{value:!0}),l.Record=void 0;var c=u(a("./node_modules/@babel/runtime/helpers/typeof.js")),d=u(a("./node_modules/@babel/runtime/helpers/classCallCheck.js")),f=u(a("./node_modules/@babel/runtime/helpers/createClass.js")),h=u(a("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),m=u(a("./node_modules/@babel/runtime/helpers/get.js")),g=u(a("./node_modules/@babel/runtime/helpers/inherits.js")),v=u(a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),x=u(a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),S=u(a("video.js")),D=u(a("./src/js/controls/animation-display.js")),P=u(a("./src/js/controls/record-canvas.js")),O=u(a("./src/js/controls/device-button.js")),B=u(a("./src/js/controls/camera-button.js")),z=u(a("./src/js/controls/record-toggle.js")),U=u(a("./src/js/controls/record-indicator.js")),Y=u(a("./src/js/controls/picture-in-picture-toggle.js")),F=u(a("./src/js/event.js")),ue=u(a("./src/js/hot-keys.js")),X=u(a("./src/js/defaults.js")),me=u(a("./src/js/utils/format-time.js")),xe=u(a("./src/js/utils/browser-shim.js")),ge=u(a("./src/js/utils/compare-version.js")),Se=a("./src/js/utils/detect-browser.js"),Ae=a("./src/js/engine/engine-loader.js"),he=a("./src/js/engine/record-mode.js");function Ye(k){var W=Z();return function(){var $=(0,x.default)(k),I;if(W){var K=(0,x.default)(this).constructor;I=Reflect.construct($,arguments,K)}else I=$.apply(this,arguments);return(0,v.default)(this,I)}}function Z(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var C=S.default.getPlugin("plugin"),q=S.default.getComponent("Player"),ae="auto",_e=function(k){(0,g.default)(L,k);var W=Ye(L);function L($,I){var K;(0,d.default)(this,L),K=W.call(this,$,I),q.prototype.play=function(){var ie=this.techGet_("play");return ie!==void 0&&typeof ie.then=="function"&&ie.then(null,function(ye){}),ie},$.addClass("vjs-record"),K.loadOptions(),K.resetState(),I.formatTime&&typeof I.formatTime=="function"?K.setFormatTime(I.formatTime):K.setFormatTime(function(M,ie){return(0,me.default)(M,ie,K.displayMilliseconds)});var pe="av-perm";switch(K.getRecordType()){case he.IMAGE_ONLY:case he.VIDEO_ONLY:case he.ANIMATION:pe="video-perm";break;case he.AUDIO_ONLY:pe="audio-perm";break;case he.SCREEN_ONLY:pe="screen-perm";break;case he.AUDIO_SCREEN:pe="sv-perm";break}O.default.prototype.buildCSSClass=function(){return"vjs-record vjs-device-button vjs-control vjs-icon-"+pe},$.deviceButton=new O.default($,I),$.addChild($.deviceButton),$.recordIndicator=new U.default($,I),$.recordIndicator.hide(),$.addChild($.recordIndicator),$.recordCanvas=new P.default($,I),$.recordCanvas.hide(),$.addChild($.recordCanvas),$.animationDisplay=new D.default($,I),$.animationDisplay.hide(),$.addChild($.animationDisplay),$.cameraButton=new B.default($,I),$.cameraButton.hide(),$.recordToggle=new z.default($,I),$.recordToggle.hide();var ve=S.default.VERSION===void 0||(0,ge.default)(S.default.VERSION,"7.6.0")===-1;if("pictureInPictureEnabled"in document||(K.pictureInPicture=!1),K.pictureInPicture===!0&&(ve&&($.pipToggle=new Y.default($,I),$.pipToggle.hide()),K.onEnterPiPHandler=K.onEnterPiP.bind((0,h.default)(K)),K.onLeavePiPHandler=K.onLeavePiP.bind((0,h.default)(K))),K.player.options_.controlBar){var R=["deviceButton","recordIndicator","cameraButton","recordToggle"];$.pipToggle&&R.push("pipToggle"),R.forEach(function(M){K.player.options_.controlBar[M]!==void 0&&(K.player[M].layoutExclude=!0,K.player[M].hide())})}return K.player.one(F.default.READY,K.setupUI.bind((0,h.default)(K))),K}return(0,f.default)(L,[{key:"loadOptions",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},K=S.default.mergeOptions(X.default,this.player.options_.plugins.record,I);this.recordImage=K.image,this.recordAudio=K.audio,this.recordVideo=K.video,this.recordAnimation=K.animation,this.recordScreen=K.screen,this.maxLength=K.maxLength,this.maxFileSize=K.maxFileSize,this.displayMilliseconds=K.displayMilliseconds,this.debug=K.debug,this.pictureInPicture=K.pip,this.recordTimeSlice=K.timeSlice,this.autoMuteDevice=K.autoMuteDevice,this.pluginLibraryOptions=K.pluginLibraryOptions,this.videoFrameWidth=K.frameWidth,this.videoFrameHeight=K.frameHeight,this.videoFrameRate=K.videoFrameRate,this.videoBitRate=K.videoBitRate,this.videoEngine=K.videoEngine,this.videoRecorderType=K.videoRecorderType,this.videoMimeType=K.videoMimeType,this.videoWorkerURL=K.videoWorkerURL,this.videoWebAssemblyURL=K.videoWebAssemblyURL,this.convertEngine=K.convertEngine,this.convertAuto=K.convertAuto,this.convertWorkerURL=K.convertWorkerURL,this.convertOptions=K.convertOptions,this.audioEngine=K.audioEngine,this.audioRecorderType=K.audioRecorderType,this.audioWorkerURL=K.audioWorkerURL,this.audioWebAssemblyURL=K.audioWebAssemblyURL,this.audioBufferSize=K.audioBufferSize,this.audioSampleRate=K.audioSampleRate,this.audioBitRate=K.audioBitRate,this.audioChannels=K.audioChannels,this.audioMimeType=K.audioMimeType,this.audioBufferUpdate=K.audioBufferUpdate,this.imageOutputType=K.imageOutputType,this.imageOutputFormat=K.imageOutputFormat,this.imageOutputQuality=K.imageOutputQuality,this.animationFrameRate=K.animationFrameRate,this.animationQuality=K.animationQuality}},{key:"setupUI",value:function(){var I=this;switch(this.player.controlBar.addChild(this.player.cameraButton),this.player.controlBar.el().insertBefore(this.player.cameraButton.el(),this.player.controlBar.el().firstChild),this.player.controlBar.el().insertBefore(this.player.recordToggle.el(),this.player.controlBar.el().firstChild),this.pictureInPicture===!0?this.player.controlBar.pictureInPictureToggle===void 0&&this.player.pipToggle!==void 0?this.player.controlBar.addChild(this.player.pipToggle):this.player.controlBar.pictureInPictureToggle!==void 0&&(this.player.pipToggle=this.player.controlBar.pictureInPictureToggle,this.player.pipToggle.hide()):this.pictureInPicture===!1&&this.player.controlBar.pictureInPictureToggle!==void 0&&this.player.controlBar.pictureInPictureToggle.hide(),this.player.controlBar.remainingTimeDisplay!==void 0&&(this.player.controlBar.remainingTimeDisplay.el().style.display="none"),this.player.controlBar.liveDisplay!==void 0&&(this.player.controlBar.liveDisplay.el().style.display="none"),this.player.loop(!1),this.getRecordType()){case he.AUDIO_ONLY:this.surfer=this.player.wavesurfer(),this.surfer.setFormatTime(this._formatTime);break;case he.IMAGE_ONLY:case he.VIDEO_ONLY:case he.AUDIO_VIDEO:case he.ANIMATION:case he.SCREEN_ONLY:case he.AUDIO_SCREEN:this.player.bigPlayButton!==void 0&&this.player.bigPlayButton.hide(),this.player.one(F.default.LOADEDMETADATA,function(){I.setDuration(I.maxLength)}),this.player.one(F.default.LOADSTART,function(){I.setDuration(I.maxLength)}),this.player.usingNativeControls_===!0&&this.player.tech_.el_!==void 0&&(this.player.tech_.el_.controls=!1),this.player.removeTechControlsListeners_(),this.player.options_.controls&&(this.player.controlBar.progressControl!==void 0&&this.player.controlBar.progressControl.hide(),this.player.on(F.default.USERINACTIVE,function(pe){I.player.userActive(!0)}),this.player.controlBar.show(),this.player.controlBar.el().style.display="flex");break}if(this.player.off(F.default.TIMEUPDATE),this.player.off(F.default.DURATIONCHANGE),this.player.off(F.default.LOADEDMETADATA),this.player.off(F.default.LOADSTART),this.player.off(F.default.ENDED),this.setDuration(this.maxLength),this.player.options_.plugins.record&&this.player.options_.plugins.record.hotKeys&&this.player.options_.plugins.record.hotKeys!==!1){var K=this.player.options_.plugins.record.hotKeys;K===!0&&(K=ue.default),this.player.options_.userActions={hotkeys:K}}this.player.controlBar.playToggle!==void 0&&this.player.controlBar.playToggle.hide()}},{key:"isRecording",value:function(){return this._recording}},{key:"isProcessing",value:function(){return this._processing}},{key:"isDestroyed",value:function(){var I=this.player===null;return I===!1&&(I=this.player.children()===null),I}},{key:"getDevice",value:function(){var I=this;if(this.deviceReadyCallback===void 0&&(this.deviceReadyCallback=this.onDeviceReady.bind(this)),this.deviceErrorCallback===void 0&&(this.deviceErrorCallback=this.onDeviceError.bind(this)),this.engineStopCallback===void 0&&(this.engineStopCallback=this.onRecordComplete.bind(this)),this.streamVisibleCallback===void 0&&(this.streamVisibleCallback=this.onStreamVisible.bind(this)),this.getRecordType()===he.SCREEN_ONLY||this.getRecordType()===he.AUDIO_SCREEN){if(navigator.mediaDevices===void 0||navigator.mediaDevices.getDisplayMedia===void 0){this.player.trigger(F.default.ERROR,"This browser does not support navigator.mediaDevices.getDisplayMedia");return}}else if(navigator.mediaDevices===void 0||navigator.mediaDevices.getUserMedia===void 0){this.player.trigger(F.default.ERROR,"This browser does not support navigator.mediaDevices.getUserMedia");return}switch(this.getRecordType()){case he.AUDIO_ONLY:this.mediaType={audio:this.audioRecorderType===ae?!0:this.audioRecorderType,video:!1},this.surfer.surfer.microphone.un(F.default.DEVICE_READY,this.deviceReadyCallback),this.surfer.surfer.microphone.un(F.default.DEVICE_ERROR,this.deviceErrorCallback),this.surfer.surfer.microphone.on(F.default.DEVICE_READY,this.deviceReadyCallback),this.surfer.surfer.microphone.on(F.default.DEVICE_ERROR,this.deviceErrorCallback),this.surfer.setupPlaybackEvents(!1),this.surfer.liveMode=!0,this.surfer.surfer.microphone.paused=!1,this.surfer.surfer.backend.ac.state==="suspended"&&this.surfer.surfer.backend.ac.resume(),this.audioBufferUpdate===!0&&(this.surfer.surfer.microphone.reloadBufferFunction=function(ve){I.surfer.surfer.microphone.paused||(I.surfer.surfer.empty(),I.surfer.surfer.loadDecodedBuffer(ve.inputBuffer),I.player.recordedData=ve.inputBuffer,I.player.trigger(F.default.AUDIO_BUFFER_UPDATE))}),this.surfer.surfer.microphone.start();break;case he.IMAGE_ONLY:case he.VIDEO_ONLY:this.getRecordType()===he.IMAGE_ONLY&&this.player.el().firstChild.addEventListener(F.default.PLAYING,this.streamVisibleCallback),this.mediaType={audio:!1,video:this.videoRecorderType===ae?!0:this.videoRecorderType},navigator.mediaDevices.getUserMedia({audio:!1,video:this.getRecordType()===he.IMAGE_ONLY?this.recordImage:this.recordVideo}).then(this.onDeviceReady.bind(this)).catch(this.onDeviceError.bind(this));break;case he.AUDIO_SCREEN:this.mediaType={audio:this.audioRecorderType===ae?!0:this.audioRecorderType,video:this.videoRecorderType===ae?!0:this.videoRecorderType};var K={};this.recordScreen===!0?K={video:!0}:(0,c.default)(this.recordScreen)==="object"&&this.recordScreen.constructor===Object&&(K=this.recordScreen),navigator.mediaDevices.getDisplayMedia(K).then(function(ve){navigator.mediaDevices.getUserMedia({audio:I.recordAudio}).then(function(R){ve.addTrack(R.getTracks()[0]),I.onDeviceReady.bind(I)(ve)}).catch(function(R){ve.active&&ve.stop(),I.onDeviceError(R)})}).catch(this.onDeviceError.bind(this));break;case he.AUDIO_VIDEO:this.mediaType={audio:this.audioRecorderType===ae?!0:this.audioRecorderType,video:this.videoRecorderType===ae?!0:this.videoRecorderType},navigator.mediaDevices.getUserMedia({audio:this.recordAudio,video:this.recordVideo}).then(this.onDeviceReady.bind(this)).catch(this.onDeviceError.bind(this));break;case he.ANIMATION:this.mediaType={audio:!1,video:!1,gif:!0},navigator.mediaDevices.getUserMedia({audio:!1,video:this.recordAnimation}).then(this.onDeviceReady.bind(this)).catch(this.onDeviceError.bind(this));break;case he.SCREEN_ONLY:this.mediaType={audio:!1,video:!1,screen:!0,gif:!1};var pe={};this.recordScreen===!0?pe={video:!0}:(0,c.default)(this.recordScreen)==="object"&&this.recordScreen.constructor===Object&&(pe=this.recordScreen),navigator.mediaDevices.getDisplayMedia(pe).then(this.onDeviceReady.bind(this)).catch(this.onDeviceError.bind(this));break}}},{key:"onDeviceReady",value:function(I){var K=this;if(this._deviceActive=!0,this.stream!==void 0&&this.stream.active&&this.stream.stop(),this.stream=I,this.player.deviceButton.hide(),this.setDuration(this.maxLength),this.setCurrentTime(0),this.player.controlBar.playToggle!==void 0&&this.player.controlBar.playToggle.hide(),this.off(this.player,F.default.TIMEUPDATE,this.playbackTimeUpdate),this.off(this.player,F.default.ENDED,this.playbackTimeUpdate),this.getRecordType()!==he.IMAGE_ONLY){if(this.getRecordType()!==he.AUDIO_ONLY&&(0,Ae.isAudioPluginActive)(this.audioEngine))throw new Error("Currently "+this.audioEngine+" is only supported in audio-only mode.");var pe,ve;switch(this.getRecordType()){case he.AUDIO_ONLY:pe=(0,Ae.getAudioEngine)(this.audioEngine),ve=this.audioEngine;break;default:pe=(0,Ae.getVideoEngine)(this.videoEngine),ve=this.videoEngine}try{this.engine=new pe(this.player,this.player.options_)}catch{throw new Error("Could not load "+ve+" plugin")}if(this.engine.on(F.default.RECORD_COMPLETE,this.engineStopCallback),this.engine.bufferSize=this.audioBufferSize,this.engine.sampleRate=this.audioSampleRate,this.engine.bitRate=this.audioBitRate,this.engine.audioChannels=this.audioChannels,this.engine.audioWorkerURL=this.audioWorkerURL,this.engine.audioWebAssemblyURL=this.audioWebAssemblyURL,this.engine.mimeType={video:this.videoMimeType,gif:"image/gif"},this.audioMimeType!==null&&this.audioMimeType!==ae&&(this.engine.mimeType.audio=this.audioMimeType),this.engine.videoWorkerURL=this.videoWorkerURL,this.engine.videoWebAssemblyURL=this.videoWebAssemblyURL,this.engine.videoBitRate=this.videoBitRate,this.engine.videoFrameRate=this.videoFrameRate,this.engine.video={width:this.videoFrameWidth,height:this.videoFrameHeight},this.engine.canvas={width:this.videoFrameWidth,height:this.videoFrameHeight},this.engine.quality=this.animationQuality,this.engine.frameRate=this.animationFrameRate,this.recordTimeSlice&&this.recordTimeSlice>0&&(this.engine.timeSlice=this.recordTimeSlice,this.engine.maxFileSize=this.maxFileSize),this.engine.pluginLibraryOptions=this.pluginLibraryOptions,this.engine.setup(this.stream,this.mediaType,this.debug),this.convertEngine!==""){var R=(0,Ae.getConvertEngine)(this.convertEngine);try{this.converter=new R(this.player,this.player.options_)}catch{throw new Error("Could not load "+this.convertEngine+" plugin")}this.converter.convertAuto=this.convertAuto,this.converter.convertWorkerURL=this.convertWorkerURL,this.converter.convertOptions=this.convertOptions,this.converter.pluginLibraryOptions=this.pluginLibraryOptions,this.converter.setup(this.mediaType,this.debug)}var M=["currentTimeDisplay","timeDivider","durationDisplay"];M.forEach(function(ie){ie=K.player.controlBar[ie],ie!==void 0&&(ie.el().style.display="block",ie.show())}),this.player.recordToggle.show()}else this.player.recordIndicator.disable(),this.retrySnapshot();this.getRecordType()!==he.AUDIO_ONLY?(this.mediaElement=this.player.el().firstChild,this.mediaElement.controls=!1,this.mediaElement.muted=!0,this.displayVolumeControl(!1),this.pictureInPicture===!0&&(this.player.pipToggle.show(),this.mediaElement.removeEventListener(F.default.ENTERPICTUREINPICTURE,this.onEnterPiPHandler),this.mediaElement.removeEventListener(F.default.LEAVEPICTUREINPICTURE,this.onLeavePiPHandler),this.mediaElement.addEventListener(F.default.ENTERPICTUREINPICTURE,this.onEnterPiPHandler),this.mediaElement.addEventListener(F.default.LEAVEPICTUREINPICTURE,this.onLeavePiPHandler)),this.load(this.stream),this.player.one(F.default.LOADEDMETADATA,function(){K.mediaElement.play(),K.player.trigger(F.default.DEVICE_READY)})):this.player.trigger(F.default.DEVICE_READY)}},{key:"onDeviceError",value:function(I){this._deviceActive=!1,this.isDestroyed()||(this.player.deviceErrorCode=I,this.player.trigger(F.default.DEVICE_ERROR))}},{key:"start",value:function(){var I=this;if(!this.isProcessing()){if(this.stream&&this.stream.active===!1){this.getDevice();return}switch(this._recording=!0,this.player.controlBar.playToggle!==void 0&&this.player.controlBar.playToggle.hide(),this.off(this.player,F.default.TIMEUPDATE,this.playbackTimeUpdate),this.off(this.player,F.default.ENDED,this.playbackTimeUpdate),this.getRecordType()){case he.AUDIO_ONLY:this.surfer.setupPlaybackEvents(!1),this.surfer.surfer.microphone.paused=!1,this.surfer.liveMode=!0,this.surfer.surfer.microphone.play();break;case he.VIDEO_ONLY:case he.AUDIO_VIDEO:case he.AUDIO_SCREEN:case he.SCREEN_ONLY:this.startVideoPreview();break;case he.ANIMATION:this.player.recordCanvas.hide(),this.player.animationDisplay.hide(),this.mediaElement.style.display="block",this.captureFrame().then(function(K){I.startVideoPreview()});break}switch(this.autoMuteDevice&&this.muteTracks(!1),this.getRecordType()){case he.IMAGE_ONLY:this.createSnapshot(),this.player.trigger(F.default.START_RECORD);break;case he.VIDEO_ONLY:case he.AUDIO_VIDEO:case he.AUDIO_SCREEN:case he.ANIMATION:case he.SCREEN_ONLY:this.player.one(F.default.LOADEDMETADATA,function(){I.startRecording()});break;default:this.startRecording()}}}},{key:"startRecording",value:function(){this.paused=!1,this.pauseTime=this.pausedTime=0,this.startTime=performance.now();var I=100;this.countDown=this.player.setInterval(this.onCountDown.bind(this),I),this.engine!==void 0&&this.engine.dispose(),this.engine.start(),this.player.trigger(F.default.START_RECORD)}},{key:"stop",value:function(){this.isProcessing()||(this._recording=!1,this._processing=!0,this.getRecordType()!==he.IMAGE_ONLY?(this.player.trigger(F.default.STOP_RECORD),this.player.clearInterval(this.countDown),this.engine&&this.engine.stop(),this.autoMuteDevice&&this.muteTracks(!0)):this.player.recordedData&&this.player.trigger(F.default.FINISH_RECORD))}},{key:"stopDevice",value:function(){this.isRecording()?(this.player.one(F.default.FINISH_RECORD,this.stopStream.bind(this)),this.stop()):this.stopStream()}},{key:"stopStream",value:function(){if(this.stream){if(this._deviceActive=!1,this.getRecordType()===he.AUDIO_ONLY){this.surfer.surfer.microphone.stopDevice();return}this.stream.getTracks().forEach(function(I){I.stop()})}}},{key:"pause",value:function(){this.paused||(this.pauseTime=performance.now(),this.paused=!0,this.engine.pause())}},{key:"resume",value:function(){this.paused&&(this.pausedTime+=performance.now()-this.pauseTime,this.engine.resume(),this.paused=!1)}},{key:"onRecordComplete",value:function(){var I=this;if(this.player.recordedData=this.engine.recordedData,this.player.controlBar.playToggle!==void 0&&(this.player.controlBar.playToggle.removeClass("vjs-ended"),this.player.controlBar.playToggle.show()),this.convertAuto===!0&&this.convert(),this.player.trigger(F.default.FINISH_RECORD),!this.isDestroyed())switch(this.getRecordType()){case he.AUDIO_ONLY:this.surfer.pause(),this.surfer.setupPlaybackEvents(!0),this.player.loadingSpinner.show(),this.surfer.surfer.once(F.default.READY,function(){I._processing=!1}),this.load(this.player.recordedData);break;case he.VIDEO_ONLY:case he.AUDIO_VIDEO:case he.AUDIO_SCREEN:case he.SCREEN_ONLY:this.player.one(F.default.PAUSE,function(){I._processing=!1,I.player.loadingSpinner.hide(),I.setDuration(I.streamDuration),I.on(I.player,F.default.TIMEUPDATE,I.playbackTimeUpdate),I.on(I.player,F.default.ENDED,I.playbackTimeUpdate),(I.getRecordType()===he.AUDIO_VIDEO||I.getRecordType()===he.AUDIO_SCREEN)&&(I.mediaElement.muted=!1,I.displayVolumeControl(!0)),I.load(I.player.recordedData)}),this.player.pause();break;case he.ANIMATION:this._processing=!1,this.player.loadingSpinner.hide(),this.setDuration(this.streamDuration),this.mediaElement.style.display="none",this.player.recordCanvas.show(),this.player.pause(),this.on(this.player,F.default.PLAY,this.showAnimation),this.on(this.player,F.default.PAUSE,this.hideAnimation);break}}},{key:"onCountDown",value:function(){if(!this.paused){var I=performance.now(),K=this.maxLength,pe=(I-(this.startTime+this.pausedTime))/1e3;this.streamDuration=pe,pe>=K&&(pe=K,this.stop()),this.setDuration(K),this.setCurrentTime(pe,K),this.player.trigger(F.default.PROGRESS_RECORD)}}},{key:"getCurrentTime",value:function(){var I=isNaN(this.streamCurrentTime)?0:this.streamCurrentTime;return this.getRecordType()===he.AUDIO_ONLY&&(I=this.surfer.getCurrentTime()),I}},{key:"setCurrentTime",value:function(I,K){switch(I=isNaN(I)?0:I,K=isNaN(K)?0:K,this.getRecordType()){case he.AUDIO_ONLY:this.surfer.setCurrentTime(I,K);break;case he.VIDEO_ONLY:case he.AUDIO_VIDEO:case he.AUDIO_SCREEN:case he.ANIMATION:case he.SCREEN_ONLY:this.player.controlBar.currentTimeDisplay&&this.player.controlBar.currentTimeDisplay.contentEl()&&this.player.controlBar.currentTimeDisplay.contentEl().lastChild&&(this.streamCurrentTime=Math.min(I,K),this.player.controlBar.currentTimeDisplay.formattedTime_=this.player.controlBar.currentTimeDisplay.contentEl().lastChild.textContent=this._formatTime(this.streamCurrentTime,K,this.displayMilliseconds));break}}},{key:"getDuration",value:function(){var I=isNaN(this.streamDuration)?0:this.streamDuration;return I}},{key:"setDuration",value:function(I){switch(I=isNaN(I)?0:I,this.getRecordType()){case he.AUDIO_ONLY:this.surfer.setDuration(I);break;case he.VIDEO_ONLY:case he.AUDIO_VIDEO:case he.AUDIO_SCREEN:case he.ANIMATION:case he.SCREEN_ONLY:this.player.controlBar.durationDisplay&&this.player.controlBar.durationDisplay.contentEl()&&this.player.controlBar.durationDisplay.contentEl().lastChild&&(this.player.controlBar.durationDisplay.formattedTime_=this.player.controlBar.durationDisplay.contentEl().lastChild.textContent=this._formatTime(I,I,this.displayMilliseconds));break}}},{key:"load",value:function(I){switch(this.getRecordType()){case he.AUDIO_ONLY:this.surfer.load(I);break;case he.IMAGE_ONLY:case he.VIDEO_ONLY:case he.AUDIO_VIDEO:case he.AUDIO_SCREEN:case he.ANIMATION:case he.SCREEN_ONLY:I instanceof Blob||I instanceof File?(this.mediaElement.srcObject=null,this.mediaElement.src=URL.createObjectURL(I)):(0,xe.default)(I,this.mediaElement);break}}},{key:"saveAs",value:function(I){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"record";K==="record"?this.engine&&I!==void 0&&this.engine.saveAs(I):K==="convert"&&this.converter&&I!==void 0&&this.converter.saveAs(I)}},{key:"dispose",value:function(){this.player.off(F.default.READY),this.player.off(F.default.USERINACTIVE),this.player.off(F.default.LOADEDMETADATA),this.engine&&(this.engine.dispose(),this.engine.destroy(),this.engine.off(F.default.RECORD_COMPLETE,this.engineStopCallback)),this.stop(),this.stopDevice(),this.removeRecording(),this.player.clearInterval(this.countDown),this.getRecordType()===he.AUDIO_ONLY?this.surfer&&this.surfer.destroy():this.getRecordType()===he.IMAGE_ONLY&&this.mediaElement&&this.streamVisibleCallback&&this.mediaElement.removeEventListener(F.default.PLAYING,this.streamVisibleCallback),this.resetState(),(0,m.default)((0,x.default)(L.prototype),"dispose",this).call(this)}},{key:"destroy",value:function(){this.player.dispose()}},{key:"reset",value:function(){var I=this;switch(this.engine&&(this.engine.dispose(),this.engine.off(F.default.RECORD_COMPLETE,this.engineStopCallback)),this.stop(),this.stopDevice(),this.player.clearInterval(this.countDown),this.removeRecording(),this.loadOptions(),this.resetState(),this.setDuration(this.maxLength),this.setCurrentTime(0),this.player.reset(),this.getRecordType()){case he.AUDIO_ONLY:this.surfer&&this.surfer.surfer&&this.surfer.surfer.empty();break;case he.IMAGE_ONLY:case he.ANIMATION:this.player.recordCanvas.hide(),this.player.cameraButton.hide();break}this.player.controlBar.playToggle!==void 0&&this.player.controlBar.playToggle.hide(),this.player.deviceButton.show(),this.player.recordToggle.hide(),this.player.one(F.default.LOADEDMETADATA,function(){I.setDuration(I.maxLength)})}},{key:"resetState",value:function(){this._recording=!1,this._processing=!1,this._deviceActive=!1,this.devices=[]}},{key:"removeRecording",value:function(){this.mediaElement&&this.mediaElement.src&&this.mediaElement.src.startsWith("blob:")===!0&&(URL.revokeObjectURL(this.mediaElement.src),this.mediaElement.src="")}},{key:"exportImage",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"image/png",K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(this.getRecordType()===he.AUDIO_ONLY)return this.surfer.surfer.exportImage(I,K,"blob");var pe=this.player.recordCanvas.el().firstChild;return this.drawCanvas(pe,this.mediaElement),new Promise(function(ve){pe.toBlob(ve,I,K)})}},{key:"muteTracks",value:function(I){(this.getRecordType()===he.AUDIO_ONLY||this.getRecordType()===he.AUDIO_SCREEN||this.getRecordType()===he.AUDIO_VIDEO)&&this.stream.getAudioTracks().length>0&&(this.stream.getAudioTracks()[0].enabled=!I),this.getRecordType()!==he.AUDIO_ONLY&&this.stream.getVideoTracks().length>0&&(this.stream.getVideoTracks()[0].enabled=!I)}},{key:"getRecordType",value:function(){return(0,he.getRecorderMode)(this.recordImage,this.recordAudio,this.recordVideo,this.recordAnimation,this.recordScreen)}},{key:"convert",value:function(){this.converter!==void 0&&this.converter.convert(this.player.recordedData)}},{key:"createSnapshot",value:function(){var I=this;this.captureFrame().then(function(K){I.imageOutputType==="blob"?K.toBlob(function(pe){I.player.recordedData=pe,I.displaySnapshot()}):I.imageOutputType==="dataURL"&&(I.player.recordedData=K.toDataURL(I.imageOutputFormat,I.imageOutputQuality),I.displaySnapshot())},this.imageOutputFormat,this.imageOutputQuality)}},{key:"displaySnapshot",value:function(){this.mediaElement.style.display="none",this.player.recordCanvas.show(),this.stop()}},{key:"retrySnapshot",value:function(){this._processing=!1,this.player.recordCanvas.hide(),this.player.el().firstChild.style.display="block"}},{key:"captureFrame",value:function(){var I=this,K=(0,Se.detectBrowser)(),pe=this.player.recordCanvas.el().firstChild,ve=this.stream.getVideoTracks()[0],R=ve.getSettings();return pe.width=R.width,pe.height=R.height,new Promise(function(M,ie){var ye=R.width/R.height,H=I.player.width()/I.player.height(),fe=0,ce=0,ee=0,oe=0;if(ye>=H?(fe=R.height*(I.player.width()/R.width),ce=I.player.width(),oe=I.player.height()/2-fe/2):(fe=I.player.height(),ce=R.width*(I.player.height()/R.height),ee=I.player.width()/2-ce/2),K.browser==="chrome"&&K.version>=60&&(typeof ImageCapture=="undefined"?"undefined":(0,c.default)(ImageCapture))===(typeof Function=="undefined"?"undefined":(0,c.default)(Function)))try{var be=new ImageCapture(ve);be.grabFrame().then(function(Pe){I.drawCanvas(pe,Pe,ce,fe,ee,oe),M(pe)}).catch(function(Pe){})}catch{}I.drawCanvas(pe,I.mediaElement,ce,fe,ee,oe),M(pe)})}},{key:"drawCanvas",value:function(I,K,pe,ve){var R=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,M=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0;pe===void 0&&(pe=I.width),ve===void 0&&(ve=I.height),I.getContext("2d").drawImage(K,R,M,pe,ve)}},{key:"startVideoPreview",value:function(){this.off(F.default.TIMEUPDATE),this.off(F.default.DURATIONCHANGE),this.off(F.default.LOADEDMETADATA),this.off(F.default.PLAY),this.mediaElement.muted=!0,this.displayVolumeControl(!1),this.removeRecording(),this.load(this.stream),this.mediaElement.play()}},{key:"showAnimation",value:function(){var I=this.player.animationDisplay.el().firstChild;I.width=this.player.width(),I.height=this.player.height(),this.player.recordCanvas.hide(),(0,xe.default)(this.player.recordedData,I),this.player.animationDisplay.show()}},{key:"hideAnimation",value:function(){this.player.recordCanvas.show(),this.player.animationDisplay.hide()}},{key:"playbackTimeUpdate",value:function(){this.setCurrentTime(this.player.currentTime(),this.streamDuration)}},{key:"enumerateDevices",value:function(){var I=this;if(!navigator.mediaDevices||!navigator.mediaDevices.enumerateDevices){this.player.enumerateErrorCode="enumerateDevices() not supported.",this.player.trigger(F.default.ENUMERATE_ERROR);return}navigator.mediaDevices.enumerateDevices(this).then(function(K){I.devices=[],K.forEach(function(pe){I.devices.push(pe)}),I.player.trigger(F.default.ENUMERATE_READY)}).catch(function(K){I.player.enumerateErrorCode=K,I.player.trigger(F.default.ENUMERATE_ERROR)})}},{key:"setVideoInput",value:function(I){this.recordVideo===Object(this.recordVideo)?this.recordVideo.deviceId={exact:I}:this.recordVideo===!0&&(this.recordVideo={deviceId:{exact:I}}),this.stopDevice(),this.getDevice()}},{key:"setAudioInput",value:function(I){switch(this.recordAudio===Object(this.recordAudio)?this.recordAudio.deviceId={exact:I}:this.recordAudio===!0&&(this.recordAudio={deviceId:{exact:I}}),this.getRecordType()){case he.AUDIO_ONLY:this.surfer.surfer.microphone.constraints={video:!1,audio:this.recordAudio};break}this.stopDevice(),this.getDevice()}},{key:"setAudioOutput",value:function(I){var K=this,pe;switch(this.getRecordType()){case he.AUDIO_ONLY:this.surfer.surfer.setSinkId(I).then(function(R){K.player.trigger(F.default.AUDIO_OUTPUT_READY)}).catch(function(R){pe=R});break;default:var ve=player.tech_.el_;I?typeof ve.sinkId!="undefined"?ve.setSinkId(I).then(function(R){K.player.trigger(F.default.AUDIO_OUTPUT_READY)}).catch(function(R){pe=R}):pe="Browser does not support audio output device selection.":pe="Invalid deviceId: ".concat(I);break}this.player.trigger(F.default.ERROR,pe)}},{key:"setFormatTime",value:function(I){this._formatTime=I,S.default.setFormatTime(this._formatTime),this.surfer&&this.surfer.setFormatTime(this._formatTime)}},{key:"displayVolumeControl",value:function(I){this.player.controlBar.volumePanel!==void 0&&(I===!0?I="flex":I="none",this.player.controlBar.volumePanel.el().style.display=I)}},{key:"onStreamVisible",value:function(I){this.mediaElement.removeEventListener(F.default.PLAYING,this.streamVisibleCallback),this.player.cameraButton.onStop(),this.player.cameraButton.show()}},{key:"onEnterPiP",value:function(I){this.player.trigger(F.default.ENTER_PIP,I)}},{key:"onLeavePiP",value:function(I){this.player.trigger(F.default.LEAVE_PIP)}}]),L}(C);l.Record=_e,_e.VERSION="4.5.0",S.default.Record=_e,S.default.getPlugin("record")===void 0&&S.default.registerPlugin("record",_e)})(),o})()})})(hne);var qa={exports:{}};(function(t,e){(function(r,n){n(e)})(Pt,function(r){var n,i,s="smooth-dnd-container-instance",a="smooth-dnd-draggable-wrapper",o="animated",l="__smooth_dnd_draggable_translation_value",u="__smooth_dnd_draggable_visibility_value",c="smooth-dnd-ghost",d="smooth-dnd-container",f="smooth-dnd-extra-size-for-insertion",h="smooth-dnd-stretcher-element",m="smooth-dnd-stretcher-instance",g="smooth-dnd-disable-touch-action",v="smooth-dnd-no-user-select",x="smooth-dnd-prevent-auto-scroll-class",S="smooth-dnd-drop-preview-default-class",D="smooth-dnd-drop-preview-inner-class",P="smooth-dnd-drop-preview-constant-class",O="smooth-dnd-drop-preview-flex-container-class",B=Object.freeze({containerInstance:s,defaultGroupName:"@@smooth-dnd-default-group@@",wrapperClass:a,defaultGrabHandleClass:"smooth-dnd-default-grap-handle",animationClass:o,translationValue:l,visibilityValue:u,ghostClass:c,containerClass:d,extraSizeForInsertion:f,stretcherElementClass:h,stretcherElementInstance:m,isDraggableDetached:"smoth-dnd-is-draggable-detached",disbaleTouchActions:g,noUserSelectClass:v,preventAutoScrollClass:x,dropPlaceholderDefaultClass:S,dropPlaceholderInnerClass:D,dropPlaceholderWrapperClass:P,dropPlaceholderFlexContainerClass:O}),z={groupName:void 0,behaviour:"move",orientation:"vertical",getChildPayload:void 0,animationDuration:250,autoScrollEnabled:!0,shouldAcceptDrop:void 0,shouldAnimateDrop:void 0};function U(j){return(U=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G})(j)}function Y(j,G,Q){return G in j?Object.defineProperty(j,G,{value:Q,enumerable:!0,configurable:!0,writable:!0}):j[G]=Q,j}function F(j){return function(G){if(Array.isArray(G)){for(var Q=0,re=new Array(G.length);Q<G.length;Q++)re[Q]=G[Q];return re}}(j)||function(G){if(Symbol.iterator in Object(G)||Object.prototype.toString.call(G)==="[object Arguments]")return Array.from(G)}(j)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(i=n||(n={})).x="x",i.y="y",i.xy="xy";function ue(j,G,Q){return Q==="x"?{left:Math.max(j.left,G.left),top:j.top,right:Math.min(j.right,G.right),bottom:j.bottom}:{left:j.left,top:Math.max(j.top,G.top),right:j.right,bottom:Math.min(j.bottom,G.bottom)}}function X(j){var G=window.getComputedStyle(j),Q=G.overflow;if(Q==="auto"||Q==="scroll")return n.xy;var re=G["overflow-x"],de=re==="auto"||re==="scroll",Ee=G["overflow-y"],ke=Ee==="auto"||Ee==="scroll";return de&&ke?n.xy:de?n.x:ke?n.y:null}function me(j,G){var Q=window.getComputedStyle(j),re=Q.overflow,de=Q["overflow-".concat(G)];return re==="auto"||re==="scroll"||de==="auto"||de==="scroll"}var xe=function(j,G){return{left:Math.max(j.left,G.left),top:Math.max(j.top,G.top),right:Math.min(j.right,G.right),bottom:Math.min(j.bottom,G.bottom)}},ge=function(j){var G=j.getBoundingClientRect(),Q={left:G.left,right:G.right,top:G.top,bottom:G.bottom};if(Ae(j,"x")&&!Se(j,"x")){var re=Q.right-Q.left;Q.right=Q.right+j.scrollWidth-re}if(Ae(j,"y")&&!Se(j,"y")){var de=Q.bottom-Q.top;Q.bottom=Q.bottom+j.scrollHeight-de}return Q},Se=function(j,G){var Q=window.getComputedStyle(j),re=Q.overflow,de=Q["overflow-".concat(G)];return re==="auto"||re==="scroll"||re==="hidden"||de==="auto"||de==="scroll"||de==="hidden"},Ae=function(j,G){return G==="x"?j.scrollWidth>j.clientWidth:j.scrollHeight>j.clientHeight},he=function(j,G){var Q=j,re=G||ge(j);for(Q=j.parentElement;Q;)Ae(Q,"x")&&Se(Q,"x")&&(re=ue(re,Q.getBoundingClientRect(),"x")),Ae(Q,"y")&&Se(Q,"y")&&(re=ue(re,Q.getBoundingClientRect(),"y")),Q=Q.parentElement;return re},Ye=function(j,G){for(var Q=j;Q;){if(Q[s]){var re=function(){var de=Q[s];if(G.some(function(Ee){return Ee===de}))return{v:de}}();if(U(re)==="object")return re.v}Q=Q.parentElement}return null},Z=function(j,G){for(var Q=j;Q;){if(Q.matches(G))return Q;Q=Q.parentElement}return null},C=function(j,G){return-1<j.className.split(" ").map(function(Q){return Q}).indexOf(G)},q=function(j,G){if(j){var Q=j.className.split(" ").filter(function(re){return re});Q.indexOf(G)===-1&&(Q.unshift(G),j.className=Q.join(" "))}},ae=function(j,G){if(j){var Q=j.className.split(" ").filter(function(re){return re&&re!==G});j.className=Q.join(" ")}},_e=function(j,G){return j.removeChild(j.children[G])},k=function(j,G,Q){Q>=j.children.length?j.appendChild(G):j.insertBefore(G,j.children[Q])},W=function(){window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():window.document.selection&&window.document.selection.empty()},L=function(j){if(j){var G=window.getComputedStyle(j);if(G)return G.cursor}return null};function $(j){return!(j.bottom<=j.top||j.right<=j.left)}function I(j){var G=j.element,Q=j.draggables;return function(re,de){var Ee=re,ke=Ee.removedIndex,De=Ee.addedIndex,Me=Ee.droppedElement,Te=null;if(ke!==null&&(Te=_e(G,ke),Q.splice(ke,1)),De!==null){var Ce=window.document.createElement("div");Ce.className="".concat(a),Ce.appendChild(Te&&Te.firstElementChild?Te.firstElementChild:Me),k(G,Ce,De),De>=Q.length?Q.push(Ce):Q.splice(De,0,Ce)}de&&de(re)}}var K=Object.freeze({domDropHandler:I,reactDropHandler:function(){return{handler:function(){return function(j,G){G&&G(j)}}}}}),pe={size:"offsetWidth",distanceToParent:"offsetLeft",translate:"transform",begin:"left",end:"right",dragPosition:"x",scrollSize:"scrollWidth",offsetSize:"offsetWidth",scrollValue:"scrollLeft",scale:"scaleX",setSize:"width",setters:{translate:function(j){return"translate3d(".concat(j,"px, 0, 0)")}}},ve={size:"offsetHeight",distanceToParent:"offsetTop",translate:"transform",begin:"top",end:"bottom",dragPosition:"y",scrollSize:"scrollHeight",offsetSize:"offsetHeight",scrollValue:"scrollTop",scale:"scaleY",setSize:"height",setters:{translate:function(j){return"translate3d(0,".concat(j,"px, 0)")}}};function R(j,G,Q){j[f]=0;var re=function(Te){return{get:function(Ce,Le){return Ce[Te[Le]||Le]},set:function(Ce,Le,Ve){Ce[Te[Le]]=Te.setters[Le]?Te.setters[Le](Ve):Ve}}}(G==="horizontal"?pe:ve),de={translation:0};function Ee(){ke(j),function(Te){var Ce=Te.getBoundingClientRect();de.scaleX=Te.offsetWidth?(Ce.right-Ce.left)/Te.offsetWidth:1,de.scaleY=Te.offsetHeight?(Ce.bottom-Ce.top)/Te.offsetHeight:1}(j)}function ke(Te){de.rect=ge(Te);var Ce=he(Te,de.rect);$(Ce)&&(de.lastVisibleRect=de.visibleRect),de.visibleRect=Ce}function De(Te){var Ce=Te;if(Ce.tagName){var Le=Ce.getBoundingClientRect();return G==="vertical"?Le.bottom-Le.top:Le.right-Le.left}return re.get(Te,"size")*re.get(de,"scale")}function Me(Te){return re.get(Te,"dragPosition")}return window.addEventListener("resize",function(){ke(j)}),setTimeout(function(){Ee()},10),{getSize:De,getContainerRectangles:function(){return{rect:de.rect,visibleRect:de.visibleRect,lastVisibleRect:de.lastVisibleRect}},getBeginEndOfDOMRect:function(Te){return{begin:re.get(Te,"begin"),end:re.get(Te,"end")}},getBeginEndOfContainer:function(){return{begin:re.get(de.rect,"begin")+de.translation,end:re.get(de.rect,"end")+de.translation}},getBeginEndOfContainerVisibleRect:function(){return{begin:re.get(de.visibleRect,"begin")+de.translation,end:re.get(de.visibleRect,"end")+de.translation}},getBeginEnd:function(Te){var Ce=function(Le){return(re.get(Le,"distanceToParent")+(Le[l]||0))*re.get(de,"scale")}(Te)+(re.get(de.rect,"begin")+de.translation)-re.get(j,"scrollValue");return{begin:Ce,end:Ce+De(Te)*re.get(de,"scale")}},getAxisValue:Me,setTranslation:function(Te,Ce){Ce?re.set(Te.style,"translate",Ce):Te.style.removeProperty("transform"),Te[l]=Ce},getTranslation:function(Te){return Te[l]},setVisibility:function(Te,Ce){Te[u]!==void 0&&Te[u]===Ce||(Ce?Te.style.removeProperty("visibility"):Te.style.visibility="hidden",Te[u]=Ce)},isVisible:function(Te){return Te[u]===void 0||Te[u]},isInVisibleRect:function(Te,Ce){var Le=de.visibleRect,Ve=Le.left,Ge=Le.top,qe=Le.right,nt=Le.bottom;nt-Ge<2&&(nt=Ge+30);var et=de.rect;return G==="vertical"?Te>et.left&&Te<et.right&&Ge<Ce&&Ce<nt:Ve<Te&&Te<qe&&Ce>et.top&&Ce<et.bottom},setSize:function(Te,Ce){re.set(Te,"setSize",Ce)},getTopLeftOfElementBegin:function(Te){var Ce=0;return{top:G==="horizontal"?(Ce=Te,de.rect.top):(Ce=de.rect.left,Te),left:Ce}},getScrollSize:function(Te){return re.get(Te,"scrollSize")},getScrollValue:function(Te){return re.get(Te,"scrollValue")},setScrollValue:function(Te,Ce){return re.set(Te,"scrollValue",Ce)},invalidate:Ee,invalidateRects:function(){ke(j)},getPosition:function(Te){return Me(Te)},setBegin:function(Te,Ce){re.set(Te,"begin",Ce)}}}function M(j,G,Q){var re,de,Ee,ke=Q.left,De=Q.right,Me=Q.top,Te=Q.bottom,Ce=j.x,Le=j.y;if(Ce<ke||De<Ce||Le<Me||Te<Le)return null;Ee=G==="x"?(re=ke,de=De,Ce):(re=Me,de=Te,Le);var Ve=de-re,Ge=400<Ve?100:Ve/4;return de-Ee<Ge?{direction:"end",speedFactor:(Ge-(de-Ee))/Ge}:Ee-re<Ge?{direction:"begin",speedFactor:(Ge-(Ee-re))/Ge}:null}function ie(j){var G=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"y",Q=null,re=null,de=null,Ee=null;return{animate:function(ke,De){de=ke,Ee=De,function Me(){Q===null&&(Q=requestAnimationFrame(function(Te){re===null&&(re=Te);var Ce=Te-re;re=Te;var Le,Ve,Ge,qe=Ce/1e3*Ee;Ve=G,Ge=qe=de==="begin"?0-qe:qe,(Le=j)&&(Le!==window?Ve==="x"?Le.scrollLeft+=Ge:Le.scrollTop+=Ge:Ve==="x"?Le.scrollBy(Ge,0):Le.scrollBy(0,Ge)),Q=null,Me()}))}()},stop:function(){Q!==null&&(cancelAnimationFrame(Q),Q=null),re=null}}}function ye(j){return function(){return he(j,j.getBoundingClientRect())}}var H,fe,ce,ee=function(j){var G=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1500,Q=j.reduce(function(re,de){var Ee=function(ke){for(var De=[],Me=ke.element;Me;){var Te=X(Me);if(Te&&!C(Me,x)){var Ce={};switch(Te){case n.xy:Ce.x={animator:ie(Me,"x")},Ce.y={animator:ie(Me,"y")};break;case n.x:Ce.x={animator:ie(Me,"x")};break;case n.y:Ce.y={animator:ie(Me,"y")}}De.push({axisAnimations:Ce,getRect:ye(Me),scrollerElement:Me})}Me=Me.parentElement}return De}(de).filter(function(ke){return!re.find(function(De){return De.scrollerElement===ke.scrollerElement})});return[].concat(F(re),F(Ee))},[]);return function(re){var de=re.draggableInfo;if(re.reset)Q.forEach(function(De){De.axisAnimations.x&&De.axisAnimations.x.animator.stop(),De.axisAnimations.y&&De.axisAnimations.y.animator.stop()});else if(de){(function(De,Me){De.forEach(function(Te){var Ce=Te.axisAnimations,Le=(0,Te.getRect)();Ce.x&&(Ce.x.scrollParams=M(Me,"x",Le),Te.cachedRect=Le),Ce.y&&(Ce.y.scrollParams=M(Me,"y",Le),Te.cachedRect=Le)})})(Q,de.mousePosition),Q.forEach(function(De){var Me=De.axisAnimations,Te=Me.x,Ce=Me.y;if(Te)if(Te.scrollParams){var Le=Te.scrollParams,Ve=Le.direction,Ge=Le.speedFactor;Te.animator.animate(Ve,Ge*G)}else Te.animator.stop();if(Ce)if(Ce.scrollParams){var qe=Ce.scrollParams,nt=qe.direction,et=qe.speedFactor;Ce.animator.animate(nt,et*G)}else Ce.animator.stop()});var Ee=Q.filter(function(De){return De.cachedRect});if(Ee.length&&1<Ee.length){var ke=function(De,Me){for(var Te=document.elementFromPoint(Me.x,Me.y);Te;){var Ce=De.find(function(Le){return Le.scrollerElement===Te});if(Ce)return Ce;Te=Te.parentElement}return null}(Ee,de.mousePosition);ke&&Ee.forEach(function(De){De!==ke&&(De.axisAnimations.x&&De.axisAnimations.x.animator.stop(),De.axisAnimations.y&&De.axisAnimations.y.animator.stop())})}}}};typeof window!="undefined"&&((H=Element)&&H.prototype&&!H.prototype.matches&&(H.prototype.matches=H.prototype.matchesSelector||H.prototype.mozMatchesSelector||H.prototype.msMatchesSelector||H.prototype.oMatchesSelector||H.prototype.webkitMatchesSelector||function(j){for(var G=(this.document||this.ownerDocument).querySelectorAll(j),Q=G.length;0<=--Q&&G.item(Q)!==this;);return-1<Q}),(fe=Node||Element)&&fe.prototype&&fe.prototype.firstElementChild==null&&Object.defineProperty(fe.prototype,"firstElementChild",{get:function(){for(var j,G=this.childNodes,Q=0;j=G[Q++];)if(j.nodeType===1)return j;return null}}),Array.prototype.some||(Array.prototype.some=function(j){if(this==null)throw new TypeError("Array.prototype.some called on null or undefined");if(typeof j!="function")throw new TypeError;for(var G=Object(this),Q=G.length>>>0,re=2<=arguments.length?arguments[1]:void 0,de=0;de<Q;de++)if(de in G&&j.call(re,G[de],de,G))return!0;return!1}));var oe={overflow:"hidden",display:"block"},be={height:"100%",display:"table-cell","vertical-align":"top"},Pe=(Y(ce={},".".concat(d),{position:"relative","min-height":"30px","min-width":"30px"}),Y(ce,".".concat(d,".horizontal"),{display:"table"}),Y(ce,".".concat(d,".horizontal > .").concat(h),{display:"inline-block"}),Y(ce,".".concat(d,".horizontal > .").concat(a),be),Y(ce,".".concat(d,".vertical > .").concat(a),oe),Y(ce,".".concat(a),{"box-sizing":"border-box"}),Y(ce,".".concat(a,".horizontal"),be),Y(ce,".".concat(a,".vertical"),oe),Y(ce,".".concat(a,".animated"),{transition:"transform ease"}),Y(ce,".".concat(c),{"box-sizing":"border-box"}),Y(ce,".".concat(c,".animated"),{transition:"all ease-in-out"}),Y(ce,".".concat(c," *"),{"pointer-events":"none"}),Y(ce,".".concat(g," *"),{"touch-action":"none","-ms-touch-action":"none"}),Y(ce,".".concat(v),{"-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"}),Y(ce,".".concat(D),{flex:"1"}),Y(ce,".".concat(d,".horizontal > .").concat(P),{height:"100%",overflow:"hidden",display:"table-cell","vertical-align":"top"}),Y(ce,".".concat(d,".vertical > .").concat(P),{overflow:"hidden",display:"block",width:"100%"}),Y(ce,".".concat(O),{width:"100%",height:"100%",display:"flex","justify-content":"stretch","align-items":"stretch"}),Y(ce,".".concat(S),{"background-color":"rgba(150, 150, 150, 0.1)",border:"1px solid #ccc"}),ce);function Re(j){return Object.keys(j).reduce(function(G,Q){var re=j[Q];return U(re)==="object"?"".concat(G).concat(Q,"{").concat(Re(re),"}"):"".concat(G).concat(Q,":").concat(re,";")},"")}function Ie(j){if(j&&typeof window!="undefined"){var G=window.document.head||window.document.getElementsByTagName("head")[0],Q=window.document.createElement("style"),re=Re({"body *":{cursor:"".concat(j," !important")}});return Q.type="text/css",Q.styleSheet?Q.styleSheet.cssText=re:Q.appendChild(window.document.createTextNode(re)),G.appendChild(Q),Q}return null}var He,Xe,pt=["mousedown","touchstart"],Qe=["mousemove","touchmove"],ut=["mouseup","touchend"],je=null,_t=null,at=null,Ue=null,Mt=[],dt=!1,At=!1,Zr=!1,un=!1,cn=null,mr=null,Qt=null,ci=null,fo=(He=null,Xe=!1,{start:function(){Xe||(Xe=!0,function j(){He=requestAnimationFrame(function(){je.forEach(function(G){return G.layout.invalidateRects()}),setTimeout(function(){He!==null&&j()},50)})}())},stop:function(){He!==null&&(cancelAnimationFrame(He),He=null),Xe=!1}}),sa=typeof window!="undefined"&&!!(window.navigator.userAgent.match(/Android/i)||window.navigator.userAgent.match(/webOS/i)||window.navigator.userAgent.match(/iPhone/i)||window.navigator.userAgent.match(/iPad/i)||window.navigator.userAgent.match(/iPod/i)||window.navigator.userAgent.match(/BlackBerry/i)||window.navigator.userAgent.match(/Windows Phone/i));function ar(){typeof window!="undefined"&&pt.forEach(function(j){window.document.addEventListener(j,ru,{passive:!1})})}function ho(){return Ue&&Ue.ghostParent?Ue.ghostParent:_t&&_t.parentElement||window.document.body}var dn,Yi,or,Vt,Ar,tr,Gt=(Vt=null,Ar=1,tr=5,function(j,G,Q){dn=la(j),or=Q,(Yi=typeof G=="number"?G:sa?200:0)&&(Vt=setTimeout(fn,Yi)),Qe.forEach(function(re){return window.document.addEventListener(re,Xt)},{passive:!1}),ut.forEach(function(re){return window.document.addEventListener(re,ft)},{passive:!1}),window.document.addEventListener("drag",wi,{passive:!1})});function Xt(j){var G=la(j),Q=G.clientX,re=G.clientY;if(Yi)(Math.abs(dn.clientX-Q)>tr||Math.abs(dn.clientY-re)>tr)&&di();else if(Math.abs(dn.clientX-Q)>Ar||Math.abs(dn.clientY-re)>Ar)return fn()}function ft(){di()}function wi(){di()}function di(){clearTimeout(Vt),Qe.forEach(function(j){return window.document.removeEventListener(j,Xt)},{passive:!1}),ut.forEach(function(j){return window.document.removeEventListener(j,ft)},{passive:!1}),window.document.removeEventListener("drag",wi,{passive:!1})}function fn(){clearTimeout(Vt),di(),or()}function ru(j){var G=la(j);if(!dt&&(G.button===void 0||G.button===0)&&(_t=Z(G.target,"."+a))){var Q=Z(_t,"."+d),re=Mt.filter(function(De){return De.element===Q})[0],de=re.getOptions().dragHandleSelector,Ee=re.getOptions().nonDragAreaSelector,ke=!0;de&&!Z(G.target,de)&&(ke=!1),Ee&&Z(G.target,Ee)&&(ke=!1),ke&&(re.layout.invalidate(),q(window.document.body,g),q(window.document.body,v),window.document.addEventListener("mouseup",function De(){ae(window.document.body,g),ae(window.document.body,v),window.document.removeEventListener("mouseup",De)})),ke&&Gt(G,re.getOptions().dragBeginDelay,function(){W(),ua(G,L(j.target)),Qe.forEach(function(De){window.document.addEventListener(De,Pi,{passive:!1})}),ut.forEach(function(De){window.document.addEventListener(De,oa,{passive:!1})})})}}function Pi(j){j.preventDefault();var G=la(j);if(Ue){var Q=Ue.container.getOptions();Q.behaviour==="contain"?function(re){var de,Ee,ke,De,Me=re.clientX,Te=re.clientY,Ce=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"vertical",Le=Ue.container.layout.getBeginEndOfContainerVisibleRect();De=Ce==="vertical"?(de=Te,Ee="y",ke="top",Ue.size.offsetHeight):(de=Me,Ee="x",ke="left",Ue.size.offsetWidth);var Ve=Le.begin,Ge=Le.end-De,qe=Math.max(Ve,Math.min(Ge,de+at.positionDelta[ke]));at.topLeft[Ee]=qe,Ue.position[Ee]=Math.max(Le.begin,Math.min(Le.end,de+at.centerDelta[Ee])),Ue.mousePosition[Ee]=Math.max(Le.begin,Math.min(Le.end,de)),Ue.position[Ee]<Le.begin+De/2&&(Ue.position[Ee]=Le.begin+2),Ue.position[Ee]>Le.end-De/2&&(Ue.position[Ee]=Le.end-2)}(G,Q.orientation):Qt?Qt==="y"?(at.topLeft.y=G.clientY+at.positionDelta.top,Ue.position.y=G.clientY+at.centerDelta.y,Ue.mousePosition.y=G.clientY):Qt==="x"&&(at.topLeft.x=G.clientX+at.positionDelta.left,Ue.position.x=G.clientX+at.centerDelta.x,Ue.mousePosition.x=G.clientX):(at.topLeft.x=G.clientX+at.positionDelta.left,at.topLeft.y=G.clientY+at.positionDelta.top,Ue.position.x=G.clientX+at.centerDelta.x,Ue.position.y=G.clientY+at.centerDelta.y,Ue.mousePosition.x=G.clientX,Ue.mousePosition.y=G.clientY),bs(),(un=!cn(Ue))&&ym()}else ua(G,L(j.target))}var Ct,aa,lr,vs,ym=(Ct=iu,lr=!(aa=20),vs=null,function(){for(var j=arguments.length,G=new Array(j),Q=0;Q<j;Q++)G[Q]=arguments[Q];vs&&clearTimeout(vs),lr&&!vs?Ct.call.apply(Ct,[null].concat(G)):vs=setTimeout(function(){vs=null,Ct.call.apply(Ct,[null].concat(G))},aa)});function iu(){un&&(un=!1,nu(Ue,je))}function oa(){Qe.forEach(function(j){window.document.removeEventListener(j,Pi,{passive:!1})}),ut.forEach(function(j){window.document.removeEventListener(j,oa,{passive:!1})}),mr({reset:!0}),ci&&(function(j){j&&typeof window!="undefined"&&(window.document.head||window.document.getElementsByTagName("head")[0]).removeChild(j)}(ci),ci=null),Ue&&(fo.stop(),iu(),Zr=!0,function(j){function G(){ae(at.ghost,"animated"),at.ghost.style.transitionDuration=null,ho().removeChild(at.ghost),j()}function Q(et,it,fi){var ha=et.top,pa=et.left;q(at.ghost,"animated"),fi&&q(at.ghost.firstElementChild,fi),at.topLeft.x=pa,at.topLeft.y=ha,bs(it),setTimeout(function(){G()},it+20)}function re(et,it){q(at.ghost,"animated"),bs(et,.9,!0),setTimeout(function(){it()},et+20)}if(Ue.targetElement){var de=Mt.filter(function(et){return et.element===Ue.targetElement})[0];!(nt=de.getOptions()).shouldAnimateDrop||nt.shouldAnimateDrop(Ue.container.getOptions(),Ue.payload)?Q(de.getDragResult().shadowBeginEnd.rect,Math.max(150,de.getOptions().animationDuration/2),de.getOptions().dropClass):G()}else{var Ee=Mt.filter(function(et){return et===Ue.container})[0];if(Ee){var ke=Ee.getOptions(),De=ke.behaviour,Me=ke.removeOnDropOut;if(De!=="move"&&De!=="contain"||!At&&Me||!Ee.getDragResult())re(Ee.getOptions().animationDuration,G);else{var Te=Ee.layout.getContainerRectangles();if(!$(Te.visibleRect)&&$(Te.lastVisibleRect))Q({top:Te.lastVisibleRect.top,left:Te.lastVisibleRect.left},Ee.getOptions().animationDuration,Ee.getOptions().dropClass);else{var Ce=Ee.getDragResult(),Le=Ce.removedIndex,Ve=Ce.elementSize,Ge=Ee.layout;Ee.getTranslateCalculator({dragResult:{removedIndex:Le,addedIndex:Le,elementSize:Ve,pos:void 0,shadowBeginEnd:void 0}});var qe=0<Le?Ge.getBeginEnd(Ee.draggables[Le-1]).end:Ge.getBeginEndOfContainer().begin;Q(Ge.getTopLeftOfElementBegin(qe),Ee.getOptions().animationDuration,Ee.getOptions().dropClass)}}}else re(z.animationDuration,G)}var nt}(function(){Ed(dt=!1);for(var j=je||[],G=j.shift();G!==void 0;)G.handleDrop(Ue),G=j.shift();cn=Qt=Ue=at=_t=je=null,Zr=!1}))}function la(j){return j.touches?j.touches[0]:j}function nu(j,G){var Q=!1;G.forEach(function(re){var de=re.handleDrag(j);Q=!!de.containerBoxChanged||!1,de.containerBoxChanged=!1}),Q&&(Q=!1,requestAnimationFrame(function(){Mt.forEach(function(re){re.layout.invalidateRects(),re.onTranslated()})}))}function po(j){var G=j,Q=null;return function(re){return!(Q!==null||!dt||Zr)&&(Q=requestAnimationFrame(function(){dt&&!Zr&&(nu(re,G),mr({draggableInfo:re})),Q=null}),!0)}}function ys(j,G){return j.getOptions().autoScrollEnabled?ee(G,j.getScrollMaxSpeed()):function(Q){return null}}function Ed(j){Mt.forEach(function(G){var Q=j?G.getOptions().onDragStart:G.getOptions().onDragEnd;if(Q){var re={isSource:G===Ue.container,payload:Ue.payload};G.isDragRelevant(Ue.container,Ue.payload)?re.willAcceptDrop=!0:re.willAcceptDrop=!1,Q(re)}})}function ua(j,G){if(_t!==null){dt=!0;var Q=Mt.filter(function(re){return _t.parentElement===re.element})[0];Q.setDraggables(),Qt=Q.getOptions().lockAxis?Q.getOptions().lockAxis.toLowerCase():null,Ue=function(re){var de=Mt.filter(function(Me){return re.parentElement===Me.element})[0],Ee=de.draggables.indexOf(re),ke=de.getOptions().getGhostParent,De=re.getBoundingClientRect();return{container:de,element:re,size:{offsetHeight:De.bottom-De.top,offsetWidth:De.right-De.left},elementIndex:Ee,payload:de.getOptions().getChildPayload?de.getOptions().getChildPayload(Ee):void 0,targetElement:null,position:{x:0,y:0},groupName:de.getOptions().groupName,ghostParent:ke?ke():null,invalidateShadow:null,mousePosition:null,relevantContainers:null}}(_t),at=function(re,de,Ee,ke){var De=de.x,Me=de.y,Te=re.getBoundingClientRect(),Ce=Te.left,Le=Te.top,Ve=Te.right,Ge=Te.bottom,qe=xe(Ee.layout.getContainerRectangles().visibleRect,Te),nt=qe.left+(qe.right-qe.left)/2,et=qe.top+(qe.bottom-qe.top)/2,it=re.cloneNode(!0);return it.style.zIndex="1000",it.style.boxSizing="border-box",it.style.position="fixed",it.style.top="0px",it.style.left="0px",it.style.transform=null,it.style.removeProperty("transform"),Ee.shouldUseTransformForGhost()?it.style.transform="translate3d(".concat(Ce,"px, ").concat(Le,"px, 0)"):(it.style.top="".concat(Le,"px"),it.style.left="".concat(Ce,"px")),it.style.width=Ve-Ce+"px",it.style.height=Ge-Le+"px",it.style.overflow="visible",it.style.transition=null,it.style.removeProperty("transition"),it.style.pointerEvents="none",it.style.userSelect="none",Ee.getOptions().dragClass?setTimeout(function(){q(it.firstElementChild,Ee.getOptions().dragClass);var fi=window.getComputedStyle(it.firstElementChild).cursor;ci=Ie(fi)}):ci=Ie(ke),q(it,Ee.getOptions().orientation||"vertical"),q(it,c),{ghost:it,centerDelta:{x:nt-De,y:et-Me},positionDelta:{left:Ce-De,top:Le-Me},topLeft:{x:Ce,y:Le}}}(_t,{x:j.clientX,y:j.clientY},Ue.container,G),Ue.position={x:j.clientX+at.centerDelta.x,y:j.clientY+at.centerDelta.y},Ue.mousePosition={x:j.clientX,y:j.clientY},je=Mt.filter(function(re){return re.isDragRelevant(Q,Ue.payload)}),Ue.relevantContainers=je,cn=po(je),mr&&mr({reset:!0,draggableInfo:void 0}),mr=ys(Q,je),je.forEach(function(re){return re.prepareDrag(re,je)}),Ed(!0),cn(Ue),ho().appendChild(at.ghost),fo.start()}}var ca=null;function bs(){var j=0<arguments.length&&arguments[0]!==void 0?arguments[0]:0,G=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1,Q=2<arguments.length&&arguments[2]!==void 0&&arguments[2],re=at,de=re.ghost,Ee=re.topLeft,ke=Ee.x,De=Ee.y,Me=!Ue.container||Ue.container.shouldUseTransformForGhost(),Te=Me?"translate3d(".concat(ke,"px,").concat(De,"px, 0)"):null;if(G!==1&&(Te=Te?"".concat(Te," scale(").concat(G,")"):"scale(".concat(G,")")),0<j)return at.ghost.style.transitionDuration=j+"ms",void requestAnimationFrame(function(){Te&&(de.style.transform=Te),Me||(de.style.left=ke+"px",de.style.top=De+"px"),ca=null,Q&&(de.style.opacity="0")});ca===null&&(ca=requestAnimationFrame(function(){Te&&(de.style.transform=Te),Me||(de.style.left=ke+"px",de.style.top=De+"px"),ca=null,Q&&(de.style.opacity="0")}))}function bm(){if(dt&&!At&&!Zr){un=!(At=!0);var j=Object.assign({},Ue,{targetElement:null,position:{x:Number.MAX_SAFE_INTEGER,y:Number.MAX_SAFE_INTEGER},mousePosition:{x:Number.MAX_SAFE_INTEGER,y:Number.MAX_SAFE_INTEGER}});je.forEach(function(G){G.handleDrag(j)}),Ue.targetElement=null,Ue.cancelDrop=!0,oa(),At=!1}}typeof window!="undefined"&&function(){if(typeof window!="undefined"){var j=window.document.head||window.document.getElementsByTagName("head")[0],G=window.document.createElement("style");G.id="smooth-dnd-style-definitions";var Q=Re(Pe);G.type="text/css",G.styleSheet?G.styleSheet.cssText=Q:G.appendChild(window.document.createTextNode(Q)),j.appendChild(G)}}();var mo=(ar(),{register:function(j){(function(G){Mt.push(G),dt&&Ue&&G.isDragRelevant(Ue.container,Ue.payload)&&(je.push(G),G.prepareDrag(G,je),mr&&mr({reset:!0,draggableInfo:void 0}),mr=ys(G,je),cn=po(je),G.handleDrag(Ue))})(j)},unregister:function(j){(function(G){if(Mt.splice(Mt.indexOf(G),1),dt&&Ue){Ue.container===G&&G.fireRemoveElement(),Ue.targetElement===G.element&&(Ue.targetElement=null);var Q=je.indexOf(G);-1<Q&&(je.splice(Q,1),mr&&mr({reset:!0,draggableInfo:void 0}),mr=ys(G,je),cn=po(je))}})(j)},isDragging:function(){return dt},cancelDrag:bm});function da(j,G){var Q=2<arguments.length&&arguments[2]!==void 0?arguments[2]:z.animationDuration;G?(q(j,o),j.style.transitionDuration=Q+"ms"):(ae(j,o),j.style.removeProperty("transition-duration"))}function _s(j){var G=[];return Array.prototype.forEach.call(j.children,function(Q){if(Q.nodeType===Node.ELEMENT_NODE){var re=Q;C(Q,a)||(re=function(de){if(gr.wrapChild){var Ee=window.document.createElement("div");return Ee.className="".concat(a),de.parentElement.insertBefore(Ee,de),Ee.appendChild(de),Ee}return de}(Q)),re[l]=0,G.push(re)}else j.removeChild(Q)}),G}function go(j){var G=j.layout;return function(Q,re){var de=2<arguments.length&&arguments[2]!==void 0&&arguments[2];return function Ee(ke,De,Me,Te){var Ce=4<arguments.length&&arguments[4]!==void 0&&arguments[4];if(Te<Me)return Me;if(Me===Te){var Le=G.getBeginEnd(ke[Me]),Ve=Le.begin,Ge=Le.end;return Ce?De<(Ge+Ve)/2?Me:Me+1:Me}var qe=Math.floor((Te+Me)/2),nt=G.getBeginEnd(ke[qe]),et=nt.begin,it=nt.end;return De<et?Ee(ke,De,Me,qe-1,Ce):it<De?Ee(ke,De,qe+1,Te,Ce):Ce?De<(it+et)/2?qe:qe+1:qe}(Q,re,0,Q.length-1,de)}}function Ts(j){var G=j.element,Q=j.draggables,re=j.layout,de=j.getOptions,Ee=function(De){var Me=De.element,Te=De.draggables,Ce=De.layout;return function(){Te.forEach(function(Le){da(Le,!1),Ce.setTranslation(Le,0),Ce.setVisibility(Le,!0)}),Me[m]&&(Me[m].parentNode.removeChild(Me[m]),Me[m]=null)}}({element:G,draggables:Q,layout:re,getOptions:de}),ke=(gr.dropHandler||I)({element:G,draggables:Q,layout:re,getOptions:de});return function(De,Me){var Te=Me.addedIndex,Ce=Me.removedIndex,Le=2<arguments.length&&arguments[2]!==void 0&&arguments[2];if(Ee(),!De.cancelDrop&&(De.targetElement||de().removeOnDropOut||Le)){var Ve={removedIndex:Ce,addedIndex:Te!==null?Ce!==null&&Ce<Te?Te-1:Te:null,payload:De.payload};ke(Ve,de().onDrop)}}}function vo(j){var G=j.element,Q=j.getOptions,re=null;return function(de){var Ee=de.draggableInfo,ke=re;return re==null&&Ee.container.element===G&&Q().behaviour!=="copy"&&(ke=re=Ee.elementIndex),{removedIndex:ke}}}function su(j){var G=j.draggables,Q=j.layout;return function(re){var de=re.dragResult;de.removedIndex!==null&&Q.setVisibility(G[de.removedIndex],!1)}}function yo(j){var G=j.element,Q=j.layout;return function(re){var de=re.draggableInfo,Ee=document.elementFromPoint(de.position.x,de.position.y);if(Ee){var ke=Ye(Ee,de.relevantContainers);if(ke&&ke.element===G)return{pos:Q.getPosition(de.position)}}return{pos:null}}}function Di(j){var G=j.layout,Q=null;return function(re){var de=re.draggableInfo;return re.dragResult.pos===null?Q=null:{elementSize:Q=Q||G.getSize(de.size)}}}function Cd(j){var G=j.element;return function(Q){var re=Q.draggableInfo,de=Q.dragResult;(function(Ee,ke){var De=!(2<arguments.length&&arguments[2]!==void 0)||arguments[2];ke&&De?Ee.targetElement=ke:Ee.targetElement===ke&&(Ee.targetElement=null)})(re,G,!!de.pos)}}function bo(){return function(j){return j.dragResult.pos!==null?{addedIndex:0}:{addedIndex:null}}}function wd(j){var G=j.layout,Q=null;return function(re){var de=re.dragResult.addedIndex;if(de===Q)return null;Q=de;var Ee=G.getBeginEndOfContainer(),ke=Ee.begin;return Ee.end,{shadowBeginEnd:{rect:G.getTopLeftOfElementBegin(ke)}}}}function Pd(j){var G=j.layout,Q=j.element,re=j.getOptions,de=null;return function(Ee){var ke=Ee.dragResult,De=ke.elementSize,Me=ke.shadowBeginEnd,Te=ke.addedIndex,Ce=ke.dropPlaceholderContainer,Le=re();if(Le.dropPlaceholder){var Ve=typeof Le.dropPlaceholder=="boolean"?{}:Le.dropPlaceholder,Ge=Ve.animationDuration,qe=Ve.className,nt=Ve.showOnTop;if(Te===null)return Ce&&de!==null&&Q.removeChild(Ce),de=null,{dropPlaceholderContainer:void 0};if(!Ce){var et=document.createElement("div"),it=document.createElement("div");it.className=O,et.className="".concat(D," ").concat(qe||S),(Ce=document.createElement("div")).className="".concat(P),Ce.style.position="absolute",Ge!==void 0&&(Ce.style.transition="all ".concat(Ge,"ms ease")),Ce.appendChild(it),it.appendChild(et),G.setSize(Ce.style,De+"px"),Ce.style.pointerEvents="none",nt?Q.appendChild(Ce):Q.insertBefore(Ce,Q.firstElementChild)}return de!==Te&&Me.dropArea&&G.setBegin(Ce.style,Me.dropArea.begin-G.getBeginEndOfContainer().begin+"px"),de=Te,{dropPlaceholderContainer:Ce}}return null}}function Dd(j){var G=Ad(j);return function(Q){var re=Q.draggableInfo,de=Q.dragResult;return re.invalidateShadow?G({draggableInfo:re,dragResult:de}):null}}function _m(j){var G=function(Q){var re=Q.draggables,de=go({layout:Q.layout});return function(Ee){var ke=Ee.dragResult,De=ke.shadowBeginEnd,Me=ke.pos;if(De)return De.begin+De.beginAdjustment<=Me&&De.end>=Me?null:Me<De.begin+De.beginAdjustment?de(re,Me):Me>De.end?de(re,Me)+1:re.length;var Te=de(re,Me,!0);return Te!==null?Te:re.length}}(j);return function(Q){var re=Q.dragResult,de=null;return re.pos!==null&&(de=G({dragResult:re}))===null&&(de=re.addedIndex),{addedIndex:de}}}function _o(){var j=null;return function(G){var Q=G.dragResult,re=Q.addedIndex,de=Q.shadowBeginEnd;re!==j&&j!==null&&de&&(de.beginAdjustment=0),j=re}}function fa(j){var G=j.element,Q=j.draggables,re=j.layout,de=j.getOptions,Ee=null;return function(ke){var De=ke.dragResult,Me=De.addedIndex,Te=De.removedIndex,Ce=De.elementSize;if(Te===null){if(Me!==null){if(!Ee){var Le=re.getBeginEndOfContainer();Le.end=Le.begin+re.getSize(G);var Ve=re.getScrollSize(G)>re.getSize(G)?Le.begin+re.getScrollSize(G)-re.getScrollValue(G):Le.end,Ge=0<Q.length?re.getBeginEnd(Q[Q.length-1]).end-Q[Q.length-1][l]:Le.begin;if(Ve<Ge+Ce){(Ee=window.document.createElement("div")).className=h+" "+de().orientation;var qe=0<Q.length?Ce+Ge-Ve:Ce;return re.setSize(Ee.style,"".concat(qe,"px")),G.appendChild(Ee),G[m]=Ee,{containerBoxChanged:!0}}}}else if(Ee){re.setTranslation(Ee,0);var nt=Ee;return Ee=null,G.removeChild(nt),{containerBoxChanged:!(G[m]=null)}}}}}function au(j){var G=j.draggables,Q=j.layout,re=null,de=null;return function(Ee){var ke=Ee.dragResult,De=ke.addedIndex,Me=ke.removedIndex,Te=ke.elementSize;if(De!==re||Me!==de){for(var Ce=0;Ce<G.length;Ce++)if(Ce!==Me){var Le=G[Ce],Ve=0;Me!==null&&Me<Ce&&(Ve-=Te),De!==null&&De<=Ce&&(Ve+=Te),Q.setTranslation(Le,Ve)}return{addedIndex:re=De,removedIndex:de=Me}}}}function Ad(j){var G=j.draggables,Q=j.layout,re=null;return function(de){var Ee=de.draggableInfo,ke=de.dragResult,De=ke.addedIndex,Me=ke.removedIndex,Te=ke.elementSize,Ce=ke.pos,Le=ke.shadowBeginEnd;if(Ce===null)return{shadowBeginEnd:re=null};if(De===null||!Ee.invalidateShadow&&De===re)return null;var Ve=De-1,Ge=Number.MIN_SAFE_INTEGER,qe=0,nt=0,et=null,it=null;if(Ve===Me&&Ve--,-1<Ve){var fi=Q.getSize(G[Ve]);if(it=Q.getBeginEnd(G[Ve]),Te<fi){var ha=(fi-Te)/2;Ge=it.end-ha}else Ge=it.end;qe=it.end}else it={end:Q.getBeginEndOfContainer().begin},qe=Q.getBeginEndOfContainer().begin;var pa=Number.MAX_SAFE_INTEGER,ma=De;if(ma===Me&&ma++,ma<G.length){var kd=Q.getSize(G[ma]);if(et=Q.getBeginEnd(G[ma]),Te<kd){var xo=(kd-Te)/2;pa=et.begin+xo}else pa=et.begin;nt=et.begin}else et={begin:Q.getContainerRectangles().rect.end},nt=Q.getContainerRectangles().rect.end-Q.getContainerRectangles().rect.begin;var Sm=it&&et?Q.getTopLeftOfElementBegin(it.end):null;return re=De,{shadowBeginEnd:{dropArea:{begin:qe,end:nt},begin:Ge,end:pa,rect:Sm,beginAdjustment:Le?Le.beginAdjustment:0}}}}function Tm(){var j=null;return function(G){var Q=G.dragResult,re=Q.pos,de=Q.addedIndex,Ee=Q.shadowBeginEnd;if(re!==null){if(de!=null&&j===null){if(re<Ee.begin){var ke=re-Ee.begin-5;Ee.beginAdjustment=ke}j=de}}else j=null}}function ou(j){var G=j.getOptions,Q=!1,re=G();return function(de){var Ee=!!de.dragResult.pos;Ee!==Q&&((Q=Ee)?re.onDragEnter&&re.onDragEnter():re.onDragLeave&&re.onDragLeave())}}function Od(j){var G=j.getOptions,Q=null,re=G();return function(de){var Ee=de.dragResult,ke=Ee.addedIndex,De=Ee.removedIndex,Me=de.draggableInfo,Te=Me.payload,Ce=Me.element;if(re.onDropReady&&ke!==null&&Q!==ke){var Le=Q=ke;De!==null&&De<ke&&Le--,re.onDropReady({addedIndex:Le,removedIndex:De,payload:Te,element:Ce?Ce.firstElementChild:void 0})}}}function Rd(j){return j.getOptions().behaviour==="drop-zone"?lu(j)(vo,su,yo,Di,Cd,bo,wd,ou,Od):lu(j)(vo,su,yo,Di,Cd,Dd,_m,_o,fa,au,Ad,Pd,Tm,ou,Od)}function lu(j){return function(){for(var G=arguments.length,Q=new Array(G),re=0;re<G;re++)Q[re]=arguments[re];var de=Q.map(function(ke){return ke(j)}),Ee=null;return function(ke){return Ee=de.reduce(function(De,Me){return Object.assign(De,Me({draggableInfo:ke,dragResult:De}))},Ee||{addedIndex:null,removedIndex:null,elementSize:null,pos:null,shadowBeginEnd:null})}}}function xm(j){return function(G){var Q=Object.assign({},z,G),re=null,de=null,Ee=function(Ve,Ge){var qe=_s(Ve),nt=Ge();return q(Ve,"".concat(d," ").concat(nt.orientation)),{element:Ve,draggables:qe,getOptions:Ge,layout:R(Ve,nt.orientation,nt.animationDuration)}}(j,Le),ke=Rd(Ee),De=Ts(Ee),Me=function(Ve,Ge){var qe=[];function nt(){qe&&(qe.forEach(function(et){return et.removeEventListener("scroll",Ge)}),window.removeEventListener("scroll",Ge))}return function(){for(var et=Ve;et;)(me(et,"x")||me(et,"y"))&&qe.push(et),et=et.parentElement}(),{dispose:function(){nt(),qe=null},start:function(){qe&&(qe.forEach(function(et){return et.addEventListener("scroll",Ge)}),window.addEventListener("scroll",Ge))},stop:nt}}(j,function(){Ee.layout.invalidateRects(),Te()});function Te(){de!==null&&(de.invalidateShadow=!0,re=ke(de),de.invalidateShadow=!1)}function Ce(Ve,Ge){for(var qe=_s(Ge),nt=0;nt<qe.length;nt++)Ve[nt]=qe[nt];for(var et=0;et<Ve.length-qe.length;et++)Ve.pop()}function Le(){return Q}return{element:j,draggables:Ee.draggables,isDragRelevant:function(Ve){var Ge=Ve.element,qe=Ve.getOptions;return function(nt,et){var it=qe();if(it.shouldAcceptDrop)return it.shouldAcceptDrop(nt.getOptions(),et);var fi=nt.getOptions();return it.behaviour!=="copy"&&Z(Ge,"."+a)!==nt.element&&(nt.element===Ge||!(!fi.groupName||fi.groupName!==it.groupName))}}(Ee),layout:Ee.layout,dispose:function(Ve){Me.dispose(),function(Ge){gr.wrapChild&&Array.prototype.forEach.call(Ge.children,function(qe){qe.nodeType===Node.ELEMENT_NODE&&C(qe,a)&&(Ge.insertBefore(qe.firstElementChild,qe),Ge.removeChild(qe))})}(Ve.element)},prepareDrag:function(Ve,Ge){var qe=Ve.element,nt=Ee.draggables;Ce(nt,qe),Ve.layout.invalidateRects(),nt.forEach(function(et){return da(et,!0,Le().animationDuration)}),Me.start()},handleDrag:function(Ve){return re=ke(de=Ve)},handleDrop:function(Ve){Me.stop(),re&&re.dropPlaceholderContainer&&j.removeChild(re.dropPlaceholderContainer),de=null,ke=Rd(Ee),De(Ve,re),re=null},fireRemoveElement:function(){De(de,Object.assign({},re,{addedIndex:null}),!0),re=null},getDragResult:function(){return re},getTranslateCalculator:function(Ve){return au(Ee)(Ve)},onTranslated:function(){Te()},setDraggables:function(){Ce(Ee.draggables,j)},getScrollMaxSpeed:function(){return gr.maxScrollSpeed},shouldUseTransformForGhost:function(){return gr.useTransformForGhost===!0},getOptions:Le,setOptions:function(Ve){var Ge=!(1<arguments.length&&arguments[1]!==void 0)||arguments[1];Q=Ge===!1?Object.assign({},z,Ve):Object.assign({},z,Q,Ve)}}}}var gr=function(j,G){var Q=xm(j)(G);return j[s]=Q,mo.register(Q),{dispose:function(){mo.unregister(Q),Q.dispose(Q)},setOptions:function(re,de){Q.setOptions(re,de)}}};function To(j,G,Q){Object.defineProperty(j,Q,{set:function(re){G[Q]=re},get:function(){return G[Q]}})}gr.wrapChild=!0,gr.cancelDrag=function(){mo.cancelDrag()},gr.isDragging=function(){return mo.isDragging()};function $n(j,G){return console.warn('default export is deprecated. please use named export "smoothDnD"'),gr(j,G)}$n.cancelDrag=function(){gr.cancelDrag()},$n.isDragging=function(){return gr.isDragging()},To($n,gr,"useTransformForGhost"),To($n,gr,"maxScrollSpeed"),To($n,gr,"wrapChild"),To($n,gr,"dropHandler"),r.smoothDnD=gr,r.constants=B,r.dropHandlers=K,r.default=$n,Object.defineProperty(r,"__esModule",{value:!0})})})(qa,qa.exports);const mne=function(t){return Array.isArray(t)};function Mk(t){return t?typeof t=="string"||typeof t=="object"&&(typeof t.value=="string"||typeof t.value=="function"||typeof t.value=="object"):!0}function Lk(t,e){const r=t.$props.tag;if(r){if(typeof r=="string"){const n={value:r};return e&&(n.props={class:e}),n}else if(typeof r=="object"){const n={value:r.value||"div",props:r.props||{}};return e&&(n.props.class?mne(n.props.class)?n.props.class.push(e):n.props.class=[e,n.props.class]:n.props.class=e),n}}return{value:"div"}}qa.exports.smoothDnD.dropHandler=qa.exports.dropHandlers.reactDropHandler().handler;qa.exports.smoothDnD.wrapChild=!1;const aC={"drag-start":"onDragStart","drag-end":"onDragEnd",drop:"onDrop","drag-enter":"onDragEnter","drag-leave":"onDragLeave","drop-ready":"onDropReady"};var dme=Dl({name:"Container",mounted(){const t=Object.assign({},this.$props);for(const e in aC)t[aC[e]]=r=>{this.$emit(e,r)};this.containerElement=this.$refs.container||this.$el,this.container=qa.exports.smoothDnD(this.containerElement,t)},unmounted(){this.container&&this.container.dispose()},emits:["drop","drag-start","drag-end","drag-enter","drag-leave","drop-ready"],props:{removeOnDropOut:{type:Boolean,default:!1},autoScrollEnabled:{type:Boolean,default:!0},behaviour:String,groupName:String,orientation:String,dragHandleSelector:String,nonDragAreaSelector:String,lockAxis:String,dragClass:String,dropClass:String,dragBeginDelay:Number,animationDuration:Number,getChildPayload:Function,shouldAnimateDrop:Function,shouldAcceptDrop:Function,getGhostParent:Function,dropPlaceholder:[Object,Boolean],tag:{validator:Mk,default:"div"}},render(){const t=Lk(this);return Ze(t.value,Object.assign({},{ref:"container"},t.props),this.$slots.default())}}),fme=Dl({name:"Draggable",props:{tag:{validator:Mk,default:"div"}},render:function(){const t=Lk(this,qa.exports.constants.wrapperClass);return Ze(t.value,Object.assign({},t.props),this.$slots.default())}}),gne=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,vne=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],ry=function(e){var r=e,n=e.indexOf("["),i=e.indexOf("]");n!=-1&&i!=-1&&(e=e.substring(0,n)+e.substring(n,i).replace(/:/g,";")+e.substring(i,e.length));for(var s=gne.exec(e||""),a={},o=14;o--;)a[vne[o]]=s[o]||"";return n!=-1&&i!=-1&&(a.source=r,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=yne(a,a.path),a.queryKey=bne(a,a.query),a};function yne(t,e){var r=/\/{2,9}/g,n=e.replace(r,"/").split("/");return(e.substr(0,1)=="/"||e.length===0)&&n.splice(0,1),e.substr(e.length-1,1)=="/"&&n.splice(n.length-1,1),n}function bne(t,e){var r={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,s){i&&(r[i]=s)}),r}function _ne(t,e="",r){let n=t;r=r||typeof location!="undefined"&&location,t==null&&(t=r.protocol+"//"+r.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=r.protocol+t:t=r.host+t),/^(https?|wss?):\/\//.test(t)||(typeof r!="undefined"?t=r.protocol+"//"+t:t="https://"+t),n=ry(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const s=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+s+":"+n.port+e,n.href=n.protocol+"://"+s+(r&&r.port===n.port?"":":"+n.port),n}var iy={exports:{}};try{iy.exports=typeof XMLHttpRequest!="undefined"&&"withCredentials"in new XMLHttpRequest}catch{iy.exports=!1}var Tne=iy.exports,Ns=(()=>typeof self!="undefined"?self:typeof window!="undefined"?window:Function("return this")())();function Nk(t){const e=t.xdomain;try{if(typeof XMLHttpRequest!="undefined"&&(!e||Tne))return new XMLHttpRequest}catch{}if(!e)try{return new Ns[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function Fk(t,...e){return e.reduce((r,n)=>(t.hasOwnProperty(n)&&(r[n]=t[n]),r),{})}const xne=setTimeout,Sne=clearTimeout;function Jp(t,e){e.useNativeTimers?(t.setTimeoutFn=xne.bind(Ns),t.clearTimeoutFn=Sne.bind(Ns)):(t.setTimeoutFn=setTimeout.bind(Ns),t.clearTimeoutFn=clearTimeout.bind(Ns))}var Jl=Qr;function Qr(t){if(t)return Ene(t)}function Ene(t){for(var e in Qr.prototype)t[e]=Qr.prototype[e];return t}Qr.prototype.on=Qr.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};Qr.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this};Qr.prototype.off=Qr.prototype.removeListener=Qr.prototype.removeAllListeners=Qr.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var n,i=0;i<r.length;i++)if(n=r[i],n===e||n.fn===e){r.splice(i,1);break}return r.length===0&&delete this._callbacks["$"+t],this};Qr.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,i=r.length;n<i;++n)r[n].apply(this,e)}return this};Qr.prototype.emitReserved=Qr.prototype.emit;Qr.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Qr.prototype.hasListeners=function(t){return!!this.listeners(t).length};const kn=Object.create(null);kn.open="0";kn.close="1";kn.ping="2";kn.pong="3";kn.message="4";kn.upgrade="5";kn.noop="6";const Xf=Object.create(null);Object.keys(kn).forEach(t=>{Xf[kn[t]]=t});const Cne={type:"error",data:"parser error"},wne=typeof Blob=="function"||typeof Blob!="undefined"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Pne=typeof ArrayBuffer=="function",Dne=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,Bk=({type:t,data:e},r,n)=>wne&&e instanceof Blob?r?n(e):oC(e,n):Pne&&(e instanceof ArrayBuffer||Dne(e))?r?n(e):oC(new Blob([e]),n):n(kn[t]+(e||"")),oC=(t,e)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];e("b"+n)},r.readAsDataURL(t)};var lC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Wu=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(var df=0;df<lC.length;df++)Wu[lC.charCodeAt(df)]=df;var Ane=function(t){var e=t.length*.75,r=t.length,n,i=0,s,a,o,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var u=new ArrayBuffer(e),c=new Uint8Array(u);for(n=0;n<r;n+=4)s=Wu[t.charCodeAt(n)],a=Wu[t.charCodeAt(n+1)],o=Wu[t.charCodeAt(n+2)],l=Wu[t.charCodeAt(n+3)],c[i++]=s<<2|a>>4,c[i++]=(a&15)<<4|o>>2,c[i++]=(o&3)<<6|l&63;return u};const One=typeof ArrayBuffer=="function",$k=(t,e)=>{if(typeof t!="string")return{type:"message",data:Uk(t,e)};const r=t.charAt(0);return r==="b"?{type:"message",data:Rne(t.substring(1),e)}:Xf[r]?t.length>1?{type:Xf[r],data:t.substring(1)}:{type:Xf[r]}:Cne},Rne=(t,e)=>{if(One){const r=Ane(t);return Uk(r,e)}else return{base64:!0,data:t}},Uk=(t,e)=>{switch(e){case"blob":return t instanceof ArrayBuffer?new Blob([t]):t;case"arraybuffer":default:return t}},jk=String.fromCharCode(30),kne=(t,e)=>{const r=t.length,n=new Array(r);let i=0;t.forEach((s,a)=>{Bk(s,!1,o=>{n[a]=o,++i===r&&e(n.join(jk))})})},Ine=(t,e)=>{const r=t.split(jk),n=[];for(let i=0;i<r.length;i++){const s=$k(r[i],e);if(n.push(s),s.type==="error")break}return n},Vk=4;class Hk extends Jl{constructor(e){super();this.writable=!1,Jp(this,e),this.opts=e,this.query=e.query,this.readyState="",this.socket=e.socket}onError(e,r){const n=new Error(e);return n.type="TransportError",n.description=r,super.emit("error",n),this}open(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emit("open")}onData(e){const r=$k(e,this.socket.binaryType);this.onPacket(r)}onPacket(e){super.emit("packet",e)}onClose(){this.readyState="closed",super.emit("close")}}var zk="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),jh=64,Wk={},uC=0,Fs=0,cC;function ny(t){var e="";do e=zk[t%jh]+e,t=Math.floor(t/jh);while(t>0);return e}function Mne(t){var e=0;for(Fs=0;Fs<t.length;Fs++)e=e*jh+Wk[t.charAt(Fs)];return e}function Hb(){var t=ny(+new Date);return t!==cC?(uC=0,cC=t):t+"."+ny(uC++)}for(;Fs<jh;Fs++)Wk[zk[Fs]]=Fs;Hb.encode=ny;Hb.decode=Mne;var Yk=Hb,gd={};gd.encode=function(t){var e="";for(var r in t)t.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e};gd.decode=function(t){for(var e={},r=t.split("&"),n=0,i=r.length;n<i;n++){var s=r[n].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e};class Lne extends Hk{constructor(){super(...arguments);this.polling=!1}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const r=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let n=0;this.polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}poll(){this.polling=!0,this.doPoll(),this.emit("poll")}onData(e){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose(),!1;this.onPacket(n)};Ine(e,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this.polling=!1,this.emit("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,kne(e,r=>{this.doWrite(r,()=>{this.writable=!0,this.emit("drain")})})}uri(){let e=this.query||{};const r=this.opts.secure?"https":"http";let n="";this.opts.timestampRequests!==!1&&(e[this.opts.timestampParam]=Yk()),!this.supportsBinary&&!e.sid&&(e.b64=1),this.opts.port&&(r==="https"&&Number(this.opts.port)!==443||r==="http"&&Number(this.opts.port)!==80)&&(n=":"+this.opts.port);const i=gd.encode(e),s=this.opts.hostname.indexOf(":")!==-1;return r+"://"+(s?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(i.length?"?"+i:"")}}function Nne(){}const Fne=function(){return new Nk({xdomain:!1}).responseType!=null}();class Bne extends Lne{constructor(e){super(e);if(typeof location!="undefined"){const n=location.protocol==="https:";let i=location.port;i||(i=n?"443":"80"),this.xd=typeof location!="undefined"&&e.hostname!==location.hostname||i!==e.port,this.xs=e.secure!==n}const r=e&&e.forceBase64;this.supportsBinary=Fne&&!r}request(e={}){return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new Pn(this.uri(),e)}doWrite(e,r){const n=this.request({method:"POST",data:e});n.on("success",r),n.on("error",i=>{this.onError("xhr post error",i)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",r=>{this.onError("xhr poll error",r)}),this.pollXhr=e}}class Pn extends Jl{constructor(e,r){super();Jp(this,r),this.opts=r,this.method=r.method||"GET",this.uri=e,this.async=r.async!==!1,this.data=r.data!==void 0?r.data:null,this.create()}create(){const e=Fk(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;const r=this.xhr=new Nk(e);try{r.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let n in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(n)&&r.setRequestHeader(n,this.opts.extraHeaders[n])}}catch{}if(this.method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),r.onreadystatechange=()=>{r.readyState===4&&(r.status===200||r.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof r.status=="number"?r.status:0)},0))},r.send(this.data)}catch(n){this.setTimeoutFn(()=>{this.onError(n)},0);return}typeof document!="undefined"&&(this.index=Pn.requestsCount++,Pn.requests[this.index]=this)}onSuccess(){this.emit("success"),this.cleanup()}onData(e){this.emit("data",e),this.onSuccess()}onError(e){this.emit("error",e),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr=="undefined"||this.xhr===null)){if(this.xhr.onreadystatechange=Nne,e)try{this.xhr.abort()}catch{}typeof document!="undefined"&&delete Pn.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;e!==null&&this.onData(e)}abort(){this.cleanup()}}Pn.requestsCount=0;Pn.requests={};if(typeof document!="undefined"){if(typeof attachEvent=="function")attachEvent("onunload",dC);else if(typeof addEventListener=="function"){const t="onpagehide"in Ns?"pagehide":"unload";addEventListener(t,dC,!1)}}function dC(){for(let t in Pn.requests)Pn.requests.hasOwnProperty(t)&&Pn.requests[t].abort()}const $ne=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,r)=>r(e,0))(),Eu=Ns.WebSocket||Ns.MozWebSocket,fC=!0,Une="arraybuffer",hC=typeof navigator!="undefined"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class zb extends Hk{constructor(e){super(e);this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),r=this.opts.protocols,n=hC?{}:Fk(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=fC&&!hC?r?new Eu(e,r):new Eu(e):new Eu(e,r,n)}catch(i){return this.emit("error",i)}this.ws.binaryType=this.socket.binaryType||Une,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=this.onClose.bind(this),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const n=e[r],i=r===e.length-1;Bk(n,this.supportsBinary,s=>{const a={};try{fC&&this.ws.send(s)}catch{}i&&$ne(()=>{this.writable=!0,this.emit("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws!="undefined"&&(this.ws.close(),this.ws=null)}uri(){let e=this.query||{};const r=this.opts.secure?"wss":"ws";let n="";this.opts.port&&(r==="wss"&&Number(this.opts.port)!==443||r==="ws"&&Number(this.opts.port)!==80)&&(n=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=Yk()),this.supportsBinary||(e.b64=1);const i=gd.encode(e),s=this.opts.hostname.indexOf(":")!==-1;return r+"://"+(s?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(i.length?"?"+i:"")}check(){return!!Eu&&!("__initialize"in Eu&&this.name===zb.prototype.name)}}const jne={websocket:zb,polling:Bne};class Xn extends Jl{constructor(e,r={}){super();e&&typeof e=="object"&&(r=e,e=null),e?(e=ry(e),r.hostname=e.host,r.secure=e.protocol==="https"||e.protocol==="wss",r.port=e.port,e.query&&(r.query=e.query)):r.host&&(r.hostname=ry(r.host).host),Jp(this,r),this.secure=r.secure!=null?r.secure:typeof location!="undefined"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location!="undefined"?location.hostname:"localhost"),this.port=r.port||(typeof location!="undefined"&&location.port?location.port:this.secure?"443":"80"),this.transports=r.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},r),this.opts.path=this.opts.path.replace(/\/$/,"")+"/",typeof this.opts.query=="string"&&(this.opts.query=gd.decode(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&addEventListener("beforeunload",()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},!1),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close")},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const r=Vne(this.opts.query);r.EIO=Vk,r.transport=e,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts.transportOptions[e],this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new jne[e](n)}open(){let e;if(this.opts.rememberUpgrade&&Xn.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch{this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",()=>{this.onClose("transport close")})}probe(e){let r=this.createTransport(e),n=!1;Xn.priorWebsocketSuccess=!1;const i=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",d=>{if(!n)if(d.type==="pong"&&d.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;Xn.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(c(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const f=new Error("probe error");f.transport=r.name,this.emitReserved("upgradeError",f)}}))};function s(){n||(n=!0,c(),r.close(),r=null)}const a=d=>{const f=new Error("probe error: "+d);f.transport=r.name,s(),this.emitReserved("upgradeError",f)};function o(){a("transport closed")}function l(){a("socket closed")}function u(d){r&&d.name!==r.name&&s()}const c=()=>{r.removeListener("open",i),r.removeListener("error",a),r.removeListener("close",o),this.off("close",l),this.off("upgrading",u)};r.once("open",i),r.once("error",a),r.once("close",o),this.once("close",l),this.once("upgrading",u),r.open()}onOpen(){if(this.readyState="open",Xn.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade&&this.transport.pause){let e=0;const r=this.upgrades.length;for(;e<r;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const r=new Error("server error");r.code=e.data,this.onError(r);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emitReserved("flush"))}write(e,r,n){return this.sendPacket("message",e,r,n),this}send(e,r,n){return this.sendPacket("message",e,r,n),this}sendPacket(e,r,n,i){if(typeof r=="function"&&(i=r,r=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const s={type:e,data:r,options:n};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),e()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}onError(e){Xn.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,r){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",e,r),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const r=[];let n=0;const i=e.length;for(;n<i;n++)~this.transports.indexOf(e[n])&&r.push(e[n]);return r}}Xn.protocol=Vk;function Vne(t){const e={};for(let r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}Xn.protocol;const Hne=typeof ArrayBuffer=="function",zne=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,Gk=Object.prototype.toString,Wne=typeof Blob=="function"||typeof Blob!="undefined"&&Gk.call(Blob)==="[object BlobConstructor]",Yne=typeof File=="function"||typeof File!="undefined"&&Gk.call(File)==="[object FileConstructor]";function Wb(t){return Hne&&(t instanceof ArrayBuffer||zne(t))||Wne&&t instanceof Blob||Yne&&t instanceof File}function Qf(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let r=0,n=t.length;r<n;r++)if(Qf(t[r]))return!0;return!1}if(Wb(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Qf(t.toJSON(),!0);for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&Qf(t[r]))return!0;return!1}function Gne(t){const e=[],r=t.data,n=t;return n.data=sy(r,e),n.attachments=e.length,{packet:n,buffers:e}}function sy(t,e){if(!t)return t;if(Wb(t)){const r={_placeholder:!0,num:e.length};return e.push(t),r}else if(Array.isArray(t)){const r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=sy(t[n],e);return r}else if(typeof t=="object"&&!(t instanceof Date)){const r={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=sy(t[n],e));return r}return t}function qne(t,e){return t.data=ay(t.data,e),t.attachments=void 0,t}function ay(t,e){if(!t)return t;if(t&&t._placeholder)return e[t.num];if(Array.isArray(t))for(let r=0;r<t.length;r++)t[r]=ay(t[r],e);else if(typeof t=="object")for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(t[r]=ay(t[r],e));return t}const Kne=5;var yt;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(yt||(yt={}));class Xne{encode(e){return(e.type===yt.EVENT||e.type===yt.ACK)&&Qf(e)?(e.type=e.type===yt.EVENT?yt.BINARY_EVENT:yt.BINARY_ACK,this.encodeAsBinary(e)):[this.encodeAsString(e)]}encodeAsString(e){let r=""+e.type;return(e.type===yt.BINARY_EVENT||e.type===yt.BINARY_ACK)&&(r+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(r+=e.nsp+","),e.id!=null&&(r+=e.id),e.data!=null&&(r+=JSON.stringify(e.data)),r}encodeAsBinary(e){const r=Gne(e),n=this.encodeAsString(r.packet),i=r.buffers;return i.unshift(n),i}}class Yb extends Jl{constructor(){super()}add(e){let r;if(typeof e=="string")r=this.decodeString(e),r.type===yt.BINARY_EVENT||r.type===yt.BINARY_ACK?(this.reconstructor=new Jne(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r);else if(Wb(e)||e.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(e),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let r=0;const n={type:Number(e.charAt(0))};if(yt[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===yt.BINARY_EVENT||n.type===yt.BINARY_ACK){const s=r+1;for(;e.charAt(++r)!=="-"&&r!=e.length;);const a=e.substring(s,r);if(a!=Number(a)||e.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(a)}if(e.charAt(r+1)==="/"){const s=r+1;for(;++r&&!(e.charAt(r)===","||r===e.length););n.nsp=e.substring(s,r)}else n.nsp="/";const i=e.charAt(r+1);if(i!==""&&Number(i)==i){const s=r+1;for(;++r;){const a=e.charAt(r);if(a==null||Number(a)!=a){--r;break}if(r===e.length)break}n.id=Number(e.substring(s,r+1))}if(e.charAt(++r)){const s=Qne(e.substr(r));if(Yb.isPayloadValid(n.type,s))n.data=s;else throw new Error("invalid payload")}return n}static isPayloadValid(e,r){switch(e){case yt.CONNECT:return typeof r=="object";case yt.DISCONNECT:return r===void 0;case yt.CONNECT_ERROR:return typeof r=="string"||typeof r=="object";case yt.EVENT:case yt.BINARY_EVENT:return Array.isArray(r)&&r.length>0;case yt.ACK:case yt.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}function Qne(t){try{return JSON.parse(t)}catch{return!1}}class Jne{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const r=qne(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}var Zne=Object.freeze(Object.defineProperty({__proto__:null,protocol:Kne,get PacketType(){return yt},Encoder:Xne,Decoder:Yb},Symbol.toStringTag,{value:"Module"}));function qi(t,e,r){return t.on(e,r),function(){t.off(e,r)}}const ese=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class qk extends Jl{constructor(e,r,n){super();this.connected=!1,this.disconnected=!0,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this.io._autoConnect&&this.open()}subEvents(){if(this.subs)return;const e=this.io;this.subs=[qi(e,"open",this.onopen.bind(this)),qi(e,"packet",this.onpacket.bind(this)),qi(e,"error",this.onerror.bind(this)),qi(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...r){if(ese.hasOwnProperty(e))throw new Error('"'+e+'" is a reserved event name');r.unshift(e);const n={type:yt.EVENT,data:r};if(n.options={},n.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const a=this.ids++,o=r.pop();this._registerAckCallback(a,o),n.id=a}const i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!i||!this.connected)||(this.connected?this.packet(n):this.sendBuffer.push(n)),this.flags={},this}_registerAckCallback(e,r){const n=this.flags.timeout;if(n===void 0){this.acks[e]=r;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let s=0;s<this.sendBuffer.length;s++)this.sendBuffer[s].id===e&&this.sendBuffer.splice(s,1);r.call(this,new Error("operation has timed out"))},n);this.acks[e]=(...s)=>{this.io.clearTimeoutFn(i),r.apply(this,[null,...s])}}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this.packet({type:yt.CONNECT,data:e})}):this.packet({type:yt.CONNECT,data:this.auth})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e){this.connected=!1,this.disconnected=!0,delete this.id,this.emitReserved("disconnect",e)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case yt.CONNECT:if(e.data&&e.data.sid){const i=e.data.sid;this.onconnect(i)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case yt.EVENT:this.onevent(e);break;case yt.BINARY_EVENT:this.onevent(e);break;case yt.ACK:this.onack(e);break;case yt.BINARY_ACK:this.onack(e);break;case yt.DISCONNECT:this.ondisconnect();break;case yt.CONNECT_ERROR:this.destroy();const n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n);break}}onevent(e){const r=e.data||[];e.id!=null&&r.push(this.ack(e.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,e)}super.emit.apply(this,e)}ack(e){const r=this;let n=!1;return function(...i){n||(n=!0,r.packet({type:yt.ACK,id:e,data:i}))}}onack(e){const r=this.acks[e.id];typeof r=="function"&&(r.apply(this,e.data),delete this.acks[e.id])}onconnect(e){this.id=e,this.connected=!0,this.disconnected=!1,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>this.packet(e)),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:yt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}}var tse=Zl;function Zl(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Zl.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),r=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-r:t+r}return Math.min(t,this.max)|0};Zl.prototype.reset=function(){this.attempts=0};Zl.prototype.setMin=function(t){this.ms=t};Zl.prototype.setMax=function(t){this.max=t};Zl.prototype.setJitter=function(t){this.jitter=t};class oy extends Jl{constructor(e,r){var n;super();this.nsps={},this.subs=[],e&&typeof e=="object"&&(r=e,e=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,Jp(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new tse({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=e;const i=r.parser||Zne;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var r;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(r=this.backoff)===null||r===void 0||r.setMin(e),this)}randomizationFactor(e){var r;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(r=this.backoff)===null||r===void 0||r.setJitter(e),this)}reconnectionDelayMax(e){var r;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(r=this.backoff)===null||r===void 0||r.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Xn(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const i=qi(r,"open",function(){n.onopen(),e&&e()}),s=qi(r,"error",a=>{n.cleanup(),n._readyState="closed",this.emitReserved("error",a),e?e(a):n.maybeReconnectOnOpen()});if(this._timeout!==!1){const a=this._timeout;a===0&&i();const o=this.setTimeoutFn(()=>{i(),r.close(),r.emit("error",new Error("timeout"))},a);this.opts.autoUnref&&o.unref(),this.subs.push(function(){clearTimeout(o)})}return this.subs.push(i),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(qi(e,"ping",this.onping.bind(this)),qi(e,"data",this.ondata.bind(this)),qi(e,"error",this.onerror.bind(this)),qi(e,"close",this.onclose.bind(this)),qi(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){this.decoder.add(e)}ondecoded(e){this.emitReserved("packet",e)}onerror(e){this.emitReserved("error",e)}socket(e,r){let n=this.nsps[e];return n||(n=new qk(this,e,r),this.nsps[e]=n),n}_destroy(e){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(e){const r=this.encoder.encode(e);for(let n=0;n<r.length;n++)this.engine.write(r[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(function(){clearTimeout(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Cu={};function Tg(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const r=_ne(t,e.path||"/socket.io"),n=r.source,i=r.id,s=r.path,a=Cu[i]&&s in Cu[i].nsps,o=e.forceNew||e["force new connection"]||e.multiplex===!1||a;let l;return o?l=new oy(n,e):(Cu[i]||(Cu[i]=new oy(n,e)),l=Cu[i]),r.query&&!e.query&&(e.query=r.queryKey),l.socket(r.path,e)}Object.assign(Tg,{Manager:oy,Socket:qk,io:Tg,connect:Tg});var Kk=Dl({name:"Vue3Autocounter",interval:null,props:{startAmount:{type:Number,default:0},endAmount:{type:Number,default:0,required:!0},duration:{type:Number,default:3,validator(t){return t>=1}},autoinit:{type:Boolean,default:!0},prefix:{type:String,default:""},suffix:{type:String,default:""},separator:{type:String,default:","},decimalSeparator:{type:String,default:"."},decimals:{type:Number,default:0,validator(t){return t>=0}}},data(){return{timestamp:0,startTimestamp:0,currentAmount:0,currentStartAmount:0,currentDuration:0,paused:!1,remaining:0,animationFrame:0}},mounted(){this.currentAmount=this.startAmount,this.currentStartAmount=this.startAmount,this.currentDuration=this.duration*1e3,this.remaining=this.duration*1e3,this.autoinit?this.start():this.paused=!0,this.$emit("mounted")},unmounted(){this.cancelAnimation()},watch:{startAmount(){this.reset()},endAmount(){this.reset()},duration(){this.reset()}},computed:{isCountingUp(){return this.endAmount>this.startAmount},displayedAmount(){return`${this.prefix}${this.formatedAmount}${this.suffix}`},formatedAmount(){const t=/(\d+)(\d{3})/;let e=this.currentAmount.toFixed(this.decimals);e+="";let r=e.split("."),n=r[0],i=r.length>1?this.decimalSeparator+r[1]:"",s=!isNaN(parseFloat(this.separator));if(this.separator&&!s)for(;t.test(n);)n=n.replace(t,"$1"+this.separator+"$2");return n+i}},methods:{start(){this.cancelAnimation(),this.currentStartAmount=this.startAmount,this.startTimestamp=null,this.currentDuration=this.duration*1e3,this.paused=!1,this.animationFrame=window.requestAnimationFrame(this.counting)},pause(){this.paused||(this.cancelAnimation(),this.paused=!0)},resume(){!this.paused||(this.startTimestamp=null,this.currentDuration=+this.remaining,this.currentStartAmount=+this.currentAmount,this.animationFrame=window.requestAnimationFrame(this.counting),this.paused=!1)},reset(){this.paused=!1,this.startTimestamp=null,this.cancelAnimation(),this.currentAmount=this.startAmount,this.autoinit?this.start():this.paused=!0},counting(t){this.timestamp=t,this.startTimestamp||(this.startTimestamp=t);let e=t-this.startTimestamp;this.remaining=this.currentDuration-e,this.isCountingUp?(this.currentAmount=this.currentStartAmount+(this.endAmount-this.currentStartAmount)*(e/this.currentDuration),this.currentAmount=this.currentAmount>this.endAmount?this.endAmount:this.currentAmount):(this.currentAmount=this.currentStartAmount-(this.currentStartAmount-this.endAmount)*(e/this.currentDuration),this.currentAmount=this.currentAmount<this.endAmount?this.endAmount:this.currentAmount),e<this.currentDuration?this.animationFrame=window.requestAnimationFrame(this.counting):setTimeout(()=>{this.$emit("finished")},1e3)},cancelAnimation(){this.animationFrame&&window.cancelAnimationFrame(this.animationFrame)}}});function rse(t,e,r,n,i,s){return Ir(),hp("span",null,Qn(t.displayedAmount),1)}Kk.render=rse;var ise=(()=>{const t=Kk;return t.install=e=>{e.component("Vue3Autocounter",t)},t})(),hme=ise;/*!
 * Chart.js v3.7.1
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */const Xk=function(){return typeof window=="undefined"?function(t){return t()}:window.requestAnimationFrame}();function Qk(t,e,r){const n=r||(a=>Array.prototype.slice.call(a));let i=!1,s=[];return function(...a){s=n(a),i||(i=!0,Xk.call(window,()=>{i=!1,t.apply(e,s)}))}}function nse(t,e){let r;return function(...n){return e?(clearTimeout(r),r=setTimeout(t,e,n)):t.apply(this,n),e}}const Gb=t=>t==="start"?"left":t==="end"?"right":"center",Or=(t,e,r)=>t==="start"?e:t==="end"?r:(e+r)/2,sse=(t,e,r,n)=>t===(n?"left":"right")?r:t==="center"?(e+r)/2:e;function jn(){}const ase=function(){let t=0;return function(){return t++}}();function St(t){return t===null||typeof t=="undefined"}function Ut(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.substr(0,7)==="[object"&&e.substr(-6)==="Array]"}function mt(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}const sr=t=>(typeof t=="number"||t instanceof Number)&&isFinite(+t);function ki(t,e){return sr(t)?t:e}function lt(t,e){return typeof t=="undefined"?e:t}const ose=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:t/e,Jk=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Ft(t,e,r){if(t&&typeof t.call=="function")return t.apply(r,e)}function Dt(t,e,r,n){let i,s,a;if(Ut(t))if(s=t.length,n)for(i=s-1;i>=0;i--)e.call(r,t[i],i);else for(i=0;i<s;i++)e.call(r,t[i],i);else if(mt(t))for(a=Object.keys(t),s=a.length,i=0;i<s;i++)e.call(r,t[a[i]],a[i])}function Vh(t,e){let r,n,i,s;if(!t||!e||t.length!==e.length)return!1;for(r=0,n=t.length;r<n;++r)if(i=t[r],s=e[r],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function Hh(t){if(Ut(t))return t.map(Hh);if(mt(t)){const e=Object.create(null),r=Object.keys(t),n=r.length;let i=0;for(;i<n;++i)e[r[i]]=Hh(t[r[i]]);return e}return t}function Zk(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function lse(t,e,r,n){if(!Zk(t))return;const i=e[t],s=r[t];mt(i)&&mt(s)?Vc(i,s,n):e[t]=Hh(s)}function Vc(t,e,r){const n=Ut(e)?e:[e],i=n.length;if(!mt(t))return t;r=r||{};const s=r.merger||lse;for(let a=0;a<i;++a){if(e=n[a],!mt(e))continue;const o=Object.keys(e);for(let l=0,u=o.length;l<u;++l)s(o[l],t,e,r)}return t}function fc(t,e){return Vc(t,e,{merger:use})}function use(t,e,r){if(!Zk(t))return;const n=e[t],i=r[t];mt(n)&&mt(i)?fc(n,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Hh(i))}const cse="",dse=".";function pC(t,e){const r=t.indexOf(dse,e);return r===-1?t.length:r}function Ka(t,e){if(e===cse)return t;let r=0,n=pC(e,r);for(;t&&n>r;)t=t[e.substr(r,n-r)],r=n+1,n=pC(e,r);return t}function qb(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Hi=t=>typeof t!="undefined",Ks=t=>typeof t=="function",mC=(t,e)=>{if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0};function fse(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Kt=Math.PI,It=2*Kt,hse=It+Kt,zh=Number.POSITIVE_INFINITY,pse=Kt/180,Zt=Kt/2,wu=Kt/4,gC=Kt*2/3,Mi=Math.log10,Dn=Math.sign;function vC(t){const e=Math.round(t);t=hc(t,e,t/1e3)?e:t;const r=Math.pow(10,Math.floor(Mi(t))),n=t/r;return(n<=1?1:n<=2?2:n<=5?5:10)*r}function mse(t){const e=[],r=Math.sqrt(t);let n;for(n=1;n<r;n++)t%n===0&&(e.push(n),e.push(t/n));return r===(r|0)&&e.push(r),e.sort((i,s)=>i-s).pop(),e}function Hc(t){return!isNaN(parseFloat(t))&&isFinite(t)}function hc(t,e,r){return Math.abs(t-e)<r}function gse(t,e){const r=Math.round(t);return r-e<=t&&r+e>=t}function eI(t,e,r){let n,i,s;for(n=0,i=t.length;n<i;n++)s=t[n][r],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Qi(t){return t*(Kt/180)}function Kb(t){return t*(180/Kt)}function yC(t){if(!sr(t))return;let e=1,r=0;for(;Math.round(t*e)/e!==t;)e*=10,r++;return r}function tI(t,e){const r=e.x-t.x,n=e.y-t.y,i=Math.sqrt(r*r+n*n);let s=Math.atan2(n,r);return s<-.5*Kt&&(s+=It),{angle:s,distance:i}}function ly(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function vse(t,e){return(t-e+hse)%It-Kt}function yi(t){return(t%It+It)%It}function zc(t,e,r,n){const i=yi(t),s=yi(e),a=yi(r),o=yi(s-i),l=yi(a-i),u=yi(i-s),c=yi(i-a);return i===s||i===a||n&&s===a||o>l&&u<c}function br(t,e,r){return Math.max(e,Math.min(r,t))}function yse(t){return br(t,-32768,32767)}function Jn(t,e,r,n=1e-6){return t>=Math.min(e,r)-n&&t<=Math.max(e,r)+n}const ff=t=>t===0||t===1,bC=(t,e,r)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*It/r)),_C=(t,e,r)=>Math.pow(2,-10*t)*Math.sin((t-e)*It/r)+1,pc={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Zt)+1,easeOutSine:t=>Math.sin(t*Zt),easeInOutSine:t=>-.5*(Math.cos(Kt*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>ff(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>ff(t)?t:bC(t,.075,.3),easeOutElastic:t=>ff(t)?t:_C(t,.075,.3),easeInOutElastic(t){return ff(t)?t:t<.5?.5*bC(t*2,.1125,.45):.5+.5*_C(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-pc.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?pc.easeInBounce(t*2)*.5:pc.easeOutBounce(t*2-1)*.5+.5};/*!
 * @kurkle/color v0.1.9
 * https://github.com/kurkle/color#readme
 * (c) 2020 Jukka Kurkela
 * Released under the MIT License
 */const Ri={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},uy="0123456789ABCDEF",bse=t=>uy[t&15],_se=t=>uy[(t&240)>>4]+uy[t&15],hf=t=>(t&240)>>4===(t&15);function Tse(t){return hf(t.r)&&hf(t.g)&&hf(t.b)&&hf(t.a)}function xse(t){var e=t.length,r;return t[0]==="#"&&(e===4||e===5?r={r:255&Ri[t[1]]*17,g:255&Ri[t[2]]*17,b:255&Ri[t[3]]*17,a:e===5?Ri[t[4]]*17:255}:(e===7||e===9)&&(r={r:Ri[t[1]]<<4|Ri[t[2]],g:Ri[t[3]]<<4|Ri[t[4]],b:Ri[t[5]]<<4|Ri[t[6]],a:e===9?Ri[t[7]]<<4|Ri[t[8]]:255})),r}function Sse(t){var e=Tse(t)?bse:_se;return t&&"#"+e(t.r)+e(t.g)+e(t.b)+(t.a<255?e(t.a):"")}function vd(t){return t+.5|0}const Zp=(t,e,r)=>Math.max(Math.min(t,r),e);function Yu(t){return Zp(vd(t*2.55),0,255)}function Wc(t){return Zp(vd(t*255),0,255)}function Xb(t){return Zp(vd(t/2.55)/100,0,1)}function TC(t){return Zp(vd(t*100),0,100)}const Ese=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Cse(t){const e=Ese.exec(t);let r=255,n,i,s;if(!!e){if(e[7]!==n){const a=+e[7];r=255&(e[8]?Yu(a):a*255)}return n=+e[1],i=+e[3],s=+e[5],n=255&(e[2]?Yu(n):n),i=255&(e[4]?Yu(i):i),s=255&(e[6]?Yu(s):s),{r:n,g:i,b:s,a:r}}}function wse(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Xb(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Pse=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function rI(t,e,r){const n=e*Math.min(r,1-r),i=(s,a=(s+t/30)%12)=>r-n*Math.max(Math.min(a-3,9-a,1),-1);return[i(0),i(8),i(4)]}function Dse(t,e,r){const n=(i,s=(i+t/60)%6)=>r-r*e*Math.max(Math.min(s,4-s,1),0);return[n(5),n(3),n(1)]}function Ase(t,e,r){const n=rI(t,1,.5);let i;for(e+r>1&&(i=1/(e+r),e*=i,r*=i),i=0;i<3;i++)n[i]*=1-e-r,n[i]+=e;return n}function Qb(t){const r=t.r/255,n=t.g/255,i=t.b/255,s=Math.max(r,n,i),a=Math.min(r,n,i),o=(s+a)/2;let l,u,c;return s!==a&&(c=s-a,u=o>.5?c/(2-s-a):c/(s+a),l=s===r?(n-i)/c+(n<i?6:0):s===n?(i-r)/c+2:(r-n)/c+4,l=l*60+.5),[l|0,u||0,o]}function Jb(t,e,r,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,r,n)).map(Wc)}function Zb(t,e,r){return Jb(rI,t,e,r)}function Ose(t,e,r){return Jb(Ase,t,e,r)}function Rse(t,e,r){return Jb(Dse,t,e,r)}function iI(t){return(t%360+360)%360}function kse(t){const e=Pse.exec(t);let r=255,n;if(!e)return;e[5]!==n&&(r=e[6]?Yu(+e[5]):Wc(+e[5]));const i=iI(+e[2]),s=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?n=Ose(i,s,a):e[1]==="hsv"?n=Rse(i,s,a):n=Zb(i,s,a),{r:n[0],g:n[1],b:n[2],a:r}}function Ise(t,e){var r=Qb(t);r[0]=iI(r[0]+e),r=Zb(r),t.r=r[0],t.g=r[1],t.b=r[2]}function Mse(t){if(!t)return;const e=Qb(t),r=e[0],n=TC(e[1]),i=TC(e[2]);return t.a<255?`hsla(${r}, ${n}%, ${i}%, ${Xb(t.a)})`:`hsl(${r}, ${n}%, ${i}%)`}const xC={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},SC={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Lse(){const t={},e=Object.keys(SC),r=Object.keys(xC);let n,i,s,a,o;for(n=0;n<e.length;n++){for(a=o=e[n],i=0;i<r.length;i++)s=r[i],o=o.replace(s,xC[s]);s=parseInt(SC[a],16),t[o]=[s>>16&255,s>>8&255,s&255]}return t}let pf;function Nse(t){pf||(pf=Lse(),pf.transparent=[0,0,0,0]);const e=pf[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}function mf(t,e,r){if(t){let n=Qb(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*r,e===0?360:1)),n=Zb(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function nI(t,e){return t&&Object.assign(e||{},t)}function EC(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Wc(t[3]))):(e=nI(t,{r:0,g:0,b:0,a:1}),e.a=Wc(e.a)),e}function Fse(t){return t.charAt(0)==="r"?Cse(t):kse(t)}class Wh{constructor(e){if(e instanceof Wh)return e;const r=typeof e;let n;r==="object"?n=EC(e):r==="string"&&(n=xse(e)||Nse(e)||Fse(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=nI(this._rgb);return e&&(e.a=Xb(e.a)),e}set rgb(e){this._rgb=EC(e)}rgbString(){return this._valid?wse(this._rgb):this._rgb}hexString(){return this._valid?Sse(this._rgb):this._rgb}hslString(){return this._valid?Mse(this._rgb):this._rgb}mix(e,r){const n=this;if(e){const i=n.rgb,s=e.rgb;let a;const o=r===a?.5:r,l=2*o-1,u=i.a-s.a,c=((l*u===-1?l:(l+u)/(1+l*u))+1)/2;a=1-c,i.r=255&c*i.r+a*s.r+.5,i.g=255&c*i.g+a*s.g+.5,i.b=255&c*i.b+a*s.b+.5,i.a=o*i.a+(1-o)*s.a,n.rgb=i}return n}clone(){return new Wh(this.rgb)}alpha(e){return this._rgb.a=Wc(e),this}clearer(e){const r=this._rgb;return r.a*=1-e,this}greyscale(){const e=this._rgb,r=vd(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=r,this}opaquer(e){const r=this._rgb;return r.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return mf(this._rgb,2,e),this}darken(e){return mf(this._rgb,2,-e),this}saturate(e){return mf(this._rgb,1,e),this}desaturate(e){return mf(this._rgb,1,-e),this}rotate(e){return Ise(this._rgb,e),this}}function sI(t){return new Wh(t)}const aI=t=>t instanceof CanvasGradient||t instanceof CanvasPattern;function CC(t){return aI(t)?t:sI(t)}function xg(t){return aI(t)?t:sI(t).saturate(.5).darken(.1).hexString()}const Xa=Object.create(null),cy=Object.create(null);function mc(t,e){if(!e)return t;const r=e.split(".");for(let n=0,i=r.length;n<i;++n){const s=r[n];t=t[s]||(t[s]=Object.create(null))}return t}function Sg(t,e,r){return typeof e=="string"?Vc(mc(t,e),r):Vc(mc(t,""),e)}class Bse{constructor(e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,n)=>xg(n.backgroundColor),this.hoverBorderColor=(r,n)=>xg(n.borderColor),this.hoverColor=(r,n)=>xg(n.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e)}set(e,r){return Sg(this,e,r)}get(e){return mc(this,e)}describe(e,r){return Sg(cy,e,r)}override(e,r){return Sg(Xa,e,r)}route(e,r,n,i){const s=mc(this,e),a=mc(this,n),o="_"+r;Object.defineProperties(s,{[o]:{value:s[r],writable:!0},[r]:{enumerable:!0,get(){const l=this[o],u=a[i];return mt(l)?Object.assign({},u,l):lt(l,u)},set(l){this[o]=l}}})}}var gt=new Bse({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function $se(t){return!t||St(t.size)||St(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Yh(t,e,r,n,i){let s=e[i];return s||(s=e[i]=t.measureText(i).width,r.push(i)),s>n&&(n=s),n}function Use(t,e,r,n){n=n||{};let i=n.data=n.data||{},s=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(i=n.data={},s=n.garbageCollect=[],n.font=e),t.save(),t.font=e;let a=0;const o=r.length;let l,u,c,d,f;for(l=0;l<o;l++)if(d=r[l],d!=null&&Ut(d)!==!0)a=Yh(t,i,s,a,d);else if(Ut(d))for(u=0,c=d.length;u<c;u++)f=d[u],f!=null&&!Ut(f)&&(a=Yh(t,i,s,a,f));t.restore();const h=s.length/2;if(h>r.length){for(l=0;l<h;l++)delete i[s[l]];s.splice(0,h)}return a}function Ea(t,e,r){const n=t.currentDevicePixelRatio,i=r!==0?Math.max(r/2,.5):0;return Math.round((e-i)*n)/n+i}function wC(t,e){e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function Gh(t,e,r,n){let i,s,a,o,l;const u=e.pointStyle,c=e.rotation,d=e.radius;let f=(c||0)*pse;if(u&&typeof u=="object"&&(i=u.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(r,n),t.rotate(f),t.drawImage(u,-u.width/2,-u.height/2,u.width,u.height),t.restore();return}if(!(isNaN(d)||d<=0)){switch(t.beginPath(),u){default:t.arc(r,n,d,0,It),t.closePath();break;case"triangle":t.moveTo(r+Math.sin(f)*d,n-Math.cos(f)*d),f+=gC,t.lineTo(r+Math.sin(f)*d,n-Math.cos(f)*d),f+=gC,t.lineTo(r+Math.sin(f)*d,n-Math.cos(f)*d),t.closePath();break;case"rectRounded":l=d*.516,o=d-l,s=Math.cos(f+wu)*o,a=Math.sin(f+wu)*o,t.arc(r-s,n-a,l,f-Kt,f-Zt),t.arc(r+a,n-s,l,f-Zt,f),t.arc(r+s,n+a,l,f,f+Zt),t.arc(r-a,n+s,l,f+Zt,f+Kt),t.closePath();break;case"rect":if(!c){o=Math.SQRT1_2*d,t.rect(r-o,n-o,2*o,2*o);break}f+=wu;case"rectRot":s=Math.cos(f)*d,a=Math.sin(f)*d,t.moveTo(r-s,n-a),t.lineTo(r+a,n-s),t.lineTo(r+s,n+a),t.lineTo(r-a,n+s),t.closePath();break;case"crossRot":f+=wu;case"cross":s=Math.cos(f)*d,a=Math.sin(f)*d,t.moveTo(r-s,n-a),t.lineTo(r+s,n+a),t.moveTo(r+a,n-s),t.lineTo(r-a,n+s);break;case"star":s=Math.cos(f)*d,a=Math.sin(f)*d,t.moveTo(r-s,n-a),t.lineTo(r+s,n+a),t.moveTo(r+a,n-s),t.lineTo(r-a,n+s),f+=wu,s=Math.cos(f)*d,a=Math.sin(f)*d,t.moveTo(r-s,n-a),t.lineTo(r+s,n+a),t.moveTo(r+a,n-s),t.lineTo(r-a,n+s);break;case"line":s=Math.cos(f)*d,a=Math.sin(f)*d,t.moveTo(r-s,n-a),t.lineTo(r+s,n+a);break;case"dash":t.moveTo(r,n),t.lineTo(r+Math.cos(f)*d,n+Math.sin(f)*d);break}t.fill(),e.borderWidth>0&&t.stroke()}}function Qa(t,e,r){return r=r||.5,!e||t&&t.x>e.left-r&&t.x<e.right+r&&t.y>e.top-r&&t.y<e.bottom+r}function em(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function tm(t){t.restore()}function jse(t,e,r,n,i){if(!e)return t.lineTo(r.x,r.y);if(i==="middle"){const s=(e.x+r.x)/2;t.lineTo(s,e.y),t.lineTo(s,r.y)}else i==="after"!=!!n?t.lineTo(e.x,r.y):t.lineTo(r.x,e.y);t.lineTo(r.x,r.y)}function Vse(t,e,r,n){if(!e)return t.lineTo(r.x,r.y);t.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?r.cp2x:r.cp1x,n?r.cp2y:r.cp1y,r.x,r.y)}function Ja(t,e,r,n,i,s={}){const a=Ut(e)?e:[e],o=s.strokeWidth>0&&s.strokeColor!=="";let l,u;for(t.save(),t.font=i.string,Hse(t,s),l=0;l<a.length;++l)u=a[l],o&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),St(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(u,r,n,s.maxWidth)),t.fillText(u,r,n,s.maxWidth),zse(t,r,n,u,s),n+=i.lineHeight;t.restore()}function Hse(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),St(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function zse(t,e,r,n,i){if(i.strikethrough||i.underline){const s=t.measureText(n),a=e-s.actualBoundingBoxLeft,o=e+s.actualBoundingBoxRight,l=r-s.actualBoundingBoxAscent,u=r+s.actualBoundingBoxDescent,c=i.strikethrough?(l+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(a,c),t.lineTo(o,c),t.stroke()}}function qh(t,e){const{x:r,y:n,w:i,h:s,radius:a}=e;t.arc(r+a.topLeft,n+a.topLeft,a.topLeft,-Zt,Kt,!0),t.lineTo(r,n+s-a.bottomLeft),t.arc(r+a.bottomLeft,n+s-a.bottomLeft,a.bottomLeft,Kt,Zt,!0),t.lineTo(r+i-a.bottomRight,n+s),t.arc(r+i-a.bottomRight,n+s-a.bottomRight,a.bottomRight,Zt,0,!0),t.lineTo(r+i,n+a.topRight),t.arc(r+i-a.topRight,n+a.topRight,a.topRight,0,-Zt,!0),t.lineTo(r+a.topLeft,n)}const Wse=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),Yse=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function Gse(t,e){const r=(""+t).match(Wse);if(!r||r[1]==="normal")return e*1.2;switch(t=+r[2],r[3]){case"px":return t;case"%":t/=100;break}return e*t}const qse=t=>+t||0;function e_(t,e){const r={},n=mt(e),i=n?Object.keys(e):e,s=mt(t)?n?a=>lt(t[a],t[e[a]]):a=>t[a]:()=>t;for(const a of i)r[a]=qse(s(a));return r}function oI(t){return e_(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Jo(t){return e_(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Lr(t){const e=oI(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function hr(t,e){t=t||{},e=e||gt.font;let r=lt(t.size,e.size);typeof r=="string"&&(r=parseInt(r,10));let n=lt(t.style,e.style);n&&!(""+n).match(Yse)&&(console.warn('Invalid font style specified: "'+n+'"'),n="");const i={family:lt(t.family,e.family),lineHeight:Gse(lt(t.lineHeight,e.lineHeight),r),size:r,style:n,weight:lt(t.weight,e.weight),string:""};return i.string=$se(i),i}function Gu(t,e,r,n){let i=!0,s,a,o;for(s=0,a=t.length;s<a;++s)if(o=t[s],o!==void 0&&(e!==void 0&&typeof o=="function"&&(o=o(e),i=!1),r!==void 0&&Ut(o)&&(o=o[r%o.length],i=!1),o!==void 0))return n&&!i&&(n.cacheable=!1),o}function Kse(t,e,r){const{min:n,max:i}=t,s=Jk(e,(i-n)/2),a=(o,l)=>r&&o===0?0:o+l;return{min:a(n,-Math.abs(s)),max:a(i,s)}}function ra(t,e){return Object.assign(Object.create(t),e)}function t_(t,e,r){r=r||(a=>t[a]<e);let n=t.length-1,i=0,s;for(;n-i>1;)s=i+n>>1,r(s)?i=s:n=s;return{lo:i,hi:n}}const Zn=(t,e,r)=>t_(t,r,n=>t[n][e]<r),Xse=(t,e,r)=>t_(t,r,n=>t[n][e]>=r);function Qse(t,e,r){let n=0,i=t.length;for(;n<i&&t[n]<e;)n++;for(;i>n&&t[i-1]>r;)i--;return n>0||i<t.length?t.slice(n,i):t}const lI=["push","pop","shift","splice","unshift"];function Jse(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),lI.forEach(r=>{const n="_onData"+qb(r),i=t[r];Object.defineProperty(t,r,{configurable:!0,enumerable:!1,value(...s){const a=i.apply(this,s);return t._chartjs.listeners.forEach(o=>{typeof o[n]=="function"&&o[n](...s)}),a}})})}function PC(t,e){const r=t._chartjs;if(!r)return;const n=r.listeners,i=n.indexOf(e);i!==-1&&n.splice(i,1),!(n.length>0)&&(lI.forEach(s=>{delete t[s]}),delete t._chartjs)}function uI(t){const e=new Set;let r,n;for(r=0,n=t.length;r<n;++r)e.add(t[r]);return e.size===n?t:Array.from(e)}function r_(t,e=[""],r=t,n,i=()=>t[0]){Hi(n)||(n=hI("_fallback",t));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:r,_fallback:n,_getTarget:i,override:a=>r_([a,...t],e,r,n)};return new Proxy(s,{deleteProperty(a,o){return delete a[o],delete a._keys,delete t[0][o],!0},get(a,o){return dI(a,o,()=>aae(o,e,t,a))},getOwnPropertyDescriptor(a,o){return Reflect.getOwnPropertyDescriptor(a._scopes[0],o)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,o){return AC(a).includes(o)},ownKeys(a){return AC(a)},set(a,o,l){const u=a._storage||(a._storage=i());return a[o]=u[o]=l,delete a._keys,!0}})}function _l(t,e,r,n){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:r,_stack:new Set,_descriptors:cI(t,n),setContext:s=>_l(t,s,r,n),override:s=>_l(t.override(s),e,r,n)};return new Proxy(i,{deleteProperty(s,a){return delete s[a],delete t[a],!0},get(s,a,o){return dI(s,a,()=>eae(s,a,o))},getOwnPropertyDescriptor(s,a){return s._descriptors.allKeys?Reflect.has(t,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,a)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,a){return Reflect.has(t,a)},ownKeys(){return Reflect.ownKeys(t)},set(s,a,o){return t[a]=o,delete s[a],!0}})}function cI(t,e={scriptable:!0,indexable:!0}){const{_scriptable:r=e.scriptable,_indexable:n=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:r,indexable:n,isScriptable:Ks(r)?r:()=>r,isIndexable:Ks(n)?n:()=>n}}const Zse=(t,e)=>t?t+qb(e):e,i_=(t,e)=>mt(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function dI(t,e,r){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];const n=r();return t[e]=n,n}function eae(t,e,r){const{_proxy:n,_context:i,_subProxy:s,_descriptors:a}=t;let o=n[e];return Ks(o)&&a.isScriptable(e)&&(o=tae(e,o,t,r)),Ut(o)&&o.length&&(o=rae(e,o,t,a.isIndexable)),i_(e,o)&&(o=_l(o,i,s&&s[e],a)),o}function tae(t,e,r,n){const{_proxy:i,_context:s,_subProxy:a,_stack:o}=r;if(o.has(t))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+t);return o.add(t),e=e(s,a||n),o.delete(t),i_(t,e)&&(e=n_(i._scopes,i,t,e)),e}function rae(t,e,r,n){const{_proxy:i,_context:s,_subProxy:a,_descriptors:o}=r;if(Hi(s.index)&&n(t))e=e[s.index%e.length];else if(mt(e[0])){const l=e,u=i._scopes.filter(c=>c!==l);e=[];for(const c of l){const d=n_(u,i,t,c);e.push(_l(d,s,a&&a[t],o))}}return e}function fI(t,e,r){return Ks(t)?t(e,r):t}const iae=(t,e)=>t===!0?e:typeof t=="string"?Ka(e,t):void 0;function nae(t,e,r,n,i){for(const s of e){const a=iae(r,s);if(a){t.add(a);const o=fI(a._fallback,r,i);if(Hi(o)&&o!==r&&o!==n)return o}else if(a===!1&&Hi(n)&&r!==n)return null}return!1}function n_(t,e,r,n){const i=e._rootScopes,s=fI(e._fallback,r,n),a=[...t,...i],o=new Set;o.add(n);let l=DC(o,a,r,s||r,n);return l===null||Hi(s)&&s!==r&&(l=DC(o,a,s,l,n),l===null)?!1:r_(Array.from(o),[""],i,s,()=>sae(e,r,n))}function DC(t,e,r,n,i){for(;r;)r=nae(t,e,r,n,i);return r}function sae(t,e,r){const n=t._getTarget();e in n||(n[e]={});const i=n[e];return Ut(i)&&mt(r)?r:i}function aae(t,e,r,n){let i;for(const s of e)if(i=hI(Zse(s,t),r),Hi(i))return i_(t,i)?n_(r,n,t,i):i}function hI(t,e){for(const r of e){if(!r)continue;const n=r[t];if(Hi(n))return n}}function AC(t){let e=t._keys;return e||(e=t._keys=oae(t._scopes)),e}function oae(t){const e=new Set;for(const r of t)for(const n of Object.keys(r).filter(i=>!i.startsWith("_")))e.add(n);return Array.from(e)}const lae=Number.EPSILON||1e-14,Tl=(t,e)=>e<t.length&&!t[e].skip&&t[e],pI=t=>t==="x"?"y":"x";function uae(t,e,r,n){const i=t.skip?e:t,s=e,a=r.skip?e:r,o=ly(s,i),l=ly(a,s);let u=o/(o+l),c=l/(o+l);u=isNaN(u)?0:u,c=isNaN(c)?0:c;const d=n*u,f=n*c;return{previous:{x:s.x-d*(a.x-i.x),y:s.y-d*(a.y-i.y)},next:{x:s.x+f*(a.x-i.x),y:s.y+f*(a.y-i.y)}}}function cae(t,e,r){const n=t.length;let i,s,a,o,l,u=Tl(t,0);for(let c=0;c<n-1;++c)if(l=u,u=Tl(t,c+1),!(!l||!u)){if(hc(e[c],0,lae)){r[c]=r[c+1]=0;continue}i=r[c]/e[c],s=r[c+1]/e[c],o=Math.pow(i,2)+Math.pow(s,2),!(o<=9)&&(a=3/Math.sqrt(o),r[c]=i*a*e[c],r[c+1]=s*a*e[c])}}function dae(t,e,r="x"){const n=pI(r),i=t.length;let s,a,o,l=Tl(t,0);for(let u=0;u<i;++u){if(a=o,o=l,l=Tl(t,u+1),!o)continue;const c=o[r],d=o[n];a&&(s=(c-a[r])/3,o[`cp1${r}`]=c-s,o[`cp1${n}`]=d-s*e[u]),l&&(s=(l[r]-c)/3,o[`cp2${r}`]=c+s,o[`cp2${n}`]=d+s*e[u])}}function fae(t,e="x"){const r=pI(e),n=t.length,i=Array(n).fill(0),s=Array(n);let a,o,l,u=Tl(t,0);for(a=0;a<n;++a)if(o=l,l=u,u=Tl(t,a+1),!!l){if(u){const c=u[e]-l[e];i[a]=c!==0?(u[r]-l[r])/c:0}s[a]=o?u?Dn(i[a-1])!==Dn(i[a])?0:(i[a-1]+i[a])/2:i[a-1]:i[a]}cae(t,i,s),dae(t,s,e)}function gf(t,e,r){return Math.max(Math.min(t,r),e)}function hae(t,e){let r,n,i,s,a,o=Qa(t[0],e);for(r=0,n=t.length;r<n;++r)a=s,s=o,o=r<n-1&&Qa(t[r+1],e),s&&(i=t[r],a&&(i.cp1x=gf(i.cp1x,e.left,e.right),i.cp1y=gf(i.cp1y,e.top,e.bottom)),o&&(i.cp2x=gf(i.cp2x,e.left,e.right),i.cp2y=gf(i.cp2y,e.top,e.bottom)))}function pae(t,e,r,n,i){let s,a,o,l;if(e.spanGaps&&(t=t.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")fae(t,i);else{let u=n?t[t.length-1]:t[0];for(s=0,a=t.length;s<a;++s)o=t[s],l=uae(u,o,t[Math.min(s+1,a-(n?0:1))%a],e.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,u=o}e.capBezierPoints&&hae(t,r)}function mI(){return typeof window!="undefined"&&typeof document!="undefined"}function s_(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Kh(t,e,r){let n;return typeof t=="string"?(n=parseInt(t,10),t.indexOf("%")!==-1&&(n=n/100*e.parentNode[r])):n=t,n}const rm=t=>window.getComputedStyle(t,null);function mae(t,e){return rm(t).getPropertyValue(e)}const gae=["top","right","bottom","left"];function za(t,e,r){const n={};r=r?"-"+r:"";for(let i=0;i<4;i++){const s=gae[i];n[s]=parseFloat(t[e+"-"+s+r])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const vae=(t,e,r)=>(t>0||e>0)&&(!r||!r.shadowRoot);function yae(t,e){const r=t.native||t,n=r.touches,i=n&&n.length?n[0]:r,{offsetX:s,offsetY:a}=i;let o=!1,l,u;if(vae(s,a,r.target))l=s,u=a;else{const c=e.getBoundingClientRect();l=i.clientX-c.left,u=i.clientY-c.top,o=!0}return{x:l,y:u,box:o}}function gI(t,e){const{canvas:r,currentDevicePixelRatio:n}=e,i=rm(r),s=i.boxSizing==="border-box",a=za(i,"padding"),o=za(i,"border","width"),{x:l,y:u,box:c}=yae(t,r),d=a.left+(c&&o.left),f=a.top+(c&&o.top);let{width:h,height:m}=e;return s&&(h-=a.width+o.width,m-=a.height+o.height),{x:Math.round((l-d)/h*r.width/n),y:Math.round((u-f)/m*r.height/n)}}function bae(t,e,r){let n,i;if(e===void 0||r===void 0){const s=s_(t);if(!s)e=t.clientWidth,r=t.clientHeight;else{const a=s.getBoundingClientRect(),o=rm(s),l=za(o,"border","width"),u=za(o,"padding");e=a.width-u.width-l.width,r=a.height-u.height-l.height,n=Kh(o.maxWidth,s,"clientWidth"),i=Kh(o.maxHeight,s,"clientHeight")}}return{width:e,height:r,maxWidth:n||zh,maxHeight:i||zh}}const Eg=t=>Math.round(t*10)/10;function _ae(t,e,r,n){const i=rm(t),s=za(i,"margin"),a=Kh(i.maxWidth,t,"clientWidth")||zh,o=Kh(i.maxHeight,t,"clientHeight")||zh,l=bae(t,e,r);let{width:u,height:c}=l;if(i.boxSizing==="content-box"){const d=za(i,"border","width"),f=za(i,"padding");u-=f.width+d.width,c-=f.height+d.height}return u=Math.max(0,u-s.width),c=Math.max(0,n?Math.floor(u/n):c-s.height),u=Eg(Math.min(u,a,l.maxWidth)),c=Eg(Math.min(c,o,l.maxHeight)),u&&!c&&(c=Eg(u/2)),{width:u,height:c}}function OC(t,e,r){const n=e||1,i=Math.floor(t.height*n),s=Math.floor(t.width*n);t.height=i/n,t.width=s/n;const a=t.canvas;return a.style&&(r||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),t.currentDevicePixelRatio!==n||a.height!==i||a.width!==s?(t.currentDevicePixelRatio=n,a.height=i,a.width=s,t.ctx.setTransform(n,0,0,n,0,0),!0):!1}const Tae=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch{}return t}();function RC(t,e){const r=mae(t,e),n=r&&r.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function Aa(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:t.y+r*(e.y-t.y)}}function xae(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:n==="middle"?r<.5?t.y:e.y:n==="after"?r<1?t.y:e.y:r>0?e.y:t.y}}function Sae(t,e,r,n){const i={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},a=Aa(t,i,r),o=Aa(i,s,r),l=Aa(s,e,r),u=Aa(a,o,r),c=Aa(o,l,r);return Aa(u,c,r)}const kC=new Map;function Eae(t,e){e=e||{};const r=t+JSON.stringify(e);let n=kC.get(r);return n||(n=new Intl.NumberFormat(t,e),kC.set(r,n)),n}function yd(t,e,r){return Eae(e,r).format(t)}const Cae=function(t,e){return{x(r){return t+t+e-r},setWidth(r){e=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,n){return r-n},leftForLtr(r,n){return r-n}}},wae=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Zo(t,e,r){return t?Cae(e,r):wae()}function vI(t,e){let r,n;(e==="ltr"||e==="rtl")&&(r=t.canvas.style,n=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",e,"important"),t.prevTextDirection=n)}function yI(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function bI(t){return t==="angle"?{between:zc,compare:vse,normalize:yi}:{between:Jn,compare:(e,r)=>e-r,normalize:e=>e}}function IC({start:t,end:e,count:r,loop:n,style:i}){return{start:t%r,end:e%r,loop:n&&(e-t+1)%r===0,style:i}}function Pae(t,e,r){const{property:n,start:i,end:s}=r,{between:a,normalize:o}=bI(n),l=e.length;let{start:u,end:c,loop:d}=t,f,h;if(d){for(u+=l,c+=l,f=0,h=l;f<h&&a(o(e[u%l][n]),i,s);++f)u--,c--;u%=l,c%=l}return c<u&&(c+=l),{start:u,end:c,loop:d,style:t.style}}function _I(t,e,r){if(!r)return[t];const{property:n,start:i,end:s}=r,a=e.length,{compare:o,between:l,normalize:u}=bI(n),{start:c,end:d,loop:f,style:h}=Pae(t,e,r),m=[];let g=!1,v=null,x,S,D;const P=()=>l(i,D,x)&&o(i,D)!==0,O=()=>o(s,x)===0||l(s,D,x),B=()=>g||P(),z=()=>!g||O();for(let U=c,Y=c;U<=d;++U)S=e[U%a],!S.skip&&(x=u(S[n]),x!==D&&(g=l(x,i,s),v===null&&B()&&(v=o(x,i)===0?U:Y),v!==null&&z()&&(m.push(IC({start:v,end:U,loop:f,count:a,style:h})),v=null),Y=U,D=x));return v!==null&&m.push(IC({start:v,end:d,loop:f,count:a,style:h})),m}function TI(t,e){const r=[],n=t.segments;for(let i=0;i<n.length;i++){const s=_I(n[i],t.points,e);s.length&&r.push(...s)}return r}function Dae(t,e,r,n){let i=0,s=e-1;if(r&&!n)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,r&&(s+=i);s>i&&t[s%e].skip;)s--;return s%=e,{start:i,end:s}}function Aae(t,e,r,n){const i=t.length,s=[];let a=e,o=t[e],l;for(l=e+1;l<=r;++l){const u=t[l%i];u.skip||u.stop?o.skip||(n=!1,s.push({start:e%i,end:(l-1)%i,loop:n}),e=a=u.stop?l:null):(a=l,o.skip&&(e=l)),o=u}return a!==null&&s.push({start:e%i,end:a%i,loop:n}),s}function Oae(t,e){const r=t.points,n=t.options.spanGaps,i=r.length;if(!i)return[];const s=!!t._loop,{start:a,end:o}=Dae(r,i,s,n);if(n===!0)return MC(t,[{start:a,end:o,loop:s}],r,e);const l=o<a?o+i:o,u=!!t._fullLoop&&a===0&&o===i-1;return MC(t,Aae(r,a,l,u),r,e)}function MC(t,e,r,n){return!n||!n.setContext||!r?e:Rae(t,e,r,n)}function Rae(t,e,r,n){const i=t._chart.getContext(),s=LC(t.options),{_datasetIndex:a,options:{spanGaps:o}}=t,l=r.length,u=[];let c=s,d=e[0].start,f=d;function h(m,g,v,x){const S=o?-1:1;if(m!==g){for(m+=l;r[m%l].skip;)m-=S;for(;r[g%l].skip;)g+=S;m%l!==g%l&&(u.push({start:m%l,end:g%l,loop:v,style:x}),c=x,d=g%l)}}for(const m of e){d=o?d:m.start;let g=r[d%l],v;for(f=d+1;f<=m.end;f++){const x=r[f%l];v=LC(n.setContext(ra(i,{type:"segment",p0:g,p1:x,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:a}))),kae(v,c)&&h(d,f-1,m.loop,c),g=x,c=v}d<f-1&&h(d,f-1,m.loop,c)}return u}function LC(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function kae(t,e){return e&&JSON.stringify(t)!==JSON.stringify(e)}/*!
 * Chart.js v3.7.1
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */class Iae{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,r,n,i){const s=r.listeners[i],a=r.duration;s.forEach(o=>o({chart:e,initial:r.initial,numSteps:a,currentStep:Math.min(n-r.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=Xk.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let r=0;this._charts.forEach((n,i)=>{if(!n.running||!n.items.length)return;const s=n.items;let a=s.length-1,o=!1,l;for(;a>=0;--a)l=s[a],l._active?(l._total>n.duration&&(n.duration=l._total),l.tick(e),o=!0):(s[a]=s[s.length-1],s.pop());o&&(i.draw(),this._notify(i,n,e,"progress")),s.length||(n.running=!1,this._notify(i,n,e,"complete"),n.initial=!1),r+=s.length}),this._lastDate=e,r===0&&(this._running=!1)}_getAnims(e){const r=this._charts;let n=r.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(e,n)),n}listen(e,r,n){this._getAnims(e).listeners[r].push(n)}add(e,r){!r||!r.length||this._getAnims(e).items.push(...r)}has(e){return this._getAnims(e).items.length>0}start(e){const r=this._charts.get(e);!r||(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((n,i)=>Math.max(n,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const r=this._charts.get(e);return!(!r||!r.running||!r.items.length)}stop(e){const r=this._charts.get(e);if(!r||!r.items.length)return;const n=r.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();r.items=[],this._notify(e,r,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Hn=new Iae;const NC="transparent",Mae={boolean(t,e,r){return r>.5?e:t},color(t,e,r){const n=CC(t||NC),i=n.valid&&CC(e||NC);return i&&i.valid?i.mix(n,r).hexString():e},number(t,e,r){return t+(e-t)*r}};class Lae{constructor(e,r,n,i){const s=r[n];i=Gu([e.to,i,s,e.from]);const a=Gu([e.from,s,i]);this._active=!0,this._fn=e.fn||Mae[e.type||typeof a],this._easing=pc[e.easing]||pc.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=r,this._prop=n,this._from=a,this._to=i,this._promises=void 0}active(){return this._active}update(e,r,n){if(this._active){this._notify(!1);const i=this._target[this._prop],s=n-this._start,a=this._duration-s;this._start=n,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Gu([e.to,r,i,e.from]),this._from=Gu([e.from,i,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const r=e-this._start,n=this._duration,i=this._prop,s=this._from,a=this._loop,o=this._to;let l;if(this._active=s!==o&&(a||r<n),!this._active){this._target[i]=o,this._notify(!0);return}if(r<0){this._target[i]=s;return}l=r/n%2,l=a&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(s,o,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((r,n)=>{e.push({res:r,rej:n})})}_notify(e){const r=e?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][r]()}}const Nae=["x","y","borderWidth","radius","tension"],Fae=["color","borderColor","backgroundColor"];gt.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const Bae=Object.keys(gt.animation);gt.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"});gt.set("animations",{colors:{type:"color",properties:Fae},numbers:{type:"number",properties:Nae}});gt.describe("animations",{_fallback:"animation"});gt.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}});class xI{constructor(e,r){this._chart=e,this._properties=new Map,this.configure(r)}configure(e){if(!mt(e))return;const r=this._properties;Object.getOwnPropertyNames(e).forEach(n=>{const i=e[n];if(!mt(i))return;const s={};for(const a of Bae)s[a]=i[a];(Ut(i.properties)&&i.properties||[n]).forEach(a=>{(a===n||!r.has(a))&&r.set(a,s)})})}_animateOptions(e,r){const n=r.options,i=Uae(e,n);if(!i)return[];const s=this._createAnimations(i,n);return n.$shared&&$ae(e.options.$animations,n).then(()=>{e.options=n},()=>{}),s}_createAnimations(e,r){const n=this._properties,i=[],s=e.$animations||(e.$animations={}),a=Object.keys(r),o=Date.now();let l;for(l=a.length-1;l>=0;--l){const u=a[l];if(u.charAt(0)==="$")continue;if(u==="options"){i.push(...this._animateOptions(e,r));continue}const c=r[u];let d=s[u];const f=n.get(u);if(d)if(f&&d.active()){d.update(f,c,o);continue}else d.cancel();if(!f||!f.duration){e[u]=c;continue}s[u]=d=new Lae(f,e,u,c),i.push(d)}return i}update(e,r){if(this._properties.size===0){Object.assign(e,r);return}const n=this._createAnimations(e,r);if(n.length)return Hn.add(this._chart,n),!0}}function $ae(t,e){const r=[],n=Object.keys(e);for(let i=0;i<n.length;i++){const s=t[n[i]];s&&s.active()&&r.push(s.wait())}return Promise.all(r)}function Uae(t,e){if(!e)return;let r=t.options;if(!r){t.options=e;return}return r.$shared&&(t.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function FC(t,e){const r=t&&t.options||{},n=r.reverse,i=r.min===void 0?e:0,s=r.max===void 0?e:0;return{start:n?s:i,end:n?i:s}}function jae(t,e,r){if(r===!1)return!1;const n=FC(t,r),i=FC(e,r);return{top:i.end,right:n.end,bottom:i.start,left:n.start}}function Vae(t){let e,r,n,i;return mt(t)?(e=t.top,r=t.right,n=t.bottom,i=t.left):e=r=n=i=t,{top:e,right:r,bottom:n,left:i,disabled:t===!1}}function SI(t,e){const r=[],n=t._getSortedDatasetMetas(e);let i,s;for(i=0,s=n.length;i<s;++i)r.push(n[i].index);return r}function BC(t,e,r,n={}){const i=t.keys,s=n.mode==="single";let a,o,l,u;if(e!==null){for(a=0,o=i.length;a<o;++a){if(l=+i[a],l===r){if(n.all)continue;break}u=t.values[l],sr(u)&&(s||e===0||Dn(e)===Dn(u))&&(e+=u)}return e}}function Hae(t){const e=Object.keys(t),r=new Array(e.length);let n,i,s;for(n=0,i=e.length;n<i;++n)s=e[n],r[n]={x:s,y:t[s]};return r}function $C(t,e){const r=t&&t.options.stacked;return r||r===void 0&&e.stack!==void 0}function zae(t,e,r){return`${t.id}.${e.id}.${r.stack||r.type}`}function Wae(t){const{min:e,max:r,minDefined:n,maxDefined:i}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:i?r:Number.POSITIVE_INFINITY}}function Yae(t,e,r){const n=t[e]||(t[e]={});return n[r]||(n[r]={})}function UC(t,e,r,n){for(const i of e.getMatchingVisibleMetas(n).reverse()){const s=t[i.index];if(r&&s>0||!r&&s<0)return i.index}return null}function jC(t,e){const{chart:r,_cachedMeta:n}=t,i=r._stacks||(r._stacks={}),{iScale:s,vScale:a,index:o}=n,l=s.axis,u=a.axis,c=zae(s,a,n),d=e.length;let f;for(let h=0;h<d;++h){const m=e[h],{[l]:g,[u]:v}=m,x=m._stacks||(m._stacks={});f=x[u]=Yae(i,c,g),f[o]=v,f._top=UC(f,a,!0,n.type),f._bottom=UC(f,a,!1,n.type)}}function Cg(t,e){const r=t.scales;return Object.keys(r).filter(n=>r[n].axis===e).shift()}function Gae(t,e){return ra(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function qae(t,e,r){return ra(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:r,index:e,mode:"default",type:"data"})}function Pu(t,e){const r=t.controller.index,n=t.vScale&&t.vScale.axis;if(!!n){e=e||t._parsed;for(const i of e){const s=i._stacks;if(!s||s[n]===void 0||s[n][r]===void 0)return;delete s[n][r]}}}const wg=t=>t==="reset"||t==="none",VC=(t,e)=>e?t:Object.assign({},t),Kae=(t,e,r)=>t&&!e.hidden&&e._stacked&&{keys:SI(r,!0),values:null};class Fn{constructor(e,r){this.chart=e,this._ctx=e.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=$C(e.vScale,e),this.addElements()}updateIndex(e){this.index!==e&&Pu(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,r=this._cachedMeta,n=this.getDataset(),i=(d,f,h,m)=>d==="x"?f:d==="r"?m:h,s=r.xAxisID=lt(n.xAxisID,Cg(e,"x")),a=r.yAxisID=lt(n.yAxisID,Cg(e,"y")),o=r.rAxisID=lt(n.rAxisID,Cg(e,"r")),l=r.indexAxis,u=r.iAxisID=i(l,s,a,o),c=r.vAxisID=i(l,a,s,o);r.xScale=this.getScaleForId(s),r.yScale=this.getScaleForId(a),r.rScale=this.getScaleForId(o),r.iScale=this.getScaleForId(u),r.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const r=this._cachedMeta;return e===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&PC(this._data,this),e._stacked&&Pu(e)}_dataCheck(){const e=this.getDataset(),r=e.data||(e.data=[]),n=this._data;if(mt(r))this._data=Hae(r);else if(n!==r){if(n){PC(n,this);const i=this._cachedMeta;Pu(i),i._parsed=[]}r&&Object.isExtensible(r)&&Jse(r,this),this._syncList=[],this._data=r}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const r=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const s=r._stacked;r._stacked=$C(r.vScale,r),r.stack!==n.stack&&(i=!0,Pu(r),r.stack=n.stack),this._resyncElements(e),(i||s!==r._stacked)&&jC(this,r._parsed)}configure(){const e=this.chart.config,r=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),r,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,r){const{_cachedMeta:n,_data:i}=this,{iScale:s,_stacked:a}=n,o=s.axis;let l=e===0&&r===i.length?!0:n._sorted,u=e>0&&n._parsed[e-1],c,d,f;if(this._parsing===!1)n._parsed=i,n._sorted=!0,f=i;else{Ut(i[e])?f=this.parseArrayData(n,i,e,r):mt(i[e])?f=this.parseObjectData(n,i,e,r):f=this.parsePrimitiveData(n,i,e,r);const h=()=>d[o]===null||u&&d[o]<u[o];for(c=0;c<r;++c)n._parsed[c+e]=d=f[c],l&&(h()&&(l=!1),u=d);n._sorted=l}a&&jC(this,f)}parsePrimitiveData(e,r,n,i){const{iScale:s,vScale:a}=e,o=s.axis,l=a.axis,u=s.getLabels(),c=s===a,d=new Array(i);let f,h,m;for(f=0,h=i;f<h;++f)m=f+n,d[f]={[o]:c||s.parse(u[m],m),[l]:a.parse(r[m],m)};return d}parseArrayData(e,r,n,i){const{xScale:s,yScale:a}=e,o=new Array(i);let l,u,c,d;for(l=0,u=i;l<u;++l)c=l+n,d=r[c],o[l]={x:s.parse(d[0],c),y:a.parse(d[1],c)};return o}parseObjectData(e,r,n,i){const{xScale:s,yScale:a}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,u=new Array(i);let c,d,f,h;for(c=0,d=i;c<d;++c)f=c+n,h=r[f],u[c]={x:s.parse(Ka(h,o),f),y:a.parse(Ka(h,l),f)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,r,n){const i=this.chart,s=this._cachedMeta,a=r[e.axis],o={keys:SI(i,!0),values:r._stacks[e.axis]};return BC(o,a,s.index,{mode:n})}updateRangeFromParsed(e,r,n,i){const s=n[r.axis];let a=s===null?NaN:s;const o=i&&n._stacks[r.axis];i&&o&&(i.values=o,a=BC(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,r){const n=this._cachedMeta,i=n._parsed,s=n._sorted&&e===n.iScale,a=i.length,o=this._getOtherScale(e),l=Kae(r,n,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:d}=Wae(o);let f,h;function m(){h=i[f];const g=h[o.axis];return!sr(h[e.axis])||c>g||d<g}for(f=0;f<a&&!(!m()&&(this.updateRangeFromParsed(u,e,h,l),s));++f);if(s){for(f=a-1;f>=0;--f)if(!m()){this.updateRangeFromParsed(u,e,h,l);break}}return u}getAllParsedValues(e){const r=this._cachedMeta._parsed,n=[];let i,s,a;for(i=0,s=r.length;i<s;++i)a=r[i][e.axis],sr(a)&&n.push(a);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const r=this._cachedMeta,n=r.iScale,i=r.vScale,s=this.getParsed(e);return{label:n?""+n.getLabelForValue(s[n.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const r=this._cachedMeta;this.update(e||"default"),r._clip=Vae(lt(this.options.clip,jae(r.xScale,r.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this.chart,n=this._cachedMeta,i=n.data||[],s=r.chartArea,a=[],o=this._drawStart||0,l=this._drawCount||i.length-o,u=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(e,s,o,l),c=o;c<o+l;++c){const d=i[c];d.hidden||(d.active&&u?a.push(d):d.draw(e,s))}for(c=0;c<a.length;++c)a[c].draw(e,s)}getStyle(e,r){const n=r?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,r,n){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];s=a.$context||(a.$context=qae(this.getContext(),e,a)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=Gae(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!r,s.mode=n,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,r){return this._resolveElementOptions(this.dataElementType.id,r,e)}_resolveElementOptions(e,r="default",n){const i=r==="active",s=this._cachedDataOpts,a=e+"-"+r,o=s[a],l=this.enableOptionSharing&&Hi(n);if(o)return VC(o,l);const u=this.chart.config,c=u.datasetElementScopeKeys(this._type,e),d=i?[`${e}Hover`,"hover",e,""]:[e,""],f=u.getOptionScopes(this.getDataset(),c),h=Object.keys(gt.elements[e]),m=()=>this.getContext(n,i),g=u.resolveNamedOptions(f,h,m,d);return g.$shared&&(g.$shared=l,s[a]=Object.freeze(VC(g,l))),g}_resolveAnimations(e,r,n){const i=this.chart,s=this._cachedDataOpts,a=`animation-${r}`,o=s[a];if(o)return o;let l;if(i.options.animation!==!1){const c=this.chart.config,d=c.datasetAnimationScopeKeys(this._type,r),f=c.getOptionScopes(this.getDataset(),d);l=c.createResolver(f,this.getContext(e,n,r))}const u=new xI(i,l&&l.animations);return l&&l._cacheable&&(s[a]=Object.freeze(u)),u}getSharedOptions(e){if(!!e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,r){return!r||wg(e)||this.chart._animationsDisabled}updateElement(e,r,n,i){wg(i)?Object.assign(e,n):this._resolveAnimations(r,i).update(e,n)}updateSharedOptions(e,r,n){e&&!wg(r)&&this._resolveAnimations(void 0,r).update(e,n)}_setStyle(e,r,n,i){e.active=i;const s=this.getStyle(r,i);this._resolveAnimations(r,n,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,r,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,r,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const r=this._data,n=this._cachedMeta.data;for(const[o,l,u]of this._syncList)this[o](l,u);this._syncList=[];const i=n.length,s=r.length,a=Math.min(s,i);a&&this.parse(0,a),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,r,n=!0){const i=this._cachedMeta,s=i.data,a=e+r;let o;const l=u=>{for(u.length+=r,o=u.length-1;o>=a;o--)u[o]=u[o-r]};for(l(s),o=e;o<a;++o)s[o]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,r),n&&this.updateElements(s,e,r,"reset")}updateElements(e,r,n,i){}_removeElements(e,r){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(e,r);n._stacked&&Pu(n,i)}n.data.splice(e,r)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[r,n,i]=e;this[r](n,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,r){r&&this._sync(["_removeElements",e,r]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Fn.defaults={};Fn.prototype.datasetElementType=null;Fn.prototype.dataElementType=null;function Xae(t,e){if(!t._cache.$bar){const r=t.getMatchingVisibleMetas(e);let n=[];for(let i=0,s=r.length;i<s;i++)n=n.concat(r[i].controller.getAllParsedValues(t));t._cache.$bar=uI(n.sort((i,s)=>i-s))}return t._cache.$bar}function Qae(t){const e=t.iScale,r=Xae(e,t.type);let n=e._length,i,s,a,o;const l=()=>{a===32767||a===-32768||(Hi(o)&&(n=Math.min(n,Math.abs(a-o)||n)),o=a)};for(i=0,s=r.length;i<s;++i)a=e.getPixelForValue(r[i]),l();for(o=void 0,i=0,s=e.ticks.length;i<s;++i)a=e.getPixelForTick(i),l();return n}function Jae(t,e,r,n){const i=r.barThickness;let s,a;return St(i)?(s=e.min*r.categoryPercentage,a=r.barPercentage):(s=i*n,a=1),{chunk:s/n,ratio:a,start:e.pixels[t]-s/2}}function Zae(t,e,r,n){const i=e.pixels,s=i[t];let a=t>0?i[t-1]:null,o=t<i.length-1?i[t+1]:null;const l=r.categoryPercentage;a===null&&(a=s-(o===null?e.end-e.start:o-s)),o===null&&(o=s+s-a);const u=s-(s-Math.min(a,o))/2*l;return{chunk:Math.abs(o-a)/2*l/n,ratio:r.barPercentage,start:u}}function eoe(t,e,r,n){const i=r.parse(t[0],n),s=r.parse(t[1],n),a=Math.min(i,s),o=Math.max(i,s);let l=a,u=o;Math.abs(a)>Math.abs(o)&&(l=o,u=a),e[r.axis]=u,e._custom={barStart:l,barEnd:u,start:i,end:s,min:a,max:o}}function EI(t,e,r,n){return Ut(t)?eoe(t,e,r,n):e[r.axis]=r.parse(t,n),e}function HC(t,e,r,n){const i=t.iScale,s=t.vScale,a=i.getLabels(),o=i===s,l=[];let u,c,d,f;for(u=r,c=r+n;u<c;++u)f=e[u],d={},d[i.axis]=o||i.parse(a[u],u),l.push(EI(f,d,s,u));return l}function Pg(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function toe(t,e,r){return t!==0?Dn(t):(e.isHorizontal()?1:-1)*(e.min>=r?1:-1)}function roe(t){let e,r,n,i,s;return t.horizontal?(e=t.base>t.x,r="left",n="right"):(e=t.base<t.y,r="bottom",n="top"),e?(i="end",s="start"):(i="start",s="end"),{start:r,end:n,reverse:e,top:i,bottom:s}}function ioe(t,e,r,n){let i=e.borderSkipped;const s={};if(!i){t.borderSkipped=s;return}const{start:a,end:o,reverse:l,top:u,bottom:c}=roe(t);i==="middle"&&r&&(t.enableBorderRadius=!0,(r._top||0)===n?i=u:(r._bottom||0)===n?i=c:(s[zC(c,a,o,l)]=!0,i=u)),s[zC(i,a,o,l)]=!0,t.borderSkipped=s}function zC(t,e,r,n){return n?(t=noe(t,e,r),t=WC(t,r,e)):t=WC(t,e,r),t}function noe(t,e,r){return t===e?r:t===r?e:t}function WC(t,e,r){return t==="start"?e:t==="end"?r:t}function soe(t,{inflateAmount:e},r){t.inflateAmount=e==="auto"?r===1?.33:0:e}class im extends Fn{parsePrimitiveData(e,r,n,i){return HC(e,r,n,i)}parseArrayData(e,r,n,i){return HC(e,r,n,i)}parseObjectData(e,r,n,i){const{iScale:s,vScale:a}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,u=s.axis==="x"?o:l,c=a.axis==="x"?o:l,d=[];let f,h,m,g;for(f=n,h=n+i;f<h;++f)g=r[f],m={},m[s.axis]=s.parse(Ka(g,u),f),d.push(EI(Ka(g,c),m,a,f));return d}updateRangeFromParsed(e,r,n,i){super.updateRangeFromParsed(e,r,n,i);const s=n._custom;s&&r===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const r=this._cachedMeta,{iScale:n,vScale:i}=r,s=this.getParsed(e),a=s._custom,o=Pg(a)?"["+a.start+", "+a.end+"]":""+i.getLabelForValue(s[i.axis]);return{label:""+n.getLabelForValue(s[n.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,e)}updateElements(e,r,n,i){const s=i==="reset",{index:a,_cachedMeta:{vScale:o}}=this,l=o.getBasePixel(),u=o.isHorizontal(),c=this._getRuler(),d=this.resolveDataElementOptions(r,i),f=this.getSharedOptions(d),h=this.includeOptions(i,f);this.updateSharedOptions(f,i,d);for(let m=r;m<r+n;m++){const g=this.getParsed(m),v=s||St(g[o.axis])?{base:l,head:l}:this._calculateBarValuePixels(m),x=this._calculateBarIndexPixels(m,c),S=(g._stacks||{})[o.axis],D={horizontal:u,base:v.base,enableBorderRadius:!S||Pg(g._custom)||a===S._top||a===S._bottom,x:u?v.head:x.center,y:u?x.center:v.head,height:u?x.size:Math.abs(v.size),width:u?Math.abs(v.size):x.size};h&&(D.options=f||this.resolveDataElementOptions(m,e[m].active?"active":i));const P=D.options||e[m].options;ioe(D,P,S,a),soe(D,P,c.ratio),this.updateElement(e[m],m,D,i)}}_getStacks(e,r){const i=this._cachedMeta.iScale,s=i.getMatchingVisibleMetas(this._type),a=i.options.stacked,o=s.length,l=[];let u,c;for(u=0;u<o;++u)if(c=s[u],!!c.controller.options.grouped){if(typeof r!="undefined"){const d=c.controller.getParsed(r)[c.controller._cachedMeta.vScale.axis];if(St(d)||isNaN(d))continue}if((a===!1||l.indexOf(c.stack)===-1||a===void 0&&c.stack===void 0)&&l.push(c.stack),c.index===e)break}return l.length||l.push(void 0),l}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,r,n){const i=this._getStacks(e,n),s=r!==void 0?i.indexOf(r):-1;return s===-1?i.length-1:s}_getRuler(){const e=this.options,r=this._cachedMeta,n=r.iScale,i=[];let s,a;for(s=0,a=r.data.length;s<a;++s)i.push(n.getPixelForValue(this.getParsed(s)[n.axis],s));const o=e.barThickness;return{min:o||Qae(r),pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:o?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:r,_stacked:n},options:{base:i,minBarLength:s}}=this,a=i||0,o=this.getParsed(e),l=o._custom,u=Pg(l);let c=o[r.axis],d=0,f=n?this.applyStack(r,o,n):c,h,m;f!==c&&(d=f-c,f=c),u&&(c=l.barStart,f=l.barEnd-l.barStart,c!==0&&Dn(c)!==Dn(l.barEnd)&&(d=0),d+=c);const g=!St(i)&&!u?i:d;let v=r.getPixelForValue(g);if(this.chart.getDataVisibility(e)?h=r.getPixelForValue(d+f):h=v,m=h-v,Math.abs(m)<s&&(m=toe(m,r,a)*s,c===a&&(v-=m/2),h=v+m),v===r.getPixelForValue(a)){const x=Dn(m)*r.getLineWidthForValue(a)/2;v+=x,m-=x}return{size:m,base:v,head:h,center:h+m/2}}_calculateBarIndexPixels(e,r){const n=r.scale,i=this.options,s=i.skipNull,a=lt(i.maxBarThickness,1/0);let o,l;if(r.grouped){const u=s?this._getStackCount(e):r.stackCount,c=i.barThickness==="flex"?Zae(e,r,i,u):Jae(e,r,i,u),d=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);o=c.start+c.chunk*d+c.chunk/2,l=Math.min(a,c.chunk*c.ratio)}else o=n.getPixelForValue(this.getParsed(e)[n.axis],e),l=Math.min(a,r.min*r.ratio);return{base:o-l/2,head:o+l/2,center:o,size:l}}draw(){const e=this._cachedMeta,r=e.vScale,n=e.data,i=n.length;let s=0;for(;s<i;++s)this.getParsed(s)[r.axis]!==null&&n[s].draw(this._ctx)}}im.id="bar";im.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};im.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};class nm extends Fn{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,r,n,i){const s=super.parsePrimitiveData(e,r,n,i);for(let a=0;a<s.length;a++)s[a]._custom=this.resolveDataElementOptions(a+n).radius;return s}parseArrayData(e,r,n,i){const s=super.parseArrayData(e,r,n,i);for(let a=0;a<s.length;a++){const o=r[n+a];s[a]._custom=lt(o[2],this.resolveDataElementOptions(a+n).radius)}return s}parseObjectData(e,r,n,i){const s=super.parseObjectData(e,r,n,i);for(let a=0;a<s.length;a++){const o=r[n+a];s[a]._custom=lt(o&&o.r&&+o.r,this.resolveDataElementOptions(a+n).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let r=0;for(let n=e.length-1;n>=0;--n)r=Math.max(r,e[n].size(this.resolveDataElementOptions(n))/2);return r>0&&r}getLabelAndValue(e){const r=this._cachedMeta,{xScale:n,yScale:i}=r,s=this.getParsed(e),a=n.getLabelForValue(s.x),o=i.getLabelForValue(s.y),l=s._custom;return{label:r.label,value:"("+a+", "+o+(l?", "+l:"")+")"}}update(e){const r=this._cachedMeta.data;this.updateElements(r,0,r.length,e)}updateElements(e,r,n,i){const s=i==="reset",{iScale:a,vScale:o}=this._cachedMeta,l=this.resolveDataElementOptions(r,i),u=this.getSharedOptions(l),c=this.includeOptions(i,u),d=a.axis,f=o.axis;for(let h=r;h<r+n;h++){const m=e[h],g=!s&&this.getParsed(h),v={},x=v[d]=s?a.getPixelForDecimal(.5):a.getPixelForValue(g[d]),S=v[f]=s?o.getBasePixel():o.getPixelForValue(g[f]);v.skip=isNaN(x)||isNaN(S),c&&(v.options=this.resolveDataElementOptions(h,m.active?"active":i),s&&(v.options.radius=0)),this.updateElement(m,h,v,i)}this.updateSharedOptions(u,i,l)}resolveDataElementOptions(e,r){const n=this.getParsed(e);let i=super.resolveDataElementOptions(e,r);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const s=i.radius;return r!=="active"&&(i.radius=0),i.radius+=lt(n&&n._custom,s),i}}nm.id="bubble";nm.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};nm.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title(){return""}}}}};function aoe(t,e,r){let n=1,i=1,s=0,a=0;if(e<It){const o=t,l=o+e,u=Math.cos(o),c=Math.sin(o),d=Math.cos(l),f=Math.sin(l),h=(D,P,O)=>zc(D,o,l,!0)?1:Math.max(P,P*r,O,O*r),m=(D,P,O)=>zc(D,o,l,!0)?-1:Math.min(P,P*r,O,O*r),g=h(0,u,d),v=h(Zt,c,f),x=m(Kt,u,d),S=m(Kt+Zt,c,f);n=(g-x)/2,i=(v-S)/2,s=-(g+x)/2,a=-(v+S)/2}return{ratioX:n,ratioY:i,offsetX:s,offsetY:a}}class eu extends Fn{constructor(e,r){super(e,r);this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,r){const n=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=n;else{let s=l=>+n[l];if(mt(n[e])){const{key:l="value"}=this._parsing;s=u=>+Ka(n[u],l)}let a,o;for(a=e,o=e+r;a<o;++a)i._parsed[a]=s(a)}}_getRotation(){return Qi(this.options.rotation-90)}_getCircumference(){return Qi(this.options.circumference)}_getRotationExtents(){let e=It,r=-It;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)){const i=this.chart.getDatasetMeta(n).controller,s=i._getRotation(),a=i._getCircumference();e=Math.min(e,s),r=Math.max(r,s+a)}return{rotation:e,circumference:r-e}}update(e){const r=this.chart,{chartArea:n}=r,i=this._cachedMeta,s=i.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,o=Math.max((Math.min(n.width,n.height)-a)/2,0),l=Math.min(ose(this.options.cutout,o),1),u=this._getRingWeight(this.index),{circumference:c,rotation:d}=this._getRotationExtents(),{ratioX:f,ratioY:h,offsetX:m,offsetY:g}=aoe(d,c,l),v=(n.width-a)/f,x=(n.height-a)/h,S=Math.max(Math.min(v,x)/2,0),D=Jk(this.options.radius,S),P=Math.max(D*l,0),O=(D-P)/this._getVisibleDatasetWeightTotal();this.offsetX=m*D,this.offsetY=g*D,i.total=this.calculateTotal(),this.outerRadius=D-O*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-O*u,0),this.updateElements(s,0,s.length,e)}_circumference(e,r){const n=this.options,i=this._cachedMeta,s=this._getCircumference();return r&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*s/It)}updateElements(e,r,n,i){const s=i==="reset",a=this.chart,o=a.chartArea,u=a.options.animation,c=(o.left+o.right)/2,d=(o.top+o.bottom)/2,f=s&&u.animateScale,h=f?0:this.innerRadius,m=f?0:this.outerRadius,g=this.resolveDataElementOptions(r,i),v=this.getSharedOptions(g),x=this.includeOptions(i,v);let S=this._getRotation(),D;for(D=0;D<r;++D)S+=this._circumference(D,s);for(D=r;D<r+n;++D){const P=this._circumference(D,s),O=e[D],B={x:c+this.offsetX,y:d+this.offsetY,startAngle:S,endAngle:S+P,circumference:P,outerRadius:m,innerRadius:h};x&&(B.options=v||this.resolveDataElementOptions(D,O.active?"active":i)),S+=P,this.updateElement(O,D,B,i)}this.updateSharedOptions(v,i,g)}calculateTotal(){const e=this._cachedMeta,r=e.data;let n=0,i;for(i=0;i<r.length;i++){const s=e._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!r[i].hidden&&(n+=Math.abs(s))}return n}calculateCircumference(e){const r=this._cachedMeta.total;return r>0&&!isNaN(e)?It*(Math.abs(e)/r):0}getLabelAndValue(e){const r=this._cachedMeta,n=this.chart,i=n.data.labels||[],s=yd(r._parsed[e],n.options.locale);return{label:i[e]||"",value:s}}getMaxBorderWidth(e){let r=0;const n=this.chart;let i,s,a,o,l;if(!e){for(i=0,s=n.data.datasets.length;i<s;++i)if(n.isDatasetVisible(i)){a=n.getDatasetMeta(i),e=a.data,o=a.controller;break}}if(!e)return 0;for(i=0,s=e.length;i<s;++i)l=o.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(r=Math.max(r,l.borderWidth||0,l.hoverBorderWidth||0));return r}getMaxOffset(e){let r=0;for(let n=0,i=e.length;n<i;++n){const s=this.resolveDataElementOptions(n);r=Math.max(r,s.offset||0,s.hoverOffset||0)}return r}_getRingWeightOffset(e){let r=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(r+=this._getRingWeight(n));return r}_getRingWeight(e){return Math.max(lt(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}eu.id="doughnut";eu.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};eu.descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"};eu.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:r}}=t.legend.options;return e.labels.map((n,i)=>{const a=t.getDatasetMeta(0).controller.getStyle(i);return{text:n,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,lineWidth:a.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(i),index:i}})}return[]}},onClick(t,e,r){r.chart.toggleDataVisibility(e.index),r.chart.update()}},tooltip:{callbacks:{title(){return""},label(t){let e=t.label;const r=": "+t.formattedValue;return Ut(e)?(e=e.slice(),e[0]+=r):e+=r,e}}}}};class bd extends Fn{initialize(){this.enableOptionSharing=!0,super.initialize()}update(e){const r=this._cachedMeta,{dataset:n,data:i=[],_dataset:s}=r,a=this.chart._animationsDisabled;let{start:o,count:l}=ooe(r,i,a);this._drawStart=o,this._drawCount=l,loe(r)&&(o=0,l=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!s._decimated,n.points=i;const u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(n,void 0,{animated:!a,options:u},e),this.updateElements(i,o,l,e)}updateElements(e,r,n,i){const s=i==="reset",{iScale:a,vScale:o,_stacked:l,_dataset:u}=this._cachedMeta,c=this.resolveDataElementOptions(r,i),d=this.getSharedOptions(c),f=this.includeOptions(i,d),h=a.axis,m=o.axis,{spanGaps:g,segment:v}=this.options,x=Hc(g)?g:Number.POSITIVE_INFINITY,S=this.chart._animationsDisabled||s||i==="none";let D=r>0&&this.getParsed(r-1);for(let P=r;P<r+n;++P){const O=e[P],B=this.getParsed(P),z=S?O:{},U=St(B[m]),Y=z[h]=a.getPixelForValue(B[h],P),F=z[m]=s||U?o.getBasePixel():o.getPixelForValue(l?this.applyStack(o,B,l):B[m],P);z.skip=isNaN(Y)||isNaN(F)||U,z.stop=P>0&&B[h]-D[h]>x,v&&(z.parsed=B,z.raw=u.data[P]),f&&(z.options=d||this.resolveDataElementOptions(P,O.active?"active":i)),S||this.updateElement(O,P,z,i),D=B}this.updateSharedOptions(d,i,c)}getMaxOverflow(){const e=this._cachedMeta,r=e.dataset,n=r.options&&r.options.borderWidth||0,i=e.data||[];if(!i.length)return n;const s=i[0].size(this.resolveDataElementOptions(0)),a=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,s,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}bd.id="line";bd.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};bd.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};function ooe(t,e,r){const n=e.length;let i=0,s=n;if(t._sorted){const{iScale:a,_parsed:o}=t,l=a.axis,{min:u,max:c,minDefined:d,maxDefined:f}=a.getUserBounds();d&&(i=br(Math.min(Zn(o,a.axis,u).lo,r?n:Zn(e,l,a.getPixelForValue(u)).lo),0,n-1)),f?s=br(Math.max(Zn(o,a.axis,c).hi+1,r?0:Zn(e,l,a.getPixelForValue(c)).hi+1),i,n)-i:s=n-i}return{start:i,count:s}}function loe(t){const{xScale:e,yScale:r,_scaleRanges:n}=t,i={xmin:e.min,xmax:e.max,ymin:r.min,ymax:r.max};if(!n)return t._scaleRanges=i,!0;const s=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==r.min||n.ymax!==r.max;return Object.assign(n,i),s}class sm extends Fn{constructor(e,r){super(e,r);this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const r=this._cachedMeta,n=this.chart,i=n.data.labels||[],s=yd(r._parsed[e].r,n.options.locale);return{label:i[e]||"",value:s}}update(e){const r=this._cachedMeta.data;this._updateRadius(),this.updateElements(r,0,r.length,e)}_updateRadius(){const e=this.chart,r=e.chartArea,n=e.options,i=Math.min(r.right-r.left,r.bottom-r.top),s=Math.max(i/2,0),a=Math.max(n.cutoutPercentage?s/100*n.cutoutPercentage:1,0),o=(s-a)/e.getVisibleDatasetCount();this.outerRadius=s-o*this.index,this.innerRadius=this.outerRadius-o}updateElements(e,r,n,i){const s=i==="reset",a=this.chart,o=this.getDataset(),u=a.options.animation,c=this._cachedMeta.rScale,d=c.xCenter,f=c.yCenter,h=c.getIndexAngle(0)-.5*Kt;let m=h,g;const v=360/this.countVisibleElements();for(g=0;g<r;++g)m+=this._computeAngle(g,i,v);for(g=r;g<r+n;g++){const x=e[g];let S=m,D=m+this._computeAngle(g,i,v),P=a.getDataVisibility(g)?c.getDistanceFromCenterForValue(o.data[g]):0;m=D,s&&(u.animateScale&&(P=0),u.animateRotate&&(S=D=h));const O={x:d,y:f,innerRadius:0,outerRadius:P,startAngle:S,endAngle:D,options:this.resolveDataElementOptions(g,x.active?"active":i)};this.updateElement(x,g,O,i)}}countVisibleElements(){const e=this.getDataset(),r=this._cachedMeta;let n=0;return r.data.forEach((i,s)=>{!isNaN(e.data[s])&&this.chart.getDataVisibility(s)&&n++}),n}_computeAngle(e,r,n){return this.chart.getDataVisibility(e)?Qi(this.resolveDataElementOptions(e,r).angle||n):0}}sm.id="polarArea";sm.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};sm.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:r}}=t.legend.options;return e.labels.map((n,i)=>{const a=t.getDatasetMeta(0).controller.getStyle(i);return{text:n,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,lineWidth:a.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(i),index:i}})}return[]}},onClick(t,e,r){r.chart.toggleDataVisibility(e.index),r.chart.update()}},tooltip:{callbacks:{title(){return""},label(t){return t.chart.data.labels[t.dataIndex]+": "+t.formattedValue}}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class a_ extends eu{}a_.id="pie";a_.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class am extends Fn{getLabelAndValue(e){const r=this._cachedMeta.vScale,n=this.getParsed(e);return{label:r.getLabels()[e],value:""+r.getLabelForValue(n[r.axis])}}update(e){const r=this._cachedMeta,n=r.dataset,i=r.data||[],s=r.iScale.getLabels();if(n.points=i,e!=="resize"){const a=this.resolveDatasetElementOptions(e);this.options.showLine||(a.borderWidth=0);const o={_loop:!0,_fullLoop:s.length===i.length,options:a};this.updateElement(n,void 0,o,e)}this.updateElements(i,0,i.length,e)}updateElements(e,r,n,i){const s=this.getDataset(),a=this._cachedMeta.rScale,o=i==="reset";for(let l=r;l<r+n;l++){const u=e[l],c=this.resolveDataElementOptions(l,u.active?"active":i),d=a.getPointPositionForValue(l,s.data[l]),f=o?a.xCenter:d.x,h=o?a.yCenter:d.y,m={x:f,y:h,angle:d.angle,skip:isNaN(f)||isNaN(h),options:c};this.updateElement(u,l,m,i)}}}am.id="radar";am.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};am.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};class om extends bd{}om.id="scatter";om.defaults={showLine:!1,fill:!1};om.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title(){return""},label(t){return"("+t.label+", "+t.formattedValue+")"}}}},scales:{x:{type:"linear"},y:{type:"linear"}}};var uoe=Object.freeze({__proto__:null,BarController:im,BubbleController:nm,DoughnutController:eu,LineController:bd,PolarAreaController:sm,PieController:a_,RadarController:am,ScatterController:om});function Ca(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class dy{constructor(e){this.options=e||{}}formats(){return Ca()}parse(e,r){return Ca()}format(e,r){return Ca()}add(e,r,n){return Ca()}diff(e,r,n){return Ca()}startOf(e,r,n){return Ca()}endOf(e,r){return Ca()}}dy.override=function(t){Object.assign(dy.prototype,t)};var coe={_date:dy};function qu(t,e){return"native"in t?{x:t.x,y:t.y}:gI(t,e)}function doe(t,e){const r=t.getSortedVisibleDatasetMetas();let n,i,s;for(let a=0,o=r.length;a<o;++a){({index:n,data:i}=r[a]);for(let l=0,u=i.length;l<u;++l)s=i[l],s.skip||e(s,n,l)}}function foe(t,e,r,n){const{controller:i,data:s,_sorted:a}=t,o=i._cachedMeta.iScale;if(o&&e===o.axis&&e!=="r"&&a&&s.length){const l=o._reversePixels?Xse:Zn;if(n){if(i._sharedOptions){const u=s[0],c=typeof u.getRange=="function"&&u.getRange(e);if(c){const d=l(s,e,r-c),f=l(s,e,r+c);return{lo:d.lo,hi:f.hi}}}}else return l(s,e,r)}return{lo:0,hi:s.length-1}}function o_(t,e,r,n,i){const s=t.getSortedVisibleDatasetMetas(),a=r[e];for(let o=0,l=s.length;o<l;++o){const{index:u,data:c}=s[o],{lo:d,hi:f}=foe(s[o],e,a,i);for(let h=d;h<=f;++h){const m=c[h];m.skip||n(m,u,h)}}}function hoe(t){const e=t.indexOf("x")!==-1,r=t.indexOf("y")!==-1;return function(n,i){const s=e?Math.abs(n.x-i.x):0,a=r?Math.abs(n.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(a,2))}}function Dg(t,e,r,n){const i=[];return Qa(e,t.chartArea,t._minPadding)&&o_(t,r,e,function(a,o,l){a.inRange(e.x,e.y,n)&&i.push({element:a,datasetIndex:o,index:l})},!0),i}function poe(t,e,r,n){let i=[];function s(a,o,l){const{startAngle:u,endAngle:c}=a.getProps(["startAngle","endAngle"],n),{angle:d}=tI(a,{x:e.x,y:e.y});zc(d,u,c)&&i.push({element:a,datasetIndex:o,index:l})}return o_(t,r,e,s),i}function moe(t,e,r,n,i){let s=[];const a=hoe(r);let o=Number.POSITIVE_INFINITY;function l(u,c,d){const f=u.inRange(e.x,e.y,i);if(n&&!f)return;const h=u.getCenterPoint(i);if(!Qa(h,t.chartArea,t._minPadding)&&!f)return;const g=a(e,h);g<o?(s=[{element:u,datasetIndex:c,index:d}],o=g):g===o&&s.push({element:u,datasetIndex:c,index:d})}return o_(t,r,e,l),s}function Ag(t,e,r,n,i){return Qa(e,t.chartArea,t._minPadding)?r==="r"&&!n?poe(t,e,r,i):moe(t,e,r,n,i):[]}function YC(t,e,r,n){const i=qu(e,t),s=[],a=r.axis,o=a==="x"?"inXRange":"inYRange";let l=!1;return doe(t,(u,c,d)=>{u[o](i[a],n)&&s.push({element:u,datasetIndex:c,index:d}),u.inRange(i.x,i.y,n)&&(l=!0)}),r.intersect&&!l?[]:s}var goe={modes:{index(t,e,r,n){const i=qu(e,t),s=r.axis||"x",a=r.intersect?Dg(t,i,s,n):Ag(t,i,s,!1,n),o=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(l=>{const u=a[0].index,c=l.data[u];c&&!c.skip&&o.push({element:c,datasetIndex:l.index,index:u})}),o):[]},dataset(t,e,r,n){const i=qu(e,t),s=r.axis||"xy";let a=r.intersect?Dg(t,i,s,n):Ag(t,i,s,!1,n);if(a.length>0){const o=a[0].datasetIndex,l=t.getDatasetMeta(o).data;a=[];for(let u=0;u<l.length;++u)a.push({element:l[u],datasetIndex:o,index:u})}return a},point(t,e,r,n){const i=qu(e,t),s=r.axis||"xy";return Dg(t,i,s,n)},nearest(t,e,r,n){const i=qu(e,t),s=r.axis||"xy";return Ag(t,i,s,r.intersect,n)},x(t,e,r,n){return YC(t,e,{axis:"x",intersect:r.intersect},n)},y(t,e,r,n){return YC(t,e,{axis:"y",intersect:r.intersect},n)}}};const CI=["left","top","right","bottom"];function Du(t,e){return t.filter(r=>r.pos===e)}function GC(t,e){return t.filter(r=>CI.indexOf(r.pos)===-1&&r.box.axis===e)}function Au(t,e){return t.sort((r,n)=>{const i=e?n:r,s=e?r:n;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function voe(t){const e=[];let r,n,i,s,a,o;for(r=0,n=(t||[]).length;r<n;++r)i=t[r],{position:s,options:{stack:a,stackWeight:o=1}}=i,e.push({index:r,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:a&&s+a,stackWeight:o});return e}function yoe(t){const e={};for(const r of t){const{stack:n,pos:i,stackWeight:s}=r;if(!n||!CI.includes(i))continue;const a=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=s}return e}function boe(t,e){const r=yoe(t),{vBoxMaxWidth:n,hBoxMaxHeight:i}=e;let s,a,o;for(s=0,a=t.length;s<a;++s){o=t[s];const{fullSize:l}=o.box,u=r[o.stack],c=u&&o.stackWeight/u.weight;o.horizontal?(o.width=c?c*n:l&&e.availableWidth,o.height=i):(o.width=n,o.height=c?c*i:l&&e.availableHeight)}return r}function _oe(t){const e=voe(t),r=Au(e.filter(u=>u.box.fullSize),!0),n=Au(Du(e,"left"),!0),i=Au(Du(e,"right")),s=Au(Du(e,"top"),!0),a=Au(Du(e,"bottom")),o=GC(e,"x"),l=GC(e,"y");return{fullSize:r,leftAndTop:n.concat(s),rightAndBottom:i.concat(l).concat(a).concat(o),chartArea:Du(e,"chartArea"),vertical:n.concat(i).concat(l),horizontal:s.concat(a).concat(o)}}function qC(t,e,r,n){return Math.max(t[r],e[r])+Math.max(t[n],e[n])}function wI(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function Toe(t,e,r,n){const{pos:i,box:s}=r,a=t.maxPadding;if(!mt(i)){r.size&&(t[i]-=r.size);const d=n[r.stack]||{size:0,count:1};d.size=Math.max(d.size,r.horizontal?s.height:s.width),r.size=d.size/d.count,t[i]+=r.size}s.getPadding&&wI(a,s.getPadding());const o=Math.max(0,e.outerWidth-qC(a,t,"left","right")),l=Math.max(0,e.outerHeight-qC(a,t,"top","bottom")),u=o!==t.w,c=l!==t.h;return t.w=o,t.h=l,r.horizontal?{same:u,other:c}:{same:c,other:u}}function xoe(t){const e=t.maxPadding;function r(n){const i=Math.max(e[n]-t[n],0);return t[n]+=i,i}t.y+=r("top"),t.x+=r("left"),r("right"),r("bottom")}function Soe(t,e){const r=e.maxPadding;function n(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(a=>{s[a]=Math.max(e[a],r[a])}),s}return n(t?["left","right"]:["top","bottom"])}function Ku(t,e,r,n){const i=[];let s,a,o,l,u,c;for(s=0,a=t.length,u=0;s<a;++s){o=t[s],l=o.box,l.update(o.width||e.w,o.height||e.h,Soe(o.horizontal,e));const{same:d,other:f}=Toe(e,r,o,n);u|=d&&i.length,c=c||f,l.fullSize||i.push(o)}return u&&Ku(i,e,r,n)||c}function vf(t,e,r,n,i){t.top=r,t.left=e,t.right=e+n,t.bottom=r+i,t.width=n,t.height=i}function KC(t,e,r,n){const i=r.padding;let{x:s,y:a}=e;for(const o of t){const l=o.box,u=n[o.stack]||{count:1,placed:0,weight:1},c=o.stackWeight/u.weight||1;if(o.horizontal){const d=e.w*c,f=u.size||l.height;Hi(u.start)&&(a=u.start),l.fullSize?vf(l,i.left,a,r.outerWidth-i.right-i.left,f):vf(l,e.left+u.placed,a,d,f),u.start=a,u.placed+=d,a=l.bottom}else{const d=e.h*c,f=u.size||l.width;Hi(u.start)&&(s=u.start),l.fullSize?vf(l,s,i.top,f,r.outerHeight-i.bottom-i.top):vf(l,s,e.top+u.placed,f,d),u.start=s,u.placed+=d,s=l.right}}e.x=s,e.y=a}gt.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var kr={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(r){e.draw(r)}}]},t.boxes.push(e)},removeBox(t,e){const r=t.boxes?t.boxes.indexOf(e):-1;r!==-1&&t.boxes.splice(r,1)},configure(t,e,r){e.fullSize=r.fullSize,e.position=r.position,e.weight=r.weight},update(t,e,r,n){if(!t)return;const i=Lr(t.options.layout.padding),s=Math.max(e-i.width,0),a=Math.max(r-i.height,0),o=_oe(t.boxes),l=o.vertical,u=o.horizontal;Dt(t.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const c=l.reduce((g,v)=>v.box.options&&v.box.options.display===!1?g:g+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:r,padding:i,availableWidth:s,availableHeight:a,vBoxMaxWidth:s/2/c,hBoxMaxHeight:a/2}),f=Object.assign({},i);wI(f,Lr(n));const h=Object.assign({maxPadding:f,w:s,h:a,x:i.left,y:i.top},i),m=boe(l.concat(u),d);Ku(o.fullSize,h,d,m),Ku(l,h,d,m),Ku(u,h,d,m)&&Ku(l,h,d,m),xoe(h),KC(o.leftAndTop,h,d,m),h.x+=h.w,h.y+=h.h,KC(o.rightAndBottom,h,d,m),t.chartArea={left:h.left,top:h.top,right:h.left+h.w,bottom:h.top+h.h,height:h.h,width:h.w},Dt(o.chartArea,g=>{const v=g.box;Object.assign(v,t.chartArea),v.update(h.w,h.h,{left:0,top:0,right:0,bottom:0})})}};class PI{acquireContext(e,r){}releaseContext(e){return!1}addEventListener(e,r,n){}removeEventListener(e,r,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,r,n,i){return r=Math.max(0,r||e.width),n=n||e.height,{width:r,height:Math.max(0,i?Math.floor(r/i):n)}}isAttached(e){return!0}updateConfig(e){}}class Eoe extends PI{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Jf="$chartjs",Coe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},XC=t=>t===null||t==="";function woe(t,e){const r=t.style,n=t.getAttribute("height"),i=t.getAttribute("width");if(t[Jf]={initial:{height:n,width:i,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",XC(i)){const s=RC(t,"width");s!==void 0&&(t.width=s)}if(XC(n))if(t.style.height==="")t.height=t.width/(e||2);else{const s=RC(t,"height");s!==void 0&&(t.height=s)}return t}const DI=Tae?{passive:!0}:!1;function Poe(t,e,r){t.addEventListener(e,r,DI)}function Doe(t,e,r){t.canvas.removeEventListener(e,r,DI)}function Aoe(t,e){const r=Coe[t.type]||t.type,{x:n,y:i}=gI(t,e);return{type:r,chart:e,native:t,x:n!==void 0?n:null,y:i!==void 0?i:null}}function Xh(t,e){for(const r of t)if(r===e||r.contains(e))return!0}function Ooe(t,e,r){const n=t.canvas,i=new MutationObserver(s=>{let a=!1;for(const o of s)a=a||Xh(o.addedNodes,n),a=a&&!Xh(o.removedNodes,n);a&&r()});return i.observe(document,{childList:!0,subtree:!0}),i}function Roe(t,e,r){const n=t.canvas,i=new MutationObserver(s=>{let a=!1;for(const o of s)a=a||Xh(o.removedNodes,n),a=a&&!Xh(o.addedNodes,n);a&&r()});return i.observe(document,{childList:!0,subtree:!0}),i}const Yc=new Map;let QC=0;function AI(){const t=window.devicePixelRatio;t!==QC&&(QC=t,Yc.forEach((e,r)=>{r.currentDevicePixelRatio!==t&&e()}))}function koe(t,e){Yc.size||window.addEventListener("resize",AI),Yc.set(t,e)}function Ioe(t){Yc.delete(t),Yc.size||window.removeEventListener("resize",AI)}function Moe(t,e,r){const n=t.canvas,i=n&&s_(n);if(!i)return;const s=Qk((o,l)=>{const u=i.clientWidth;r(o,l),u<i.clientWidth&&r()},window),a=new ResizeObserver(o=>{const l=o[0],u=l.contentRect.width,c=l.contentRect.height;u===0&&c===0||s(u,c)});return a.observe(i),koe(t,s),a}function Og(t,e,r){r&&r.disconnect(),e==="resize"&&Ioe(t)}function Loe(t,e,r){const n=t.canvas,i=Qk(s=>{t.ctx!==null&&r(Aoe(s,t))},t,s=>{const a=s[0];return[a,a.offsetX,a.offsetY]});return Poe(n,e,i),i}class Noe extends PI{acquireContext(e,r){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(woe(e,r),n):null}releaseContext(e){const r=e.canvas;if(!r[Jf])return!1;const n=r[Jf].initial;["height","width"].forEach(s=>{const a=n[s];St(a)?r.removeAttribute(s):r.setAttribute(s,a)});const i=n.style||{};return Object.keys(i).forEach(s=>{r.style[s]=i[s]}),r.width=r.width,delete r[Jf],!0}addEventListener(e,r,n){this.removeEventListener(e,r);const i=e.$proxies||(e.$proxies={}),a={attach:Ooe,detach:Roe,resize:Moe}[r]||Loe;i[r]=a(e,r,n)}removeEventListener(e,r){const n=e.$proxies||(e.$proxies={}),i=n[r];if(!i)return;({attach:Og,detach:Og,resize:Og}[r]||Doe)(e,r,i),n[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,r,n,i){return _ae(e,r,n,i)}isAttached(e){const r=s_(e);return!!(r&&r.isConnected)}}function Foe(t){return!mI()||typeof OffscreenCanvas!="undefined"&&t instanceof OffscreenCanvas?Eoe:Noe}class on{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(e){const{x:r,y:n}=this.getProps(["x","y"],e);return{x:r,y:n}}hasValue(){return Hc(this.x)&&Hc(this.y)}getProps(e,r){const n=this.$animations;if(!r||!n)return this;const i={};return e.forEach(s=>{i[s]=n[s]&&n[s].active()?n[s]._to:this[s]}),i}}on.defaults={};on.defaultRoutes=void 0;const OI={values(t){return Ut(t)?t:""+t},numeric(t,e,r){if(t===0)return"0";const n=this.chart.options.locale;let i,s=t;if(r.length>1){const u=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(u<1e-4||u>1e15)&&(i="scientific"),s=Boe(t,r)}const a=Mi(Math.abs(s)),o=Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:i,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),yd(t,n,l)},logarithmic(t,e,r){if(t===0)return"0";const n=t/Math.pow(10,Math.floor(Mi(t)));return n===1||n===2||n===5?OI.numeric.call(this,t,e,r):""}};function Boe(t,e){let r=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(r)>=1&&t!==Math.floor(t)&&(r=t-Math.floor(t)),r}var lm={formatters:OI};gt.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:lm.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}});gt.route("scale.ticks","color","","color");gt.route("scale.grid","color","","borderColor");gt.route("scale.grid","borderColor","","borderColor");gt.route("scale.title","color","","color");gt.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"});gt.describe("scales",{_fallback:"scale"});gt.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"});function $oe(t,e){const r=t.options.ticks,n=r.maxTicksLimit||Uoe(t),i=r.major.enabled?Voe(e):[],s=i.length,a=i[0],o=i[s-1],l=[];if(s>n)return Hoe(e,l,i,s/n),l;const u=joe(i,e,n);if(s>0){let c,d;const f=s>1?Math.round((o-a)/(s-1)):null;for(yf(e,l,u,St(f)?0:a-f,a),c=0,d=s-1;c<d;c++)yf(e,l,u,i[c],i[c+1]);return yf(e,l,u,o,St(f)?e.length:o+f),l}return yf(e,l,u),l}function Uoe(t){const e=t.options.offset,r=t._tickSize(),n=t._length/r+(e?0:1),i=t._maxLength/r;return Math.floor(Math.min(n,i))}function joe(t,e,r){const n=zoe(t),i=e.length/r;if(!n)return Math.max(i,1);const s=mse(n);for(let a=0,o=s.length-1;a<o;a++){const l=s[a];if(l>i)return l}return Math.max(i,1)}function Voe(t){const e=[];let r,n;for(r=0,n=t.length;r<n;r++)t[r].major&&e.push(r);return e}function Hoe(t,e,r,n){let i=0,s=r[0],a;for(n=Math.ceil(n),a=0;a<t.length;a++)a===s&&(e.push(t[a]),i++,s=r[i*n])}function yf(t,e,r,n,i){const s=lt(n,0),a=Math.min(lt(i,t.length),t.length);let o=0,l,u,c;for(r=Math.ceil(r),i&&(l=i-n,r=l/Math.floor(l/r)),c=s;c<0;)o++,c=Math.round(s+o*r);for(u=Math.max(s,0);u<a;u++)u===c&&(e.push(t[u]),o++,c=Math.round(s+o*r))}function zoe(t){const e=t.length;let r,n;if(e<2)return!1;for(n=t[0],r=1;r<e;++r)if(t[r]-t[r-1]!==n)return!1;return n}const Woe=t=>t==="left"?"right":t==="right"?"left":t,JC=(t,e,r)=>e==="top"||e==="left"?t[e]+r:t[e]-r;function ZC(t,e){const r=[],n=t.length/e,i=t.length;let s=0;for(;s<i;s+=n)r.push(t[Math.floor(s)]);return r}function Yoe(t,e,r){const n=t.ticks.length,i=Math.min(e,n-1),s=t._startPixel,a=t._endPixel,o=1e-6;let l=t.getPixelForTick(i),u;if(!(r&&(n===1?u=Math.max(l-s,a-l):e===0?u=(t.getPixelForTick(1)-l)/2:u=(l-t.getPixelForTick(i-1))/2,l+=i<e?u:-u,l<s-o||l>a+o)))return l}function Goe(t,e){Dt(t,r=>{const n=r.gc,i=n.length/2;let s;if(i>e){for(s=0;s<i;++s)delete r.data[n[s]];n.splice(0,i)}})}function Ou(t){return t.drawTicks?t.tickLength:0}function ew(t,e){if(!t.display)return 0;const r=hr(t.font,e),n=Lr(t.padding);return(Ut(t.text)?t.text.length:1)*r.lineHeight+n.height}function qoe(t,e){return ra(t,{scale:e,type:"scale"})}function Koe(t,e,r){return ra(t,{tick:r,index:e,type:"tick"})}function Xoe(t,e,r){let n=Gb(t);return(r&&e!=="right"||!r&&e==="right")&&(n=Woe(n)),n}function Qoe(t,e,r,n){const{top:i,left:s,bottom:a,right:o,chart:l}=t,{chartArea:u,scales:c}=l;let d=0,f,h,m;const g=a-i,v=o-s;if(t.isHorizontal()){if(h=Or(n,s,o),mt(r)){const x=Object.keys(r)[0],S=r[x];m=c[x].getPixelForValue(S)+g-e}else r==="center"?m=(u.bottom+u.top)/2+g-e:m=JC(t,r,e);f=o-s}else{if(mt(r)){const x=Object.keys(r)[0],S=r[x];h=c[x].getPixelForValue(S)-v+e}else r==="center"?h=(u.left+u.right)/2-v+e:h=JC(t,r,e);m=Or(n,a,i),d=r==="left"?-Zt:Zt}return{titleX:h,titleY:m,maxWidth:f,rotation:d}}class ao extends on{constructor(e){super();this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,r){return e}getUserBounds(){let{_userMin:e,_userMax:r,_suggestedMin:n,_suggestedMax:i}=this;return e=ki(e,Number.POSITIVE_INFINITY),r=ki(r,Number.NEGATIVE_INFINITY),n=ki(n,Number.POSITIVE_INFINITY),i=ki(i,Number.NEGATIVE_INFINITY),{min:ki(e,n),max:ki(r,i),minDefined:sr(e),maxDefined:sr(r)}}getMinMax(e){let{min:r,max:n,minDefined:i,maxDefined:s}=this.getUserBounds(),a;if(i&&s)return{min:r,max:n};const o=this.getMatchingVisibleMetas();for(let l=0,u=o.length;l<u;++l)a=o[l].controller.getMinMax(this,e),i||(r=Math.min(r,a.min)),s||(n=Math.max(n,a.max));return r=s&&r>n?n:r,n=i&&r>n?r:n,{min:ki(r,ki(n,r)),max:ki(n,ki(r,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ft(this.options.beforeUpdate,[this])}update(e,r,n){const{beginAtZero:i,grace:s,ticks:a}=this.options,o=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=r,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Kse(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=o<this.ticks.length;this._convertTicksToLabels(l?ZC(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=$oe(this,this.ticks),this._labelSizes=null),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,r,n;this.isHorizontal()?(r=this.left,n=this.right):(r=this.top,n=this.bottom,e=!e),this._startPixel=r,this._endPixel=n,this._reversePixels=e,this._length=n-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ft(this.options.afterUpdate,[this])}beforeSetDimensions(){Ft(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ft(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Ft(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ft(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const r=this.options.ticks;let n,i,s;for(n=0,i=e.length;n<i;n++)s=e[n],s.label=Ft(r.callback,[s.value,n,e],this)}afterTickToLabelConversion(){Ft(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ft(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,r=e.ticks,n=this.ticks.length,i=r.minRotation||0,s=r.maxRotation;let a=i,o,l,u;if(!this._isVisible()||!r.display||i>=s||n<=1||!this.isHorizontal()){this.labelRotation=i;return}const c=this._getLabelSizes(),d=c.widest.width,f=c.highest.height,h=br(this.chart.width-d,0,this.maxWidth);o=e.offset?this.maxWidth/n:h/(n-1),d+6>o&&(o=h/(n-(e.offset?.5:1)),l=this.maxHeight-Ou(e.grid)-r.padding-ew(e.title,this.chart.options.font),u=Math.sqrt(d*d+f*f),a=Kb(Math.min(Math.asin(br((c.highest.height+6)/o,-1,1)),Math.asin(br(l/u,-1,1))-Math.asin(br(f/u,-1,1)))),a=Math.max(i,Math.min(s,a))),this.labelRotation=a}afterCalculateLabelRotation(){Ft(this.options.afterCalculateLabelRotation,[this])}beforeFit(){Ft(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:r,options:{ticks:n,title:i,grid:s}}=this,a=this._isVisible(),o=this.isHorizontal();if(a){const l=ew(i,r.options.font);if(o?(e.width=this.maxWidth,e.height=Ou(s)+l):(e.height=this.maxHeight,e.width=Ou(s)+l),n.display&&this.ticks.length){const{first:u,last:c,widest:d,highest:f}=this._getLabelSizes(),h=n.padding*2,m=Qi(this.labelRotation),g=Math.cos(m),v=Math.sin(m);if(o){const x=n.mirror?0:v*d.width+g*f.height;e.height=Math.min(this.maxHeight,e.height+x+h)}else{const x=n.mirror?0:g*d.width+v*f.height;e.width=Math.min(this.maxWidth,e.width+x+h)}this._calculatePadding(u,c,v,g)}}this._handleMargins(),o?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,r,n,i){const{ticks:{align:s,padding:a},position:o}=this.options,l=this.labelRotation!==0,u=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const c=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,h=0;l?u?(f=i*e.width,h=n*r.height):(f=n*e.height,h=i*r.width):s==="start"?h=r.width:s==="end"?f=e.width:(f=e.width/2,h=r.width/2),this.paddingLeft=Math.max((f-c+a)*this.width/(this.width-c),0),this.paddingRight=Math.max((h-d+a)*this.width/(this.width-d),0)}else{let c=r.height/2,d=e.height/2;s==="start"?(c=0,d=e.height):s==="end"&&(c=r.height,d=0),this.paddingTop=c+a,this.paddingBottom=d+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ft(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:r}=this.options;return r==="top"||r==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let r,n;for(r=0,n=e.length;r<n;r++)St(e[r].label)&&(e.splice(r,1),n--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const r=this.options.ticks.sampleSize;let n=this.ticks;r<n.length&&(n=ZC(n,r)),this._labelSizes=e=this._computeLabelSizes(n,n.length)}return e}_computeLabelSizes(e,r){const{ctx:n,_longestTextCache:i}=this,s=[],a=[];let o=0,l=0,u,c,d,f,h,m,g,v,x,S,D;for(u=0;u<r;++u){if(f=e[u].label,h=this._resolveTickFontOptions(u),n.font=m=h.string,g=i[m]=i[m]||{data:{},gc:[]},v=h.lineHeight,x=S=0,!St(f)&&!Ut(f))x=Yh(n,g.data,g.gc,x,f),S=v;else if(Ut(f))for(c=0,d=f.length;c<d;++c)D=f[c],!St(D)&&!Ut(D)&&(x=Yh(n,g.data,g.gc,x,D),S+=v);s.push(x),a.push(S),o=Math.max(x,o),l=Math.max(S,l)}Goe(i,r);const P=s.indexOf(o),O=a.indexOf(l),B=z=>({width:s[z]||0,height:a[z]||0});return{first:B(0),last:B(r-1),widest:B(P),highest:B(O),widths:s,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,r){return NaN}getValueForPixel(e){}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const r=this._startPixel+e*this._length;return yse(this._alignToPixels?Ea(this.chart,r,0):r)}getDecimalForPixel(e){const r=(e-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:r}=this;return e<0&&r<0?r:e>0&&r>0?e:0}getContext(e){const r=this.ticks||[];if(e>=0&&e<r.length){const n=r[e];return n.$context||(n.$context=Koe(this.getContext(),e,n))}return this.$context||(this.$context=qoe(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,r=Qi(this.labelRotation),n=Math.abs(Math.cos(r)),i=Math.abs(Math.sin(r)),s=this._getLabelSizes(),a=e.autoSkipPadding||0,o=s?s.widest.width+a:0,l=s?s.highest.height+a:0;return this.isHorizontal()?l*n>o*i?o/n:l/i:l*i<o*n?l/n:o/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const r=this.axis,n=this.chart,i=this.options,{grid:s,position:a}=i,o=s.offset,l=this.isHorizontal(),c=this.ticks.length+(o?1:0),d=Ou(s),f=[],h=s.setContext(this.getContext()),m=h.drawBorder?h.borderWidth:0,g=m/2,v=function(ge){return Ea(n,ge,m)};let x,S,D,P,O,B,z,U,Y,F,ue,X;if(a==="top")x=v(this.bottom),B=this.bottom-d,U=x-g,F=v(e.top)+g,X=e.bottom;else if(a==="bottom")x=v(this.top),F=e.top,X=v(e.bottom)-g,B=x+g,U=this.top+d;else if(a==="left")x=v(this.right),O=this.right-d,z=x-g,Y=v(e.left)+g,ue=e.right;else if(a==="right")x=v(this.left),Y=e.left,ue=v(e.right)-g,O=x+g,z=this.left+d;else if(r==="x"){if(a==="center")x=v((e.top+e.bottom)/2+.5);else if(mt(a)){const ge=Object.keys(a)[0],Se=a[ge];x=v(this.chart.scales[ge].getPixelForValue(Se))}F=e.top,X=e.bottom,B=x+g,U=B+d}else if(r==="y"){if(a==="center")x=v((e.left+e.right)/2);else if(mt(a)){const ge=Object.keys(a)[0],Se=a[ge];x=v(this.chart.scales[ge].getPixelForValue(Se))}O=x-g,z=O-d,Y=e.left,ue=e.right}const me=lt(i.ticks.maxTicksLimit,c),xe=Math.max(1,Math.ceil(c/me));for(S=0;S<c;S+=xe){const ge=s.setContext(this.getContext(S)),Se=ge.lineWidth,Ae=ge.color,he=s.borderDash||[],Ye=ge.borderDashOffset,Z=ge.tickWidth,C=ge.tickColor,q=ge.tickBorderDash||[],ae=ge.tickBorderDashOffset;D=Yoe(this,S,o),D!==void 0&&(P=Ea(n,D,Se),l?O=z=Y=ue=P:B=U=F=X=P,f.push({tx1:O,ty1:B,tx2:z,ty2:U,x1:Y,y1:F,x2:ue,y2:X,width:Se,color:Ae,borderDash:he,borderDashOffset:Ye,tickWidth:Z,tickColor:C,tickBorderDash:q,tickBorderDashOffset:ae}))}return this._ticksLength=c,this._borderValue=x,f}_computeLabelItems(e){const r=this.axis,n=this.options,{position:i,ticks:s}=n,a=this.isHorizontal(),o=this.ticks,{align:l,crossAlign:u,padding:c,mirror:d}=s,f=Ou(n.grid),h=f+c,m=d?-c:h,g=-Qi(this.labelRotation),v=[];let x,S,D,P,O,B,z,U,Y,F,ue,X,me="middle";if(i==="top")B=this.bottom-m,z=this._getXAxisLabelAlignment();else if(i==="bottom")B=this.top+m,z=this._getXAxisLabelAlignment();else if(i==="left"){const ge=this._getYAxisLabelAlignment(f);z=ge.textAlign,O=ge.x}else if(i==="right"){const ge=this._getYAxisLabelAlignment(f);z=ge.textAlign,O=ge.x}else if(r==="x"){if(i==="center")B=(e.top+e.bottom)/2+h;else if(mt(i)){const ge=Object.keys(i)[0],Se=i[ge];B=this.chart.scales[ge].getPixelForValue(Se)+h}z=this._getXAxisLabelAlignment()}else if(r==="y"){if(i==="center")O=(e.left+e.right)/2-h;else if(mt(i)){const ge=Object.keys(i)[0],Se=i[ge];O=this.chart.scales[ge].getPixelForValue(Se)}z=this._getYAxisLabelAlignment(f).textAlign}r==="y"&&(l==="start"?me="top":l==="end"&&(me="bottom"));const xe=this._getLabelSizes();for(x=0,S=o.length;x<S;++x){D=o[x],P=D.label;const ge=s.setContext(this.getContext(x));U=this.getPixelForTick(x)+s.labelOffset,Y=this._resolveTickFontOptions(x),F=Y.lineHeight,ue=Ut(P)?P.length:1;const Se=ue/2,Ae=ge.color,he=ge.textStrokeColor,Ye=ge.textStrokeWidth;a?(O=U,i==="top"?u==="near"||g!==0?X=-ue*F+F/2:u==="center"?X=-xe.highest.height/2-Se*F+F:X=-xe.highest.height+F/2:u==="near"||g!==0?X=F/2:u==="center"?X=xe.highest.height/2-Se*F:X=xe.highest.height-ue*F,d&&(X*=-1)):(B=U,X=(1-ue)*F/2);let Z;if(ge.showLabelBackdrop){const C=Lr(ge.backdropPadding),q=xe.heights[x],ae=xe.widths[x];let _e=B+X-C.top,k=O-C.left;switch(me){case"middle":_e-=q/2;break;case"bottom":_e-=q;break}switch(z){case"center":k-=ae/2;break;case"right":k-=ae;break}Z={left:k,top:_e,width:ae+C.width,height:q+C.height,color:ge.backdropColor}}v.push({rotation:g,label:P,font:Y,color:Ae,strokeColor:he,strokeWidth:Ye,textOffset:X,textAlign:z,textBaseline:me,translation:[O,B],backdrop:Z})}return v}_getXAxisLabelAlignment(){const{position:e,ticks:r}=this.options;if(-Qi(this.labelRotation))return e==="top"?"left":"right";let i="center";return r.align==="start"?i="left":r.align==="end"&&(i="right"),i}_getYAxisLabelAlignment(e){const{position:r,ticks:{crossAlign:n,mirror:i,padding:s}}=this.options,a=this._getLabelSizes(),o=e+s,l=a.widest.width;let u,c;return r==="left"?i?(c=this.right+s,n==="near"?u="left":n==="center"?(u="center",c+=l/2):(u="right",c+=l)):(c=this.right-o,n==="near"?u="right":n==="center"?(u="center",c-=l/2):(u="left",c=this.left)):r==="right"?i?(c=this.left+s,n==="near"?u="right":n==="center"?(u="center",c-=l/2):(u="left",c-=l)):(c=this.left+o,n==="near"?u="left":n==="center"?(u="center",c+=l/2):(u="right",c=this.right)):u="right",{textAlign:u,x:c}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:r},left:n,top:i,width:s,height:a}=this;r&&(e.save(),e.fillStyle=r,e.fillRect(n,i,s,a),e.restore())}getLineWidthForValue(e){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?r.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const r=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,a;const o=(l,u,c)=>{!c.width||!c.color||(n.save(),n.lineWidth=c.width,n.strokeStyle=c.color,n.setLineDash(c.borderDash||[]),n.lineDashOffset=c.borderDashOffset,n.beginPath(),n.moveTo(l.x,l.y),n.lineTo(u.x,u.y),n.stroke(),n.restore())};if(r.display)for(s=0,a=i.length;s<a;++s){const l=i[s];r.drawOnChartArea&&o({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),r.drawTicks&&o({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:r,options:{grid:n}}=this,i=n.setContext(this.getContext()),s=n.drawBorder?i.borderWidth:0;if(!s)return;const a=n.setContext(this.getContext(0)).lineWidth,o=this._borderValue;let l,u,c,d;this.isHorizontal()?(l=Ea(e,this.left,s)-s/2,u=Ea(e,this.right,a)+a/2,c=d=o):(c=Ea(e,this.top,s)-s/2,d=Ea(e,this.bottom,a)+a/2,l=u=o),r.save(),r.lineWidth=i.borderWidth,r.strokeStyle=i.borderColor,r.beginPath(),r.moveTo(l,c),r.lineTo(u,d),r.stroke(),r.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,i=this._computeLabelArea();i&&em(n,i);const s=this._labelItems||(this._labelItems=this._computeLabelItems(e));let a,o;for(a=0,o=s.length;a<o;++a){const l=s[a],u=l.font,c=l.label;l.backdrop&&(n.fillStyle=l.backdrop.color,n.fillRect(l.backdrop.left,l.backdrop.top,l.backdrop.width,l.backdrop.height));let d=l.textOffset;Ja(n,c,0,d,u,l)}i&&tm(n)}drawTitle(){const{ctx:e,options:{position:r,title:n,reverse:i}}=this;if(!n.display)return;const s=hr(n.font),a=Lr(n.padding),o=n.align;let l=s.lineHeight/2;r==="bottom"||r==="center"||mt(r)?(l+=a.bottom,Ut(n.text)&&(l+=s.lineHeight*(n.text.length-1))):l+=a.top;const{titleX:u,titleY:c,maxWidth:d,rotation:f}=Qoe(this,l,r,o);Ja(e,n.text,0,0,s,{color:n.color,maxWidth:d,rotation:f,textAlign:Xoe(o,r,i),textBaseline:"middle",translation:[u,c]})}draw(e){!this._isVisible()||(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,r=e.ticks&&e.ticks.z||0,n=lt(e.grid&&e.grid.z,-1);return!this._isVisible()||this.draw!==ao.prototype.draw?[{z:r,draw:i=>{this.draw(i)}}]:[{z:n,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:n+1,draw:()=>{this.drawBorder()}},{z:r,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const r=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let s,a;for(s=0,a=r.length;s<a;++s){const o=r[s];o[n]===this.id&&(!e||o.type===e)&&i.push(o)}return i}_resolveTickFontOptions(e){const r=this.options.ticks.setContext(this.getContext(e));return hr(r.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class bf{constructor(e,r,n){this.type=e,this.scope=r,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const r=Object.getPrototypeOf(e);let n;ele(r)&&(n=this.register(r));const i=this.items,s=e.id,a=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,Joe(e,a,n),this.override&&gt.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const r=this.items,n=e.id,i=this.scope;n in r&&delete r[n],i&&n in gt[i]&&(delete gt[i][n],this.override&&delete Xa[n])}}function Joe(t,e,r){const n=Vc(Object.create(null),[r?gt.get(r):{},gt.get(e),t.defaults]);gt.set(e,n),t.defaultRoutes&&Zoe(e,t.defaultRoutes),t.descriptors&&gt.describe(e,t.descriptors)}function Zoe(t,e){Object.keys(e).forEach(r=>{const n=r.split("."),i=n.pop(),s=[t].concat(n).join("."),a=e[r].split("."),o=a.pop(),l=a.join(".");gt.route(s,i,l,o)})}function ele(t){return"id"in t&&"defaults"in t}class tle{constructor(){this.controllers=new bf(Fn,"datasets",!0),this.elements=new bf(on,"elements"),this.plugins=new bf(Object,"plugins"),this.scales=new bf(ao,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,r,n){[...r].forEach(i=>{const s=n||this._getRegistryForType(i);n||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):Dt(i,a=>{const o=n||this._getRegistryForType(a);this._exec(e,o,a)})})}_exec(e,r,n){const i=qb(e);Ft(n["before"+i],[],n),r[e](n),Ft(n["after"+i],[],n)}_getRegistryForType(e){for(let r=0;r<this._typedRegistries.length;r++){const n=this._typedRegistries[r];if(n.isForType(e))return n}return this.plugins}_get(e,r,n){const i=r.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return i}}var es=new tle;class rle{constructor(){this._init=[]}notify(e,r,n,i){r==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=i?this._descriptors(e).filter(i):this._descriptors(e),a=this._notify(s,e,r,n);return r==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,r,n,i){i=i||{};for(const s of e){const a=s.plugin,o=a[n],l=[r,i,s.options];if(Ft(o,l,a)===!1&&i.cancelable)return!1}return!0}invalidate(){St(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),r}_createDescriptors(e,r){const n=e&&e.config,i=lt(n.options&&n.options.plugins,{}),s=ile(n);return i===!1&&!r?[]:sle(e,s,i,r)}_notifyStateChanges(e){const r=this._oldCache||[],n=this._cache,i=(s,a)=>s.filter(o=>!a.some(l=>o.plugin.id===l.plugin.id));this._notify(i(r,n),e,"stop"),this._notify(i(n,r),e,"start")}}function ile(t){const e=[],r=Object.keys(es.plugins.items);for(let i=0;i<r.length;i++)e.push(es.getPlugin(r[i]));const n=t.plugins||[];for(let i=0;i<n.length;i++){const s=n[i];e.indexOf(s)===-1&&e.push(s)}return e}function nle(t,e){return!e&&t===!1?null:t===!0?{}:t}function sle(t,e,r,n){const i=[],s=t.getContext();for(let a=0;a<e.length;a++){const o=e[a],l=o.id,u=nle(r[l],n);u!==null&&i.push({plugin:o,options:ale(t.config,o,u,s)})}return i}function ale(t,e,r,n){const i=t.pluginScopeKeys(e),s=t.getOptionScopes(r,i);return t.createResolver(s,n,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function fy(t,e){const r=gt.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||r.indexAxis||"x"}function ole(t,e){let r=t;return t==="_index_"?r=e:t==="_value_"&&(r=e==="x"?"y":"x"),r}function lle(t,e){return t===e?"_index_":"_value_"}function ule(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function hy(t,e){return t==="x"||t==="y"?t:e.axis||ule(e.position)||t.charAt(0).toLowerCase()}function cle(t,e){const r=Xa[t.type]||{scales:{}},n=e.scales||{},i=fy(t.type,e),s=Object.create(null),a=Object.create(null);return Object.keys(n).forEach(o=>{const l=n[o];if(!mt(l))return console.error(`Invalid scale configuration for scale: ${o}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const u=hy(o,l),c=lle(u,i),d=r.scales||{};s[u]=s[u]||o,a[o]=fc(Object.create(null),[{axis:u},l,d[u],d[c]])}),t.data.datasets.forEach(o=>{const l=o.type||t.type,u=o.indexAxis||fy(l,e),d=(Xa[l]||{}).scales||{};Object.keys(d).forEach(f=>{const h=ole(f,u),m=o[h+"AxisID"]||s[h]||h;a[m]=a[m]||Object.create(null),fc(a[m],[{axis:h},n[m],d[f]])})}),Object.keys(a).forEach(o=>{const l=a[o];fc(l,[gt.scales[l.type],gt.scale])}),a}function RI(t){const e=t.options||(t.options={});e.plugins=lt(e.plugins,{}),e.scales=cle(t,e)}function kI(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function dle(t){return t=t||{},t.data=kI(t.data),RI(t),t}const tw=new Map,II=new Set;function _f(t,e){let r=tw.get(t);return r||(r=e(),tw.set(t,r),II.add(r)),r}const Ru=(t,e,r)=>{const n=Ka(e,r);n!==void 0&&t.add(n)};class fle{constructor(e){this._config=dle(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=kI(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),RI(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return _f(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,r){return _f(`${e}.transition.${r}`,()=>[[`datasets.${e}.transitions.${r}`,`transitions.${r}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,r){return _f(`${e}-${r}`,()=>[[`datasets.${e}.elements.${r}`,`datasets.${e}`,`elements.${r}`,""]])}pluginScopeKeys(e){const r=e.id,n=this.type;return _f(`${n}-plugin-${r}`,()=>[[`plugins.${r}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,r){const n=this._scopeCache;let i=n.get(e);return(!i||r)&&(i=new Map,n.set(e,i)),i}getOptionScopes(e,r,n){const{options:i,type:s}=this,a=this._cachedScopes(e,n),o=a.get(r);if(o)return o;const l=new Set;r.forEach(c=>{e&&(l.add(e),c.forEach(d=>Ru(l,e,d))),c.forEach(d=>Ru(l,i,d)),c.forEach(d=>Ru(l,Xa[s]||{},d)),c.forEach(d=>Ru(l,gt,d)),c.forEach(d=>Ru(l,cy,d))});const u=Array.from(l);return u.length===0&&u.push(Object.create(null)),II.has(r)&&a.set(r,u),u}chartOptionScopes(){const{options:e,type:r}=this;return[e,Xa[r]||{},gt.datasets[r]||{},{type:r},gt,cy]}resolveNamedOptions(e,r,n,i=[""]){const s={$shared:!0},{resolver:a,subPrefixes:o}=rw(this._resolverCache,e,i);let l=a;if(ple(a,r)){s.$shared=!1,n=Ks(n)?n():n;const u=this.createResolver(e,n,o);l=_l(a,n,u)}for(const u of r)s[u]=l[u];return s}createResolver(e,r,n=[""],i){const{resolver:s}=rw(this._resolverCache,e,n);return mt(r)?_l(s,r,void 0,i):s}}function rw(t,e,r){let n=t.get(e);n||(n=new Map,t.set(e,n));const i=r.join();let s=n.get(i);return s||(s={resolver:r_(e,r),subPrefixes:r.filter(o=>!o.toLowerCase().includes("hover"))},n.set(i,s)),s}const hle=t=>mt(t)&&Object.getOwnPropertyNames(t).reduce((e,r)=>e||Ks(t[r]),!1);function ple(t,e){const{isScriptable:r,isIndexable:n}=cI(t);for(const i of e){const s=r(i),a=n(i),o=(a||s)&&t[i];if(s&&(Ks(o)||hle(o))||a&&Ut(o))return!0}return!1}var mle="3.7.1";const gle=["top","bottom","left","right","chartArea"];function iw(t,e){return t==="top"||t==="bottom"||gle.indexOf(t)===-1&&e==="x"}function nw(t,e){return function(r,n){return r[t]===n[t]?r[e]-n[e]:r[t]-n[t]}}function sw(t){const e=t.chart,r=e.options.animation;e.notifyPlugins("afterRender"),Ft(r&&r.onComplete,[t],e)}function vle(t){const e=t.chart,r=e.options.animation;Ft(r&&r.onProgress,[t],e)}function MI(t){return mI()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Qh={},LI=t=>{const e=MI(t);return Object.values(Qh).filter(r=>r.canvas===e).pop()};function yle(t,e,r){const n=Object.keys(t);for(const i of n){const s=+i;if(s>=e){const a=t[i];delete t[i],(r>0||s>e)&&(t[s+r]=a)}}}function ble(t,e,r,n){return!r||t.type==="mouseout"?null:n?e:t}class l_{constructor(e,r){const n=this.config=new fle(r),i=MI(e),s=LI(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas can be reused.");const a=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||Foe(i)),this.platform.updateConfig(n);const o=this.platform.acquireContext(i,a.aspectRatio),l=o&&o.canvas,u=l&&l.height,c=l&&l.width;if(this.id=ase(),this.ctx=o,this.canvas=l,this.width=c,this.height=u,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new rle,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=nse(d=>this.update(d),a.resizeDelay||0),this._dataChanges=[],Qh[this.id]=this,!o||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Hn.listen(this,"complete",sw),Hn.listen(this,"progress",vle),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:r},width:n,height:i,_aspectRatio:s}=this;return St(e)?r&&s?s:i?n/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():OC(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return wC(this.canvas,this.ctx),this}stop(){return Hn.stop(this),this}resize(e,r){Hn.running(this)?this._resizeBeforeDraw={width:e,height:r}:this._resize(e,r)}_resize(e,r){const n=this.options,i=this.canvas,s=n.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(i,e,r,s),o=n.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,OC(this,o,!0)&&(this.notifyPlugins("resize",{size:a}),Ft(n.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};Dt(r,(n,i)=>{n.id=i})}buildOrUpdateScales(){const e=this.options,r=e.scales,n=this.scales,i=Object.keys(n).reduce((a,o)=>(a[o]=!1,a),{});let s=[];r&&(s=s.concat(Object.keys(r).map(a=>{const o=r[a],l=hy(a,o),u=l==="r",c=l==="x";return{options:o,dposition:u?"chartArea":c?"bottom":"left",dtype:u?"radialLinear":c?"category":"linear"}}))),Dt(s,a=>{const o=a.options,l=o.id,u=hy(l,o),c=lt(o.type,a.dtype);(o.position===void 0||iw(o.position,u)!==iw(a.dposition))&&(o.position=a.dposition),i[l]=!0;let d=null;if(l in n&&n[l].type===c)d=n[l];else{const f=es.getScale(c);d=new f({id:l,type:c,ctx:this.ctx,chart:this}),n[d.id]=d}d.init(o,e)}),Dt(i,(a,o)=>{a||delete n[o]}),Dt(n,a=>{kr.configure(this,a,a.options),kr.addBox(this,a)})}_updateMetasets(){const e=this._metasets,r=this.data.datasets.length,n=e.length;if(e.sort((i,s)=>i.index-s.index),n>r){for(let i=r;i<n;++i)this._destroyDatasetMeta(i);e.splice(r,n-r)}this._sortedMetasets=e.slice(0).sort(nw("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:r}}=this;e.length>r.length&&delete this._stacks,e.forEach((n,i)=>{r.filter(s=>s===n._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],r=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=r.length;n<i;n++){const s=r[n];let a=this.getDatasetMeta(n);const o=s.type||this.config.type;if(a.type&&a.type!==o&&(this._destroyDatasetMeta(n),a=this.getDatasetMeta(n)),a.type=o,a.indexAxis=s.indexAxis||fy(o,this.options),a.order=s.order||0,a.index=n,a.label=""+s.label,a.visible=this.isDatasetVisible(n),a.controller)a.controller.updateIndex(n),a.controller.linkScales();else{const l=es.getController(o),{datasetElementType:u,dataElementType:c}=gt.datasets[o];Object.assign(l.prototype,{dataElementType:es.getElement(c),datasetElementType:u&&es.getElement(u)}),a.controller=new l(this,n),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){Dt(this.data.datasets,(e,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const r=this.config;r.update();const n=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let u=0,c=this.data.datasets.length;u<c;u++){const{controller:d}=this.getDatasetMeta(u),f=!i&&s.indexOf(d)===-1;d.buildOrUpdateElements(f),a=Math.max(+d.getMaxOverflow(),a)}a=this._minPadding=n.layout.autoPadding?a:0,this._updateLayout(a),i||Dt(s,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(nw("z","_idx"));const{_active:o,_lastEvent:l}=this;l?this._eventHandler(l,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){Dt(this.scales,e=>{kr.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,r=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!mC(r,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,r=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:s}of r){const a=n==="_removeElements"?-s:s;yle(e,i,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const r=this.data.datasets.length,n=s=>new Set(e.filter(a=>a[0]===s).map((a,o)=>o+","+a.splice(1).join(","))),i=n(0);for(let s=1;s<r;s++)if(!mC(i,n(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;kr.update(this,this.width,this.height,e);const r=this.chartArea,n=r.width<=0||r.height<=0;this._layers=[],Dt(this.boxes,i=>{n&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let r=0,n=this.data.datasets.length;r<n;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,n=this.data.datasets.length;r<n;++r)this._updateDataset(r,Ks(e)?e({datasetIndex:r}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,r){const n=this.getDatasetMeta(e),i={meta:n,index:e,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(n.controller._update(r),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Hn.has(this)?this.attached&&!Hn.running(this)&&Hn.start(this):(this.draw(),sw({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:i}=this._resizeBeforeDraw;this._resize(n,i),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=this._layers;for(e=0;e<r.length&&r[e].z<=0;++e)r[e].draw(this.chartArea);for(this._drawDatasets();e<r.length;++e)r[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const r=this._sortedMetasets,n=[];let i,s;for(i=0,s=r.length;i<s;++i){const a=r[i];(!e||a.visible)&&n.push(a)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let r=e.length-1;r>=0;--r)this._drawDataset(e[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const r=this.ctx,n=e._clip,i=!n.disabled,s=this.chartArea,a={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(i&&em(r,{left:n.left===!1?0:s.left-n.left,right:n.right===!1?this.width:s.right+n.right,top:n.top===!1?0:s.top-n.top,bottom:n.bottom===!1?this.height:s.bottom+n.bottom}),e.controller.draw(),i&&tm(r),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}getElementsAtEventForMode(e,r,n,i){const s=goe.modes[r];return typeof s=="function"?s(this,e,n,i):[]}getDatasetMeta(e){const r=this.data.datasets[e],n=this._metasets;let i=n.filter(s=>s&&s._dataset===r).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:e,_dataset:r,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=ra(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const r=this.data.datasets[e];if(!r)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!r.hidden}setDatasetVisibility(e,r){const n=this.getDatasetMeta(e);n.hidden=!r}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,r,n){const i=n?"show":"hide",s=this.getDatasetMeta(e),a=s.controller._resolveAnimations(void 0,i);Hi(r)?(s.data[r].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),a.update(s,{visible:n}),this.update(o=>o.datasetIndex===e?i:void 0))}hide(e,r){this._updateVisibility(e,r,!1)}show(e,r){this._updateVisibility(e,r,!0)}_destroyDatasetMeta(e){const r=this._metasets[e];r&&r.controller&&r.controller._destroy(),delete this._metasets[e]}_stop(){let e,r;for(this.stop(),Hn.remove(this),e=0,r=this.data.datasets.length;e<r;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:r}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),wC(e,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete Qh[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,r=this.platform,n=(s,a)=>{r.addEventListener(this,s,a),e[s]=a},i=(s,a,o)=>{s.offsetX=a,s.offsetY=o,this._eventHandler(s)};Dt(this.options.events,s=>n(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,r=this.platform,n=(l,u)=>{r.addEventListener(this,l,u),e[l]=u},i=(l,u)=>{e[l]&&(r.removeEventListener(this,l,u),delete e[l])},s=(l,u)=>{this.canvas&&this.resize(l,u)};let a;const o=()=>{i("attach",o),this.attached=!0,this.resize(),n("resize",s),n("detach",a)};a=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),n("attach",o)},r.isAttached(this.canvas)?o():a()}unbindEvents(){Dt(this._listeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._listeners={},Dt(this._responsiveListeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,r,n){const i=n?"set":"remove";let s,a,o,l;for(r==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),o=0,l=e.length;o<l;++o){a=e[o];const u=a&&this.getDatasetMeta(a.datasetIndex).controller;u&&u[i+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const r=this._active||[],n=e.map(({datasetIndex:s,index:a})=>{const o=this.getDatasetMeta(s);if(!o)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:o.data[a],index:a}});!Vh(n,r)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,r))}notifyPlugins(e,r,n){return this._plugins.notify(this,e,r,n)}_updateHoverStyles(e,r,n){const i=this.options.hover,s=(l,u)=>l.filter(c=>!u.some(d=>c.datasetIndex===d.datasetIndex&&c.index===d.index)),a=s(r,e),o=n?e:s(e,r);a.length&&this.updateHoverStyle(a,i.mode,!1),o.length&&i.mode&&this.updateHoverStyle(o,i.mode,!0)}_eventHandler(e,r){const n={event:e,replay:r,cancelable:!0,inChartArea:Qa(e,this.chartArea,this._minPadding)},i=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,i)===!1)return;const s=this._handleEvent(e,r,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(s||n.changed)&&this.render(),this}_handleEvent(e,r,n){const{_active:i=[],options:s}=this,a=r,o=this._getActiveElements(e,i,n,a),l=fse(e),u=ble(e,this._lastEvent,n,l);n&&(this._lastEvent=null,Ft(s.onHover,[e,o,this],this),l&&Ft(s.onClick,[e,o,this],this));const c=!Vh(o,i);return(c||r)&&(this._active=o,this._updateHoverStyles(o,i,r)),this._lastEvent=u,c}_getActiveElements(e,r,n,i){if(e.type==="mouseout")return[];if(!n)return r;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}}const aw=()=>Dt(l_.instances,t=>t._plugins.invalidate()),Os=!0;Object.defineProperties(l_,{defaults:{enumerable:Os,value:gt},instances:{enumerable:Os,value:Qh},overrides:{enumerable:Os,value:Xa},registry:{enumerable:Os,value:es},version:{enumerable:Os,value:mle},getChart:{enumerable:Os,value:LI},register:{enumerable:Os,value:(...t)=>{es.add(...t),aw()}},unregister:{enumerable:Os,value:(...t)=>{es.remove(...t),aw()}}});function NI(t,e,r){const{startAngle:n,pixelMargin:i,x:s,y:a,outerRadius:o,innerRadius:l}=e;let u=i/o;t.beginPath(),t.arc(s,a,o,n-u,r+u),l>i?(u=i/l,t.arc(s,a,l,r+u,n-u,!0)):t.arc(s,a,i,r+Zt,n-Zt),t.closePath(),t.clip()}function _le(t){return e_(t,["outerStart","outerEnd","innerStart","innerEnd"])}function Tle(t,e,r,n){const i=_le(t.options.borderRadius),s=(r-e)/2,a=Math.min(s,n*e/2),o=l=>{const u=(r-Math.min(s,l))*n/2;return br(l,0,Math.min(s,u))};return{outerStart:o(i.outerStart),outerEnd:o(i.outerEnd),innerStart:br(i.innerStart,0,a),innerEnd:br(i.innerEnd,0,a)}}function Fo(t,e,r,n){return{x:r+t*Math.cos(e),y:n+t*Math.sin(e)}}function py(t,e,r,n,i){const{x:s,y:a,startAngle:o,pixelMargin:l,innerRadius:u}=e,c=Math.max(e.outerRadius+n+r-l,0),d=u>0?u+n+r+l:0;let f=0;const h=i-o;if(n){const Se=u>0?u-n:0,Ae=c>0?c-n:0,he=(Se+Ae)/2,Ye=he!==0?h*he/(he+n):h;f=(h-Ye)/2}const m=Math.max(.001,h*c-r/Kt)/c,g=(h-m)/2,v=o+g+f,x=i-g-f,{outerStart:S,outerEnd:D,innerStart:P,innerEnd:O}=Tle(e,d,c,x-v),B=c-S,z=c-D,U=v+S/B,Y=x-D/z,F=d+P,ue=d+O,X=v+P/F,me=x-O/ue;if(t.beginPath(),t.arc(s,a,c,U,Y),D>0){const Se=Fo(z,Y,s,a);t.arc(Se.x,Se.y,D,Y,x+Zt)}const xe=Fo(ue,x,s,a);if(t.lineTo(xe.x,xe.y),O>0){const Se=Fo(ue,me,s,a);t.arc(Se.x,Se.y,O,x+Zt,me+Math.PI)}if(t.arc(s,a,d,x-O/d,v+P/d,!0),P>0){const Se=Fo(F,X,s,a);t.arc(Se.x,Se.y,P,X+Math.PI,v-Zt)}const ge=Fo(B,v,s,a);if(t.lineTo(ge.x,ge.y),S>0){const Se=Fo(B,U,s,a);t.arc(Se.x,Se.y,S,v-Zt,U)}t.closePath()}function xle(t,e,r,n){const{fullCircles:i,startAngle:s,circumference:a}=e;let o=e.endAngle;if(i){py(t,e,r,n,s+It);for(let l=0;l<i;++l)t.fill();isNaN(a)||(o=s+a%It,a%It===0&&(o+=It))}return py(t,e,r,n,o),t.fill(),o}function Sle(t,e,r){const{x:n,y:i,startAngle:s,pixelMargin:a,fullCircles:o}=e,l=Math.max(e.outerRadius-a,0),u=e.innerRadius+a;let c;for(r&&NI(t,e,s+It),t.beginPath(),t.arc(n,i,u,s+It,s,!0),c=0;c<o;++c)t.stroke();for(t.beginPath(),t.arc(n,i,l,s,s+It),c=0;c<o;++c)t.stroke()}function Ele(t,e,r,n,i){const{options:s}=e,{borderWidth:a,borderJoinStyle:o}=s,l=s.borderAlign==="inner";!a||(l?(t.lineWidth=a*2,t.lineJoin=o||"round"):(t.lineWidth=a,t.lineJoin=o||"bevel"),e.fullCircles&&Sle(t,e,l),l&&NI(t,e,i),py(t,e,r,n,i),t.stroke())}class um extends on{constructor(e){super();this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,r,n){const i=this.getProps(["x","y"],n),{angle:s,distance:a}=tI(i,{x:e,y:r}),{startAngle:o,endAngle:l,innerRadius:u,outerRadius:c,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),f=this.options.spacing/2,m=lt(d,l-o)>=It||zc(s,o,l),g=Jn(a,u+f,c+f);return m&&g}getCenterPoint(e){const{x:r,y:n,startAngle:i,endAngle:s,innerRadius:a,outerRadius:o}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],e),{offset:l,spacing:u}=this.options,c=(i+s)/2,d=(a+o+u+l)/2;return{x:r+Math.cos(c)*d,y:n+Math.sin(c)*d}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:r,circumference:n}=this,i=(r.offset||0)/2,s=(r.spacing||0)/2;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=n>It?Math.floor(n/It):0,n===0||this.innerRadius<0||this.outerRadius<0)return;e.save();let a=0;if(i){a=i/2;const l=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(l)*a,Math.sin(l)*a),this.circumference>=Kt&&(a=i)}e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor;const o=xle(e,this,a,s);Ele(e,this,a,s,o),e.restore()}}um.id="arc";um.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0};um.defaultRoutes={backgroundColor:"backgroundColor"};function FI(t,e,r=e){t.lineCap=lt(r.borderCapStyle,e.borderCapStyle),t.setLineDash(lt(r.borderDash,e.borderDash)),t.lineDashOffset=lt(r.borderDashOffset,e.borderDashOffset),t.lineJoin=lt(r.borderJoinStyle,e.borderJoinStyle),t.lineWidth=lt(r.borderWidth,e.borderWidth),t.strokeStyle=lt(r.borderColor,e.borderColor)}function Cle(t,e,r){t.lineTo(r.x,r.y)}function wle(t){return t.stepped?jse:t.tension||t.cubicInterpolationMode==="monotone"?Vse:Cle}function BI(t,e,r={}){const n=t.length,{start:i=0,end:s=n-1}=r,{start:a,end:o}=e,l=Math.max(i,a),u=Math.min(s,o),c=i<a&&s<a||i>o&&s>o;return{count:n,start:l,loop:e.loop,ilen:u<l&&!c?n+u-l:u-l}}function Ple(t,e,r,n){const{points:i,options:s}=e,{count:a,start:o,loop:l,ilen:u}=BI(i,r,n),c=wle(s);let{move:d=!0,reverse:f}=n||{},h,m,g;for(h=0;h<=u;++h)m=i[(o+(f?u-h:h))%a],!m.skip&&(d?(t.moveTo(m.x,m.y),d=!1):c(t,g,m,f,s.stepped),g=m);return l&&(m=i[(o+(f?u:0))%a],c(t,g,m,f,s.stepped)),!!l}function Dle(t,e,r,n){const i=e.points,{count:s,start:a,ilen:o}=BI(i,r,n),{move:l=!0,reverse:u}=n||{};let c=0,d=0,f,h,m,g,v,x;const S=P=>(a+(u?o-P:P))%s,D=()=>{g!==v&&(t.lineTo(c,v),t.lineTo(c,g),t.lineTo(c,x))};for(l&&(h=i[S(0)],t.moveTo(h.x,h.y)),f=0;f<=o;++f){if(h=i[S(f)],h.skip)continue;const P=h.x,O=h.y,B=P|0;B===m?(O<g?g=O:O>v&&(v=O),c=(d*c+P)/++d):(D(),t.lineTo(P,O),m=B,d=0,g=v=O),x=O}D()}function my(t){const e=t.options,r=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!r?Dle:Ple}function Ale(t){return t.stepped?xae:t.tension||t.cubicInterpolationMode==="monotone"?Sae:Aa}function Ole(t,e,r,n){let i=e._path;i||(i=e._path=new Path2D,e.path(i,r,n)&&i.closePath()),FI(t,e.options),t.stroke(i)}function Rle(t,e,r,n){const{segments:i,options:s}=e,a=my(e);for(const o of i)FI(t,s,o.style),t.beginPath(),a(t,e,o,{start:r,end:r+n-1})&&t.closePath(),t.stroke()}const kle=typeof Path2D=="function";function Ile(t,e,r,n){kle&&!e.options.segment?Ole(t,e,r,n):Rle(t,e,r,n)}class ia extends on{constructor(e){super();this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,r){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;pae(this._points,n,e,i,r),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Oae(this,this.options.segment))}first(){const e=this.segments,r=this.points;return e.length&&r[e[0].start]}last(){const e=this.segments,r=this.points,n=e.length;return n&&r[e[n-1].end]}interpolate(e,r){const n=this.options,i=e[r],s=this.points,a=TI(this,{property:r,start:i,end:i});if(!a.length)return;const o=[],l=Ale(n);let u,c;for(u=0,c=a.length;u<c;++u){const{start:d,end:f}=a[u],h=s[d],m=s[f];if(h===m){o.push(h);continue}const g=Math.abs((i-h[r])/(m[r]-h[r])),v=l(h,m,g,n.stepped);v[r]=e[r],o.push(v)}return o.length===1?o[0]:o}pathSegment(e,r,n){return my(this)(e,this,r,n)}path(e,r,n){const i=this.segments,s=my(this);let a=this._loop;r=r||0,n=n||this.points.length-r;for(const o of i)a&=s(e,this,o,{start:r,end:r+n-1});return!!a}draw(e,r,n,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),Ile(e,this,n,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}ia.id="line";ia.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};ia.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};ia.descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};function ow(t,e,r,n){const i=t.options,{[r]:s}=t.getProps([r],n);return Math.abs(e-s)<i.radius+i.hitRadius}class cm extends on{constructor(e){super();this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,r,n){const i=this.options,{x:s,y:a}=this.getProps(["x","y"],n);return Math.pow(e-s,2)+Math.pow(r-a,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(e,r){return ow(this,e,"x",r)}inYRange(e,r){return ow(this,e,"y",r)}getCenterPoint(e){const{x:r,y:n}=this.getProps(["x","y"],e);return{x:r,y:n}}size(e){e=e||this.options||{};let r=e.radius||0;r=Math.max(r,r&&e.hoverRadius||0);const n=r&&e.borderWidth||0;return(r+n)*2}draw(e,r){const n=this.options;this.skip||n.radius<.1||!Qa(this,r,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,Gh(e,n,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}cm.id="point";cm.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};cm.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};function $I(t,e){const{x:r,y:n,base:i,width:s,height:a}=t.getProps(["x","y","base","width","height"],e);let o,l,u,c,d;return t.horizontal?(d=a/2,o=Math.min(r,i),l=Math.max(r,i),u=n-d,c=n+d):(d=s/2,o=r-d,l=r+d,u=Math.min(n,i),c=Math.max(n,i)),{left:o,top:u,right:l,bottom:c}}function Bs(t,e,r,n){return t?0:br(e,r,n)}function Mle(t,e,r){const n=t.options.borderWidth,i=t.borderSkipped,s=oI(n);return{t:Bs(i.top,s.top,0,r),r:Bs(i.right,s.right,0,e),b:Bs(i.bottom,s.bottom,0,r),l:Bs(i.left,s.left,0,e)}}function Lle(t,e,r){const{enableBorderRadius:n}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,s=Jo(i),a=Math.min(e,r),o=t.borderSkipped,l=n||mt(i);return{topLeft:Bs(!l||o.top||o.left,s.topLeft,0,a),topRight:Bs(!l||o.top||o.right,s.topRight,0,a),bottomLeft:Bs(!l||o.bottom||o.left,s.bottomLeft,0,a),bottomRight:Bs(!l||o.bottom||o.right,s.bottomRight,0,a)}}function Nle(t){const e=$I(t),r=e.right-e.left,n=e.bottom-e.top,i=Mle(t,r/2,n/2),s=Lle(t,r/2,n/2);return{outer:{x:e.left,y:e.top,w:r,h:n,radius:s},inner:{x:e.left+i.l,y:e.top+i.t,w:r-i.l-i.r,h:n-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function Rg(t,e,r,n){const i=e===null,s=r===null,o=t&&!(i&&s)&&$I(t,n);return o&&(i||Jn(e,o.left,o.right))&&(s||Jn(r,o.top,o.bottom))}function Fle(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function Ble(t,e){t.rect(e.x,e.y,e.w,e.h)}function kg(t,e,r={}){const n=t.x!==r.x?-e:0,i=t.y!==r.y?-e:0,s=(t.x+t.w!==r.x+r.w?e:0)-n,a=(t.y+t.h!==r.y+r.h?e:0)-i;return{x:t.x+n,y:t.y+i,w:t.w+s,h:t.h+a,radius:t.radius}}class dm extends on{constructor(e){super();this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:r,options:{borderColor:n,backgroundColor:i}}=this,{inner:s,outer:a}=Nle(this),o=Fle(a.radius)?qh:Ble;e.save(),(a.w!==s.w||a.h!==s.h)&&(e.beginPath(),o(e,kg(a,r,s)),e.clip(),o(e,kg(s,-r,a)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),o(e,kg(s,r)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,r,n){return Rg(this,e,r,n)}inXRange(e,r){return Rg(this,e,null,r)}inYRange(e,r){return Rg(this,null,e,r)}getCenterPoint(e){const{x:r,y:n,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(r+i)/2:r,y:s?n:(n+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}dm.id="bar";dm.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};dm.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var $le=Object.freeze({__proto__:null,ArcElement:um,LineElement:ia,PointElement:cm,BarElement:dm});function Ule(t,e,r,n,i){const s=i.samples||n;if(s>=r)return t.slice(e,e+r);const a=[],o=(r-2)/(s-2);let l=0;const u=e+r-1;let c=e,d,f,h,m,g;for(a[l++]=t[c],d=0;d<s-2;d++){let v=0,x=0,S;const D=Math.floor((d+1)*o)+1+e,P=Math.min(Math.floor((d+2)*o)+1,r)+e,O=P-D;for(S=D;S<P;S++)v+=t[S].x,x+=t[S].y;v/=O,x/=O;const B=Math.floor(d*o)+1+e,z=Math.min(Math.floor((d+1)*o)+1,r)+e,{x:U,y:Y}=t[c];for(h=m=-1,S=B;S<z;S++)m=.5*Math.abs((U-v)*(t[S].y-Y)-(U-t[S].x)*(x-Y)),m>h&&(h=m,f=t[S],g=S);a[l++]=f,c=g}return a[l++]=t[u],a}function jle(t,e,r,n){let i=0,s=0,a,o,l,u,c,d,f,h,m,g;const v=[],x=e+r-1,S=t[e].x,P=t[x].x-S;for(a=e;a<e+r;++a){o=t[a],l=(o.x-S)/P*n,u=o.y;const O=l|0;if(O===c)u<m?(m=u,d=a):u>g&&(g=u,f=a),i=(s*i+o.x)/++s;else{const B=a-1;if(!St(d)&&!St(f)){const z=Math.min(d,f),U=Math.max(d,f);z!==h&&z!==B&&v.push(Am(Dm({},t[z]),{x:i})),U!==h&&U!==B&&v.push(Am(Dm({},t[U]),{x:i}))}a>0&&B!==h&&v.push(t[B]),v.push(o),c=O,s=0,m=g=u,d=f=h=a}}return v}function UI(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{value:e})}}function lw(t){t.data.datasets.forEach(e=>{UI(e)})}function Vle(t,e){const r=e.length;let n=0,i;const{iScale:s}=t,{min:a,max:o,minDefined:l,maxDefined:u}=s.getUserBounds();return l&&(n=br(Zn(e,s.axis,a).lo,0,r-1)),u?i=br(Zn(e,s.axis,o).hi+1,n,r)-n:i=r-n,{start:n,count:i}}var Hle={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,r)=>{if(!r.enabled){lw(t);return}const n=t.width;t.data.datasets.forEach((i,s)=>{const{_data:a,indexAxis:o}=i,l=t.getDatasetMeta(s),u=a||i.data;if(Gu([o,t.options.indexAxis])==="y"||l.type!=="line")return;const c=t.scales[l.xAxisID];if(c.type!=="linear"&&c.type!=="time"||t.options.parsing)return;let{start:d,count:f}=Vle(l,u);const h=r.threshold||4*n;if(f<=h){UI(i);return}St(a)&&(i._data=u,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(g){this._data=g}}));let m;switch(r.algorithm){case"lttb":m=Ule(u,d,f,n,r);break;case"min-max":m=jle(u,d,f,n);break;default:throw new Error(`Unsupported decimation algorithm '${r.algorithm}'`)}i._decimated=m})},destroy(t){lw(t)}};function zle(t,e){const r=t.getDatasetMeta(e);return r&&t.isDatasetVisible(e)?r.dataset:null}function Wle(t){const e=t.options,r=e.fill;let n=lt(r&&r.target,r);return n===void 0&&(n=!!e.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function Yle(t,e,r){const n=Wle(t);if(mt(n))return isNaN(n.value)?!1:n;let i=parseFloat(n);return sr(i)&&Math.floor(i)===i?((n[0]==="-"||n[0]==="+")&&(i=e+i),i===e||i<0||i>=r?!1:i):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function Gle(t){const{scale:e={},fill:r}=t;let n=null,i;return r==="start"?n=e.bottom:r==="end"?n=e.top:mt(r)?n=e.getPixelForValue(r.value):e.getBasePixel&&(n=e.getBasePixel()),sr(n)?(i=e.isHorizontal(),{x:i?n:null,y:i?null:n}):null}class jI{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,r,n){const{x:i,y:s,radius:a}=this;return r=r||{start:0,end:It},e.arc(i,s,a,r.end,r.start,!0),!n.bounds}interpolate(e){const{x:r,y:n,radius:i}=this,s=e.angle;return{x:r+Math.cos(s)*i,y:n+Math.sin(s)*i,angle:s}}}function qle(t){const{scale:e,fill:r}=t,n=e.options,i=e.getLabels().length,s=[],a=n.reverse?e.max:e.min,o=n.reverse?e.min:e.max;let l,u,c;if(r==="start"?c=a:r==="end"?c=o:mt(r)?c=r.value:c=e.getBaseValue(),n.grid.circular)return u=e.getPointPositionForValue(0,a),new jI({x:u.x,y:u.y,radius:e.getDistanceFromCenterForValue(c)});for(l=0;l<i;++l)s.push(e.getPointPositionForValue(l,c));return s}function Kle(t){return(t.scale||{}).getPointPositionForValue?qle(t):Gle(t)}function u_(t,e,r){for(;e>t;e--){const n=r[e];if(!isNaN(n.x)&&!isNaN(n.y))break}return e}function Xle(t,e){const{x:r=null,y:n=null}=t||{},i=e.points,s=[];return e.segments.forEach(({start:a,end:o})=>{o=u_(a,o,i);const l=i[a],u=i[o];n!==null?(s.push({x:l.x,y:n}),s.push({x:u.x,y:n})):r!==null&&(s.push({x:r,y:l.y}),s.push({x:r,y:u.y}))}),s}function Qle(t){const{scale:e,index:r,line:n}=t,i=[],s=n.segments,a=n.points,o=Jle(e,r);o.push(VI({x:null,y:e.bottom},n));for(let l=0;l<s.length;l++){const u=s[l];for(let c=u.start;c<=u.end;c++)Zle(i,a[c],o)}return new ia({points:i,options:{}})}function Jle(t,e){const r=[],n=t.getMatchingVisibleMetas("line");for(let i=0;i<n.length;i++){const s=n[i];if(s.index===e)break;s.hidden||r.unshift(s.dataset)}return r}function Zle(t,e,r){const n=[];for(let i=0;i<r.length;i++){const s=r[i],{first:a,last:o,point:l}=eue(s,e,"x");if(!(!l||a&&o)){if(a)n.unshift(l);else if(t.push(l),!o)break}}t.push(...n)}function eue(t,e,r){const n=t.interpolate(e,r);if(!n)return{};const i=n[r],s=t.segments,a=t.points;let o=!1,l=!1;for(let u=0;u<s.length;u++){const c=s[u],d=a[c.start][r],f=a[c.end][r];if(Jn(i,d,f)){o=i===d,l=i===f;break}}return{first:o,last:l,point:n}}function tue(t){const{chart:e,fill:r,line:n}=t;if(sr(r))return zle(e,r);if(r==="stack")return Qle(t);if(r==="shape")return!0;const i=Kle(t);return i instanceof jI?i:VI(i,n)}function VI(t,e){let r=[],n=!1;return Ut(t)?(n=!0,r=t):r=Xle(t,e),r.length?new ia({points:r,options:{tension:0},_loop:n,_fullLoop:n}):null}function rue(t,e,r){let i=t[e].fill;const s=[e];let a;if(!r)return i;for(;i!==!1&&s.indexOf(i)===-1;){if(!sr(i))return i;if(a=t[i],!a)return!1;if(a.visible)return i;s.push(i),i=a.fill}return!1}function uw(t,e,r){const{segments:n,points:i}=e;let s=!0,a=!1;t.beginPath();for(const o of n){const{start:l,end:u}=o,c=i[l],d=i[u_(l,u,i)];s?(t.moveTo(c.x,c.y),s=!1):(t.lineTo(c.x,r),t.lineTo(c.x,c.y)),a=!!e.pathSegment(t,o,{move:a}),a?t.closePath():t.lineTo(d.x,r)}t.lineTo(e.first().x,r),t.closePath(),t.clip()}function gy(t,e,r,n){if(n)return;let i=e[t],s=r[t];return t==="angle"&&(i=yi(i),s=yi(s)),{property:t,start:i,end:s}}function cw(t,e,r,n){return t&&e?n(t[r],e[r]):t?t[r]:e?e[r]:0}function iue(t,e,r){const n=t.segments,i=t.points,s=e.points,a=[];for(const o of n){let{start:l,end:u}=o;u=u_(l,u,i);const c=gy(r,i[l],i[u],o.loop);if(!e.segments){a.push({source:o,target:c,start:i[l],end:i[u]});continue}const d=TI(e,c);for(const f of d){const h=gy(r,s[f.start],s[f.end],f.loop),m=_I(o,i,h);for(const g of m)a.push({source:g,target:f,start:{[r]:cw(c,h,"start",Math.max)},end:{[r]:cw(c,h,"end",Math.min)}})}}return a}function nue(t,e,r){const{top:n,bottom:i}=e.chart.chartArea,{property:s,start:a,end:o}=r||{};s==="x"&&(t.beginPath(),t.rect(a,n,o-a,i-n),t.clip())}function dw(t,e,r,n){const i=e.interpolate(r,n);i&&t.lineTo(i.x,i.y)}function fw(t,e){const{line:r,target:n,property:i,color:s,scale:a}=e,o=iue(r,n,i);for(const{source:l,target:u,start:c,end:d}of o){const{style:{backgroundColor:f=s}={}}=l,h=n!==!0;t.save(),t.fillStyle=f,nue(t,a,h&&gy(i,c,d)),t.beginPath();const m=!!r.pathSegment(t,l);let g;if(h){m?t.closePath():dw(t,n,d,i);const v=!!n.pathSegment(t,u,{move:m,reverse:!0});g=m&&v,g||dw(t,n,c,i)}t.closePath(),t.fill(g?"evenodd":"nonzero"),t.restore()}}function sue(t,e){const{line:r,target:n,above:i,below:s,area:a,scale:o}=e,l=r._loop?"angle":e.axis;t.save(),l==="x"&&s!==i&&(uw(t,n,a.top),fw(t,{line:r,target:n,color:i,scale:o,property:l}),t.restore(),t.save(),uw(t,n,a.bottom)),fw(t,{line:r,target:n,color:s,scale:o,property:l}),t.restore()}function Ig(t,e,r){const n=tue(e),{line:i,scale:s,axis:a}=e,o=i.options,l=o.fill,u=o.backgroundColor,{above:c=u,below:d=u}=l||{};n&&i.points.length&&(em(t,r),sue(t,{line:i,target:n,above:c,below:d,area:r,scale:s,axis:a}),tm(t))}var aue={id:"filler",afterDatasetsUpdate(t,e,r){const n=(t.data.datasets||[]).length,i=[];let s,a,o,l;for(a=0;a<n;++a)s=t.getDatasetMeta(a),o=s.dataset,l=null,o&&o.options&&o instanceof ia&&(l={visible:t.isDatasetVisible(a),index:a,fill:Yle(o,a,n),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:o}),s.$filler=l,i.push(l);for(a=0;a<n;++a)l=i[a],!(!l||l.fill===!1)&&(l.fill=rue(i,a,r.propagate))},beforeDraw(t,e,r){const n=r.drawTime==="beforeDraw",i=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let a=i.length-1;a>=0;--a){const o=i[a].$filler;!o||(o.line.updateControlPoints(s,o.axis),n&&Ig(t.ctx,o,s))}},beforeDatasetsDraw(t,e,r){if(r.drawTime!=="beforeDatasetsDraw")return;const n=t.getSortedVisibleDatasetMetas();for(let i=n.length-1;i>=0;--i){const s=n[i].$filler;s&&Ig(t.ctx,s,t.chartArea)}},beforeDatasetDraw(t,e,r){const n=e.meta.$filler;!n||n.fill===!1||r.drawTime!=="beforeDatasetDraw"||Ig(t.ctx,n,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const hw=(t,e)=>{let{boxHeight:r=e,boxWidth:n=e}=t;return t.usePointStyle&&(r=Math.min(r,e),n=Math.min(n,e)),{boxWidth:n,boxHeight:r,itemHeight:Math.max(e,r)}},oue=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class pw extends on{constructor(e){super();this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r,n){this.maxWidth=e,this.maxHeight=r,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let r=Ft(e.generateLabels,[this.chart],this)||[];e.filter&&(r=r.filter(n=>e.filter(n,this.chart.data))),e.sort&&(r=r.sort((n,i)=>e.sort(n,i,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){const{options:e,ctx:r}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,i=hr(n.font),s=i.size,a=this._computeTitleHeight(),{boxWidth:o,itemHeight:l}=hw(n,s);let u,c;r.font=i.string,this.isHorizontal()?(u=this.maxWidth,c=this._fitRows(a,s,o,l)+10):(c=this.maxHeight,u=this._fitCols(a,s,o,l)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,r,n,i){const{ctx:s,maxWidth:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],u=this.lineWidths=[0],c=i+o;let d=e;s.textAlign="left",s.textBaseline="middle";let f=-1,h=-c;return this.legendItems.forEach((m,g)=>{const v=n+r/2+s.measureText(m.text).width;(g===0||u[u.length-1]+v+2*o>a)&&(d+=c,u[u.length-(g>0?0:1)]=0,h+=c,f++),l[g]={left:0,top:h,row:f,width:v,height:i},u[u.length-1]+=v+o}),d}_fitCols(e,r,n,i){const{ctx:s,maxHeight:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],u=this.columnSizes=[],c=a-e;let d=o,f=0,h=0,m=0,g=0;return this.legendItems.forEach((v,x)=>{const S=n+r/2+s.measureText(v.text).width;x>0&&h+i+2*o>c&&(d+=f+o,u.push({width:f,height:h}),m+=f+o,g++,f=h=0),l[x]={left:m,top:h,col:g,width:S,height:i},f=Math.max(f,S),h+=i+o}),d+=f,u.push({width:f,height:h}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:n,labels:{padding:i},rtl:s}}=this,a=Zo(s,this.left,this.width);if(this.isHorizontal()){let o=0,l=Or(n,this.left+i,this.right-this.lineWidths[o]);for(const u of r)o!==u.row&&(o=u.row,l=Or(n,this.left+i,this.right-this.lineWidths[o])),u.top+=this.top+e+i,u.left=a.leftForLtr(a.x(l),u.width),l+=u.width+i}else{let o=0,l=Or(n,this.top+e+i,this.bottom-this.columnSizes[o].height);for(const u of r)u.col!==o&&(o=u.col,l=Or(n,this.top+e+i,this.bottom-this.columnSizes[o].height)),u.top=l,u.left+=this.left+i,u.left=a.leftForLtr(a.x(u.left),u.width),l+=u.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;em(e,this),this._draw(),tm(e)}}_draw(){const{options:e,columnSizes:r,lineWidths:n,ctx:i}=this,{align:s,labels:a}=e,o=gt.color,l=Zo(e.rtl,this.left,this.width),u=hr(a.font),{color:c,padding:d}=a,f=u.size,h=f/2;let m;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=u.string;const{boxWidth:g,boxHeight:v,itemHeight:x}=hw(a,f),S=function(z,U,Y){if(isNaN(g)||g<=0||isNaN(v)||v<0)return;i.save();const F=lt(Y.lineWidth,1);if(i.fillStyle=lt(Y.fillStyle,o),i.lineCap=lt(Y.lineCap,"butt"),i.lineDashOffset=lt(Y.lineDashOffset,0),i.lineJoin=lt(Y.lineJoin,"miter"),i.lineWidth=F,i.strokeStyle=lt(Y.strokeStyle,o),i.setLineDash(lt(Y.lineDash,[])),a.usePointStyle){const ue={radius:g*Math.SQRT2/2,pointStyle:Y.pointStyle,rotation:Y.rotation,borderWidth:F},X=l.xPlus(z,g/2),me=U+h;Gh(i,ue,X,me)}else{const ue=U+Math.max((f-v)/2,0),X=l.leftForLtr(z,g),me=Jo(Y.borderRadius);i.beginPath(),Object.values(me).some(xe=>xe!==0)?qh(i,{x:X,y:ue,w:g,h:v,radius:me}):i.rect(X,ue,g,v),i.fill(),F!==0&&i.stroke()}i.restore()},D=function(z,U,Y){Ja(i,Y.text,z,U+x/2,u,{strikethrough:Y.hidden,textAlign:l.textAlign(Y.textAlign)})},P=this.isHorizontal(),O=this._computeTitleHeight();P?m={x:Or(s,this.left+d,this.right-n[0]),y:this.top+d+O,line:0}:m={x:this.left+d,y:Or(s,this.top+O+d,this.bottom-r[0].height),line:0},vI(this.ctx,e.textDirection);const B=x+d;this.legendItems.forEach((z,U)=>{i.strokeStyle=z.fontColor||c,i.fillStyle=z.fontColor||c;const Y=i.measureText(z.text).width,F=l.textAlign(z.textAlign||(z.textAlign=a.textAlign)),ue=g+h+Y;let X=m.x,me=m.y;l.setWidth(this.width),P?U>0&&X+ue+d>this.right&&(me=m.y+=B,m.line++,X=m.x=Or(s,this.left+d,this.right-n[m.line])):U>0&&me+B>this.bottom&&(X=m.x=X+r[m.line].width+d,m.line++,me=m.y=Or(s,this.top+O+d,this.bottom-r[m.line].height));const xe=l.x(X);S(xe,me,z),X=sse(F,X+g+h,P?X+ue:this.right,e.rtl),D(l.x(X),me,z),P?m.x+=ue+d:m.y+=B}),yI(this.ctx,e.textDirection)}drawTitle(){const e=this.options,r=e.title,n=hr(r.font),i=Lr(r.padding);if(!r.display)return;const s=Zo(e.rtl,this.left,this.width),a=this.ctx,o=r.position,l=n.size/2,u=i.top+l;let c,d=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),c=this.top+u,d=Or(e.align,d,this.right-f);else{const m=this.columnSizes.reduce((g,v)=>Math.max(g,v.height),0);c=u+Or(e.align,this.top,this.bottom-m-e.labels.padding-this._computeTitleHeight())}const h=Or(o,d,d+f);a.textAlign=s.textAlign(Gb(o)),a.textBaseline="middle",a.strokeStyle=r.color,a.fillStyle=r.color,a.font=n.string,Ja(a,r.text,h,c,n)}_computeTitleHeight(){const e=this.options.title,r=hr(e.font),n=Lr(e.padding);return e.display?r.lineHeight+n.height:0}_getLegendItemAt(e,r){let n,i,s;if(Jn(e,this.left,this.right)&&Jn(r,this.top,this.bottom)){for(s=this.legendHitBoxes,n=0;n<s.length;++n)if(i=s[n],Jn(e,i.left,i.left+i.width)&&Jn(r,i.top,i.top+i.height))return this.legendItems[n]}return null}handleEvent(e){const r=this.options;if(!lue(e.type,r))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"){const i=this._hoveredItem,s=oue(i,n);i&&!s&&Ft(r.onLeave,[e,i,this],this),this._hoveredItem=n,n&&!s&&Ft(r.onHover,[e,n,this],this)}else n&&Ft(r.onClick,[e,n,this],this)}}function lue(t,e){return!!(t==="mousemove"&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var uue={id:"legend",_element:pw,start(t,e,r){const n=t.legend=new pw({ctx:t.ctx,options:r,chart:t});kr.configure(t,n,r),kr.addBox(t,n)},stop(t){kr.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,r){const n=t.legend;kr.configure(t,n,r),n.options=r},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,r){const n=e.datasetIndex,i=r.chart;i.isDatasetVisible(n)?(i.hide(n),e.hidden=!0):(i.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:r,pointStyle:n,textAlign:i,color:s}}=t.legend.options;return t._getSortedDatasetMetas().map(a=>{const o=a.controller.getStyle(r?0:void 0),l=Lr(o.borderWidth);return{text:e[a.index].label,fillStyle:o.backgroundColor,fontColor:s,hidden:!a.visible,lineCap:o.borderCapStyle,lineDash:o.borderDash,lineDashOffset:o.borderDashOffset,lineJoin:o.borderJoinStyle,lineWidth:(l.width+l.height)/4,strokeStyle:o.borderColor,pointStyle:n||o.pointStyle,rotation:o.rotation,textAlign:i||o.textAlign,borderRadius:0,datasetIndex:a.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class c_ extends on{constructor(e){super();this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=r;const i=Ut(n.text)?n.text.length:1;this._padding=Lr(n.padding);const s=i*hr(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:r,left:n,bottom:i,right:s,options:a}=this,o=a.align;let l=0,u,c,d;return this.isHorizontal()?(c=Or(o,n,s),d=r+e,u=s-n):(a.position==="left"?(c=n+e,d=Or(o,i,r),l=Kt*-.5):(c=s-e,d=Or(o,r,i),l=Kt*.5),u=i-r),{titleX:c,titleY:d,maxWidth:u,rotation:l}}draw(){const e=this.ctx,r=this.options;if(!r.display)return;const n=hr(r.font),s=n.lineHeight/2+this._padding.top,{titleX:a,titleY:o,maxWidth:l,rotation:u}=this._drawArgs(s);Ja(e,r.text,0,0,n,{color:r.color,maxWidth:l,rotation:u,textAlign:Gb(r.align),textBaseline:"middle",translation:[a,o]})}}function cue(t,e){const r=new c_({ctx:t.ctx,options:e,chart:t});kr.configure(t,r,e),kr.addBox(t,r),t.titleBlock=r}var due={id:"title",_element:c_,start(t,e,r){cue(t,r)},stop(t){const e=t.titleBlock;kr.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,r){const n=t.titleBlock;kr.configure(t,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Tf=new WeakMap;var fue={id:"subtitle",start(t,e,r){const n=new c_({ctx:t.ctx,options:r,chart:t});kr.configure(t,n,r),kr.addBox(t,n),Tf.set(t,n)},stop(t){kr.removeBox(t,Tf.get(t)),Tf.delete(t)},beforeUpdate(t,e,r){const n=Tf.get(t);kr.configure(t,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const gc={average(t){if(!t.length)return!1;let e,r,n=0,i=0,s=0;for(e=0,r=t.length;e<r;++e){const a=t[e].element;if(a&&a.hasValue()){const o=a.tooltipPosition();n+=o.x,i+=o.y,++s}}return{x:n/s,y:i/s}},nearest(t,e){if(!t.length)return!1;let r=e.x,n=e.y,i=Number.POSITIVE_INFINITY,s,a,o;for(s=0,a=t.length;s<a;++s){const l=t[s].element;if(l&&l.hasValue()){const u=l.getCenterPoint(),c=ly(e,u);c<i&&(i=c,o=l)}}if(o){const l=o.tooltipPosition();r=l.x,n=l.y}return{x:r,y:n}}};function mn(t,e){return e&&(Ut(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function zn(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function hue(t,e){const{element:r,datasetIndex:n,index:i}=e,s=t.getDatasetMeta(n).controller,{label:a,value:o}=s.getLabelAndValue(i);return{chart:t,label:a,parsed:s.getParsed(i),raw:t.data.datasets[n].data[i],formattedValue:o,dataset:s.getDataset(),dataIndex:i,datasetIndex:n,element:r}}function mw(t,e){const r=t.chart.ctx,{body:n,footer:i,title:s}=t,{boxWidth:a,boxHeight:o}=e,l=hr(e.bodyFont),u=hr(e.titleFont),c=hr(e.footerFont),d=s.length,f=i.length,h=n.length,m=Lr(e.padding);let g=m.height,v=0,x=n.reduce((P,O)=>P+O.before.length+O.lines.length+O.after.length,0);if(x+=t.beforeBody.length+t.afterBody.length,d&&(g+=d*u.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),x){const P=e.displayColors?Math.max(o,l.lineHeight):l.lineHeight;g+=h*P+(x-h)*l.lineHeight+(x-1)*e.bodySpacing}f&&(g+=e.footerMarginTop+f*c.lineHeight+(f-1)*e.footerSpacing);let S=0;const D=function(P){v=Math.max(v,r.measureText(P).width+S)};return r.save(),r.font=u.string,Dt(t.title,D),r.font=l.string,Dt(t.beforeBody.concat(t.afterBody),D),S=e.displayColors?a+2+e.boxPadding:0,Dt(n,P=>{Dt(P.before,D),Dt(P.lines,D),Dt(P.after,D)}),S=0,r.font=c.string,Dt(t.footer,D),r.restore(),v+=m.width,{width:v,height:g}}function pue(t,e){const{y:r,height:n}=e;return r<n/2?"top":r>t.height-n/2?"bottom":"center"}function mue(t,e,r,n){const{x:i,width:s}=n,a=r.caretSize+r.caretPadding;if(t==="left"&&i+s+a>e.width||t==="right"&&i-s-a<0)return!0}function gue(t,e,r,n){const{x:i,width:s}=r,{width:a,chartArea:{left:o,right:l}}=t;let u="center";return n==="center"?u=i<=(o+l)/2?"left":"right":i<=s/2?u="left":i>=a-s/2&&(u="right"),mue(u,t,e,r)&&(u="center"),u}function gw(t,e,r){const n=r.yAlign||e.yAlign||pue(t,r);return{xAlign:r.xAlign||e.xAlign||gue(t,e,r,n),yAlign:n}}function vue(t,e){let{x:r,width:n}=t;return e==="right"?r-=n:e==="center"&&(r-=n/2),r}function yue(t,e,r){let{y:n,height:i}=t;return e==="top"?n+=r:e==="bottom"?n-=i+r:n-=i/2,n}function vw(t,e,r,n){const{caretSize:i,caretPadding:s,cornerRadius:a}=t,{xAlign:o,yAlign:l}=r,u=i+s,{topLeft:c,topRight:d,bottomLeft:f,bottomRight:h}=Jo(a);let m=vue(e,o);const g=yue(e,l,u);return l==="center"?o==="left"?m+=u:o==="right"&&(m-=u):o==="left"?m-=Math.max(c,f)+i:o==="right"&&(m+=Math.max(d,h)+i),{x:br(m,0,n.width-e.width),y:br(g,0,n.height-e.height)}}function xf(t,e,r){const n=Lr(r.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-n.right:t.x+n.left}function yw(t){return mn([],zn(t))}function bue(t,e,r){return ra(t,{tooltip:e,tooltipItems:r,type:"tooltip"})}function bw(t,e){const r=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return r?t.override(r):t}class vy extends on{constructor(e){super();this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart||e._chart,this._chart=this.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const r=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&r.options.animation&&n.animations,s=new xI(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=bue(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,r){const{callbacks:n}=r,i=n.beforeTitle.apply(this,[e]),s=n.title.apply(this,[e]),a=n.afterTitle.apply(this,[e]);let o=[];return o=mn(o,zn(i)),o=mn(o,zn(s)),o=mn(o,zn(a)),o}getBeforeBody(e,r){return yw(r.callbacks.beforeBody.apply(this,[e]))}getBody(e,r){const{callbacks:n}=r,i=[];return Dt(e,s=>{const a={before:[],lines:[],after:[]},o=bw(n,s);mn(a.before,zn(o.beforeLabel.call(this,s))),mn(a.lines,o.label.call(this,s)),mn(a.after,zn(o.afterLabel.call(this,s))),i.push(a)}),i}getAfterBody(e,r){return yw(r.callbacks.afterBody.apply(this,[e]))}getFooter(e,r){const{callbacks:n}=r,i=n.beforeFooter.apply(this,[e]),s=n.footer.apply(this,[e]),a=n.afterFooter.apply(this,[e]);let o=[];return o=mn(o,zn(i)),o=mn(o,zn(s)),o=mn(o,zn(a)),o}_createItems(e){const r=this._active,n=this.chart.data,i=[],s=[],a=[];let o=[],l,u;for(l=0,u=r.length;l<u;++l)o.push(hue(this.chart,r[l]));return e.filter&&(o=o.filter((c,d,f)=>e.filter(c,d,f,n))),e.itemSort&&(o=o.sort((c,d)=>e.itemSort(c,d,n))),Dt(o,c=>{const d=bw(e.callbacks,c);i.push(d.labelColor.call(this,c)),s.push(d.labelPointStyle.call(this,c)),a.push(d.labelTextColor.call(this,c))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=o,o}update(e,r){const n=this.options.setContext(this.getContext()),i=this._active;let s,a=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const o=gc[n.position].call(this,i,this._eventPosition);a=this._createItems(n),this.title=this.getTitle(a,n),this.beforeBody=this.getBeforeBody(a,n),this.body=this.getBody(a,n),this.afterBody=this.getAfterBody(a,n),this.footer=this.getFooter(a,n);const l=this._size=mw(this,n),u=Object.assign({},o,l),c=gw(this.chart,n,u),d=vw(n,u,c,this.chart);this.xAlign=c.xAlign,this.yAlign=c.yAlign,s={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:o.x,caretY:o.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(e,r,n,i){const s=this.getCaretPosition(e,n,i);r.lineTo(s.x1,s.y1),r.lineTo(s.x2,s.y2),r.lineTo(s.x3,s.y3)}getCaretPosition(e,r,n){const{xAlign:i,yAlign:s}=this,{caretSize:a,cornerRadius:o}=n,{topLeft:l,topRight:u,bottomLeft:c,bottomRight:d}=Jo(o),{x:f,y:h}=e,{width:m,height:g}=r;let v,x,S,D,P,O;return s==="center"?(P=h+g/2,i==="left"?(v=f,x=v-a,D=P+a,O=P-a):(v=f+m,x=v+a,D=P-a,O=P+a),S=v):(i==="left"?x=f+Math.max(l,c)+a:i==="right"?x=f+m-Math.max(u,d)-a:x=this.caretX,s==="top"?(D=h,P=D-a,v=x-a,S=x+a):(D=h+g,P=D+a,v=x+a,S=x-a),O=D),{x1:v,x2:x,x3:S,y1:D,y2:P,y3:O}}drawTitle(e,r,n){const i=this.title,s=i.length;let a,o,l;if(s){const u=Zo(n.rtl,this.x,this.width);for(e.x=xf(this,n.titleAlign,n),r.textAlign=u.textAlign(n.titleAlign),r.textBaseline="middle",a=hr(n.titleFont),o=n.titleSpacing,r.fillStyle=n.titleColor,r.font=a.string,l=0;l<s;++l)r.fillText(i[l],u.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+o,l+1===s&&(e.y+=n.titleMarginBottom-o)}}_drawColorBox(e,r,n,i,s){const a=this.labelColors[n],o=this.labelPointStyles[n],{boxHeight:l,boxWidth:u,boxPadding:c}=s,d=hr(s.bodyFont),f=xf(this,"left",s),h=i.x(f),m=l<d.lineHeight?(d.lineHeight-l)/2:0,g=r.y+m;if(s.usePointStyle){const v={radius:Math.min(u,l)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},x=i.leftForLtr(h,u)+u/2,S=g+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,Gh(e,v,x,S),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,Gh(e,v,x,S)}else{e.lineWidth=a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const v=i.leftForLtr(h,u-c),x=i.leftForLtr(i.xPlus(h,1),u-c-2),S=Jo(a.borderRadius);Object.values(S).some(D=>D!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,qh(e,{x:v,y:g,w:u,h:l,radius:S}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),qh(e,{x,y:g+1,w:u-2,h:l-2,radius:S}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(v,g,u,l),e.strokeRect(v,g,u,l),e.fillStyle=a.backgroundColor,e.fillRect(x,g+1,u-2,l-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,r,n){const{body:i}=this,{bodySpacing:s,bodyAlign:a,displayColors:o,boxHeight:l,boxWidth:u,boxPadding:c}=n,d=hr(n.bodyFont);let f=d.lineHeight,h=0;const m=Zo(n.rtl,this.x,this.width),g=function(U){r.fillText(U,m.x(e.x+h),e.y+f/2),e.y+=f+s},v=m.textAlign(a);let x,S,D,P,O,B,z;for(r.textAlign=a,r.textBaseline="middle",r.font=d.string,e.x=xf(this,v,n),r.fillStyle=n.bodyColor,Dt(this.beforeBody,g),h=o&&v!=="right"?a==="center"?u/2+c:u+2+c:0,P=0,B=i.length;P<B;++P){for(x=i[P],S=this.labelTextColors[P],r.fillStyle=S,Dt(x.before,g),D=x.lines,o&&D.length&&(this._drawColorBox(r,e,P,m,n),f=Math.max(d.lineHeight,l)),O=0,z=D.length;O<z;++O)g(D[O]),f=d.lineHeight;Dt(x.after,g)}h=0,f=d.lineHeight,Dt(this.afterBody,g),e.y-=s}drawFooter(e,r,n){const i=this.footer,s=i.length;let a,o;if(s){const l=Zo(n.rtl,this.x,this.width);for(e.x=xf(this,n.footerAlign,n),e.y+=n.footerMarginTop,r.textAlign=l.textAlign(n.footerAlign),r.textBaseline="middle",a=hr(n.footerFont),r.fillStyle=n.footerColor,r.font=a.string,o=0;o<s;++o)r.fillText(i[o],l.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+n.footerSpacing}}drawBackground(e,r,n,i){const{xAlign:s,yAlign:a}=this,{x:o,y:l}=e,{width:u,height:c}=n,{topLeft:d,topRight:f,bottomLeft:h,bottomRight:m}=Jo(i.cornerRadius);r.fillStyle=i.backgroundColor,r.strokeStyle=i.borderColor,r.lineWidth=i.borderWidth,r.beginPath(),r.moveTo(o+d,l),a==="top"&&this.drawCaret(e,r,n,i),r.lineTo(o+u-f,l),r.quadraticCurveTo(o+u,l,o+u,l+f),a==="center"&&s==="right"&&this.drawCaret(e,r,n,i),r.lineTo(o+u,l+c-m),r.quadraticCurveTo(o+u,l+c,o+u-m,l+c),a==="bottom"&&this.drawCaret(e,r,n,i),r.lineTo(o+h,l+c),r.quadraticCurveTo(o,l+c,o,l+c-h),a==="center"&&s==="left"&&this.drawCaret(e,r,n,i),r.lineTo(o,l+d),r.quadraticCurveTo(o,l,o+d,l),r.closePath(),r.fill(),i.borderWidth>0&&r.stroke()}_updateAnimationTarget(e){const r=this.chart,n=this.$animations,i=n&&n.x,s=n&&n.y;if(i||s){const a=gc[e.position].call(this,this._active,this._eventPosition);if(!a)return;const o=this._size=mw(this,e),l=Object.assign({},a,this._size),u=gw(r,e,l),c=vw(e,l,u,r);(i._to!==c.x||s._to!==c.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=o.width,this.height=o.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,c))}}draw(e){const r=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(r);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const a=Lr(r.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&o&&(e.save(),e.globalAlpha=n,this.drawBackground(s,e,i,r),vI(e,r.textDirection),s.y+=a.top,this.drawTitle(s,e,r),this.drawBody(s,e,r),this.drawFooter(s,e,r),yI(e,r.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,r){const n=this._active,i=e.map(({datasetIndex:o,index:l})=>{const u=this.chart.getDatasetMeta(o);if(!u)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:u.data[l],index:l}}),s=!Vh(n,i),a=this._positionChanged(i,r);(s||a)&&(this._active=i,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,r,n=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],a=this._getActiveElements(e,s,r,n),o=this._positionChanged(a,e),l=r||!Vh(a,s)||o;return l&&(this._active=a,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,r))),l}_getActiveElements(e,r,n,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return r;const a=this.chart.getElementsAtEventForMode(e,s.mode,s,n);return s.reverse&&a.reverse(),a}_positionChanged(e,r){const{caretX:n,caretY:i,options:s}=this,a=gc[s.position].call(this,e,r);return a!==!1&&(n!==a.x||i!==a.y)}}vy.positioners=gc;var _ue={id:"tooltip",_element:vy,positioners:gc,afterInit(t,e,r){r&&(t.tooltip=new vy({chart:t,options:r}))},beforeUpdate(t,e,r){t.tooltip&&t.tooltip.initialize(r)},reset(t,e,r){t.tooltip&&t.tooltip.initialize(r)},afterDraw(t){const e=t.tooltip,r={tooltip:e};t.notifyPlugins("beforeTooltipDraw",r)!==!1&&(e&&e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",r))},afterEvent(t,e){if(t.tooltip){const r=e.replay;t.tooltip.handleEvent(e.event,r,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:jn,title(t){if(t.length>0){const e=t[0],r=e.chart.data.labels,n=r?r.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return r[e.dataIndex]}return""},afterTitle:jn,beforeBody:jn,beforeLabel:jn,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const r=t.formattedValue;return St(r)||(e+=r),e},labelColor(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:jn,afterBody:jn,beforeFooter:jn,footer:jn,afterFooter:jn}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Tue=Object.freeze({__proto__:null,Decimation:Hle,Filler:aue,Legend:uue,SubTitle:fue,Title:due,Tooltip:_ue});const xue=(t,e,r,n)=>(typeof e=="string"?(r=t.push(e)-1,n.unshift({index:r,label:e})):isNaN(e)&&(r=null),r);function Sue(t,e,r,n){const i=t.indexOf(e);if(i===-1)return xue(t,e,r,n);const s=t.lastIndexOf(e);return i!==s?r:i}const Eue=(t,e)=>t===null?null:br(Math.round(t),0,e);class Jh extends ao{constructor(e){super(e);this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const r=this._addedLabels;if(r.length){const n=this.getLabels();for(const{index:i,label:s}of r)n[i]===s&&n.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,r){if(St(e))return null;const n=this.getLabels();return r=isFinite(r)&&n[r]===e?r:Sue(n,e,lt(r,e),this._addedLabels),Eue(r,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),r||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const e=this.min,r=this.max,n=this.options.offset,i=[];let s=this.getLabels();s=e===0&&r===s.length-1?s:s.slice(e,r+1),this._valueRange=Math.max(s.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let a=e;a<=r;a++)i.push({value:a});return i}getLabelForValue(e){const r=this.getLabels();return e>=0&&e<r.length?r[e]:e}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Jh.id="category";Jh.defaults={ticks:{callback:Jh.prototype.getLabelForValue}};function Cue(t,e){const r=[],{bounds:i,step:s,min:a,max:o,precision:l,count:u,maxTicks:c,maxDigits:d,includeBounds:f}=t,h=s||1,m=c-1,{min:g,max:v}=e,x=!St(a),S=!St(o),D=!St(u),P=(v-g)/(d+1);let O=vC((v-g)/m/h)*h,B,z,U,Y;if(O<1e-14&&!x&&!S)return[{value:g},{value:v}];Y=Math.ceil(v/O)-Math.floor(g/O),Y>m&&(O=vC(Y*O/m/h)*h),St(l)||(B=Math.pow(10,l),O=Math.ceil(O*B)/B),i==="ticks"?(z=Math.floor(g/O)*O,U=Math.ceil(v/O)*O):(z=g,U=v),x&&S&&s&&gse((o-a)/s,O/1e3)?(Y=Math.round(Math.min((o-a)/O,c)),O=(o-a)/Y,z=a,U=o):D?(z=x?a:z,U=S?o:U,Y=u-1,O=(U-z)/Y):(Y=(U-z)/O,hc(Y,Math.round(Y),O/1e3)?Y=Math.round(Y):Y=Math.ceil(Y));const F=Math.max(yC(O),yC(z));B=Math.pow(10,St(l)?F:l),z=Math.round(z*B)/B,U=Math.round(U*B)/B;let ue=0;for(x&&(f&&z!==a?(r.push({value:a}),z<a&&ue++,hc(Math.round((z+ue*O)*B)/B,a,_w(a,P,t))&&ue++):z<a&&ue++);ue<Y;++ue)r.push({value:Math.round((z+ue*O)*B)/B});return S&&f&&U!==o?r.length&&hc(r[r.length-1].value,o,_w(o,P,t))?r[r.length-1].value=o:r.push({value:o}):(!S||U===o)&&r.push({value:U}),r}function _w(t,e,{horizontal:r,minRotation:n}){const i=Qi(n),s=(r?Math.sin(i):Math.cos(i))||.001,a=.75*e*(""+t).length;return Math.min(e/s,a)}class Zh extends ao{constructor(e){super(e);this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,r){return St(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:r,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this;const a=l=>i=r?i:l,o=l=>s=n?s:l;if(e){const l=Dn(i),u=Dn(s);l<0&&u<0?o(0):l>0&&u>0&&a(0)}if(i===s){let l=1;(s>=Number.MAX_SAFE_INTEGER||i<=Number.MIN_SAFE_INTEGER)&&(l=Math.abs(s*.05)),o(s+l),e||a(i-l)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:r,stepSize:n}=e,i;return n?(i=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),r=r||11),r&&(i=Math.min(r,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,r=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},s=this._range||this,a=Cue(i,s);return e.bounds==="ticks"&&eI(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let r=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const i=(n-r)/Math.max(e.length-1,1)/2;r-=i,n+=i}this._startValue=r,this._endValue=n,this._valueRange=n-r}getLabelForValue(e){return yd(e,this.chart.options.locale,this.options.ticks.format)}}class d_ extends Zh{determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=sr(e)?e:0,this.max=sr(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),r=e?this.width:this.height,n=Qi(this.options.ticks.minRotation),i=(e?Math.sin(n):Math.cos(n))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}d_.id="linear";d_.defaults={ticks:{callback:lm.formatters.numeric}};function Tw(t){return t/Math.pow(10,Math.floor(Mi(t)))===1}function wue(t,e){const r=Math.floor(Mi(e.max)),n=Math.ceil(e.max/Math.pow(10,r)),i=[];let s=ki(t.min,Math.pow(10,Math.floor(Mi(e.min)))),a=Math.floor(Mi(s)),o=Math.floor(s/Math.pow(10,a)),l=a<0?Math.pow(10,Math.abs(a)):1;do i.push({value:s,major:Tw(s)}),++o,o===10&&(o=1,++a,l=a>=0?1:l),s=Math.round(o*Math.pow(10,a)*l)/l;while(a<r||a===r&&o<n);const u=ki(t.max,s);return i.push({value:u,major:Tw(s)}),i}class f_ extends ao{constructor(e){super(e);this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,r){const n=Zh.prototype.parse.apply(this,[e,r]);if(n===0){this._zero=!0;return}return sr(n)&&n>0?n:null}determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=sr(e)?Math.max(0,e):null,this.max=sr(r)?Math.max(0,r):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let n=this.min,i=this.max;const s=l=>n=e?n:l,a=l=>i=r?i:l,o=(l,u)=>Math.pow(10,Math.floor(Mi(l))+u);n===i&&(n<=0?(s(1),a(10)):(s(o(n,-1)),a(o(i,1)))),n<=0&&s(o(i,-1)),i<=0&&a(o(n,1)),this._zero&&this.min!==this._suggestedMin&&n===o(this.min,0)&&s(o(n,-1)),this.min=n,this.max=i}buildTicks(){const e=this.options,r={min:this._userMin,max:this._userMax},n=wue(r,this);return e.bounds==="ticks"&&eI(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(e){return e===void 0?"0":yd(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Mi(e),this._valueRange=Mi(this.max)-Mi(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Mi(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const r=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+r*this._valueRange)}}f_.id="logarithmic";f_.defaults={ticks:{callback:lm.formatters.logarithmic,major:{enabled:!0}}};function yy(t){const e=t.ticks;if(e.display&&t.display){const r=Lr(e.backdropPadding);return lt(e.font&&e.font.size,gt.font.size)+r.height}return 0}function Pue(t,e,r){return r=Ut(r)?r:[r],{w:Use(t,e.string,r),h:r.length*e.lineHeight}}function xw(t,e,r,n,i){return t===n||t===i?{start:e-r/2,end:e+r/2}:t<n||t>i?{start:e-r,end:e}:{start:e,end:e+r}}function Due(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},r=Object.assign({},e),n=[],i=[],s=t._pointLabels.length,a=t.options.pointLabels,o=a.centerPointLabels?Kt/s:0;for(let l=0;l<s;l++){const u=a.setContext(t.getPointLabelContext(l));i[l]=u.padding;const c=t.getPointPosition(l,t.drawingArea+i[l],o),d=hr(u.font),f=Pue(t.ctx,d,t._pointLabels[l]);n[l]=f;const h=yi(t.getIndexAngle(l)+o),m=Math.round(Kb(h)),g=xw(m,c.x,f.w,0,180),v=xw(m,c.y,f.h,90,270);Aue(r,e,h,g,v)}t.setCenterPoint(e.l-r.l,r.r-e.r,e.t-r.t,r.b-e.b),t._pointLabelItems=Oue(t,n,i)}function Aue(t,e,r,n,i){const s=Math.abs(Math.sin(r)),a=Math.abs(Math.cos(r));let o=0,l=0;n.start<e.l?(o=(e.l-n.start)/s,t.l=Math.min(t.l,e.l-o)):n.end>e.r&&(o=(n.end-e.r)/s,t.r=Math.max(t.r,e.r+o)),i.start<e.t?(l=(e.t-i.start)/a,t.t=Math.min(t.t,e.t-l)):i.end>e.b&&(l=(i.end-e.b)/a,t.b=Math.max(t.b,e.b+l))}function Oue(t,e,r){const n=[],i=t._pointLabels.length,s=t.options,a=yy(s)/2,o=t.drawingArea,l=s.pointLabels.centerPointLabels?Kt/i:0;for(let u=0;u<i;u++){const c=t.getPointPosition(u,o+a+r[u],l),d=Math.round(Kb(yi(c.angle+Zt))),f=e[u],h=Iue(c.y,f.h,d),m=Rue(d),g=kue(c.x,f.w,m);n.push({x:c.x,y:h,textAlign:m,left:g,top:h,right:g+f.w,bottom:h+f.h})}return n}function Rue(t){return t===0||t===180?"center":t<180?"left":"right"}function kue(t,e,r){return r==="right"?t-=e:r==="center"&&(t-=e/2),t}function Iue(t,e,r){return r===90||r===270?t-=e/2:(r>270||r<90)&&(t-=e),t}function Mue(t,e){const{ctx:r,options:{pointLabels:n}}=t;for(let i=e-1;i>=0;i--){const s=n.setContext(t.getPointLabelContext(i)),a=hr(s.font),{x:o,y:l,textAlign:u,left:c,top:d,right:f,bottom:h}=t._pointLabelItems[i],{backdropColor:m}=s;if(!St(m)){const g=Lr(s.backdropPadding);r.fillStyle=m,r.fillRect(c-g.left,d-g.top,f-c+g.width,h-d+g.height)}Ja(r,t._pointLabels[i],o,l+a.lineHeight/2,a,{color:s.color,textAlign:u,textBaseline:"middle"})}}function HI(t,e,r,n){const{ctx:i}=t;if(r)i.arc(t.xCenter,t.yCenter,e,0,It);else{let s=t.getPointPosition(0,e);i.moveTo(s.x,s.y);for(let a=1;a<n;a++)s=t.getPointPosition(a,e),i.lineTo(s.x,s.y)}}function Lue(t,e,r,n){const i=t.ctx,s=e.circular,{color:a,lineWidth:o}=e;!s&&!n||!a||!o||r<0||(i.save(),i.strokeStyle=a,i.lineWidth=o,i.setLineDash(e.borderDash),i.lineDashOffset=e.borderDashOffset,i.beginPath(),HI(t,r,s,n),i.closePath(),i.stroke(),i.restore())}function Nue(t,e,r){return ra(t,{label:r,index:e,type:"pointLabel"})}class _d extends Zh{constructor(e){super(e);this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Lr(yy(this.options)/2),r=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+r/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(r,n)/2)}determineDataLimits(){const{min:e,max:r}=this.getMinMax(!1);this.min=sr(e)&&!isNaN(e)?e:0,this.max=sr(r)&&!isNaN(r)?r:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/yy(this.options))}generateTickLabels(e){Zh.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((r,n)=>{const i=Ft(this.options.pointLabels.callback,[r,n],this);return i||i===0?i:""}).filter((r,n)=>this.chart.getDataVisibility(n))}fit(){const e=this.options;e.display&&e.pointLabels.display?Due(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,r,n,i){this.xCenter+=Math.floor((e-r)/2),this.yCenter+=Math.floor((n-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,r,n,i))}getIndexAngle(e){const r=It/(this._pointLabels.length||1),n=this.options.startAngle||0;return yi(e*r+Qi(n))}getDistanceFromCenterForValue(e){if(St(e))return NaN;const r=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*r:(e-this.min)*r}getValueForDistanceFromCenter(e){if(St(e))return NaN;const r=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-r:this.min+r}getPointLabelContext(e){const r=this._pointLabels||[];if(e>=0&&e<r.length){const n=r[e];return Nue(this.getContext(),e,n)}}getPointPosition(e,r,n=0){const i=this.getIndexAngle(e)-Zt+n;return{x:Math.cos(i)*r+this.xCenter,y:Math.sin(i)*r+this.yCenter,angle:i}}getPointPositionForValue(e,r){return this.getPointPosition(e,this.getDistanceFromCenterForValue(r))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:r,top:n,right:i,bottom:s}=this._pointLabelItems[e];return{left:r,top:n,right:i,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:r}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),HI(this,this.getDistanceFromCenterForValue(this._endValue),r,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,r=this.options,{angleLines:n,grid:i}=r,s=this._pointLabels.length;let a,o,l;if(r.pointLabels.display&&Mue(this,s),i.display&&this.ticks.forEach((u,c)=>{if(c!==0){o=this.getDistanceFromCenterForValue(u.value);const d=i.setContext(this.getContext(c-1));Lue(this,d,o,s)}}),n.display){for(e.save(),a=s-1;a>=0;a--){const u=n.setContext(this.getPointLabelContext(a)),{color:c,lineWidth:d}=u;!d||!c||(e.lineWidth=d,e.strokeStyle=c,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,o=this.getDistanceFromCenterForValue(r.ticks.reverse?this.min:this.max),l=this.getPointPosition(a,o),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,r=this.options,n=r.ticks;if(!n.display)return;const i=this.getIndexAngle(0);let s,a;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((o,l)=>{if(l===0&&!r.reverse)return;const u=n.setContext(this.getContext(l)),c=hr(u.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),u.showLabelBackdrop){e.font=c.string,a=e.measureText(o.label).width,e.fillStyle=u.backdropColor;const d=Lr(u.backdropPadding);e.fillRect(-a/2-d.left,-s-c.size/2-d.top,a+d.width,c.size+d.height)}Ja(e,o.label,0,-s,c,{color:u.color})}),e.restore()}drawTitle(){}}_d.id="radialLinear";_d.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:lm.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};_d.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};_d.descriptors={angleLines:{_fallback:"grid"}};const fm={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},si=Object.keys(fm);function Fue(t,e){return t-e}function Sw(t,e){if(St(e))return null;const r=t._adapter,{parser:n,round:i,isoWeekday:s}=t._parseOpts;let a=e;return typeof n=="function"&&(a=n(a)),sr(a)||(a=typeof n=="string"?r.parse(a,n):r.parse(a)),a===null?null:(i&&(a=i==="week"&&(Hc(s)||s===!0)?r.startOf(a,"isoWeek",s):r.startOf(a,i)),+a)}function Ew(t,e,r,n){const i=si.length;for(let s=si.indexOf(t);s<i-1;++s){const a=fm[si[s]],o=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((r-e)/(o*a.size))<=n)return si[s]}return si[i-1]}function Bue(t,e,r,n,i){for(let s=si.length-1;s>=si.indexOf(r);s--){const a=si[s];if(fm[a].common&&t._adapter.diff(i,n,a)>=e-1)return a}return si[r?si.indexOf(r):0]}function $ue(t){for(let e=si.indexOf(t)+1,r=si.length;e<r;++e)if(fm[si[e]].common)return si[e]}function Cw(t,e,r){if(!r)t[e]=!0;else if(r.length){const{lo:n,hi:i}=t_(r,e),s=r[n]>=e?r[n]:r[i];t[s]=!0}}function Uue(t,e,r,n){const i=t._adapter,s=+i.startOf(e[0].value,n),a=e[e.length-1].value;let o,l;for(o=s;o<=a;o=+i.add(o,1,n))l=r[o],l>=0&&(e[l].major=!0);return e}function ww(t,e,r){const n=[],i={},s=e.length;let a,o;for(a=0;a<s;++a)o=e[a],i[o]=a,n.push({value:o,major:!1});return s===0||!r?n:Uue(t,n,i,r)}class Td extends ao{constructor(e){super(e);this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,r){const n=e.time||(e.time={}),i=this._adapter=new coe._date(e.adapters.date);fc(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=r.normalized}parse(e,r){return e===void 0?null:Sw(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,r=this._adapter,n=e.time.unit||"day";let{min:i,max:s,minDefined:a,maxDefined:o}=this.getUserBounds();function l(u){!a&&!isNaN(u.min)&&(i=Math.min(i,u.min)),!o&&!isNaN(u.max)&&(s=Math.max(s,u.max))}(!a||!o)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=sr(i)&&!isNaN(i)?i:+r.startOf(Date.now(),n),s=sr(s)&&!isNaN(s)?s:+r.endOf(Date.now(),n)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(r=e[0],n=e[e.length-1]),{min:r,max:n}}buildTicks(){const e=this.options,r=e.time,n=e.ticks,i=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,a=this.max,o=Qse(i,s,a);return this._unit=r.unit||(n.autoSkip?Ew(r.minUnit,this.min,this.max,this._getLabelCapacity(s)):Bue(this,o.length,r.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:$ue(this._unit),this.initOffsets(i),e.reverse&&o.reverse(),ww(this,o,this._majorUnit)}initOffsets(e){let r=0,n=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?r=1-i:r=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?n=s:n=(s-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;r=br(r,0,a),n=br(n,0,a),this._offsets={start:r,end:n,factor:1/(r+1+n)}}_generate(){const e=this._adapter,r=this.min,n=this.max,i=this.options,s=i.time,a=s.unit||Ew(s.minUnit,r,n,this._getLabelCapacity(r)),o=lt(s.stepSize,1),l=a==="week"?s.isoWeekday:!1,u=Hc(l)||l===!0,c={};let d=r,f,h;if(u&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,u?"day":a),e.diff(n,r,a)>1e5*o)throw new Error(r+" and "+n+" are too far apart with stepSize of "+o+" "+a);const m=i.ticks.source==="data"&&this.getDataTimestamps();for(f=d,h=0;f<n;f=+e.add(f,o,a),h++)Cw(c,f,m);return(f===n||i.bounds==="ticks"||h===1)&&Cw(c,f,m),Object.keys(c).sort((g,v)=>g-v).map(g=>+g)}getLabelForValue(e){const r=this._adapter,n=this.options.time;return n.tooltipFormat?r.format(e,n.tooltipFormat):r.format(e,n.displayFormats.datetime)}_tickFormatFunction(e,r,n,i){const s=this.options,a=s.time.displayFormats,o=this._unit,l=this._majorUnit,u=o&&a[o],c=l&&a[l],d=n[r],f=l&&c&&d&&d.major,h=this._adapter.format(e,i||(f?c:u)),m=s.ticks.callback;return m?Ft(m,[h,r,n],this):h}generateTickLabels(e){let r,n,i;for(r=0,n=e.length;r<n;++r)i=e[r],i.label=this._tickFormatFunction(i.value,r,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const r=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((r.start+n)*r.factor)}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const r=this.options.ticks,n=this.ctx.measureText(e).width,i=Qi(this.isHorizontal()?r.maxRotation:r.minRotation),s=Math.cos(i),a=Math.sin(i),o=this._resolveTickFontOptions(0).size;return{w:n*s+o*a,h:n*a+o*s}}_getLabelCapacity(e){const r=this.options.time,n=r.displayFormats,i=n[r.unit]||n.millisecond,s=this._tickFormatFunction(e,0,ww(this,[e],this._majorUnit),i),a=this._getLabelSize(s),o=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return o>0?o:1}getDataTimestamps(){let e=this._cache.data||[],r,n;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(r=0,n=i.length;r<n;++r)e=e.concat(i[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let r,n;if(e.length)return e;const i=this.getLabels();for(r=0,n=i.length;r<n;++r)e.push(Sw(this,i[r]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return uI(e.sort(Fue))}}Td.id="time";Td.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};function Sf(t,e,r){let n=0,i=t.length-1,s,a,o,l;r?(e>=t[n].pos&&e<=t[i].pos&&({lo:n,hi:i}=Zn(t,"pos",e)),{pos:s,time:o}=t[n],{pos:a,time:l}=t[i]):(e>=t[n].time&&e<=t[i].time&&({lo:n,hi:i}=Zn(t,"time",e)),{time:s,pos:o}=t[n],{time:a,pos:l}=t[i]);const u=a-s;return u?o+(l-o)*(e-s)/u:o}class h_ extends Td{constructor(e){super(e);this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(e);this._minPos=Sf(r,this.min),this._tableRange=Sf(r,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:r,max:n}=this,i=[],s=[];let a,o,l,u,c;for(a=0,o=e.length;a<o;++a)u=e[a],u>=r&&u<=n&&i.push(u);if(i.length<2)return[{time:r,pos:0},{time:n,pos:1}];for(a=0,o=i.length;a<o;++a)c=i[a+1],l=i[a-1],u=i[a],Math.round((c+l)/2)!==u&&s.push({time:u,pos:a/(o-1)});return s}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const r=this.getDataTimestamps(),n=this.getLabelTimestamps();return r.length&&n.length?e=this.normalize(r.concat(n)):e=r.length?r:n,e=this._cache.all=e,e}getDecimalForValue(e){return(Sf(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return Sf(this._table,n*this._tableRange+this._minPos,!0)}}h_.id="timeseries";h_.defaults=Td.defaults;var jue=Object.freeze({__proto__:null,CategoryScale:Jh,LinearScale:d_,LogarithmicScale:f_,RadialLinearScale:_d,TimeScale:Td,TimeSeriesScale:h_});const pme=[uoe,$le,Tue,jue];var Vue=typeof global=="object"&&global&&global.Object===Object&&global,zI=Vue,Hue=typeof self=="object"&&self&&self.Object===Object&&self,zue=zI||Hue||Function("return this")(),Bn=zue,Wue=Bn.Symbol,Xs=Wue,WI=Object.prototype,Yue=WI.hasOwnProperty,Gue=WI.toString,ku=Xs?Xs.toStringTag:void 0;function que(t){var e=Yue.call(t,ku),r=t[ku];try{t[ku]=void 0;var n=!0}catch{}var i=Gue.call(t);return n&&(e?t[ku]=r:delete t[ku]),i}var Kue=Object.prototype,Xue=Kue.toString;function Que(t){return Xue.call(t)}var Jue="[object Null]",Zue="[object Undefined]",Pw=Xs?Xs.toStringTag:void 0;function xd(t){return t==null?t===void 0?Zue:Jue:Pw&&Pw in Object(t)?que(t):Que(t)}function Za(t){return t!=null&&typeof t=="object"}var ece=Array.isArray,xl=ece;function Sd(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var tce="[object AsyncFunction]",rce="[object Function]",ice="[object GeneratorFunction]",nce="[object Proxy]";function YI(t){if(!Sd(t))return!1;var e=xd(t);return e==rce||e==ice||e==tce||e==nce}var sce=Bn["__core-js_shared__"],Mg=sce,Dw=function(){var t=/[^.]+$/.exec(Mg&&Mg.keys&&Mg.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function ace(t){return!!Dw&&Dw in t}var oce=Function.prototype,lce=oce.toString;function oo(t){if(t!=null){try{return lce.call(t)}catch{}try{return t+""}catch{}}return""}var uce=/[\\^$.*+?()[\]{}|]/g,cce=/^\[object .+?Constructor\]$/,dce=Function.prototype,fce=Object.prototype,hce=dce.toString,pce=fce.hasOwnProperty,mce=RegExp("^"+hce.call(pce).replace(uce,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function gce(t){if(!Sd(t)||ace(t))return!1;var e=YI(t)?mce:cce;return e.test(oo(t))}function vce(t,e){return t==null?void 0:t[e]}function lo(t,e){var r=vce(t,e);return gce(r)?r:void 0}var yce=lo(Bn,"WeakMap"),by=yce,Aw=Object.create,bce=function(){function t(){}return function(e){if(!Sd(e))return{};if(Aw)return Aw(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}(),_ce=bce;function Tce(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var xce=function(){try{var t=lo(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Ow=xce;function Sce(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var Ece=9007199254740991,Cce=/^(?:0|[1-9]\d*)$/;function wce(t,e){var r=typeof t;return e=e==null?Ece:e,!!e&&(r=="number"||r!="symbol"&&Cce.test(t))&&t>-1&&t%1==0&&t<e}function GI(t,e,r){e=="__proto__"&&Ow?Ow(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function p_(t,e){return t===e||t!==t&&e!==e}var Pce=Object.prototype,Dce=Pce.hasOwnProperty;function qI(t,e,r){var n=t[e];(!(Dce.call(t,e)&&p_(n,r))||r===void 0&&!(e in t))&&GI(t,e,r)}function hm(t,e,r,n){var i=!r;r||(r={});for(var s=-1,a=e.length;++s<a;){var o=e[s],l=n?n(r[o],t[o],o,r,t):void 0;l===void 0&&(l=t[o]),i?GI(r,o,l):qI(r,o,l)}return r}var Ace=9007199254740991;function KI(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Ace}function m_(t){return t!=null&&KI(t.length)&&!YI(t)}var Oce=Object.prototype;function pm(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||Oce;return t===r}function Rce(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var kce="[object Arguments]";function Rw(t){return Za(t)&&xd(t)==kce}var XI=Object.prototype,Ice=XI.hasOwnProperty,Mce=XI.propertyIsEnumerable,Lce=Rw(function(){return arguments}())?Rw:function(t){return Za(t)&&Ice.call(t,"callee")&&!Mce.call(t,"callee")},QI=Lce;function Nce(){return!1}var JI=typeof exports=="object"&&exports&&!exports.nodeType&&exports,kw=JI&&typeof module=="object"&&module&&!module.nodeType&&module,Fce=kw&&kw.exports===JI,Iw=Fce?Bn.Buffer:void 0,Bce=Iw?Iw.isBuffer:void 0,$ce=Bce||Nce,Gc=$ce,Uce="[object Arguments]",jce="[object Array]",Vce="[object Boolean]",Hce="[object Date]",zce="[object Error]",Wce="[object Function]",Yce="[object Map]",Gce="[object Number]",qce="[object Object]",Kce="[object RegExp]",Xce="[object Set]",Qce="[object String]",Jce="[object WeakMap]",Zce="[object ArrayBuffer]",ede="[object DataView]",tde="[object Float32Array]",rde="[object Float64Array]",ide="[object Int8Array]",nde="[object Int16Array]",sde="[object Int32Array]",ade="[object Uint8Array]",ode="[object Uint8ClampedArray]",lde="[object Uint16Array]",ude="[object Uint32Array]",Wt={};Wt[tde]=Wt[rde]=Wt[ide]=Wt[nde]=Wt[sde]=Wt[ade]=Wt[ode]=Wt[lde]=Wt[ude]=!0;Wt[Uce]=Wt[jce]=Wt[Zce]=Wt[Vce]=Wt[ede]=Wt[Hce]=Wt[zce]=Wt[Wce]=Wt[Yce]=Wt[Gce]=Wt[qce]=Wt[Kce]=Wt[Xce]=Wt[Qce]=Wt[Jce]=!1;function cde(t){return Za(t)&&KI(t.length)&&!!Wt[xd(t)]}function g_(t){return function(e){return t(e)}}var ZI=typeof exports=="object"&&exports&&!exports.nodeType&&exports,vc=ZI&&typeof module=="object"&&module&&!module.nodeType&&module,dde=vc&&vc.exports===ZI,Lg=dde&&zI.process,fde=function(){try{var t=vc&&vc.require&&vc.require("util").types;return t||Lg&&Lg.binding&&Lg.binding("util")}catch{}}(),Sl=fde,Mw=Sl&&Sl.isTypedArray,hde=Mw?g_(Mw):cde,v_=hde,pde=Object.prototype,mde=pde.hasOwnProperty;function eM(t,e){var r=xl(t),n=!r&&QI(t),i=!r&&!n&&Gc(t),s=!r&&!n&&!i&&v_(t),a=r||n||i||s,o=a?Rce(t.length,String):[],l=o.length;for(var u in t)(e||mde.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||wce(u,l)))&&o.push(u);return o}function tM(t,e){return function(r){return t(e(r))}}var gde=tM(Object.keys,Object),vde=gde,yde=Object.prototype,bde=yde.hasOwnProperty;function rM(t){if(!pm(t))return vde(t);var e=[];for(var r in Object(t))bde.call(t,r)&&r!="constructor"&&e.push(r);return e}function y_(t){return m_(t)?eM(t):rM(t)}function _de(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var Tde=Object.prototype,xde=Tde.hasOwnProperty;function Sde(t){if(!Sd(t))return _de(t);var e=pm(t),r=[];for(var n in t)n=="constructor"&&(e||!xde.call(t,n))||r.push(n);return r}function b_(t){return m_(t)?eM(t,!0):Sde(t)}var Ede=lo(Object,"create"),qc=Ede;function Cde(){this.__data__=qc?qc(null):{},this.size=0}function wde(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Pde="__lodash_hash_undefined__",Dde=Object.prototype,Ade=Dde.hasOwnProperty;function Ode(t){var e=this.__data__;if(qc){var r=e[t];return r===Pde?void 0:r}return Ade.call(e,t)?e[t]:void 0}var Rde=Object.prototype,kde=Rde.hasOwnProperty;function Ide(t){var e=this.__data__;return qc?e[t]!==void 0:kde.call(e,t)}var Mde="__lodash_hash_undefined__";function Lde(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=qc&&e===void 0?Mde:e,this}function eo(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}eo.prototype.clear=Cde;eo.prototype.delete=wde;eo.prototype.get=Ode;eo.prototype.has=Ide;eo.prototype.set=Lde;function Nde(){this.__data__=[],this.size=0}function mm(t,e){for(var r=t.length;r--;)if(p_(t[r][0],e))return r;return-1}var Fde=Array.prototype,Bde=Fde.splice;function $de(t){var e=this.__data__,r=mm(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():Bde.call(e,r,1),--this.size,!0}function Ude(t){var e=this.__data__,r=mm(e,t);return r<0?void 0:e[r][1]}function jde(t){return mm(this.__data__,t)>-1}function Vde(t,e){var r=this.__data__,n=mm(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function gs(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}gs.prototype.clear=Nde;gs.prototype.delete=$de;gs.prototype.get=Ude;gs.prototype.has=jde;gs.prototype.set=Vde;var Hde=lo(Bn,"Map"),Kc=Hde;function zde(){this.size=0,this.__data__={hash:new eo,map:new(Kc||gs),string:new eo}}function Wde(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function gm(t,e){var r=t.__data__;return Wde(e)?r[typeof e=="string"?"string":"hash"]:r.map}function Yde(t){var e=gm(this,t).delete(t);return this.size-=e?1:0,e}function Gde(t){return gm(this,t).get(t)}function qde(t){return gm(this,t).has(t)}function Kde(t,e){var r=gm(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function uo(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}uo.prototype.clear=zde;uo.prototype.delete=Yde;uo.prototype.get=Gde;uo.prototype.has=qde;uo.prototype.set=Kde;function iM(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var Xde=tM(Object.getPrototypeOf,Object),nM=Xde;function Qde(){this.__data__=new gs,this.size=0}function Jde(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function Zde(t){return this.__data__.get(t)}function efe(t){return this.__data__.has(t)}var tfe=200;function rfe(t,e){var r=this.__data__;if(r instanceof gs){var n=r.__data__;if(!Kc||n.length<tfe-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new uo(n)}return r.set(t,e),this.size=r.size,this}function ss(t){var e=this.__data__=new gs(t);this.size=e.size}ss.prototype.clear=Qde;ss.prototype.delete=Jde;ss.prototype.get=Zde;ss.prototype.has=efe;ss.prototype.set=rfe;function ife(t,e){return t&&hm(e,y_(e),t)}function nfe(t,e){return t&&hm(e,b_(e),t)}var sM=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Lw=sM&&typeof module=="object"&&module&&!module.nodeType&&module,sfe=Lw&&Lw.exports===sM,Nw=sfe?Bn.Buffer:void 0,Fw=Nw?Nw.allocUnsafe:void 0;function afe(t,e){if(e)return t.slice();var r=t.length,n=Fw?Fw(r):new t.constructor(r);return t.copy(n),n}function ofe(t,e){for(var r=-1,n=t==null?0:t.length,i=0,s=[];++r<n;){var a=t[r];e(a,r,t)&&(s[i++]=a)}return s}function aM(){return[]}var lfe=Object.prototype,ufe=lfe.propertyIsEnumerable,Bw=Object.getOwnPropertySymbols,cfe=Bw?function(t){return t==null?[]:(t=Object(t),ofe(Bw(t),function(e){return ufe.call(t,e)}))}:aM,__=cfe;function dfe(t,e){return hm(t,__(t),e)}var ffe=Object.getOwnPropertySymbols,hfe=ffe?function(t){for(var e=[];t;)iM(e,__(t)),t=nM(t);return e}:aM,oM=hfe;function pfe(t,e){return hm(t,oM(t),e)}function lM(t,e,r){var n=e(t);return xl(t)?n:iM(n,r(t))}function _y(t){return lM(t,y_,__)}function mfe(t){return lM(t,b_,oM)}var gfe=lo(Bn,"DataView"),Ty=gfe,vfe=lo(Bn,"Promise"),xy=vfe,yfe=lo(Bn,"Set"),Sy=yfe,$w="[object Map]",bfe="[object Object]",Uw="[object Promise]",jw="[object Set]",Vw="[object WeakMap]",Hw="[object DataView]",_fe=oo(Ty),Tfe=oo(Kc),xfe=oo(xy),Sfe=oo(Sy),Efe=oo(by),Oa=xd;(Ty&&Oa(new Ty(new ArrayBuffer(1)))!=Hw||Kc&&Oa(new Kc)!=$w||xy&&Oa(xy.resolve())!=Uw||Sy&&Oa(new Sy)!=jw||by&&Oa(new by)!=Vw)&&(Oa=function(t){var e=xd(t),r=e==bfe?t.constructor:void 0,n=r?oo(r):"";if(n)switch(n){case _fe:return Hw;case Tfe:return $w;case xfe:return Uw;case Sfe:return jw;case Efe:return Vw}return e});var El=Oa,Cfe=Object.prototype,wfe=Cfe.hasOwnProperty;function Pfe(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&wfe.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var Dfe=Bn.Uint8Array,ep=Dfe;function T_(t){var e=new t.constructor(t.byteLength);return new ep(e).set(new ep(t)),e}function Afe(t,e){var r=e?T_(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var Ofe=/\w*$/;function Rfe(t){var e=new t.constructor(t.source,Ofe.exec(t));return e.lastIndex=t.lastIndex,e}var zw=Xs?Xs.prototype:void 0,Ww=zw?zw.valueOf:void 0;function kfe(t){return Ww?Object(Ww.call(t)):{}}function Ife(t,e){var r=e?T_(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var Mfe="[object Boolean]",Lfe="[object Date]",Nfe="[object Map]",Ffe="[object Number]",Bfe="[object RegExp]",$fe="[object Set]",Ufe="[object String]",jfe="[object Symbol]",Vfe="[object ArrayBuffer]",Hfe="[object DataView]",zfe="[object Float32Array]",Wfe="[object Float64Array]",Yfe="[object Int8Array]",Gfe="[object Int16Array]",qfe="[object Int32Array]",Kfe="[object Uint8Array]",Xfe="[object Uint8ClampedArray]",Qfe="[object Uint16Array]",Jfe="[object Uint32Array]";function Zfe(t,e,r){var n=t.constructor;switch(e){case Vfe:return T_(t);case Mfe:case Lfe:return new n(+t);case Hfe:return Afe(t,r);case zfe:case Wfe:case Yfe:case Gfe:case qfe:case Kfe:case Xfe:case Qfe:case Jfe:return Ife(t,r);case Nfe:return new n;case Ffe:case Ufe:return new n(t);case Bfe:return Rfe(t);case $fe:return new n;case jfe:return kfe(t)}}function ehe(t){return typeof t.constructor=="function"&&!pm(t)?_ce(nM(t)):{}}var the="[object Map]";function rhe(t){return Za(t)&&El(t)==the}var Yw=Sl&&Sl.isMap,ihe=Yw?g_(Yw):rhe,nhe=ihe,she="[object Set]";function ahe(t){return Za(t)&&El(t)==she}var Gw=Sl&&Sl.isSet,ohe=Gw?g_(Gw):ahe,lhe=ohe,uhe=1,che=2,dhe=4,uM="[object Arguments]",fhe="[object Array]",hhe="[object Boolean]",phe="[object Date]",mhe="[object Error]",cM="[object Function]",ghe="[object GeneratorFunction]",vhe="[object Map]",yhe="[object Number]",dM="[object Object]",bhe="[object RegExp]",_he="[object Set]",The="[object String]",xhe="[object Symbol]",She="[object WeakMap]",Ehe="[object ArrayBuffer]",Che="[object DataView]",whe="[object Float32Array]",Phe="[object Float64Array]",Dhe="[object Int8Array]",Ahe="[object Int16Array]",Ohe="[object Int32Array]",Rhe="[object Uint8Array]",khe="[object Uint8ClampedArray]",Ihe="[object Uint16Array]",Mhe="[object Uint32Array]",Nt={};Nt[uM]=Nt[fhe]=Nt[Ehe]=Nt[Che]=Nt[hhe]=Nt[phe]=Nt[whe]=Nt[Phe]=Nt[Dhe]=Nt[Ahe]=Nt[Ohe]=Nt[vhe]=Nt[yhe]=Nt[dM]=Nt[bhe]=Nt[_he]=Nt[The]=Nt[xhe]=Nt[Rhe]=Nt[khe]=Nt[Ihe]=Nt[Mhe]=!0;Nt[mhe]=Nt[cM]=Nt[She]=!1;function Zf(t,e,r,n,i,s){var a,o=e&uhe,l=e&che,u=e&dhe;if(r&&(a=i?r(t,n,i,s):r(t)),a!==void 0)return a;if(!Sd(t))return t;var c=xl(t);if(c){if(a=Pfe(t),!o)return Tce(t,a)}else{var d=El(t),f=d==cM||d==ghe;if(Gc(t))return afe(t,o);if(d==dM||d==uM||f&&!i){if(a=l||f?{}:ehe(t),!o)return l?pfe(t,nfe(a,t)):dfe(t,ife(a,t))}else{if(!Nt[d])return i?t:{};a=Zfe(t,d,o)}}s||(s=new ss);var h=s.get(t);if(h)return h;s.set(t,a),lhe(t)?t.forEach(function(v){a.add(Zf(v,e,r,v,t,s))}):nhe(t)&&t.forEach(function(v,x){a.set(x,Zf(v,e,r,x,t,s))});var m=u?l?mfe:_y:l?b_:y_,g=c?void 0:m(t);return Sce(g||t,function(v,x){g&&(x=v,v=t[x]),qI(a,x,Zf(v,e,r,x,t,s))}),a}var Lhe=1,Nhe=4;function Iu(t){return Zf(t,Lhe|Nhe)}var Fhe="__lodash_hash_undefined__";function Bhe(t){return this.__data__.set(t,Fhe),this}function $he(t){return this.__data__.has(t)}function tp(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new uo;++e<r;)this.add(t[e])}tp.prototype.add=tp.prototype.push=Bhe;tp.prototype.has=$he;function Uhe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function jhe(t,e){return t.has(e)}var Vhe=1,Hhe=2;function fM(t,e,r,n,i,s){var a=r&Vhe,o=t.length,l=e.length;if(o!=l&&!(a&&l>o))return!1;var u=s.get(t),c=s.get(e);if(u&&c)return u==e&&c==t;var d=-1,f=!0,h=r&Hhe?new tp:void 0;for(s.set(t,e),s.set(e,t);++d<o;){var m=t[d],g=e[d];if(n)var v=a?n(g,m,d,e,t,s):n(m,g,d,t,e,s);if(v!==void 0){if(v)continue;f=!1;break}if(h){if(!Uhe(e,function(x,S){if(!jhe(h,S)&&(m===x||i(m,x,r,n,s)))return h.push(S)})){f=!1;break}}else if(!(m===g||i(m,g,r,n,s))){f=!1;break}}return s.delete(t),s.delete(e),f}function zhe(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}function Whe(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var Yhe=1,Ghe=2,qhe="[object Boolean]",Khe="[object Date]",Xhe="[object Error]",Qhe="[object Map]",Jhe="[object Number]",Zhe="[object RegExp]",epe="[object Set]",tpe="[object String]",rpe="[object Symbol]",ipe="[object ArrayBuffer]",npe="[object DataView]",qw=Xs?Xs.prototype:void 0,Ng=qw?qw.valueOf:void 0;function spe(t,e,r,n,i,s,a){switch(r){case npe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ipe:return!(t.byteLength!=e.byteLength||!s(new ep(t),new ep(e)));case qhe:case Khe:case Jhe:return p_(+t,+e);case Xhe:return t.name==e.name&&t.message==e.message;case Zhe:case tpe:return t==e+"";case Qhe:var o=zhe;case epe:var l=n&Yhe;if(o||(o=Whe),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;n|=Ghe,a.set(t,e);var c=fM(o(t),o(e),n,i,s,a);return a.delete(t),c;case rpe:if(Ng)return Ng.call(t)==Ng.call(e)}return!1}var ape=1,ope=Object.prototype,lpe=ope.hasOwnProperty;function upe(t,e,r,n,i,s){var a=r&ape,o=_y(t),l=o.length,u=_y(e),c=u.length;if(l!=c&&!a)return!1;for(var d=l;d--;){var f=o[d];if(!(a?f in e:lpe.call(e,f)))return!1}var h=s.get(t),m=s.get(e);if(h&&m)return h==e&&m==t;var g=!0;s.set(t,e),s.set(e,t);for(var v=a;++d<l;){f=o[d];var x=t[f],S=e[f];if(n)var D=a?n(S,x,f,e,t,s):n(x,S,f,t,e,s);if(!(D===void 0?x===S||i(x,S,r,n,s):D)){g=!1;break}v||(v=f=="constructor")}if(g&&!v){var P=t.constructor,O=e.constructor;P!=O&&"constructor"in t&&"constructor"in e&&!(typeof P=="function"&&P instanceof P&&typeof O=="function"&&O instanceof O)&&(g=!1)}return s.delete(t),s.delete(e),g}var cpe=1,Kw="[object Arguments]",Xw="[object Array]",Ef="[object Object]",dpe=Object.prototype,Qw=dpe.hasOwnProperty;function fpe(t,e,r,n,i,s){var a=xl(t),o=xl(e),l=a?Xw:El(t),u=o?Xw:El(e);l=l==Kw?Ef:l,u=u==Kw?Ef:u;var c=l==Ef,d=u==Ef,f=l==u;if(f&&Gc(t)){if(!Gc(e))return!1;a=!0,c=!1}if(f&&!c)return s||(s=new ss),a||v_(t)?fM(t,e,r,n,i,s):spe(t,e,l,r,n,i,s);if(!(r&cpe)){var h=c&&Qw.call(t,"__wrapped__"),m=d&&Qw.call(e,"__wrapped__");if(h||m){var g=h?t.value():t,v=m?e.value():e;return s||(s=new ss),i(g,v,r,n,s)}}return f?(s||(s=new ss),upe(t,e,r,n,i,s)):!1}function hM(t,e,r,n,i){return t===e?!0:t==null||e==null||!Za(t)&&!Za(e)?t!==t&&e!==e:fpe(t,e,r,n,hM,i)}var hpe="[object Map]",ppe="[object Set]",mpe=Object.prototype,gpe=mpe.hasOwnProperty;function vpe(t){if(t==null)return!0;if(m_(t)&&(xl(t)||typeof t=="string"||typeof t.splice=="function"||Gc(t)||v_(t)||QI(t)))return!t.length;var e=El(t);if(e==hpe||e==ppe)return!t.size;if(pm(t))return!rM(t).length;for(var r in t)if(gpe.call(t,r))return!1;return!0}function Jw(t,e){return hM(t,e)}var ype=Object.defineProperty,bpe=Object.defineProperties,_pe=Object.getOwnPropertyDescriptors,Zw=Object.getOwnPropertySymbols,Tpe=Object.prototype.hasOwnProperty,xpe=Object.prototype.propertyIsEnumerable,e1=(t,e,r)=>e in t?ype(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Spe=(t,e)=>{for(var r in e||(e={}))Tpe.call(e,r)&&e1(t,r,e[r]);if(Zw)for(var r of Zw(e))xpe.call(e,r)&&e1(t,r,e[r]);return t},Epe=(t,e)=>bpe(t,_pe(e));function Cpe(t){return(t.match(/[a-zA-Z0-9]+/g)||[]).map(e=>`${e.charAt(0).toUpperCase()}${e.slice(1)}`).join("")}var na=(t,e)=>{const r={chartData:{type:Object,required:!0},options:{type:Object,required:!1},chartId:{default:t,type:String},width:{default:400,type:Number},height:{default:400,type:Number},cssClasses:{type:String,default:""},styles:{type:Object},plugins:{type:Array,default:()=>[]},onLabelsUpdate:{type:Function},onChartUpdate:{type:Function},onChartDestroy:{type:Function},onChartRender:{type:Function}},n=Cpe(t);return Dl({name:n,props:r,emits:{"labels:update":()=>!0,"chart:update":i=>!0,"chart:destroy":()=>!0,"chart:render":i=>!0},setup(i,{emit:s,expose:a}){const o=P1(null),l=`${i.chartId}`;let u=D1(null);Vs(()=>i.chartData,c,{deep:!0}),Vs(()=>i.options,v=>{u.value&&v&&(u.value.options=Iu(v),m())},{deep:!0});function c(v){if(u.value){let x=u.value;Jw(v.labels,u.value.data.labels)||(x.data.labels=v.labels,f()),Jw(v.datasets,u.value.data.datasets)||v.datasets.forEach((S,D)=>{var P,O;if(vpe(S))x.data.datasets=[];else{const B=Iu(x.data),z=Object.keys((O=(P=B.datasets)==null?void 0:P[D])!=null?O:{}),U=Object.keys(S);z.filter(F=>F!=="_meta"&&U.indexOf(F)===-1).forEach(F=>{x.data.datasets[D]&&delete x.data.datasets[D][F]});for(const F in S){const ue=Iu(S[F]);x.data.datasets[D]||(x.data.datasets[D]={}),S.hasOwnProperty(F)&&ue!=null&&x&&(x.data.datasets[D][F]=ue)}}}),m()}else u.value&&g(),d()}function d(){o.value?(u.value=new l_(o.value,{data:Iu(i.chartData),type:e,options:Iu(i.options),plugins:i.plugins}),h()):console.error(`Error on component ${n}, canvas cannot be rendered. Check if the render appends server-side`)}function f(){s("labels:update"),i.onLabelsUpdate&&i.onLabelsUpdate()}function h(){u.value&&(s("chart:render",u.value),i.onChartRender&&i.onChartRender(u.value))}function m(){u.value&&(u.value.update(),s("chart:update",u.value),i.onChartUpdate&&i.onChartUpdate(u.value))}function g(){u.value&&u.value.destroy(),s("chart:destroy"),i.onChartDestroy&&i.onChartDestroy()}return Vy(d),Hy(()=>{u.value&&u.value.destroy()}),a({canvasRef:o,renderChart:d,chartInstance:u,canvasId:l,update:m}),()=>Ze("div",{style:Epe(Spe({maxWidth:"100%"},i.styles),{position:"relative"}),class:i.cssClasses},[Ze("canvas",{style:{maxWidth:"100%",maxHeight:"100%"},id:l,width:i.width,height:i.height,ref:o})])}})},mme=na("bar-chart","bar"),gme=na("doughnut-chart","doughnut"),vme=na("line-chart","line");na("pie-chart","pie");na("polar-chart","polarArea");na("radar-chart","radar");na("bubble-chart","bubble");na("scatter-chart","scatter");/*!
 * vuex v4.0.2
 * (c) 2021 Evan You
 * @license MIT
 */var wpe="store";function tu(t,e){Object.keys(t).forEach(function(r){return e(t[r],r)})}function Ppe(t){return t!==null&&typeof t=="object"}function Dpe(t){return t&&typeof t.then=="function"}function Ape(t,e){return function(){return t(e)}}function pM(t,e,r){return e.indexOf(t)<0&&(r&&r.prepend?e.unshift(t):e.push(t)),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}function mM(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var r=t.state;vm(t,r,[],t._modules.root,!0),x_(t,r,e)}function x_(t,e,r){var n=t._state;t.getters={},t._makeLocalGettersCache=Object.create(null);var i=t._wrappedGetters,s={};tu(i,function(a,o){s[o]=Ape(a,t),Object.defineProperty(t.getters,o,{get:function(){return s[o]()},enumerable:!0})}),t._state=Qs({data:e}),t.strict&&Mpe(t),n&&r&&t._withCommit(function(){n.data=null})}function vm(t,e,r,n,i){var s=!r.length,a=t._modules.getNamespace(r);if(n.namespaced&&(t._modulesNamespaceMap[a],t._modulesNamespaceMap[a]=n),!s&&!i){var o=S_(e,r.slice(0,-1)),l=r[r.length-1];t._withCommit(function(){o[l]=n.state})}var u=n.context=Ope(t,a,r);n.forEachMutation(function(c,d){var f=a+d;Rpe(t,f,c,u)}),n.forEachAction(function(c,d){var f=c.root?d:a+d,h=c.handler||c;kpe(t,f,h,u)}),n.forEachGetter(function(c,d){var f=a+d;Ipe(t,f,c,u)}),n.forEachChild(function(c,d){vm(t,e,r.concat(d),c,i)})}function Ope(t,e,r){var n=e==="",i={dispatch:n?t.dispatch:function(s,a,o){var l=rp(s,a,o),u=l.payload,c=l.options,d=l.type;return(!c||!c.root)&&(d=e+d),t.dispatch(d,u)},commit:n?t.commit:function(s,a,o){var l=rp(s,a,o),u=l.payload,c=l.options,d=l.type;(!c||!c.root)&&(d=e+d),t.commit(d,u,c)}};return Object.defineProperties(i,{getters:{get:n?function(){return t.getters}:function(){return gM(t,e)}},state:{get:function(){return S_(t.state,r)}}}),i}function gM(t,e){if(!t._makeLocalGettersCache[e]){var r={},n=e.length;Object.keys(t.getters).forEach(function(i){if(i.slice(0,n)===e){var s=i.slice(n);Object.defineProperty(r,s,{get:function(){return t.getters[i]},enumerable:!0})}}),t._makeLocalGettersCache[e]=r}return t._makeLocalGettersCache[e]}function Rpe(t,e,r,n){var i=t._mutations[e]||(t._mutations[e]=[]);i.push(function(a){r.call(t,n.state,a)})}function kpe(t,e,r,n){var i=t._actions[e]||(t._actions[e]=[]);i.push(function(a){var o=r.call(t,{dispatch:n.dispatch,commit:n.commit,getters:n.getters,state:n.state,rootGetters:t.getters,rootState:t.state},a);return Dpe(o)||(o=Promise.resolve(o)),t._devtoolHook?o.catch(function(l){throw t._devtoolHook.emit("vuex:error",l),l}):o})}function Ipe(t,e,r,n){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(s){return r(n.state,n.getters,s.state,s.getters)})}function Mpe(t){Vs(function(){return t._state.data},function(){},{deep:!0,flush:"sync"})}function S_(t,e){return e.reduce(function(r,n){return r[n]},t)}function rp(t,e,r){return Ppe(t)&&t.type&&(r=e,e=t,t=t.type),{type:t,payload:e,options:r}}var Lpe="vuex bindings",t1="vuex:mutations",Fg="vuex:actions",Bo="vuex",Npe=0;function Fpe(t,e){$F({id:"org.vuejs.vuex",app:t,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[Lpe]},function(r){r.addTimelineLayer({id:t1,label:"Vuex Mutations",color:r1}),r.addTimelineLayer({id:Fg,label:"Vuex Actions",color:r1}),r.addInspector({id:Bo,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),r.on.getInspectorTree(function(n){if(n.app===t&&n.inspectorId===Bo)if(n.filter){var i=[];_M(i,e._modules.root,n.filter,""),n.rootNodes=i}else n.rootNodes=[bM(e._modules.root,"")]}),r.on.getInspectorState(function(n){if(n.app===t&&n.inspectorId===Bo){var i=n.nodeId;gM(e,i),n.state=Upe(Vpe(e._modules,i),i==="root"?e.getters:e._makeLocalGettersCache,i)}}),r.on.editInspectorState(function(n){if(n.app===t&&n.inspectorId===Bo){var i=n.nodeId,s=n.path;i!=="root"&&(s=i.split("/").filter(Boolean).concat(s)),e._withCommit(function(){n.set(e._state.data,s,n.state.value)})}}),e.subscribe(function(n,i){var s={};n.payload&&(s.payload=n.payload),s.state=i,r.notifyComponentUpdate(),r.sendInspectorTree(Bo),r.sendInspectorState(Bo),r.addTimelineEvent({layerId:t1,event:{time:Date.now(),title:n.type,data:s}})}),e.subscribeAction({before:function(n,i){var s={};n.payload&&(s.payload=n.payload),n._id=Npe++,n._time=Date.now(),s.state=i,r.addTimelineEvent({layerId:Fg,event:{time:n._time,title:n.type,groupId:n._id,subtitle:"start",data:s}})},after:function(n,i){var s={},a=Date.now()-n._time;s.duration={_custom:{type:"duration",display:a+"ms",tooltip:"Action duration",value:a}},n.payload&&(s.payload=n.payload),s.state=i,r.addTimelineEvent({layerId:Fg,event:{time:Date.now(),title:n.type,groupId:n._id,subtitle:"end",data:s}})}})})}var r1=8702998,Bpe=6710886,$pe=16777215,vM={label:"namespaced",textColor:$pe,backgroundColor:Bpe};function yM(t){return t&&t!=="root"?t.split("/").slice(-2,-1)[0]:"Root"}function bM(t,e){return{id:e||"root",label:yM(e),tags:t.namespaced?[vM]:[],children:Object.keys(t._children).map(function(r){return bM(t._children[r],e+r+"/")})}}function _M(t,e,r,n){n.includes(r)&&t.push({id:n||"root",label:n.endsWith("/")?n.slice(0,n.length-1):n||"Root",tags:e.namespaced?[vM]:[]}),Object.keys(e._children).forEach(function(i){_M(t,e._children[i],r,n+i+"/")})}function Upe(t,e,r){e=r==="root"?e:e[r];var n=Object.keys(e),i={state:Object.keys(t.state).map(function(a){return{key:a,editable:!0,value:t.state[a]}})};if(n.length){var s=jpe(e);i.getters=Object.keys(s).map(function(a){return{key:a.endsWith("/")?yM(a):a,editable:!1,value:Ey(function(){return s[a]})}})}return i}function jpe(t){var e={};return Object.keys(t).forEach(function(r){var n=r.split("/");if(n.length>1){var i=e,s=n.pop();n.forEach(function(a){i[a]||(i[a]={_custom:{value:{},display:a,tooltip:"Module",abstract:!0}}),i=i[a]._custom.value}),i[s]=Ey(function(){return t[r]})}else e[r]=Ey(function(){return t[r]})}),e}function Vpe(t,e){var r=e.split("/").filter(function(n){return n});return r.reduce(function(n,i,s){var a=n[i];if(!a)throw new Error('Missing module "'+i+'" for path "'+e+'".');return s===r.length-1?a:a._children},e==="root"?t:t.root._children)}function Ey(t){try{return t()}catch(e){return e}}var ln=function(e,r){this.runtime=r,this._children=Object.create(null),this._rawModule=e;var n=e.state;this.state=(typeof n=="function"?n():n)||{}},TM={namespaced:{configurable:!0}};TM.namespaced.get=function(){return!!this._rawModule.namespaced};ln.prototype.addChild=function(e,r){this._children[e]=r};ln.prototype.removeChild=function(e){delete this._children[e]};ln.prototype.getChild=function(e){return this._children[e]};ln.prototype.hasChild=function(e){return e in this._children};ln.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)};ln.prototype.forEachChild=function(e){tu(this._children,e)};ln.prototype.forEachGetter=function(e){this._rawModule.getters&&tu(this._rawModule.getters,e)};ln.prototype.forEachAction=function(e){this._rawModule.actions&&tu(this._rawModule.actions,e)};ln.prototype.forEachMutation=function(e){this._rawModule.mutations&&tu(this._rawModule.mutations,e)};Object.defineProperties(ln.prototype,TM);var co=function(e){this.register([],e,!1)};co.prototype.get=function(e){return e.reduce(function(r,n){return r.getChild(n)},this.root)};co.prototype.getNamespace=function(e){var r=this.root;return e.reduce(function(n,i){return r=r.getChild(i),n+(r.namespaced?i+"/":"")},"")};co.prototype.update=function(e){xM([],this.root,e)};co.prototype.register=function(e,r,n){var i=this;n===void 0&&(n=!0);var s=new ln(r,n);if(e.length===0)this.root=s;else{var a=this.get(e.slice(0,-1));a.addChild(e[e.length-1],s)}r.modules&&tu(r.modules,function(o,l){i.register(e.concat(l),o,n)})};co.prototype.unregister=function(e){var r=this.get(e.slice(0,-1)),n=e[e.length-1],i=r.getChild(n);!i||!i.runtime||r.removeChild(n)};co.prototype.isRegistered=function(e){var r=this.get(e.slice(0,-1)),n=e[e.length-1];return r?r.hasChild(n):!1};function xM(t,e,r){if(e.update(r),r.modules)for(var n in r.modules){if(!e.getChild(n))return;xM(t.concat(n),e.getChild(n),r.modules[n])}}function yme(t){return new ui(t)}var ui=function(e){var r=this;e===void 0&&(e={});var n=e.plugins;n===void 0&&(n=[]);var i=e.strict;i===void 0&&(i=!1);var s=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new co(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._devtools=s;var a=this,o=this,l=o.dispatch,u=o.commit;this.dispatch=function(f,h){return l.call(a,f,h)},this.commit=function(f,h,m){return u.call(a,f,h,m)},this.strict=i;var c=this._modules.root.state;vm(this,c,[],this._modules.root),x_(this,c),n.forEach(function(d){return d(r)})},E_={state:{configurable:!0}};ui.prototype.install=function(e,r){e.provide(r||wpe,this),e.config.globalProperties.$store=this;var n=this._devtools!==void 0?this._devtools:!1;n&&Fpe(e,this)};E_.state.get=function(){return this._state.data};E_.state.set=function(t){};ui.prototype.commit=function(e,r,n){var i=this,s=rp(e,r,n),a=s.type,o=s.payload,l={type:a,payload:o},u=this._mutations[a];!u||(this._withCommit(function(){u.forEach(function(d){d(o)})}),this._subscribers.slice().forEach(function(c){return c(l,i.state)}))};ui.prototype.dispatch=function(e,r){var n=this,i=rp(e,r),s=i.type,a=i.payload,o={type:s,payload:a},l=this._actions[s];if(!!l){try{this._actionSubscribers.slice().filter(function(c){return c.before}).forEach(function(c){return c.before(o,n.state)})}catch{}var u=l.length>1?Promise.all(l.map(function(c){return c(a)})):l[0](a);return new Promise(function(c,d){u.then(function(f){try{n._actionSubscribers.filter(function(h){return h.after}).forEach(function(h){return h.after(o,n.state)})}catch{}c(f)},function(f){try{n._actionSubscribers.filter(function(h){return h.error}).forEach(function(h){return h.error(o,n.state,f)})}catch{}d(f)})})}};ui.prototype.subscribe=function(e,r){return pM(e,this._subscribers,r)};ui.prototype.subscribeAction=function(e,r){var n=typeof e=="function"?{before:e}:e;return pM(n,this._actionSubscribers,r)};ui.prototype.watch=function(e,r,n){var i=this;return Vs(function(){return e(i.state,i.getters)},r,Object.assign({},n))};ui.prototype.replaceState=function(e){var r=this;this._withCommit(function(){r._state.data=e})};ui.prototype.registerModule=function(e,r,n){n===void 0&&(n={}),typeof e=="string"&&(e=[e]),this._modules.register(e,r),vm(this,this.state,e,this._modules.get(e),n.preserveState),x_(this,this.state)};ui.prototype.unregisterModule=function(e){var r=this;typeof e=="string"&&(e=[e]),this._modules.unregister(e),this._withCommit(function(){var n=S_(r.state,e.slice(0,-1));delete n[e[e.length-1]]}),mM(this)};ui.prototype.hasModule=function(e){return typeof e=="string"&&(e=[e]),this._modules.isRegistered(e)};ui.prototype.hotUpdate=function(e){this._modules.update(e),mM(this,!0)};ui.prototype._withCommit=function(e){var r=this._committing;this._committing=!0,e(),this._committing=r};Object.defineProperties(ui.prototype,E_);let Ma;Ma=Qs({isInit:!1,isAuthorized:!1});const i1=function(){function t(){const n="https://apis.google.com/js/api.js";return new Promise(i=>{let s=document.createElement("script");s.src=n,s.onreadystatechange=s.onload=function(){(!s.readyState||/loaded|complete/.test(s.readyState))&&setTimeout(function(){i()},500)},document.getElementsByTagName("head")[0].appendChild(s)})}function e(n){return new Promise((i,s)=>{window.gapi.load("auth2",()=>{window.gapi.auth2.init(n).then(()=>{i(window.gapi)}).catch(a=>{s(a)})})})}function r(){if(!(this instanceof r))return new r;this.instance=null,this.load=n=>{t().then(()=>e(n)).then(i=>{this.instance=i.auth2.getAuthInstance(),this.prompt=n.prompt,Ma.instance=i.auth2.getAuthInstance(),Ma.isInit=!0,Ma.isAuthorized=this.instance.isSignedIn.get()}).catch(i=>{console.error(i)})},this.signIn=()=>new Promise((n,i)=>{if(!this.instance){i(!1);return}this.instance.signIn().then(s=>{Ma.isAuthorized=this.instance.isSignedIn.get(),n(s)}).catch(s=>{i(s)})}),this.getAuthCode=()=>new Promise((n,i)=>{if(!this.instance){i(!1);return}this.instance.grantOfflineAccess({prompt:this.prompt}).then(function(s){n(s.code)}).catch(function(s){i(s)})}),this.signOut=()=>new Promise((n,i)=>{if(!this.instance){i(!1);return}this.instance.signOut().then(()=>{Ma.isAuthorized=!1,n(!0)}).catch(s=>{i(s)})})}return new r}();var bme={install:(t,e)=>{let r=null,n={scope:"profile email",prompt:"select_account"};if(typeof e=="object"){if(r=Object.assign(n,e),!e.clientId)throw new Error("clientId is required")}else throw new TypeError("invalid option type. Object type accepted only");i1.load(r),t.config.globalProperties.$gAuth=i1,t.provide("Vue3GoogleOauth",Ny(Ma))}};try{self["workbox:window:6.5.1"]&&_()}catch{}function n1(t,e){return new Promise(function(r){var n=new MessageChannel;n.port1.onmessage=function(i){r(i.data)},t.postMessage(e,[n.port2])})}function Hpe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function zpe(t,e){var r;if(typeof Symbol=="undefined"||t[Symbol.iterator]==null){if(Array.isArray(t)||(r=function(i,s){if(i){if(typeof i=="string")return s1(i,s);var a=Object.prototype.toString.call(i).slice(8,-1);return a==="Object"&&i.constructor&&(a=i.constructor.name),a==="Map"||a==="Set"?Array.from(i):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?s1(i,s):void 0}}(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return(r=t[Symbol.iterator]()).next.bind(r)}try{self["workbox:core:6.5.1"]&&_()}catch{}var Bg=function(){var t=this;this.promise=new Promise(function(e,r){t.resolve=e,t.reject=r})};function $g(t,e){var r=location.href;return new URL(t,r).href===new URL(e,r).href}var Mu=function(t,e){this.type=t,Object.assign(this,e)};function Cf(t,e,r){return r?e?e(t):t:(t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t)}function Wpe(){}var Ype={type:"SKIP_WAITING"};function a1(t,e){if(!e)return t&&t.then?t.then(Wpe):Promise.resolve()}var _me=function(t){var e,r;function n(o,l){var u,c;return l===void 0&&(l={}),(u=t.call(this)||this).nn={},u.tn=0,u.rn=new Bg,u.en=new Bg,u.on=new Bg,u.un=0,u.an=new Set,u.cn=function(){var d=u.fn,f=d.installing;u.tn>0||!$g(f.scriptURL,u.sn.toString())||performance.now()>u.un+6e4?(u.vn=f,d.removeEventListener("updatefound",u.cn)):(u.hn=f,u.an.add(f),u.rn.resolve(f)),++u.tn,f.addEventListener("statechange",u.ln)},u.ln=function(d){var f=u.fn,h=d.target,m=h.state,g=h===u.vn,v={sw:h,isExternal:g,originalEvent:d};!g&&u.mn&&(v.isUpdate=!0),u.dispatchEvent(new Mu(m,v)),m==="installed"?u.wn=self.setTimeout(function(){m==="installed"&&f.waiting===h&&u.dispatchEvent(new Mu("waiting",v))},200):m==="activating"&&(clearTimeout(u.wn),g||u.en.resolve(h))},u.dn=function(d){var f=u.hn,h=f!==navigator.serviceWorker.controller;u.dispatchEvent(new Mu("controlling",{isExternal:h,originalEvent:d,sw:f,isUpdate:u.mn})),h||u.on.resolve(f)},u.gn=(c=function(d){var f=d.data,h=d.ports,m=d.source;return Cf(u.getSW(),function(){u.an.has(m)&&u.dispatchEvent(new Mu("message",{data:f,originalEvent:d,ports:h,sw:m}))})},function(){for(var d=[],f=0;f<arguments.length;f++)d[f]=arguments[f];try{return Promise.resolve(c.apply(this,d))}catch(h){return Promise.reject(h)}}),u.sn=o,u.nn=l,navigator.serviceWorker.addEventListener("message",u.gn),u}r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var i,s,a=n.prototype;return a.register=function(o){var l=(o===void 0?{}:o).immediate,u=l!==void 0&&l;try{var c=this;return function(d,f){var h=d();return h&&h.then?h.then(f):f(h)}(function(){if(!u&&document.readyState!=="complete")return a1(new Promise(function(d){return window.addEventListener("load",d)}))},function(){return c.mn=Boolean(navigator.serviceWorker.controller),c.yn=c.pn(),Cf(c.bn(),function(d){c.fn=d,c.yn&&(c.hn=c.yn,c.en.resolve(c.yn),c.on.resolve(c.yn),c.yn.addEventListener("statechange",c.ln,{once:!0}));var f=c.fn.waiting;return f&&$g(f.scriptURL,c.sn.toString())&&(c.hn=f,Promise.resolve().then(function(){c.dispatchEvent(new Mu("waiting",{sw:f,wasWaitingBeforeRegister:!0}))}).then(function(){})),c.hn&&(c.rn.resolve(c.hn),c.an.add(c.hn)),c.fn.addEventListener("updatefound",c.cn),navigator.serviceWorker.addEventListener("controllerchange",c.dn),c.fn})})}catch(d){return Promise.reject(d)}},a.update=function(){try{return this.fn?a1(this.fn.update()):void 0}catch(o){return Promise.reject(o)}},a.getSW=function(){return this.hn!==void 0?Promise.resolve(this.hn):this.rn.promise},a.messageSW=function(o){try{return Cf(this.getSW(),function(l){return n1(l,o)})}catch(l){return Promise.reject(l)}},a.messageSkipWaiting=function(){this.fn&&this.fn.waiting&&n1(this.fn.waiting,Ype)},a.pn=function(){var o=navigator.serviceWorker.controller;return o&&$g(o.scriptURL,this.sn.toString())?o:void 0},a.bn=function(){try{var o=this;return function(l,u){try{var c=l()}catch(d){return u(d)}return c&&c.then?c.then(void 0,u):c}(function(){return Cf(navigator.serviceWorker.register(o.sn,o.nn),function(l){return o.un=performance.now(),l})},function(l){throw l})}catch(l){return Promise.reject(l)}},i=n,(s=[{key:"active",get:function(){return this.en.promise}},{key:"controlling",get:function(){return this.on.promise}}])&&Hpe(i.prototype,s),n}(function(){function t(){this.Pn=new Map}var e=t.prototype;return e.addEventListener=function(r,n){this.Sn(r).add(n)},e.removeEventListener=function(r,n){this.Sn(r).delete(n)},e.dispatchEvent=function(r){r.target=this;for(var n,i=zpe(this.Sn(r.type));!(n=i()).done;)(0,n.value)(r)},e.Sn=function(r){return this.Pn.has(r)||this.Pn.set(r,new Set),this.Pn.get(r)},t}());export{Zpe as A,qpe as B,dme as C,fme as D,Kpe as E,ome as F,Tg as G,l_ as H,pme as I,Dl as J,gme as K,vme as L,mme as M,ame as N,sme as O,yme as P,_me as Q,cme as R,nme as S,Xy as T,bme as U,hme as V,U9 as _,Ni as a,Bt as b,hp as c,fr as d,aP as e,ime as f,PT as g,Xpe as h,Zg as i,En as j,ah as k,lme as l,lP as m,ip as n,Ir as o,ii as p,Jpe as q,rP as r,Qpe as s,Qn as t,ume as u,eme as v,$1 as w,le as x,rme as y,tme as z};
